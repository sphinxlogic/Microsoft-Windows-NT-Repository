***
***
24-FEB-1997 17:13:25.79
	LISTEN.	Clocks up large number of IO errors. Reason unknown. 
	No other symptom.

***
***
26-FEB-1997 15:05:38.32
	MIBWALKER. Screen formatting to allow longer names is necessary.
	SOme long names are truncated. Also upon truncation, value field is
	often not placed correctly.
	FIXED - error in MIB_COMPILE2. Routine has hardcoded values for 
	lens and did not follow symbol table. This programming error remains.

***
***
 7-MAR-1997 10:11:18.73
        Control lock is always requested in exclusive mode. Means that if
	process gets it and fails to die, remaining processs will also
	not die.
***
***
 7-MAR-1997 16:28:32.47

	PSRTBL exits with ACCVIO - fixed. wrong number of args on
	stack in modify function.

	Cant affect file when system is not running
***
***
14-APR-1997 12:03:02.25
	PSRTBL can't add 802.3 extended pids - conversion is 5 bytes and 
	called routine only handles 4
	FIXED
***
***
***
***
25-APR-1997 13:08:14.48
	DN4 - Param x80 is signal end of block - do not process as param
***
***
Invent protocol between paramxlt and display wherein a param list can be
displayed as such rather than series of space seperated items
suggest append null at end of each instance as signal.
DONE

***
***
***
30-JUL-1997 15:41:25.84
DONE	cfg - after upd, full header is not propogated (missing support,
	polls, interval etc)
	MOP CFG - not setting support
DONE	UI - fix notrans display - not accurate
	UI - dte class password not translating OK
	ETHDB - LAN type not set
done	UI  - DN4 widcarded decnet addr not working
	UI  - DN5 widcarded decnet addr not working

*****
	No counts for eth,scs probes
***
***
13-SEP-1997 15:53:18.63
	DECNET does not display on monitor PSR
***
***
***
20-SEP-1997 16:02:46.52

	PSRDN5	Routing type is wrong - Probable error is in CHECK_ENTRY
	This routine called with 1 param and it copies 12(ap) to routing!

***
***
22-SEP-1997 17:00:25.18

	CONFIG	Something is overwritting the maps params. A patch is
correcting this for now

***
***
***
 3-OCT-1997 10:32:13.06
	PSRMOP Appears to send spurious char in 1st position of hardware
	addr in relater frame. ALWAYS preceded by <DC2> (18 dec)
	also - sending 0 addreses and 0 boxids!
FIXED
***
***
 6-OCT-1997 10:42:03.81
	Ageing out:
    Each protocol should have it's own timing
    If not heard for <time> and no response, then declare down
    If not heard for some multiple of <down time> then delete
Timing:
For those that specify use specified time (LAT)
For those that can be determined as regular then determine that and use it.
Each prot has def max in header for all others
General:
	After 3x the interval - do positive check if avail. Alert if no
	After 3 days mark as dormant - no further processing
	After 3 weeks delete
    NEED DELETE ALGORITHM

***
***
 6-OCT-1997 12:41:44.41
	Error logging. When printing a VMS message always adds 2nd line:
%SYSTEM-F-LINKEXIT, network partner exited
%RUF-?-NORMAL, normal successful completion
%GETDN4-E-UNRECG,  3-OCT-1997 18:38:25.72 Unregocnised func or opt GETNICE
50.90
1 Func = 65316
%GETDN4-E-UNRPARM,  3-OCT-1997 18:38:26.01 Unrecognised Paramater Type GETNICE
5
0.901 Func = 1
%GETDN4-E-UNRPARM,  3-OCT-1997 18:38:26.25 Unrecognised Paramater Type GETNICE
5
0.901 Func = 2
%GETDN4-E-UNRPARM,  3-OCT-1997 18:38:26.50 Unrecognised Paramater Type GETNICE
5
0.901 Func = 3
%SYSTEM-F-LINKEXIT, network partner exited
%RUF-?-NORMAL, normal successful completion
%

***
***
10-OCT-1997 11:01:05.73
	In ethernet display:
	Disable display when lan type = 0000 (cannot be universal as PSRTBL
	needs this enabled)
	DONE
	Blank line insert at protocol enabled param should be removed.


***
***
***
13-OCT-1997 16:59:34.44
LAT rec headers being corrupted somtimes. check lens of writes in rec before
            DONE
***
***
20-OCT-1997 10:38:30.99
	probe - DN4 counts not accurate - not clocking all sends or
 	noresponses
***
***
20-OCT-1997 17:35:26.68

***
***
23-OCT-1997 09:46:11.63
	Occasional problem: PSR did not write out it's file correctly
	and failed to detect that. Should check for:
	correct rec size
	correct header entries
FIXED - PSR db is verified on startup now and if corrupted is erased and 
started as empty.
***
***
23-OCT-1997 14:16:52.70
	in view sections db is always mapped on entry. SHould test to 
	see if mapped already.
	Fixed - Section is now unmapped immediately after use and remapped
	if necessary.
	Also added erase option to allow record deletion.

***
***
23-OCT-1997 15:58:47.80
	good idea: for all .dat files:
	On entry to routine always create backup *.bck
	Offer facility to undo or restore on exit.

***
***
27-OCT-1997 11:21:37.05
	when trace is on and recording UI hngs on exit.
***
***
28-OCT-1997 14:26:50.62
	Unexpected behaviour:
	When listen discards a frame for arp, the count for IP in process
	goes up and stays at that level. The packets are not in use.
	There is some relationship in that arp and ip are both directed
	at same psr.
***
***
31-OCT-1997 09:09:26.75

	LAN: Change all references from Ethernet to LAN and remove LAN
		 type - too difficult to support.

***
***
 5-NOV-1997 09:06:05.08

	Scanner - add function not working
	fixed

	Paramtbl - list function displays tables only in internet mibs
***             FIXED
***
 6-NOV-1997 10:52:30.50
	UI - Should withdraw from section when not needed - once any section 
	mapped it does not unmap until exit.
	FIXED
***
***
12-NOV-1997 14:45:47.09
	CONFIGMON	Ip should CRC only object id - when full rec is 
			crc'd and data has changed will cause multiple 
			recs to be written (sysuptime)
	done
***
***
14-NOV-1997 16:52:31.38

	More logging in RELATER - need more precise details of what it
	does and more imporantly - why!

***
***
24-NOV-1997 11:59:16.00
	UI - If user is not [1,4] we get access violation in View_Sections
	FIXED - UI is now installed
***
***
24-NOV-1997 12:53:34.49

	LOCATE_RELATER_BOXID. PID check is not right!

***
***
24-NOV-1997 16:16:12.34

***
***
27-NOV-1997 17:11:17.30
	SCANNER - In case where multiple IP addresses are present
		complete relationship is not made
                FIXED
***
***
27-NOV-1997 17:18:00.43

***
***
28-NOV-1997 13:25:12.54
	NSAP display format is not right S/B : before mac 
***
***
29-NOV-1997 13:07:05.41

	for each process that runs in cycle allocate 1 .long in control 
	section to contain seconds to wait. This field is user settable.

***
***
 3-DEC-1997 13:58:10.43
	report not working - objects in any case
	fixed - completely re-written and now OK
***
***
 3-DEC-1997 14:42:56.00

	check_priv does not work - install image with priv and use 
	getjpi,getuai
	done
***
***
 5-DEC-1997 12:31:39.41

	create report function not working - initial list is not complete
	and 2nd entry  exits
	fixed
***
***
 5-DEC-1997 16:42:28.05

	add counters for db activity - reads, writes, deletes, errors

***
 1-MAY-1998 12:06:31.66
 XLATE_BRIDGE in XLATE_SERVICES is too specific. Selector for case statement
 assumes a certain table. As this is always SNMP, change selector to 
 param type.
***
***
20-MAY-1998 14:52:23.34

***
***
15-JUN-1998 11:49:15.04
	when adding nodes via get adjacency ptybits are not set

***
***
15-JUN-1998 13:44:48.49
	Too much writting to emudb:
	When any node updated each param rec'ed is flagged as rec'ed
        and at end any param NOT flagged is deleted - it was not there
	on the update. Causes too much reading/writting.

	Suggest allocating mem, reading all node/proto recs in
	then write/modify/delete only those required. Needs completely
	new algorythm as RMS will not be used.
***
***
18-JUN-1998 18:11:13.31

in bridge MIB dot1dstpport.... bidge ids to not xlate OK. Looks like integer 


***
***
18-JUN-1998 18:18:47.53
both lanmon and configmon use far too much CPU - suspect excessive read/write
to emudb.
PARTIAL FIX - REGULAR FILE CONVERSION RE-ORDERS AND SPEEDS UP ACCESS.

***
***
18-JUN-1998 18:34:43.59
MOP excessive relater frames. PSR cannot distinguish when processing hardware
addr when .ne. sendin address (common case). Thus sends MANY relater ->
ethernet frames. COuld add in ability to access ETHdb and lookup each time.
 
***
***
18-JUN-1998 18:37:16.52

mop sends MANY eroneous relater frames. Looks like address rather than value.
     FIXED
***
***
19-JUN-1998 15:14:04.83

***
***
24-JUN-1998 16:35:10.80
	reporting. Often (esp IPX) report does not 'order' correctly.
	params which should appear on single line are on multiples:

Box ID| IPX Name| IPX Network| IPX LAN Address| IPX Service|
1| PRD504104||||
1||04CC4150|||
1|||00-00-00-00-00-01 ||
1||||FILE SERVER    |


This should have been on 1 line...
Cause is in report creation. It creates a table (instance table) that
tracks current instance in any table. This is to prevent params in a table with
multiple instances from 'intermingling'. Fix is probably to write params with
a bit more thought in EMU_CONFIG. That is the above params should all have same
instance and would then format correctly.
***
***
25-JUN-1998 11:39:36.16
possible problem - often EMUDB rec size is 768
(max size) - should not occur. Recs are written with this size - if inpt size
is < max then rec is not written. Suspect problem is either write rec routine
or call to this routine.

***
***
25-JUN-1998 11:48:10.80

clean up - Part way thru development changed the error log mech. Not completed.
Listen , PSRs and a few others still call LOG_ERR. Should call EMU_LOGGER
done
***
***
10-JUL-1998 14:59:11.74

***
***
 4-AUG-1998 15:04:26.81
    Still some problems in data integrity - relationships that should not be
made are. At least part of problem is in scanner - on trace shows a frame
containing IP addresses that do not belong together:

13:15:35.39 Type = 2, Event = Relater Frame  From RELATER 
Boxid = 1186, Sender = 00000007, Message = 1, Targets = 5
Target = 00000007, Len = 4, Addr = 165.47.2.180		-> wrong!
Target = 00000007, Len = 4, Addr = 10.63.255.254
Target = 00000007, Len = 4, Addr = 159.187.239.126
Target = 00000007, Len = 4, Addr = 192.168.24.2
Target = 00000007, Len = 4, Addr = 192.168.24.6

FIXED - Scanner is a dangerous tool! A small mistype in this file is
disasterous. Can't think of anyway to verify correctness. Just put all
sorts of warnings up.

***
***
***
***
29-APR-1999 09:39:45.64

***
***
20-MAY-1999 09:08:31.44
reporting - create report display counts wrong - used to work.
report appears OK
Fixed - routine assumed reset param was always present - not true.
***
***
 1-JUN-1999 10:03:36.63

***
***
 4-JUN-1999 08:53:54.30
Alert mechanism handles params only in DB format - needs to be aded to to allow
non-DB params to be sent. Suggest len field be set to -1 indicating .ascic
follows.

***
***
 7-JUN-1999 13:44:34.69
ensure on DB rundowns that all recs are unlocked!

***
***
22-JUN-1999 13:36:57.52

NAMER - does not process names so therfore does not detect when DB is full.
Suggest periodic check and exit when detected
***
***
11-AUG-1999 17:37:47.69

Saftey - most PSRs do not check verify frame received is actualy for them. MOP
especially. MOP and LAT done.
***
***
11-AUG-1999 17:38:54.88
PSRTBL - Default when add is no type check - wrong!

***
***
13-AUG-1999 09:39:56.20

**** in event of system crash all indexes are lost and complete rebuild
is necessary - this can be done from the db file rather that erase and restart.
Started - base routines work (IP only) but will rebuild only those addresses
in DB (That is only those that answered query!)

MORE DONE...IP Now propogates every addr to EMUDB so rebuild works.
***
***
18-AUG-1999 14:40:53.38

Sometimes pahse IV addr is wrong - it is byte reversed. Suspect problem when
propogating from phase V db.
***
***
24-AUG-1999 11:09:13.06

***
***
24-AUG-1999 17:01:40.42

 **LARGE PROBLEM!:
Occasionaly EMU_CONTROL.DAT fails to write out. The file is recreated but BOXID
starts at 1 again (as per initial start). If this is the only section missing
then relater starts assigning boxids at 1 and duplicates existing boxids.
This is really bad!
Crude fix: In the startup check for existance of the file and if missing 
delete all other .sec files forcing system to init.
Better fix. Integrity check at begin to ensure that next boxid > any existing.
done - did better fix in relater (REL_INIT).
***
***
25-AUG-1999 09:08:28.82
Startup - When a PSR fails to load it's section (for any reason) the relater 
detects this and ensures all references to the now lost data are deleted by
clearing all PTYBITS in other PSRDBs and deleting all EMUDB recs. This can take
a LONG time - suggest spawning off or some other method not 'direct in line'
to allw relater to complete startup in reasonable time.

Better solution... can rebuild PSRdb from EMUDB, IN progress
***
***
25-AUG-1999 13:09:11.67

section size and reporting is dumb! - 3 problems:
	size and limits are based on rec numbers. Resulting size is normaly
	bigger than reported as it is rounded up to pages.
	Section resizes when space (not recs) is exceeded.
	Resizing is a (too) simple fixed algorythm.
Rec nos should continue to be the basic param but after section is made, calc 
REAL number of recs that will fit and set it.
On resize: use percentage (15%) as new increment.

***
***
22-SEP-1999 13:24:40.76

***
***
28-SEP-1999 17:28:53.73

***
***
22-OCT-1999 14:29:31.35
CONFIGMON fails to write any OSI data to DB! Polling and receipt OK but no data 
in file....
Appears to have disappeared.....

***
***
 9-DEC-1999 13:28:36.54
NAMER startup - does not use the relater to validate startup so when
restarting w/o db, does not delete the PTYBIT flags.
***
***
 4-JAN-2000 09:48:41.02
NAMER - Consistantly fails to reload file after startup.
FIXED - Load was OK but process failed to release EX lock on DB.
***
***
11-JAN-2000 11:55:00.02

get IPADJ appears to no longer work - add more logging to determine prob
FIXED - Changes previously made to VERIFY_ADDRESS means that on a cll to
LOCATE_PSR, the creator field MUST be the PID corresponding to the address
type or VERIFY_ADDRESS fails. The side effect is that the created by field in
the PSR header will now always be the same as the PID making this a bit useless.
***
***
15-FEB-2000 13:26:02.03
DECNET ADDRESS IS NOT DISPLAYED CORRECTLY. IN the case where the IV address is 
propogated from V it is byte reversed and displays incorrectly in the querry.

***
***
14-MAR-2000 17:02:33.57
Change IP writing to DB - currently instance is made by CRC'ing the entire
rec as received from SNMP. Not smart. Can't then write to DB when only address
is known and thus can't properly report or rebuild.
DONE

***
***
14-MAR-2000 17:08:59.84

In EMUDB_READ. Include option to skip GET_MAP - Map is not always needed and
in case of CHANGE_BOXID_DB causes errors.
done
***
***
15-MAR-2000 16:20:47.14

***
***
 8-MAY-2000 09:16:57.18
EMUDB_WRITE buffer overflow. Appears on OSI only - make records bigger.

***
***
12-JUN-2000 10:52:05.46

Status recorded in IP DB appears wrong - shows success with no responses.
Don't worry about it... appears on 1st pass only. corrected subsequentially.

***
***

