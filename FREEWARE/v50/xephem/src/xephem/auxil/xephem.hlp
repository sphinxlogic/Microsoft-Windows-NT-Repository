# Help file for XEphem v3.2
# For RCS Only -- Do Not Edit
# @(#) $RCSfile: xephem.hlp,v $ $Date: 1999/10/25 21:09:57 $ $Revision: 1.55 $ $Name:  $

@Intro
XEphem is an interactive astronomical ephemeris program for X Windows systems.

XEphem ...

    computes heliocentric, geocentric and topocentric information for all
        objects;

    has built-in support for all planets; the moons of Mars, Jupiter, Saturn,
        Uranus and Earth; central meridian longitude of Mars and Jupiter;
	Saturn's rings; and Jupiter's Great Red Spot.

    supports user-defined bodies in heliocentric or Earth orbit, including
        satellites;

    comes with sample databases of thousands of objects;

    displays data in configurable tabular formats and in several interactive
	detailed graphical views including Sky View, Earth, Moon, Mars,
	Jupiter, Saturn, Uranus and Solar System.

    supports 3-D stereo views of the Solar System particularly well suited
	for investigating comet trajectories;

    can quickly find all close pairs of objects in the sky;

    can plot and list all data fields to disk files;

    can solve for arbitrary circumstances by solving user-written functions
        of any data fields;

    can serve as the control point for robot telescopes in real-time via simple
	ASCII command fifos.

    can connect to auxiliary database servers via fifos;

    supports the Hubble Guide Star Catalog on CDROM or via a network server.

    supports the PPM and Tycho catalogs from a unique compressed disk file
	format.

    supports the USNO AX.0 and SAX.0 and related series catalogs;

    can display star charts of FITS and DSS images overlayed with database
    symbols;

    can retrieve Digitized Sky Survey FITS files via the Internet from STScI or
	ESO;

    can retrieve Hubble Guide Star Catalog objects via the Internet.

XEphem can compute information on demand or time can be set to increment
automatically. In this way a series of computations and movies can be
generated unattended.

Quantitative information available about each object includes:

    RA and Dec,
    local azimuth and altitude,
    true heliocentric coordinates,
    distance from sun and earth,
    light travel times,
    galactic coordinates,
    solar elongation,
    angular size,
    visual magnitude,
    illumination percentage,
    local rise and set times and azimuths,
    local transit times and altitude,
    length of time up,
    constellation,
    angular separations between all combinations of objects.

Local observing circumstance information includes

    UTC and local date and time,
    local sidereal time,
    times of astronomical twilight and length of night,
    local temperature and pressure (for refraction),
    elevation above sea level (for parallax),
    a monthly calendar.

RA/Dec calculations may be topocentric or geocentric, and apparent or
astrometric. When the Epoch is set to a fixed date the values are astrometric,
that is, corrected only for precession and light travel time. When the Epoch is
set for EOD (Epoch of Date) the values are apparent and are also corrected for
nutation, aberration and deflection. Topocentric values are also corrected for
parallax and augmentation. All Alt/Az values are, of course, always topocentric
and are corrected for refraction.

Plot and listing files of selected field values may be generated as the
program runs.  The plot files are full precision floating point values in
ASCII intended for export to other plotting programs. XEphem includes simple
quick-look facilities to view plot files. The listing files are tables
formatted for more general human reading.

XEphem can read databases of objects. The objects may be fixed; specified
via heliocentric elliptical, hyperbolic or parabolic orbital elements to
accommodate solar system objects such as asteroids or comets; or specified
via geocentric elliptical orbital elements to accommodate Earth satellites.
These are then available as candidate values for the user defined objects and
all of them can be displayed in the sky map subject to type and magnitude
filters.  The format of the database file is described in the Help for the DB
menu.

@MainMenu

This describes the features of the Main XEphem dialog.

Across the top is a menu bar to allow selecting the principle functions of
XEphem. Each option in the menu bar has its own Help.

Next may appear the file whose name is "auxil/logo.xpm" which in turn must
be in the directory named by the X resource XEphem.ShareDir. Nothing appears
if the file can not be opened or is not in valid .xpm file format.

The next row is a status line that contains a short description of what
XEphem is doing at the moment with regards to its looping behavior.

Below that is room for the NEW CIRCUMSTANCES message. When you change any
field that could invalidate any of the other fields or views this message
flashes until at least one screen Update occurs.

See the Help for "Operation" for more information on changing the fields in
the Main menu and controlling XEphem's run time behavior. See the Help for
"Triad formats" for more information on date, time and coordinate formats.

Follows is a description of each of the display fields in the Main menu.

 Latitude      Local geocentric latitude, positive degrees north of equator.
 Longitude     Local longitude, positive degrees west of Greenwich meridian.
 Elevation     Local elevation of the ground above sea level, in feet or
               meters. (see implementation notes). Used in topocentric
               parallax correction.
 Temperature   Local surface air temperature, in degrees F. Used in refraction
               correction.
 Atm Pressure  Local surface air pressure, in inches of mercury. Used in
               refraction correction.
 Epoch         When set to a year, this is the desired epoch to which the
               RA/Dec fields are precessed, referred to as the astrometric
               place. When this is set to EOD, all RA/Dec values are precessed
               to the current epoch, and corrected for nutation, aberration and
               deflection, referred to as the apparent place.


 UTC Date      The UTC date.
 UTC Time      The UTC time.
 Julian        The current Julian date, to about 1-second accuracy.
 Sidereal      The apparent sidereal time for the current time and location.
 TZ Name       The local timezone name.  The name may be fixed to any short
               mnemonic. Setting this manually turns off the auto timezone
               feature, or choosing the Auto control turns it on.
 TZ Offset     Hours local time is behind UTC, i.e., positive west or negative
               east of Greenwich. Setting this manually turns off the auto
	       timezone feature or choosing the Auto control turns it on.
 Local Date    The local date. This is UTC minus the value of TZ Offset.
 Local Time    The local time. This is UTC minus the value of TZ Offset.
 Delta T       ET-UT. Number of seconds by which Terrestrial Dynamical Time (aka
	       Ephemeris Time prior to 1982) leads UTC. The value may be
	       computed automatically based on the current time or entered
	       manually (in which case it will not change). The algorithm
	       uses values tabulated in the Astronomical Almanac for years
	       1620.0 through 1998.0. Dates prior are from Stephenson and
	       Morrison or K. M. Borkowski, with an estimated error of 15
	       minutes at 1500 B.C. A linear extrapolation formula predicts
	       future values.


 Sun Dip       The number of degrees the sun is below the horizon that we wish
               to call twilight. This sets the value for the following fields:
 Dawn          Local or UTC time when the sun center is "Sun dip" degrees
               below the horizon before sunrise today.
 Dusk          Local or UTC time when the sun center is "Sun dip" degrees
               below the horizon after sunset today.
 Length        Length of astronomical night, i.e., Dawn - Dusk.  If this and the
               display for Dawn and Dusk are shown as "-----", it means the sun
               is either always below or always above "Sun dip" degrees
               below the horizon on this particular day. N.B. These three
	       fields always apply to the local current day.  Difficulties
	       arise when these events occur within 4 minutes of local
	       "midnight" with respect to the time zone defined by TZ Offset.
	       In particular, if these fields are not behaving as you would
	       expect, check that the TZ Offset is set commensurate with the
	       current Longitude.
 LST@0         Local Sidereal Time at next local Midnight, as per the time zone.


 N Steps       The number of times the display will be updated (time advanced
               by Step each step) automatically.
 Step          The amount of time UTC (and its derivatives) is incremented
               each loop. 
 Pause         Number of seconds to pause between screen updates. This is
               used mainly to set up for free-running unattended operation.
               Pausing is not done when plotting or solving is active.


Above the Latitude field is an button which can display the current site
name. Pressing this button will bring up a list of cities and observatories.
(The list is from a file named "auxil/xephem_sites" in the directory named by
the X resource XEphem.ShareDir). Click on one entry in the list and press Ok
to set the site name, Latitude, Longitude, Elevation and Time Zone fields in
the Main menu. This may also be done in one step my double-clicking on a site
name in the list. The list also contains a search field in which text may be
entered. Pressing Enter will cause the list to scroll to the next item which
contains the text, ignoring case and whitespace.

The calendar on the right of the Main menu is based on local time or UTC,
depending upon the Time Zone preference. Selecting a date button will set the
date. Buttons before the first of the month and after the last of the month
work as expected, that is, they also imply a change in month or year as
necessary. The month and year buttons pop up selections that allow these to be
changed as well. At the bottom are buttons to set the date to Today, or move
backwards or forwards by one day or week. In no case does using the calendar
change the current time (just the date). New and Full moons are marked on the
day on which they occur in the selected time zone.


@MainMenu -- file

    The "File" pulldown contains a few miscellaneous controls.

	Reset

	    rereads the XEphem resources as though starting over.

	Messages...
	
	    displays a scrolled list of informational messages. XEphem may beep
	    whenever a new message is added, depending on the "Message Bell"
	    preference; see below. Messages appearing immediately in 
	    attention boxes are also stored here for reference.

	Network setup...

	    displays a dialog offering choices for how XEphem accesses
	    the Internet.

	External Time/Loc...

	    drives XEphem from a file containing times and latitude/longitude
	    locations.

	Progress Meter...

	    displays a simple bar graph of XEphem progress. The accuracy and
	    usefulness of the display are highly problematic at this time.

	Update

	    performs the same action as the Update button across the bottom of
	    the Main menu. The accelerator indicated for this button is also
	    available when _any_ XEphem dialog has the keyboard focus, not
	    just the Main menu.
	
	Quit
	
	    exits XEphem.

@MainMenu -- view

    The "View" pulldown toggles any of the several XEphem specialized displays.
    Each will have its own Close button, or it may be closed by reselecting
    the item from the Main pulldown menu. Each display will have its own
    Help so please refer to it for additional information on a particular
    function.

@MainMenu -- tools

    The "Tools" pulldown toggles the dialogs for using the plotting, listing
    and equation solving analysis tools. Each tool will have its own Close
    button, or it may be closed by reselecting the item from the Main pulldown
    menu. Each tool will have its own Help so please refer to it for additional
    information on a particular function.

@MainMenu -- objects

    The "Objects" pulldown entries toggle the dialogs which pertain to 
    managing the objects in memory.

        Load and delete objects in memory...
	
	    adds and deletes objects in memory from files of database objects.
	    The dialog also displays overall statistics of the number of each
	    type of object in memory.

        Search memory and define ObjX,Y,Z...
	
	    selects any given object in memory and views or modifies all of its
	    defining parameters. Also can be used to center the Sky View over
	    any object and to define the user-defined objects, ObjX, Y and Z.

	Setup field stars...
	
	    sets up to read the various sources of faint stars which XEphem
	    refers to as "field stars," including the Hubble GSC, USNO,
	    Tycho and PPM catalogs.

	Find close pairs of objects...
	
	    dialog scans the objects currently in memory for all pairs which
	    are separated on the celestial sphere by less than a desired
	    angular amount and to also easily point to any such pair on the Sky
	    View menu.

@MainMenu -- preferences

    The "Preferences" pulldown lists the available preferences that may be
    changed at run time. Whenever any are changed, all effected fields are
    immediately recalculated and redisplayed throughout XEphem. Each of these
    preferences may be initialized via the XEphem resources; see the sample
    XEphem.ad resource file for details. The preference options currently
    available include:

	Equatorial: Topocentric, Geocentric

	    controls whether the RA and Dec values displayed throughout XEphem
	    are for the current local surface location (topocentric) or from
	    the center of the Earth. (Alt/Az values are, of course, always
	    topocentric.)

	Precision: Hi, Low

	    controls how much precision is shown for most angles. This is a
	    change in display format only and does NOT imply a change in
	    accuracy.

	Message Bell: On, Off

	    whether to ring the bell each time a new message is added to the
	    Message menu. (The Message menu is accessible via the File menu in
	    the Main display).

	Prompt Prefill: Yes, No

	    whether prompt strings from the Main menu and Search dialogs
	    are filled with the current value or blanked out. This is also
	    handy to allow copy/paste of these values.

        Units: English, Metric

            whether local topocentric circumstances are given in English or
            Metric units of measure.

        Time zone: UTC, Local

            whether the time stamp below each major view, the rise/transit/set
	    times in the data menu and the dawn/dusk times and the calendar in
	    the Main menu refer to UTC or local time.

	Show help tips: Yes, No

	    whether additional help is available immediately for all selectable
	    buttons and controls using small brief windows near the control.

	Confirmations; Yes, No

	    whether operations which basically can not be undone or which
	    might have irreversible consequences will be preceded with a
	    confirmation dialog. Examples include exiting XEphem or
	    overwriting an existing file.

        Date formats: M/D/Y, Y/M/D, D/M/Y

            whether dates are shown and entered in month/day/year,
            year/month/day or day/month/year format.
@Operation
When XEphem starts it sets the initial values of several fields from 
corresponding X resource values. See the Help for "Initialization" for details
of the names and formats of these resources. XEphem then draws all fields on
the Main screen with their initial values.  The program then loops advancing
time each step by an amount you control and updating all fields each loop.

There are three fields that control this looping behavior. "N Steps"
controls the number of steps, "Step" the amount of time to add each
step, and "Pause" is the amount of real seconds to pause between steps. When
looping is in effect, the bottom button on the Main menu says "Stop".
When the number of steps goes to 0 or the "Stop" button is selected, the
looping stops and the button is relabeled "Update".

Note that when looping with Pause set to 0, most numeric field data are not
drawn in order to speed up the display. These values are always updated
internally, however. and may safely be used for plotting, solving or
listing. This is true even if the menu that displays the information is
closed.

Most fields on the Main menu may be changed by selecting them. A prompt dialog
with a brief explanation of the field will be presented. A new value may be
typed into the text field provided. If "Ok" is selected the new value will be
used; if "Cancel" is selected the field will be left unchanged. In either case,
the prompt dialog goes away. Some of the dialogs have an extra button which
offers a handy way to enter frequently used values for the field.

When you have changed a field that would invalidate any of the other fields
or displays the message NEW CIRCUMSTANCES flashes near the top of the Main
menu.  This will continue until at least one screen update loop occurs.  If
you change any field that causes new circumstances, the "Step" value is
not added to the current time before the next loop. Note also that after a
series of loops, "N Steps" is automatically reset to 1 from 0 so "Update" will
do exactly one loop again.

Some graphical views have a push button marked "Movie Demo". This is a
convenient way to start and stop a sample movie sequence. If XEphem is
currently idle then pushing the button will set the Main menu "Step" to a
value that will yield a pleasing motion effect and start looping with a very
large number of steps. If XEphem is already looping then pushing the button
will cause it to stop and set Main menu "N Steps" to 1. The Main menu Stop
control can also stop the looping in the usual way.

When any time field is set using the "Now" feature it enables auto timezone
calculation. This means that the TZ Name and TZ Offset fields will be
computed and set according to local timezone information available from the
operating system, if possible, based on the time setting in the other XEphem
fields. Auto timezone mode may also be turned on or off explicitly using the
short-cut commands in the TZ Name or TZ Offset timezone prompts. Note that
times zones are only supported if XEphem was built with a C compiler which
defined __STDC__.

@Credits
As always, first and foremost, many thanks to my wonderful wife, Kathy, for
her unwavering trust, acceptance, love and support.

The near real-time weather map in the Earth view is provided by the Space
Science and Engineering Center at the University of Wisconsin. See their
web site at http://www.ssec.wisc.edu/ssec.html.

The new XEphem logo was contributed by Jonathan Adams,
jfadams@mail.arc.nasa.gov.

For the years 1999-2010 the natural satellite ephemerides for Mars, Jupiter,
Saturn and Uranus are based on developments in mixed functions computed and
contributed at Bureau Des Longitudes, http://www.bdl.fr, by J.-E. Arlot, Ch.
Ruatti and W. Thuillot. Many thanks! The authors state these are generally
good to 1/2 arcsecond accuracy. In my test against JPL DE405 I would say this
is true about 50% of the time, with a worst case of about 4 AS.

Outside this range, Jupiter's moons based on information in "Astronomical
Formulae for Calculators" by Jean Meeus. Richmond, Va., U.S.A.,
Willmann-Bell, (c) 1982. Saturn's moons based on code and ideas supplied by
Dan Bruton, Texas A&M, astro@sfasu.edu. For all dates, ring tilts based on
"RINGS OF SATURN" program by Olson, et al, Sky & Telescope, May 1995, page
95. C code as converted from BASIC by pmartz@dsd.es.com (Paul Martz).

Thanks to Monty Brandenberg, mcbinc@world.std.com, for his assistance
and solution to the unaligned access messages on Digital UNIX.

Thanks to Jean-Etienne.LAMIAUD@tcc.thomson-csf.com for a fix to prevent
gif colortables from hogging more than their share of X colormap entries
and many corrections to xephem_sites.

Thanks to Stuart Levy, slevy@ncsa.uiuc.edu, for his work converting the Tycho
ESA mission database adc.gsfc.nasa.gov:/pub/adc/archives/catalogs/1/1239 into
xe format.

Many formulas and tables are based, with permission, on material found in:
"Astronomy with your Personal Computer" by Dr. Peter Duffett-Smith,
Cambridge University Press, (c) 1985.

The high precision planet positions were implemented for XEphem by Michael
Sternberg <sternberg@physik.tu-chemnitz.de> based on the papers

    "Planetary Theories in rectangular and spherical variables:  VSOP87
    solution" by Bretagnon P., Francou G., in Astron. Astrophys. 202,
    309 (1988), ftp://ftp.bdl.fr/pub/ephem/planets/vsop87/, and

    "Representation of planetary ephemerides by frequency analysis.
    Application to the five outer planets" by Chapront J., Astron.
    Astrophys. Suppl. Ser. 109, 181 (1995), ftp://adc.gsfc.nasa.gov/\
    pub/adc/archives/journal_tables/A+AS/109/181.

    See the comments in chap25.h and vsop87.h for accuracy estimates.

The high precision Moon code was also implemented for XEphem by Mr. Sternberg
based on code supplied by Stephen L. Moshier <moshier@world.std.com> at
ftp://ftp.std.com/pub/astronomy/selenog.zip. Mr. Sternberg also incorporated
the algorithm for deltaT, based on code also provided by Mr. Moshier. See the
comments in deltat.c for full references. My greatest thanks to Messrs.
Sternberg and Moshier for their generous and kind assistance in making XEphem
a program of first-class accuracy.

The improved lunar libration trig series fit to JPL DE403 was provided by
Stephen L. Moshier, <moshier@world.std.com>.

Many thanks to Michael Naumann, Michael.Naumann@eso.org, and Miguel Albrecht,
malbrech@eso.org, at ESO and Tim Kimball, archive@stsci.edu, at STScI for their
help and support accessing the DSS at their institutions. And thanks to ESO
and STScI in general for offering this service at all.

Thanks to Seiichi Yoshida, seiichi@muraoka.info.waseda.ac.jp, for a subtle
fix to the constellation code in 3.1.

Thanks to  Atsuo Ohki, ohki@gssm.otsuka.tsukuba.ac.jp, for the basic
implementation of displaying atlas info in the sky view.

The sample spacecraft elements were furnished by Ron Baalke,
baalke@jpl.nasa.gov.  

Thanks to Vance Haemmerle, vance@toyvax.Tucson.AZ.US, for his updated and
appended lists of spacecraft elements, and work on improvements to the
solar system plotting of long-period trail sequences.

Thanks to Jeroen Valkonet (jeroenv@cvi.ns.nl) for planting the seed which 
grew into the new bitmap clipmask approach of drawing the stars.

Thanks to Jim Bell, jimbo@cuspif.tn.cornell.edu, and the team at Mars Watch for
the Mars albedo map and several ideas.

Thanks to Dimitromanolakis Apostolos <apdim@grecian.net> for his contribution
leading to support for fetching DSS in gzipped form.

Thanks to Miguel Albrecht, malbrech@serv2.hq.eso.org, at ESO for his assistance
and support of their fine Web access facilities to the GSC.

Rotated trail text uses the xvertext package. Here is the copyright:

    xvertext 5.0, Copyright (c) 1993 Alan Richardson (mppa3@uk.ac.sussex.syma)

    Permission to use, copy, modify, and distribute this software and its
    documentation for any purpose and without fee is hereby granted, provided
    that the above copyright notice appear in all copies and that both the
    copyright notice and this permission notice appear in supporting
    documentation.  All work developed as a consequence of the use of
    this program should duly acknowledge such use. No representations are
    made about the suitability of this software for any purpose.  It is
    provided "as is" without express or implied warranty.

IC.edb was submitted by Christos Siopis, siopis@astro.ufl.edu.

Constellation algorithm is from a paper by Nancy G. Roman, "Identification
of a constellation from a position", Publications of the Astronomical
Society of the Pacific, Vol.  99, p.  695-699, July 1987. Further contributions
from Chris Marriott and Ernie Wright. The list of boundaries is derived from
the three files constell.1875.data, constell.1875.hdr and constell.doc at
ftp://explorer.arc.nasa.gov/pub/SPACE/FAQ/.

Thanks to Dr. Harald Fischer (fischer@vs-ulm.dasa.de) for the GPS awk routine
and sample position database.

The high-precision precession routine is from 1989 Astronomical Almanac, as
interpreted by Craig Counterman. Mr. Counterman also deserves the credit for
providing the initial encouragement to write an astronomical tool specifically
for X Windows, and for significant assistance while developing the heliocentric
models.

The Earth map is derived from data supplied with xearth which included the
following notice:

   Copyright (C) 1989, 1990, 1993, 1994 Kirk Lauritz Johnson

   Permission to use, copy, modify, distribute, and sell this
   software and its documentation for any purpose is hereby granted
   without fee, provided that the above copyright notice appear in
   all copies and that both that copyright notice and this
   permission notice appear in supporting documentation. The author
   makes no representations about the suitability of this software
   for any purpose. It is provided "as is" without express or
   implied warranty.

   THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE,
   INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS,
   IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, INDIRECT
   OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
   LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT,
   NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN
   CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.

The pulsar and Radio databases are based on lists supplied by Robert Payne,
rpayne@nrao.edu. Errors in converting to XEphem are mine.

The lunar image is based on one I found surfing at: ftp://seds.lpl.arizona.edu
/pub/images/planets/moon/fullmoon.gif. The calculations for the longitude
of the terminator and the solar altitude are based on the program colong.bas
by David Bruning and Richard Talcott, published in _Astronomy_, October 1995,
page 76.

Thanks to Richard Clark (rclark@lpl.arizona.edu) for an improved version
of anomaly.c.

Earth satellite support is based on the `orbit' program, v3.9, which contains
the following notice:
   Copyright (c) 1986,1987,1988,1989,1990 Robert W. Berger N3EMO
   May be freely distributed, provided this notice remains intact. 
Any errors in applying the code from orbit to XEphem are strictly my own.

Two-line orbital element sets for many satellites may be
obtained from http://celestrak.com.

A great source of comet information is http://encke.jpl.nasa.gov.

Special thanks to Uwe Bonnes, bon@LTE.E-TECHNIK.uni-erlangen.de, and
Ralphe Neill, ran@rdt.monash.edu.au, for their many ideas and support.

Many test cases were gleaned from the pages of Sky and Telescope, (C) Sky
Publishing Corp.

Most of the sample cities in the "xephem_sites" file are from the xsat program,
which included the following notice:

    Copyright 1992 by David A. Curry

    Permission to use, copy, modify, distribute, and sell this software and its
    documentation for any purpose is hereby granted without fee, provided that
    the above copyright notice appear in all copies and that both that copyright
    notice and this permission notice appear in supporting documentation.  The
    author makes no representations about the suitability of this software for
    any purpose.  It is provided "as is" without express or implied warranty.

Most of the sample observatories in the "xephem_sites" file are transcribed,
with permission, from the table beginning on page 28 in the July 1993 issue of
Sky and Telescope. Any errors in transcription are strictly my own.

Thanks to Lowell Observatory and the Minor Planet Center for maintaining
their huge lists of asteroids. See ftp://ftp.lowell.edu/pub/elgb/astorb.html
and http://cfa-www.harvard.edu/cfa/ps/mpc.html, respectively.

Thanks to the National Space Science Data Center and the Smithsonian
Astrophysical Observatory for the SAO star catalogue.

Thanks to the members of the Saguaro Astronomy Club for the preparation and
free distribution of their deep-sky database. Any errors in conversion to the
.edb format are strictly mine.

Thanks to Chris Beecroft <chrisb@netcom.com> for his encouragement and
technical assistance in adding postscript. The limited results in no way
reflect on his capabilities. Initial encouragement was also received from Frank
M. Siegert <frank@miranda.tue.schwaben.de>. And thanks to everyone who has
asked for printing over the years -- I now admit that I like it too!

Bright stars are based on the 5th Revised edition of the Yale Bright Star
Catalog, 1991, from ftp://adc.gsfc.nasa.gov/pub/adc/archives/catalogs/5/5050.
Common names supplied by Robert Tidd (inp@violet.berkeley.edu) and Alan Paeth
(awpaeth@watcgl.waterloo.edu). Any errors in conversion to the .edb
format are strictly mine.

I wish to thank all the organizations behind the incredible Internet for its
maintenance and free and easy access. I also wish to express my hope that
it retains the spirit of coordial cooperation it fostered in its formative
years.

I learned most of what I know of X Windows and Motif programming from material
found in the various excellent texts from O'Reilly & Associates, Inc.

Thanks to MIT and the X Consortium for inventing, championing and maintaining
the X Window system, and the various contributing organizations to the Open
Software Foundation for Motif. Their vision of network-aware graphics is
still unmatched.

Similarly, I will be forever indebted to all who contributed to UNIX. My
passion and appreciation for this remarkable operating system matured while I
enjoyed four wonderful years at Kitt Peak National Observatory (now the National
Optical Astronomical Observatory), Tucson, AZ, in the early 80's. As with X,
UNIX plays a central role in my enjoyment of a career in scientific computing.

It was at KPNO where I met the late Mr. W. Richard Stevens, a fellow champion
of the elegance of the UNIX architecture, life-long friend and mentor.

Special thanks to all the folks over the years who have provided innumerable
ideas, suggestions and bug reports, both for XEphem and its ancestor, ephem. A
major benefit to writing and distributing these programs has been the chance to
make many friends from around the world.

Elwood Downey
ecdowney@ClearSkyInstitute.com

@Date/time
XEphem uses many values that get entered in some variation of A/B/C form.
Examples include date, time, longitude and step size. We call this a "triad"
input format.


Times and RA are entered and displayed in h:m:s format. If you pick such a time
field to change it, any of the h, m, and s components that are not specified
are left unchanged from their current value.  For example, 0:5:0 set hours to
0, minutes to 5, seconds to 0, whereas :5 sets minutes to 5 but leaves hours
and seconds unchanged.  A negative time is indicated by a minus sign (-)
anywhere before the first digit.


Dates are entered and displayed in any one of month/day/year, year/month/day
or day/month/year form. A preference selection on the main menu, and controlled
by the XEphem resource DateFormat, selects which form is currently being used.

As with time, components omitted when entering a new date retain the current
value.  For example, if the current date is 10/20/1988 and you type 20/30
the new date will become 20/30/1988. If you then type //2000 the new date will
become 20/30/2000. Note you must type the full year since the program is
accurate over several centuries either side of 1900.

If you change the date, the time (i.e., partial day) will not change.

Negative years indicate BC dates. For example, Jan 1, 1 BC is given as
1/1/-1.  There is no year 0.


Two other ways to set the date are supported for compatibility with some
published comet ephemerides.  You may enter the day portion as a floating
point number. When you set the day this way, the time will also change to
correspond to the fractional portion of the day. For example, noon on Jan 2,
1995, may be entered as 1/2.5/1995.

You may also enter a date as a decimal year, as in 1990.12345. Also, when
the date format preference is set to M/D/Y or D/M/Y the decimal point may be
omitted if the value is not a reasonable month or date value, respectively.
Decimal years are useful in interpreting plot files that include a date field,
since date fields are stored in plot files as decimal years. Any input that
includes exactly one decimal point is assumed to be a decimal year.


Other parameters such as declination, azimuth, altitude, longitude, latitude
and "Step" are entered and displayed in d:m:s format and also fall into the
general triad format. The same rules apply to these with respect to only having
to set the portions that are being changed and the typing conveniences.


For typing convenience, the slash (/) and colon (:) used in any field may also
be entered as a hyphen (-), semicolon (;) or comma (,). (Yes, "1-1--1" works
for 1 BC.)

@Notes
1) The program uses a horizontal plane tangent to the earth Elev feet above
sea level as the horizon for all altitude calculations, rise/set events, etc. 
Due to Earth's curvature, this is not the same as the angle up from the local
horizon unless the observer is directly on the ground. The effect can be found
from:

     sin(a)**2 = (h**2 + 2Rh) / (R+h)**2
 where:
     R = radius of earth
     h = height above ground (same units as R)
     a = increase in altitude

The effect can be significant. For example, the effect is more than two arc
minutes at a height of 5 feet.

2) The accuracy of the planetary predictions, including the Moon, is 
consistently much better than one arc second within a few hundred years of
today, and of order of one arc second or better for a few thousand years. See
the comments in chap95.c, vsop87.c and moon.c. Other heliocentric objects are
well within one arc minute at the time of the epoch of their elements; this
steadily worsens with time since XEphem does not apply perturbations.

Using a GPS position locator and transit, I have independently verified
Sun and Moon limb rise and set times are accurate to within one minute and
azimuths are with about 0.1 degree.

3) The sun-moon distance is the solution for the third side of a planar
triangle whose two other sides are the earth-moon distance and earth-sun
distance separated by the angle of elongation.

4) The visual magnitudes for the planets take into account the phase of the
illumination; the magnitudes for other solar system objects do not.

5) Futures...

TODO:
 + add tick marks (third axis?) to plots.
 + write a tool to find g/k from a set of predicted magnitudes.
 + add explicit searching for solar and lunar eclipses.
 + add undo for plot and listing selections.
 + save/restore solver formulae to file.
 + use interruptible work procs for long operations, not just the watch cursor.
 + let xephem put things in the root window.
 + display occultation path between *any* two objects in the earth view
 + show correct moon phase and orientation in Sky View.
 + add hot keys to control sol sys stereo view
 + support >1 object at a time in earth view (but what about popup obj info?)
 + be able to assign valid time spans to orbital elements.
 + save/restore skyview history collection to file.
 + actually use dimmer dots, not smaller dots (cut in half for each mag step).
 + support for RealSky CDROM set worth it? I prefer waiting for DVD version.
 + add sidereal day and month trail intervals.
 + just show month/year in trails when they change
 + comet tail pointer
 + include support for meteor showers, eg, dedalus
 + allow searching ppm and even gsc catalogs by name?
 + resizable FITS image
 + be able to paste data and "more info" tables to X clipboard
 + more catalogs.. any favorites?
 + allow using a tracked object as the reference for a trail
 + command line version which generates a skyview gif
 + arbitrary solar system perspective
 + too easy to bury and hence lose modal dialogs
 + option for rise/set info to be Today or Next.
 + add "Plot JD as years" to plot display
 + a slider to control how many stars are labeled

Known Bugs:
 - Pref->Zone should probably apply everywhere.
 - also, Pref->Zone does not update dates of FM/NM if they happen to squirm.
 - constellation figures could stand some improvement.
 - length of night wrong when savings time causes dusk after midnight
 - center constellation names based on boundaries rather than on figures
 - solar trails don't account for long-term (10's of years) precession
 - Mars does not print in color.
 - Earth weather does not print.

@Plot
This menu controls the plot generation and display functionality of XEphem.
You may select most numeric information displayed by XEphem, in pairs, to
form x/y coordinates of a plot. You may select up to ten such pairs. You
then select a file to contain the plot information. XEphem adds one line of
information to the file for each x/y pair each time iteration step. XEphem
can also plot any such file on the screen. The file format is compatible
with the character version of XEphem, ephem.

Selecting data to plot:

    Select the "Select fields" toggle button to make each field in the other
    menus that are eligible for plotting appear as a pushbutton. Select each
    such button as desired to form the x or y component of a plot. As you make
    the selections, they are listed in the menu. You may also associate a
    one-character tag with each line. These tags will be included in the plot
    display for identification later. Once all the field choices have been made
    you may return all the menus to their normal operational appearance by
    reselecting the same toggle button.

Specifying the plot file name:

    Type the name of the file to be used to contain the plot information in the
    text field provided. When XEphem first needs to write to the file, it will
    first check for the existence of the file and, if it already exists, ask
    whether you wish to append to the file or overwrite it.

    A leading `~' in the filename will get expanded to the value of your HOME
    environment variable.

    The default plot file name may be specified as the value of the resource
    named "XEphem*Plot*Filename.value". If this resource is not specified then
    the file name will be "ephem.plt".

Specifying a plot file title:

    Enter a short title for the plot information in the text are provided.  When
    XEphem first writes to a plot file, it will place the contents of the title
    text area, if it is not empty, into the file as a comment. All lines within
    a plot file that do not begin with an alphanumeric character are considered
    comments and are ignored. If the first line of a file is a comment, XEphem
    will use it as the title for the plot when it displays the plot.

Generating the plot entries:

    Once the fields have been specified and the plot file named and titled, you
    may select the "Plot to file" toggle button when ready. Now each time XEphem
    goes through one iteration the values you have selected and their tags will
    be written to the plot file. Note that when plotting is activated, XEphem
    does not update the screen until the "N Steps" count goes to 1. This greatly
    speeds the creation of plot files by avoiding screen updates. If you wish to
    watch each iteration, set "N Steps" to 1 and select the "Update" button
    manually for each iteration. Once all the desired data has been entered into
    the plot file, toggle the plot button back off to flush all data and close
    the file.

    The menus that contain each of the fields used in the plot need not be
    visible while the plot is being generated.

Viewing plot files:

    Existing plot files may be viewed by entering their name into the text field
    provided and selecting the "Show plot file" pushbutton. As many different
    plot files may be viewed simultaneously as desired. Each plot has separate
    controls for flipping the X and Y axes and for turning on and off a
    reference coordinate grid.

    The XEphem distribution kit includes a sample plot file of the analemma.
@Listing
This menu controls the list generation functionality of XEphem.  The fields
you select define columns of a table written to a file as XEphem runs.
These columns look exactly like their corresponding fields on the XEphem
menus and so are more familiar and readable than the entries in plot files.
They are designed to be used in further text processing operations or
printed as-is. Two spaces are placed between each column.

Selecting data to list:

    Select the "Select fields" toggle button to make each field in the other
    menus that are eligible for listing appear as a pushbutton. Select each such
    button as desired to form each column of the listing. As you make the
    selections, they are listed in the menu. Once all the column choices have
    been made you may return all the menus to their normal operational
    appearance by reselecting the same toggle button.

Specifying the listing file:

    Type the name of the file to be used to contain the listing in the text
    field provided. When XEphem first needs to write to the file, it will first
    check for the existence of the file and, if it exists, ask whether you wish
    to append to the file or overwrite it.

    A leading `~' in the filename will get expanded to the value of your HOME
    environment variable.

    The default listing file name may be specified as the value of the resource
    named "XEphem*List*Filename.value". If this resource is not specified then
    the file name will be "ephem.lst".

Select Column Headings:

    When this option is selected, column headings are written to the output
    file each time the file is opened.

Specifying a listing file title:

    All lines within a listing file that do not begin with an alphanumeric
    character are considered comments and are ignored.  When XEphem first writes
    to a listing file, it will place the contents of the title text area, if it
    is not empty, into the file as a comment for your convenience.

Generating the listing entries:

    Once the fields have been specified and the listing file named and titled,
    if desired, select the "List to file" toggle button. Now each time XEphem
    goes through one iteration the values you have selected will be written to
    the file. Note that when listing is activated, XEphem does not update the
    screen until the "N Steps" count goes to 1. This greatly speeds the creation
    of listing files by avoiding screen updates. If you wish to watch each
    iteration, set "N Steps" to 1 and select the "Update" button manually for
    each iteration. Once all the desired data have been entered into the listing
    file, toggle the list button back off to flush all data and close the file.

    Menus that contain each of the fields used in the listing need not be
    visible for the fields to be listable.
@Search
This menu controls the automatic equation solving facility. You define an
arithmetic or boolean function, using most of the fields XEphem displays, then
XEphem will automatically evaluate the function and adjust the time on each
iteration to solve for the goal.

To set up a function to solve, follow these steps:

   Enter a function,
   Compile it,
   Select a goal,
   Set the desired accuracy,
   Enable solving,
   Start the solving process.

Each of these steps is described below.

Entering the function:

    The function may be any arithmetic expression, in C-language syntax.  All
    of C's comparison, logical and arithmetic operators are supported as well
    as several common arithmetic functions. Here is the complete list:

	  + - * / && || > >= == != < <=
	  abs floor sin cos tan asin acos atan degrad raddeg pi log
	  log10 exp sqrt pow atan2

    The function is entered into the text line provided. It may utilize most of
    the fields from the other XEphem menus. Press the "Enable field buttons"
    button to make each available field a button. Where ever a field is desired
    in the function, position the text insertion cursor at the desired position
    and select the field; its name will be inserted into the function text. When
    you are finished defining the function, turn off the field button appearance
    by selecting the "Enable..." button again.  Once you get to know the names
    of the fields you may also enter them manually, if you prefer.

Compiling the function:

    Once the function has been entered as desired, it must be compiled by
    selecting the "Compile" button (or by pressing the Return or Enter key on
    your keyboard).  If there are any errors, a diagnostic message will appear
    just below the function. Once a function has been successfully compiled,
    the message will read No compile errors. If the function is modified, a
    message will remind you that it has not been compiled. Each time a
    function is successfully compiled, XEphem updates all fields and evaluates
    the function. As explained below, this can be used as a sort of
    "astronomical calculator" even when not actually solving anything.

Selecting a goal:

    You may choose from any of three evaluation algorithms, as selected by the
    trio of radio buttons. "Find extreme" will solve for a maxima or minima of
    the function. "Find 0" will solve for a time when the function evaluates to
    zero.  "Binary" will keep incrementing time by "Step" (in the main
    menu) until the state of the function changes, then do a binary search to
    find the exact time when the function changes state. Binary search
    interprets a function that evaluates to zero to be in one state and all
    other values to be the opposite state. Generally, binary functions are
    comprised of logical operators at their outermost expression levels.

Specifying the desired accuracy:

    Searching will automatically stop when the time changes by less than the the
    accuracy value. Note that this method of detecting convergence is not based
    on the value of the search function itself. To change the desired accuracy
    press the pushbutton showing the current accuracy next to the "Accuracy"
    label and enter a new value in the dialog.

Enabling the solver:

    Once the function is defined and it compiles without errors, you may enable
    searching for a solution by selecting the button at the top labeled
    "Solving is Active". Then, each time "Update" is selected on the main menu
    the solution advances by one time step until either "N Steps" iterations
    have occurred or until "Step" becomes less than Accuracy. The initial
    time and step size are set from the Main menu, and are adjusted
    automatically as the solution proceeds. Note that by setting "N Steps" to 1
    and repeatedly selecting Update you can effectively single-step the
    process. Solving will automatically turn off when convergence is detected,
    the function is edited or you may turn it off manually at any time by
    toggling the button labeled "Solving is Active" back
    off.

Additional notes on using the equation solver:

    When selecting fields for plotting or listing a button appears labeled "Use
    for plotting". You may select this button to use the evaluated function as
    an item in the plot or listing feature. Note that the function may be used
    in plotting and listing whether or not actually solving is enabled.

    The dialogs which contain the fields used in the function being solved need
    not be visible while solving is in progress.

    The "Close" button removes the Solving dialog from the screen; it does
    not effect actual solver operation in any way.

    A successfully compiled function is evaluated each time XEphem updates.
    Whenever the function is compiled it is also evaluated using freshly
    updated values. In this way, the Solve menu can actually be used as an
    arbitrary "astronomical calculator" at any time, whether or not solving
    is actually active.

Hint:

    Solving periodic functions can lead to solutions far from the intended
    range. You will get best results if you can start the search near the
    expected answer and with a small step size that bounds the solution. You
    can use the plotting feature to study a function and get an idea of the
    solution, then use the solver feature to zero in.
@Data Table
This is a table of information about each planet, the sun, Moon, and any three
user defined objects, ObjX, Y and Z. Each data item occupies one column in
the table and each object occupies one row.

The Control pulldown menu contains the following options:

    Setup ...

	This button brings up a configure dialog to specify the table rows and
	columns as desired.  The initial configuration can be set from the X
	resources DataSelRows and DataSelMiscCols. See the sample XEphem.ad
	resource file for examples.

    List ...

	This button allows the current data table to be saved in a text
	file.

When any columns related to rising or setting are active a box at the bottom
will indicate whether the times refer to the center or the upper limb of the
object. Similarly, when either the RA or Dec columns are active or any of the
separation columns are active a box will be present to indicate whether the
separation is from a geocentric or topocentric point of view. The box will
also indicate the precession epoch. See the help for the "Setup" menu for more
information about these modes.

Any of the information in this table may be plotted, listed or used in a
solver algorithm. See the help for these control functions for more details.

See the help for the "Setup" menu for a description of each column.
@DataSelection Table
This dialog lets you configure which rows and columns will be in the Data
Table.  When this dialog first comes up it will be set to indicate the state
of the Data Table. You may then manipulate the toggle buttons as desired. To
actually change the Data Table to a new configuration select the "Apply"
button.  "Ok" does the same thing but also closes this menu. "Close" just
closes this menu without making any permanent changes. In addition to
manipulating each item individually, each columns includes handy shortcut
controls at the top to make changes to column as a whole.

The first column of this menu selects which rows will be present in the Data
Table. The planets and the Sun and Moon are always in this column. If user
defined objects ObjX, Y or Z are defined then they will also be present and
controllable from this column. See the help for the "Set ObjXYZ" menu for more
information about user defined objects.

Entries in the remaining three columns in this menu control which columns
will be present in the Data Table. They are grouped into three categories
for convenience.

Column two controls miscellaneous basic information. The descriptions of
each entry are as follows:

 Cns           name of the constellation in which the object appears.

 RA            Right ascension: if Main Epoch is set to EOD this is the
               apparent place, otherwise it is the astrometric (mean) place.
	       If Main Preference Equatorial is Topocentric, it is further
	       corrected for parallax.

 HA            geocentric or topocentric hour angle of object, computed as
               LST-RA precessed to EOD. Positive angles are west of the
	       meridian.

 Dec           Declination: if Main Epoch is set to EOD this is the
               apparent place, otherwise it is the astrometric (mean) place.
	       If Main Preference Equatorial is Topocentric, it is further
	       corrected for parallax.

 Az            topocentric degrees eastward of true north for object.

 Alt           topocentric degrees up from a horizontal plane that is Elevation
               feet above sea level. Corrected for refraction.

 Zenith        topocentric Zenith distance, degrees; corrected for refraction.

 Air           Number of relative airmasses through which light from the object
               passes to the topocentric observer. Computed as 1/sin(Alt),
               clamped so all values of Alt < 0.1 Radian (~5:44) show as 99.

 HeLong        true heliocentric longitude, in degrees.  Earth's is displayed
               on the sun's line.  For the moon this is the geocentric
               longitude.

 HeLat         true heliocentric latitude, in degrees.  For the moon this is
               the geocentric latitude.

 GLong         galactic longitude, in degrees.

 GLat          galactic latitude, in degrees.

 EaDst         true distance from Earth center to object center, in AU, except
               distance to the moon is in miles or km depending on the Units
               preference.

 EaLght        time for light to travel from Earth to object. Format is hh:mm
               for all solar system objects, except the moon is in decimal
               seconds.

 SnDst         true distance from sun center to object center, in AU.

 SnLght        time for light to travel from Sun to object. Format is hh:mm.

 Elong         spherical angular separation between the sun and given object,
               calculated from the their geocentric ecliptic coordinates. Note
	       this is not just the difference in ecliptic longitude, as is
	       sometimes used. The sign is positive for an evening object or
	       negative for a morning object. Thus, this field is not generally
	       useful in searching for eclipses because of the discontinuous
	       sign change which occurs at conjunction. For that, use the
	       thus various Separations fields.

 Size          angular size of object, in arc seconds.

 VMag          visual magnitude of object.

 Phase         percent of visible surface in sunlight.

Column three controls information related to rising, transitting, and
setting. These are computed based on a refraction model that uses the actual
atmospheric and topocentric circumstances displayed on the Main menu. A text
entry field is available in which you may specify a number of decimal degrees
the local horizon is above horizontal to account for local effects.

The "Limb" option means that the rise and set circumstances are based on the
location of the upper limb of the object. "Center" means that the circumstances
are based on the location of the center of the object.

Follows is a description of the Data Table columns controlled by the third
Data Selection column:

 RiseTm
 RiseAz   The local or UTC time and azimuth when the upper limb (or center) of
          the object rises TODAY. See note below for Earth satellites.

 TrnTm
 TrnAlt   For all but Earth satellites, this is the local or UTC time and
          altitude when the object crosses the meridian TODAY, i.e., when its
	  azimuth is true south or, if no precession, when the local sidereal
	  time equals the object's right ascension. If the object is an Earth
	  satellite, this is the time and highest altitude the satellite ever
	  reaches above the local horizon (at whatever azimuth).
 SetTm
 SetAz    The local or UTC time and azimuth when the upper limb (or center) of
          the object sets TODAY. See note below for Earth satellites.

 HrsUp    The number of hours the object is up TODAY, that is, the difference
          between the set and rise times. See note below for Earth satellites.

Note for timezones:

    Rise and set circumstances are all computed in local time. If the Zone
    Display preference (from the Main menubar) is set to UTC then the times are
    converted to UTC. Thus, when reference is made to TODAY it means the
    current local date, not UTC date.

Note for Earth satellites:

    Due to their generally rapid motions Earth satellites often have many
    rising and setting events per day. For this reason, the rise and set time
    for satellites are not restrained to be during the current local day.
    Rather, for satellites, XEphem displays the very next rising and setting
    events that occur strictly later than the current time on the Main menu,
    provided they occur within 24 hours. This means that if the rise or set
    time displayed is earlier than the current local time on the Main menu, it
    actually refers to the next day. This doesn't happen for the other objects
    because their times are restricted to events that happen just today.
    Similarly, we can only compute the HrsUp column if the set time is
    strictly later than the rise time.

    The upshot of all this is that the best way to really understand the
    visibility of a satellite in your area is by graphing its altitude over
    the desired time interval.

Various "odd ball" rising, transit and setting conditions are accounted for
and marked when they occur as in the following table. Note that in the case of
Earth satellites, "TODAY" really means within the next 24 hours.

 NoRise       up some time but never rises, as such, TODAY.
 NoSet        up some time but never sets, as such, TODAY.
 NoTran       up some time but doesn't transit, as such, TODAY.
 CirPol       object is circumpolar (never goes below horizon) TODAY.
 NvrUp        object is never above the horizon TODAY.


The last column in the Data Table setup menu controls for which objects
angular separation is computed.  Each entry in the Data Table will be the
angular separations between each pair of objects, in degrees.

The vantage point for the Separation values depends on the Equatorial
preference in the Main menu. "Geocentric" ignores local conditions and gives
the separation as seen from Earth center. "Topocentric" uses the local
conditions known to XEphem. The choice is particularly critical for lunar
occultations and Earth satellites, of course, but the effect can be significant
for the planets as well. Geocentric separations between objects and the Sun
will match the magnitude of the elongation given in the Data menu.

When ObjX, Y or Z are defined, these will appear in the last column and
separations between them and the other objects (in column 1) may be selected
for display.

Note:

Solving over a period that will include the rise or set times of either
object is generally better performed from the geocentric viewpoint.  The
refraction effect of the topocentric viewpoint causes many arc minutes of
rapid whiplash displacement as the objects rise and set that overlays the
smooth celestial motion of the objects.  This rapid position variation can
confuse the solver algorithms that expect fairly smooth functions.
@Moon
+Moon - intro
+Moon - mouse
+Moon - control
+Moon - view
+Moon - scale
@Moon - intro
This is an image of the moon, shaded to indicate phase. It may be flipped and
scaled as desired and many Lunar features may be labeled, including the six
Apollo landing sites. During a Lunar eclipse, the edges of the umbra and
penumbra regions are drawn as solid and dashed lines, respectively.

The coordinate system on the moon is such that latitude increases towards
the north and longitude increases towards the east. When facing the moon with
the unaided eye, lunar east is towards the right. The lunar image in XEphem 
is oriented with the polar axis vertical on the screen. Letters are placed at
each edge of the image to show nominal celestial directions.

If at least three colors can be allocated the image is rendered with at most 30
shades of gray; if only two colors can be allocated it is dithered into a
black and white image.

The image is read from a file in FITS format. (The file name is "auxil/moon.fts"
in the directory named by the X resource XEphem.ShareDir.). The software is
carefully tuned to this exact image so substitutions would not be a simple
matter.

The moon nods and rocks slightly as it moves through the sky. This motion is
called libration. A dot on the circumference of the image indicates the limb
position that is currently tilted most towards Earth due to libration. The
angular position of the dot is placed accurately but the image rendering is not
adjusted for libration effects. Thus, the surface features over which the dot
and the terminator appear in the image are only approximate. See the Help for
"More info..." under View for more information on libration.

@Moon - mouse
Mouse controls:

    Left button:

	Activating the left mouse button while over the lunar image will
	display a small magnified 2x view of the lunar surface under the
	cursor. The magnified image will track the cursor as it is moved around
	the image. The latitude, longitude and solar altitude of the location
	are displayed in the "More info..." dialog. See Help for View for more
	information about this dialog.

    Right button:

	Activating the right mouse button while over the lunar image will bring
	up a popup menu. If the location is near an item in the lunar features
	database, the name of the feature, its type, diameter in km, location
	and solar altitude at its center are displayed in the menu. If the
	location is not near a feature, then only location and solar altitude
	are displayed in the menu. The algorithm chooses the smallest and
	closest feature about which to report.

	Activating the right mouse button while not over the lunar image but
	near a sky background object will bring up a popup menu containing the
	name and magnitude of the object. One of the following two options
	will also be available:

	Assign ->
	    To ObjX
	    To ObjY
	    To ObjZ

	    This cascade allows you to assign the given object to become ObjX,
	    Y or Z, as desired. This will also cause all other views which are
	    currently making use of this object to be updated and the object
	    will be added to and selected by the Data table. Also, since this
	    makes the object one of the User-Defined objects it will now appear
	    directly in the Sky View->Locate pulldown menu.

	Show in Data Table:

	    This option is only offered when the object chosen under the cursor
	    is a planet, the Sun or the Moon. Selecting this option forces the
	    object to be enabled in the Data Table.

    The two features may be activated together if desired by first pressing
    the left button then the right button. This is helpful when trying to
    locate a particular feature in the magnified view. Try to always release
    the right button to dismiss the popup before releasing the left button. If
    you release the left button before the right button, the magnifying glass
    will remain on the image. If you run into this, you can activate the glass
    again and mop up the remains of the old glass.

@Moon - control

Control options:

    Print...

	This selection allows printing the current Moon view or saving it to
	a file.

    Setup Field Stars...

	This selection activates the Field Star setup dialog. For more 
	information about this facility, see the Help for the Field Star
	dialog itself.

    Set Earthshine...

	This brings up a dialog containing a scale which allows you to set how
	bright the Earthshine is in the moon image. The value ranges from 0,
	black, to 10, full sunlight. Full sunlight is useful when you would
	like to peruse the Lunar surface but would rather not change the XEphem
	date to a full moon. The default scale value may be set from the X
	resource XEphem*MoonES*Earthshine.value; the default is 4.

	This value depends on the gamma of your display. A fine discussion of
	display gamma and a test image with which you can determine the gamma
	value of your own display may be found at the URL:

	    http://www.cs.cmu.edu/afs/cs.cmu.edu/user/rwb/www/gamma.html.

    Close:

	This closes the main Moon display and, if open, the More info dialog.
	The image is never updated while it is closed. However, for
	convenience, if any of the fields in the More Info dialog are being
	used for listing, plotting or solving, the continue to be updated even
	when the dialog is closed.

@Moon - view

Views options:

    Apollo sites:

	This sets whether the six Apollo landing sites are marked and
	labeled on the image.

    More labels:

	This sets whether more Lunar features are labeled on the image. The
	features come from a file named "auxil/moon_db" which in turn is in
	the directory named by the X resource XEphem.ShareDir.
	
	Not all entries in the file are labeled; only those with a size greater
	than some minimum which depends on the current display Scale factor.
	Even at the largest scale, all of the features are not labeled.
	However, all features are searched at all scales when using the mouse
	to interrogate a location.

	The font used for all Moon view labels is specified by the X resource
	XEphem.viewsFont.

    Sky background:

	This sets whether to show objects within the current field of view
	that are in the XEphem database memory or available from the Field Star
	facility. The size and symbol used for the object matches that of the
	Sky view when set for a minimum magnitude of 12. While this option is
	on, XEphem will continue to retrieve field stars as required.

    Use real image:

	This sets whether to render the Moon using a real image, or just a
	simple schematic drawing of the sunlit and earthlit portions. The
	latter option is primarily just for simpler printing. Even while
	this option is on, the magnifying glass will still show the real
	image, and the lunar features database is still accessible via
	the right mouse button.

    {Pen}Umbra:

	This sets whether to show circles at the edges of the umbra and
	penumbra during a Lunar eclipse.

    Flip T/B:

	This sets whether the image is flipped top-to-bottom.

    Flip L/R:

	This sets whether the image is flipped left-to-right.

    Grid:

	This sets whether a coordinate grid is drawn over the image. Each
	line is spaced at an interval of 15 degrees.

	Also, the current subearth location is marked with an X; the subsolar
	point is marked with a small open circle; and the anti-subsolar point
	is marked with a small filled circle.

    More info...:

	This brings up a separate dialog with additional information.

	The top portion of the dialog reports the location of the cursor as it
	is moved over the image, if the left button is pressed. It also shows
	the altitude of the sun and the times when the sun will next rise and
	set at that location. The times are in accord with the Zone Display
	Preference in the Main menu.

	The lower portion of the dialog shows the lunar longitude of sunrise,
	the lunar latitude of the subsolar point, and libration information.

	The longitude of the subsolar point is at +90 from the sunrise
	longitude, and the longitude of the anti-subsolar point is at -90.
	The libration in longitude is positive towards lunar east; latitude is
	positive towards lunar north. The Limb angle is zero at lunar north and
	increases towards lunar west. The Tilt is the number of degrees the
	Moon is tilted towards Earth around an axis defined by the librations
	in latitude and longitude. The limb location that is titled most
	towards Earth is indicated on the image by a small dot.

	Any of the values in the lower portion may be used for plotting,
	listing and solving in the usual way as described in the Help entries
	for these Control options. The values are always current when used in
	this way, even if the main Moon view is closed. For faster looping,
	close the main Moon display to prevent it from being redrawn each time.

@Moon - scale

Scale options:

    This pulldown menu presents a list of factors by which the lunar
    image may be scaled.  The image is presented in a scrolled window for
    panning if it is larger than the overall window.

    The initial scale factor may be controlled by setting exactly one of
    the X resources XEphem*Moon*Scale1X, 2X, 3X or 6x to True. See the sample
    XEphem resource file, XEphem.ad, for an example.

@Mars
+Mars - intro
+Mars - mouse
+Mars - control
+Mars - view
+Mars - more info

@Mars - intro
This menu displays an image of Mars as it currently appears from Earth center.
The resolution of the underlying data is one degree in latitude and longitude
on the planet's surface. The orientation is always parallel to the Martian
rotation axis. The NSEW markings are directions on the celestial sphere.

Also available, via the View->More Info dialog, is the current central meridian
longitude and subearth latitude and a control to introduce blurring as a way to
simulate seeing conditions.

Also available, via the View->Moon Info dialog, is a schematic view of Mars
including front and top views of its two moons, Phobos and Deimos.

@Mars - mouse

Left Button: 

    If the View->More Info dialog is open, then moving the mouse around over
    the image while holding the left button will display the Martian latitude
    and longitude under the cursor location.

Right Button:

    Pressing the right button while over the planet will present a popup with
    which you may reposition the view so the given location is centered. This
    will also disable the shadow and the subearth marker until the next
    Update from the Main menu.

@Mars - control

    Print...

	This selection allows printing the current Mars view or saving it to
	a file.

    Close

	This selection will remove the Mars view from the screen. If it is
	open it will also remove the More Info dialog.

@Mars - view

    Feature labels:

	This sets whether a few Martian features are labeled on the image. The
	features come from a file named "auxil/mars_db" which in turn is
	in the file named by the X resource XEphem.ShareDir.

	The font used for all Mars view labels is specified by the X resource
	XEphem.viewsFont.

    Flip T/B:

	This sets whether the image is flipped top-to-bottom.

    Flip L/R:

	This sets whether the image is flipped left-to-right.

    Grid:

	This sets whether a coordinate grid is drawn over the image. Each
	line is spaced at an interval of 15 degrees. Also, unless the image
	has been repositioned by hand, an X marks the center of the image, that
	is, the subearth location.

    Live Dragging:

	This toggle button selects whether the graphics are redrawn in
	real time as the various scale controls are being slid, or whether the
	graphics are not redrawn until the mouse is released. The decision
	depends on the speed of the computer, display and data bandwidth.
	If the system is fast enough, turning this on can produce dramatic
	results, especially in Spherical display mode. On slower machines,
	it can still be entertaining if the next option is turned on...

    Coarse+Faster:

        When this toggle is on the display is drawn with less resolution but
	somewhat faster.

    More info...:

	This brings up a separate dialog with additional Mars information and
	control capabilities. Please see the help from that dialog for
	more information.

@Mars - more info

    The top portion of this dialog reports the location of the cursor as it
    is moved over the image, if the left button is pressed.

    The lower portion of this dialog shows the Martian latitude and
    longitude which currently face the Earth. These values are computed
    each time an Update is performed from the Main Menu.

    Also provided is a scale by which you may set the size of your local
    seeing disk. The image will be blurred to roughly simulate the
    resolution under those conditions. The computing time will increase
    with larger seeing values.

    For browsing purposes, the values may be changed as desired. Adjust any
    or all scales, then press Apply to put the changes into effect. Forcing
    changes in this way will also temporarily disable the shadow. At the time
    of the next Update, the correct current values and the shadow will be
    reinstated. The Apply button is made insensitive if the scale values are
    correct for the current time; the button becomes sensitive only when the
    scales have been moved manually.

    The values in the lower portion may be used for plotting, listing and
    solving in the usual way as described in the Help entries for these
    Control options from the Main menu. The values are always current when
    used in this way, even if the main Mars view is closed. For faster
    looping, close the main Mars display to prevent it from being redrawn
    each time.

@Mars Moons
+Mars Moons - intro
+Mars Moons - mouse
+Mars Moons - control
+Mars Moons - view

@Mars Moons - intro
This is a schematic view of Mars and its moons at the indicated date and
time. In addition, background sky objects may also be displayed.

The scale at the left controls relative magnification.

The scale at the right controls the dimmest magnitude which will be displayed.
Mars is always displayed. The values range from 20 at the top and 0 at the
bottom. Objects dimmer than the value specified are not shown. This scale may
be initialized via the X resource XEphem*Mars*LimMag.value.

Nominal celestial directions are indicated at the top and right edges.

Moons are displayed only if they are geometrically visible. Use the top
view to see whether they are also in sun light.

@Mars Moons - mouse
Mouse functions:

The mouse may be used to identify any object in the Mars view. Position
the cursor near the object of interest and select the right mouse button. A
popup menu will appear with the objects name, current location and magnitude.

@Mars Moons - control
Control options:

    Setup Field Stars...

	This selection activates the Field Star setup dialog. For more 
	information about this facility, see the Help for the Field Star
	dialog itself.

    Telescope command:

	This option causes the location of Mars to be sent to a fifo. The
	fifo is opened and closed each time this selection is made. The
	intent is for the fifo to be connected to a telescope control process.

	This mechanism is the same as that provided by the Telescope 
	facility within the Sky view. Please refer to its help for more
	details.

    Movie Demo:

	This option will set up the Main menu time step controls for a 15
	minute step size and start a loop which dramatically displays the
	motions of the moons as they orbit Mars. This selection automatically
	disables the View->Sky Background selection to insure reasonable speed.
	Push the button again to stop the movie.

    Close:

	This removes the Mars moon display, and the additional information
	dialog if present, from the screen.

@Mars Moons - view
View Options:

    Top view:

	Selects whether to also display another dialog, looking down on
	the Mars system from above the N celestial pole. This dialog will
	tend to remain aligned above the main view when either is resized.
	Moons are displayed only if they are in sun light.

    Sky background:

	Selects whether to also show objects within the current field of view
	that are in the XEphem database memory or available from the Field Star
	facility. The size of the object is determined by the limiting
	magnitude as specified by the scale at the right. Objects are drawn
	using the same symbols as used by the Sky view. While this option is
	on, XEphem will continue to retrieve field stars as required.

    Bright moons:

	If this option is in effect, then the diameter of all moons will be
	increased by 3 pixels. This option also insures that even those moons
	which are dimmer than the limiting magnitude, as specified by the scale
	to the right, will be drawn with a circle of diameter 3 pixels.

    Tags:

	Search whether to show the Roman numeral designation beneath each moon
	and a 1 arc-minute scale calibration line.

    Flip T/B:
    Flip L/R:

	These allow the scene to be flipped vertically and horizontally, 
	respectively.

    More info...

	This button brings up a separate dialog which contains quantitative
	information about Mars's moons. All values may be used in plotting,
	listing and solving.

	The E and S columns are 1 if the moon is visible from the Earth and
	Sun, respectively.
	
	The locations of the moons are given in two coordinate systems. The
	first three columns are the displacements of the moons in Mars
	radii with respect to the celestial plane. The next two columns
	give the RA and Dec location of the moons in the current epoch (as 
	specified on the Main menu).

@Earth
+Earth - intro
+Earth - control
+Earth - view
+Earth - object
+Earth - mouse
+Earth - misc

@Earth - intro
This view displays simple maps of the Earth with continent outlines.  The
controls available from the menu bar across the top allow additional
information or views to be drawn. The scales along the bottom and right edges
display, and may be used to control, the current center location.

Any of ObjX, Y or Z from the XEphem database may be displayed on the map.
The subobject location of the object is marked with a bulls eye. The concentric
circles indicate the locus of points at which the object appears to be 0, 30,
and 60 degrees above the local horizon.

The location defined in the Main menu is marked on the map with a plus (+).

If a solar eclipse it occurring any place on the Earth a small X will mark the
location of central totality. Try July 11, 1991 around 18:00 UT or May 10, 1994
around 16:00 UT.

@Earth - control
Control options:

    Print...

	This selection allows printing the current Earth view or saving it to
	a file.

    Set Main:

        This sets the Latitude and Longitude of the Main menu to that of
	the current position of the Earth view. This also causes all other
	information and views to be updated to reflect the new location.

    Set From Main:

        This sets the Earth view position to that of the Main menu.

    Movie Demo:

        This sets up an automatic display movie of the Earth. This is
	done by setting the N Steps entry in the Main menu to a large value,
	setting the Step to one half hour and starting XEphem looping. The
	movie can be stopped by selecting this option again or by selecting
	Stop from the Main menu.

    Close:

        This causes both the Earth view and the extra statistics dialog to
	be closed.

@Earth - view
View options:

    Cylindrical
    Spherical
    Weather map

	These radio buttons select from several possible Earth projections.

	Cylindrical: Displays the entire Earth surface projected onto
	a cylinder. Primary advantage is the entire surface is visible at
	once. Particularly good for plotting satellite ground tracks.
	Major detraction is distortion near the poles.

	Spherical: Displays the Earth as it would really appear from space.
	The primary advantage is the sense of reality and lack of distortion.

	Weather map: Displays a global montage of satellite cloud imagery,
	ice, sea and land temperatures, courtesy Space Science and Engineering
	Center at the University of Wisconsin. The image is a gif file
	retrieved from http://www.ssec.wisc.edu/data/comp/latest_cmoll.gif.
	It is updated once every six hours. All other graphical features of
	the Earth view remain available as overlays to this image. Primary
	advantage is ease in determining whether weather will effect
	visibility of a satellite pass. If you have trouble accessing the
	image directly from XEphem, the program will also use the file
	/tmp/latest_cmoll.gif if it exists.

	The preferred width-to-height ratio for the cylindrical projection is
	3.14:1. This ratio is enforced each time this projection is selected,
	based on maintaining the total window area of the current projection
	at the time of the change. Similarly, the spherical projection
	resizes to become a square, again maintaining the same area. The
	weather map forces itself to become 640x480 pixels. After any
	projection is selected, the window size may be directly manipulated
	manually from then on as desired.

    Reload map

	This button is only present when the Weather map projection is
	enabled. Pressing it will cause a fresh weather map to be
	retrieved.

    Grid:

        This toggles showing grids lines every 15 degrees in latitude and
	longitude.

    Sites:

        This toggles whether a tiny square will be drawn at each location found
	in a file of site names. The resource XEphem.SITEFILE specifies this
	file name. By default, it is "aux/xephem_sites". The sample file
	includes a description of the format.

    Sunlight:

        This toggles whether the portion of the earth's surface currently in
	sunlight is highlighted in some fashion. When using the Weather map
	projection, the map is darkened where the sun is currently down, and
	only cloud cover and continent outlines are shown.

    Live dragging:

	This toggles whether the display graphics are updated immediately
	as the sliders are moved, or whether graphics are only drawn after
	the sliders are released. Also, if this option is on, moving the mouse
	while holding down the middle button will cause the display to 
	rotate about the pole when moved left-and-right or about a horizontal
	line centered on the window when moved up-and-down. If your system
	is sufficiently fast, the effect in quite dramatic.

    Coarse+Faster:

        When this toggle is on the display is drawn with less resolution but
	somewhat faster.

    More Info...:

        This toggles whether a separate dialog box is displayed which contains
	quantitative information about the currently displayed objects as
	follows.

	The sub latitude and longitude of the object is always displayed. If
	the object is an Earth satellite, then additional information is
	displayed. The Range and Range Rate values are always with respect to
	the location defined in the Main menu. These values may be used for
	plotting, solving and listing in the usual way (see the help items
	for these features). While looping with Pause set to 0, only the
	graphical display is updated (though numeric information is always
	updated internally each step).

@Earth - object
Object options:

    Create Trail...

        This button will bring up a dialog to set up making a trail of the
	current object as it travels from its current position. Each trail time
	is drawn connected with a solid line with each point indicated with a
	small tick mark. The time stamps shown with the trail, if any, are
	always in UTC.  Only one trail is supported at a time. For the trail to
	be visible, the Show Trail option must be on.

	Creating a new trail will delete the old one. The trail will also be
	deleted if the current object is changed, or an Update occurs from
	the Main menu while the Show Trail option is off.
	
	See the Help from the trail setup dialog itself for more details on how
	it operates.

    Track Object:

        The direction of the map may be controlled manually or be set
	to track the current object, depending on this toggle button. When the
	toggle is activated, the Earth view will always be reoriented such that
	the center of the map is located at the the subobject point. When the
	toggle is off, then the Earth view will remain fixed unless changed
	manually. Tracking will automatically be turned off if the orientation
	is changed manually in any way, i.e., via the scales, setting from
	Main, or the right mouse button popup Point option.

    Show Object:

        This toggles whether the object is shown on the map at all. If it
	is visible, the object is drawn with a bulls eye pattern. Each circle
	of the bulls eye indicates the locus of points where the object 
	appears in the sky 0, 30, 60 and 90 degrees down from the zenith.

    Show Trail:

	This toggles whether a trail, if currently defined, is displayed. The
	trail may be turned on and off as desired without loss but the trail
	is permanently deleted at the next Update from the Main menu if
	this option is off.

    <current object name>:

        At any one time one object is current. The object is chosen using the
	cascade button at the bottom of this control.  Selecting this button
	will bring up a list of the planets and the three user objects, ObjX,
	Y or Z, if defined.  The name of the current object is always shown on
	the cascade button label.

@Earth - mouse
Mouse functions:

    Left button:

	As long as the left mouse button is depressed and the pointer is over
	the Earth, the local mean time, local sidereal time, latitude and
	longitude of the location will be displayed in the corners of the view.

    Middle button:

	If View->Live dragging is On then while the middle button is depressed
	and located over the Earth map, the cursor is changed to a fleur
	pattern. Moving the mouse left and right is like moving the scale at
	the bottom; moving it up and down is like moving scale at the right.
	This provides a simple method to pan the display.

    Right button:

	If the right mouse button is depressed while over the Earth, a popup
	appears with information related to the location under the cursor.
	If the location is near a site, information is presented with respect
	to that site and the current location of the object. If the location is
	far from any site, information is presented for the latitude and
	longitude of the location under the cursor and the current location
	of the object. If the location is near the current or trailed location
	of the object, information is presented with respect to the location
	under the cursor and for the object at the time of the trail mark.

	In all cases, there will also be a button labeled Point that, if
	activated, will center the orientation on the selected location.

@Earth - misc
Additional Notes:

All computations for Earth satellites are based on the code in the "Orbit"
program by Robert W. Berger, v3.9. This code was used as-is and produces the
exact same output as that program. This means, however, that it is not
integrated particularly tightly with the rest of XEphem. For example, its
computations use a different model for Earth flattening and for refraction.
These and other differences can lead to modest inconsistencies of a few
degrees.
@Sky View
+Sky View - intro
+Sky View - control
+Sky View - locate
+Sky View - ops
+Sky View - filter
+Sky View - telescope
+Sky View - history
+Sky View - mouse
+Sky View - trails
+Sky View - scales
+Sky View - misc

@Sky View - intro
This menu presents a graphical view of the sky showing each object currently
loaded in the XEphem database. There are several format and control options and
a subset of the database objects may be selected subject to filtering by type
and magnitude range.

Note that while looping with Pause set to 0 the display is not updated (though
all information is always updated internally each step). Thus, creating plots
other procedures that use many time increments run much more quickly
if the Sky View is unmanaged or with Pause set to 0.

The dominant center area is the sky display of objects. It displays each object
that meets the brightness and type selection filter criteria. The left and
right mouse buttons can be used inside this area for additional functionality.

@Sky View - mouse
Mouse operations:

Left button:
    While the left mouse button is depressed a variety of data regarding
    the cursor location are displayed in the upper corners. These include
    the RA, Dec and Hour angle equatorial coordinates; Alt, Az and Zenith
    distance horizon coordinates; the great-circle angular separation between
    the point at which the cursor was located when the left button was first
    depressed and its current location; constellation name; and the volume and
    page number in the Uranometria and Millennium star catalogs.

    This facility may be turned on permanently (so that the left button need
    not be depressed) by selecting "Live report" in the Options list. In this
    case, pressing the left button will reset the origin for the separation.

    NOTE: The numbers are derived directly from the screen location and
    know nothing of the displayed objects. Thus, they neglect parallax (i.e.,
    assume everything is at infinity).

    If the "Fast Zoom" option dialog is up, the left mouse button also
    draws an area of interest. See the discussion for Help->On Control
    for more details.

Middle button:
    While the middle button is depressed, the cursor is changed to a fleur
    pattern. Moving the mouse left and right is like moving the scale at
    the bottom; moving it up and down is like moving scale at the right.
    This provides a simple method to pan the display.

    If the "Live dragging" option is turned on, the panning occurs
    immediately. If this is painfully slow on your system then turn this
    off so the screen is only redrawn one time when the button is released.

    This feature is disabled while displaying an image in order to make it
    more difficult to accidently loose the image.

Right button:
    If the right button is depressed then a popup will appear. The popup
    contains information and controls depending on whether the cursor was near
    an object.

    If the cursor was near a visible object data is shown which are exactly the
    same as that which is available in the Data Table menu; see its Help for
    more information. If a trailed object is selected, the data will be
    as it was at the time the position was created.

    If the cursor was not near an object, the location of the cursor is shown.

    In addition, the popup offers several control operations, as follows. Those
    options which pertain to a particular object are only presented if the
    cursor was depressed near an object.

        Center:

	    This will change the display orientation to place the given object
	    or location at the center of the field of view.

        Center + Zoom ->

	    This will change the display orientation to place the given object
	    (or location) at the center of the field of view and, at the same
	    time, zoom in or out the amount selected in the pullright cascade
	    menu.

	Place eyepiece:

	    This will cause an eyepiece symbol to be drawn centered under the
	    mouse location. The eyepiece will be as defined in the Eyepiece
	    Setup dialog, available via Control->Eyepieces. The color of the
	    eyepiece will be as defined in the XEphem.SkyEyePColor resource.

	Set telescope

	    This will cause the coordinates of the cursor to be sent to a fifo,
	    which is typically connected to a telescope control process. The
	    command is not issued if the coordinates are below the horizon.
	    This button is only present if the "Enable Telescope Control"
	    toggle button is active in the Telescope pulldown menu, described
	    below.

	(Re)Load Field Stars:

	    This will delete any existing Sky view field stars and attempt to
	    read into memory and display all field stars within the current
	    field of view. This option is only available if the View->Field
	    Stars option is active.
	    
	    See the Help from the Field Star setup dialog for more information.

	Assign ->
	    to ObjX
	    to ObjY
	    to ObjZ

	    This cascade allows you to assign the given object to become ObjX,
	    Y or Z, as desired. This will also cause all other views which are
	    currently making use of this object to be updated and the object
	    will be added to and selected by the Data table. Also, since this
	    makes the object one of the User-Defined objects it will now appear
	    directly in the Sky View->Objects pulldown menu.

	Show in Data Table:

	    This option is only offered when the object chosen under the cursor
	    is a planet, the Sun or the Moon. Selecting this option forces the
	    object to be enabled in the Data Table.

        Persistent Label ->
	    on Left
	    on Right

	    This cascade will toggle whether a label is drawn on the left or
	    right side of the current object. The label will consist of the
	    name and/or the magnitude, depending on which options are
	    selected in the SkyView->Options Labeling section. To turn off
	    persistency, toggle the direction button back off.

	    Persistent labels are always on, that is, they are not subject to
	    magnitude limits or object type filtering.
	    
	    Note this option is maintained separately for trailed objects and
	    for the untrailed objects; that is, you have independent control
	    over labeling for a trailed object and its currently displayed
	    object since the latter also always appears in the trailed list.
	    This can be somewhat confusing for trails which begin "Now" since,
	    in effect, the first item is drawn twice (once just because it is
	    an object like any other, and again as a member of the set of
	    trail history points).

        Track:

	    This will toggle object tracking for this object. If a trail
	    object is chosen, the tracking will apply to the current position
	    of the object.  See the discussion for the "Tracking" toggle button
	    for more details. 

	Trail:

	    This toggle is only present if the selected object has a trail
	    defined. If it has a trail, the toggle state indicates whether
	    the trail is being displayed. Note that turning off a trail does
	    not actually discard the trail until the next Update occurs from
	    the Main menu.

        Create Trail (or Change Trail) ...

	    This pushbutton will bring up a dialog from which a trail may be
	    defined, computed and displayed. The button is labeled "Change
	    Trail" if the selected object already has a defined trail. Only one
	    trail per object is supported.

@Sky View - control
Control options:

    List...

	This selection brings up a dialog that allows saving the objects
	currently displayed in the Sky View to a file in either of two
	formats. It has its own Help.

    Print...

	This selection allows printing the current Sky view or saving it to
	a file. If an image is currently being displayed, it will also be
	part of the print image. It has its own Help.

    Filter...

	This selection allows selecting the types and magnitude ranges of
	objects to display. This dialog has its own Help.

    Image...

	This selection brings up a dialog which allows a FITS file or a
	remote DSS image to be displayed within the Sky View. See the Help in
	that dialog for complete information.

    Options...

    	This selection brings up a dialog with several choices effecting
	the way the scene is drawn. It has its own Help.

    Field Stars...

	This selection activates the Field Star setup dialog. For more 
	information about this facility, see the Help for the Field Star
	dialog itself.

    Eyepieces...

    	This selection brings up a dialog which allows you to specify the
	shape, size and style of the next eyepiece to be created. It also
	allows all eyepieces to be deleted. Whether eyepieces are shown
	at all is controlled by the Control->Options->Eyepieces option.

    Fast Zoom...

	This selection toggles a dialog which controls a way to quickly zoom
	in and out using the left mouse button. When the dialog is up, the
	left button may be used to draw an area of interest. Once this
	area is defined the buttons "Zoom in" and "Zoom out" will become
	available.
	
	Pressing "Zoom in" will cause the selected area to be centered in the
	window and the field of view set to the larger dimension of the area.
	Pressing "Zoom out" will cause the entire contents of the current Sky
	view window to be shrunk to the size of this area and centered on the
	area. After zooming in either direction, "Undo" will become available.
	Pressing this will restore the display to its previous size and
	position.

	These actions are performed in the same way as if the sliding scales
	had been used. Thus, the selected area may be rotated after the
	zoom due to a change in perspective in the map projection.

	This feature is disabled while displaying an image.

	This feature is experimental and still a little qwirky. It works best
	if the Zoom dialog is placed well away from the Sky View.

    Tracking:

	Tracking refers to "object tracking" and means that the pointing
	direction of the display will automatically be changed each time an
	Update occurs from the Main menu such that the tracked object will
	remain centered on the display. The object to be tracked is selected by
	using the "Track" option in its popup menu, as described elsewhere.

	When this toggle button is sensitive and pushed-in it means that
	tracking is active for one object. The tracked object will be marked
	with an "X" on the display after each Update. If this toggle button is
	selected while it is sensitive, it turns tracking off. This is a
	convenient alternate method to turn off object tracking without having
	to find the exact object being tracked and use its popup Track control.

	When this toggle button is insensitive and popped-out, it means that
	object tracking is not active; it does nothing when selected while
	insensitive.

    Close:

	This causes the Sky view and all supporting dialogs to go away.

@Sky View - ops
Options:

Orientation:

    Alt-Az:
    RA-Dec:

	This radio box selects whether the display coordinate system is
	Altitude-Azimuth or Right Ascension-Declination.  Whenever the Alt-Az
	system is used, nothing is displayed that would lie below the current
	horizon (except trails; see note under Sky).

	NOTE: While in Alt/Az mode the display is always topocentric; while in
	RA/Dec mode the display coordinate system depends on the Equatorial
	preference and Epoch settings in the Main menu.


Grid Control

	This group of controls allows you to specify the details of an overlay
	coordinate grid. "On" toggles the grid on or off.
	
	If "Auto" is on, then the size of the grid steps will be determined
	automatically and shown in the text fields beneath; if it is off, then
	step sizes are determined from the values in the text fields. Typing
	into either field then pressing Enter will also turn off Auto and
	immediately display the grid with the new step size.

	"Alt-Az" and "RA-Dec" select in which coordinate system the grid
	will be drawn.
	
	"Full" and "Edge" select whether the grid is drawn all the way across
	the Sky view, or just as small markers at the edges. This feature
	should be considered a work-in-progress.

View Options

    Just dots:

	This toggle effects how stars are shown.

	When the toggle is pushed in, all stars are displayed simply as dots
	of various sizes.

	When the toggle is released, each type of star is displayed with a
	unique schematic symbol. These symbols may be reviewed from the Filter
	menu.

	In either case, the diameter of the symbol shown is the larger of the
	object's actual size at the current window scale (if a size is
	specified in the database entry for the object) or a size that is
	proportional to the difference between the object's magnitude and the
	current faintest magnitude setting.
	
	This means that, at suitably small fields of view, the Sun and moon are
	shown to scale.  This is ideal for watching solar eclipses or
	occultations. For example, watch the solar eclipse over Hawaii by
	setting the date to July 11, 1991, time to 17:00 UTC, location to
	Latitude 19:50 Longitude 155:28, and starting a loop with a Step
	of 1:00 and Pause 1. Be sure to use the Alt-Az display mode to get
	topocentric positions or set the Main Preferences for Equatorial 
	to Topocentric. It is also very handy to set to Track either the sun or
	the moon (whichever you wish to be centered during the movie).

	Also, the color of the symbol is displayed according to the value
	established for each basic type in the X resource database. See the
	sample XEphem.ad resource file for examples of setting object colors.

    Flip L/R and Flip T/B:

	These toggle whether the display is shown with a flip in the left/right
	or the top/bottom directions, respectively.

    Equator:

	This toggle selects whether a red 1:2 dotted line is shown along the
	Earth's equator projected onto the celestial sphere.

    Ecliptic:

	This toggle selects whether a red 1:3 dotted line is shown along the
	ecliptic. The ecliptic is the plane of the Earth's orbit or, as seen
	from Earth, the path of the Sun and the approximate path of the
	planets across the sky. The anti-solar point is also marked with a
	small open circle.

    Galactic:

	This toggle selects whether a red 1:4 dotted line is shown along the
	galactic equator and small +'s are placed at the galactic poles.

    Eyepieces:

	This toggle selects whether eyepieces are drawn on the Sky view, if 
	and when any are placed. Eyepieces are placed on the Sky view by using
	the "Place eyepiece" control in the popup menu activated by the right
	mouse button. The shape and style of eyepieces is defined in the
	Control->Eyepieces dialog. Eyepieces are only drawn if they fit
	entirely within the Sky View. This selection is automatically
	activated when an eyepiece is placed.

    Mag scale:

    	This toggles whether to display the chart in the lower left corner
	of the correspondence between dot size and near-sky object magnitude.
	This toggle is automatically deactivated (that is, the scale is turned
	off) when an image is first displayed.

    Auto mag:

	When this toggle is active, the faintest magnitudes and dot step
	size will automatically be set to something reasonable based on
	the field of view. The exact relationship is controlled by the X
	resource XEphem.AutoMag; see the comments in XEphem.ad for full
	details.

    Field Stars:

	This toggles whether field stars are shown. If no field stars are
	currently loaded and this option is being turned on this will also load
	field stars for the current view and at least as bright as the current
	limiting magnitude. Field stars may also be loaded at any time via the
	option "Load Field Stars" available in the Sky view popup menu,
	although that option is only presented if this option is itself turned
	on first.

	This selection turns itself off if any difficulties ever arise in
	retrieving field stars.

    Live dragging:

	This toggle button selects whether the graphics are redrawn in
	real time as the various scale controls are being slid, or whether the
	graphics are not redrawn until the mouse is released. The decision
	depends on the speed of the computer, display and data bandwidth.
	If the system is fast enough, turning this on can produce dramatic
	results.

    Live report:

	This toggles whether cursor coordinates are displayed even when no
	mouse button is pressed.

    Horizon map:

	This toggles whether to display a map of the local horizon. The map
	is contained in a file named "xephem_hzn". The file may reside in
	either of the two directories named by the XEphem.PrivateDir and
	XEphem.ShareDir resources, searched in that order. Each line should
	contain exactly two numbers separated by spaces. The first number
	is the azimuth, expressed as degrees East of North. The second number 
	is degrees above horizontal. Lines of any other form are ignored.

Constellation

    Boundaries:

	This toggle controls whether constellation boundaries are shown.

    Figures:

	This toggle controls whether constellation figures are shown.

    Names:

	This toggle controls whether constellation names are shown. The names
	will be centered within the extent of the constellation figure.


Labeling

	This portion controls labeling options. The three sliders select how
	many of the brightest objects to label in each of three categories.
	The label itself may consist of the Name or Magnitude or both,
	depending on which of the two buttons are depressed at the right of
	each scale. If Names and Magnitudes are both enabled then the
	magnitudes are shown to the right of the name surrounded by
	parentheses. Magnitudes are shown to the nearest 1/10 with the
	decimal point removed.
	
	Other labeling issues:

	Trailed entries do not contribute towards the brightest count.

	The Persistent Label option for individual objects is never disabled. 

	If the font named by the X resource XEphem.viewsGreekFont can be
	loaded, then names which begin with a constellation abbreviation
	followed by a Greek Bayer designation are shown using the actual
	Greek font character and the constellation name is suppressed.

@Sky View - filter
Filter controls:

	This dialog lists all classes of objects supported by XEphem. Using the
	Filter menu, one may select which classes of objects are displayed on
	the Sky view menu.

	For reference, the Filter menu also contains the schematic symbol for
	each type of object, and its code when used in a database file. The
	symbol displayed for each class of object is that which will be used to
	represent the object in the Sky view, unless "Just dots" is selected.

	Three scales near the bottom of the Filter menu control the faintest
	magnitude limit to be displayed for Stars, Solar system and Deep sky
	objects. Note that trails and persistent labels are not subject to
	the faint magnitude limits.
	
	The fourth scale in the lower left selects the number of magnitudes
	binned in each dot size.

	Several push buttons appear across the bottom of the Filter menu which
	have the obvious effects: Selecting "Apply" updates the sky display
	according to the desired selection. Selecting "Ok" does the same thing
	but also closes the filter menu. "All" turns on all types. "Toggle"
	toggles each filter type.

@Sky View - locate
Locate controls:

    This selection will pop up a list of the basic objects and the currently
    defined user objects, if any. Selecting an entry will place a cross-hair
    over the object. If the object is not within the field of view the object
    will first be centered. If Alt-Az mode is currently active and the object
    is below the horizon the view will not be changed and a dialog will appear
    with a message suggesting the mode first be changed to RA-Dec.

    To aim the Sky View at any other object in the XEphem database, please use
    the Search menu accessible from the Main menu.

@Sky View - telescope
Telescope controls:

    Enable Telescope Marker:

	This toggle button lets XEphem listen for and mark sky coordinates
	from a fifo. This facility is intended to mark the current location
	of a telescope. Each time a set of coordinates is received a circle-x
	will be drawn on the Sky View at those coordinates, based on the
	current XEphem time. The Sky View will be recentered if necessary to
	keep the marker visible. After approximately every tenth marker is
	drawn all old markers will be erased, unless the fifo is getting very
	full (erasing takes longer than drawing so it is postponed in hopes
	of catching up).

	Note the current XEphem time is _not_ updated; it is expected that the
	usual looping facility will be used for that. Do not loop too quickly
	or XEphem will get very far behind and you may lose control until
	the fifo writer is stopped.

	The fifo is opened and closed each time this toggle is changed. The
	name of the fifo is "fifos/xephem_in_fifo" which in turn is in the
	directory named by the X resource XEphem.ShareDir.
	
	The format of the command expected is as follows:

          RA:XX.XXXXXX Dec:XX.XXXXXX Epoch:XXXXX.XXX

	The RA/Dec values must be astrometric, precessed to the indicated
	epoch, geocentric or topocenter to match the current Equatorial
	Preference, and be specified in radians. Epoch is in decimal years.
	Southern declination should be negative.

    Enable Telescope Control:

	If this toggle button is pushed in then XEphem can send the current
	mouse coordinates to a remote process via a fifo. A pushbutton will
	be added to the popup menu (activated when the right button is
	depressed) called "Set telescope". The fifo is opened and closed each
	time this selection is made. The intended purpose of this is to connect
	to a telescope control process.

	The name of the fifo is "fifos/xephem_loc_fifo" which in turn is in
	the directory named by the X resource XEphem.ShareDir.

	The format of the record sent to the fifo is the same as that used
	in the .edb files. In addition, the planets are supported with a
	format consisting of the name of the planet with a type of P, as

	  Mars,P

@Sky View - history
History controls;

The Sky View history facility maintains a list of up to 10 basic viewing
conditions. Any entry in the list may then be quickly reinstated by selecting
it from the list provided in the pulldown menu. The list is initialized with
one entry which describes the conditions of the Sky View as it first appears.

    Add:

	This button adds the current display mode, RA (or Azimuth), Dec (or
	Altitude) and Field-of-View to the Sky View history list.

    Delete All:

	This button removes all of the currently defined history items, after
	asking for a confirmation. This button is sensitive only if there
	is currently at least one entry in the list.

    Delete One:

	To delete one item from the history list, push this button once to turn
	on delete mode then pull down the History menu again and select the
	item to delete.

	Pushing this button again while in delete mode turns off delete mode
	and nothing is deleted.  Using any other feature of the History menu
	also turns off delete mode.

	While the menu is pulled down for deletion, this button and the history
	list are shown in reverse colors to emphasize that selecting an item
	from the history list will delete it, not reinstate it. This button is
	sensitive only if there is currently at least one entry in the list.

    The items in the bottom portion of the pulldown menu, if any, are the
    history of conditions. The information listed for each is which display
    mode (Alt-Az or RA-Dec), the RA (or Altitude), Dec (or Azimuth) and the
    field of view. The values are printed as they appear in the corresponding
    scale controls. To return Sky view to a particular history entry, either
    select it from the list with the mouse or type the accelerator indicted to
    the right of the entry.

@Sky View - scales
Scale controls:

    FOV:

	The vertical scale on the left side controls the horizontal field of
	view of the display. This can be varied in 5 minute increments from
	0:05 through 180 degrees.

    Alt / Dec:

	The vertical scale on the right side sets either the center altitude
	or declination, depending on the display mode. In Alt-Az mode this
	sets altitude and can be varied from 0 to 90 degrees. In RA-Dec
	mode this sets Declination and can be varied from -90 to +90. In
	either mode, the value increments in steps of 5 minutes.

    Az / RA:

	The horizontal scale across the bottom sets either the center azimuth
	or RA, depending on the display mode. In Alt-Az mode this sets azimuth
	and can be varied from 0 to 359:55 degrees in steps of 5 minutes.
	In RA-Dec mode this sets Right Ascension and can be varied from 0 to
	23:59:40 hours, in steps of 20 seconds.

@Sky View - misc

    Date/Time Stamp:

	The date and time for which the display is valid is always shown
	beneath the sky view.

@Sky View - trails
Trails:

The location of any object on the Sky view may be computed at regular intervals
and displayed by setting up a sky trail. Use the Sky View Trails Setup dialog
to select the interval, number of steps, formatting details and which steps you
would like annotated. The trail setup dialog is accessed from the popup which
appears when the third mouse button is activated when the cursor is near an
object. Any number of objects may have trails.

The trail is created by computing the location of the object at several
intervals.  Each new location will be drawn with a tick mark and connected
with a line to its previous location. The trails remain correct if the display
coordinate system is changed. Trails may be turned on or off without loss of
trail information.  Trail information is discarded if a trail is turned off
when a new Main menu Update is performed.  If any point on a trail is selected
using the third mouse button the information displayed is as per the object at
that time.  The times displayed next to trailed objects are always in UTC.
Trail information is not subject to the constraints in the Control->Filter
dialog, i.e., trailed objects are always shown.

Note that in Alt-Az mode, if an object goes below the horizon the line segments
and tick marks of the trail are displayed but they are not pickable and names
are not drawn. Also, while each trailed location is accurately marked on the
display, because of diurnal motion these trails are not useful for comparison
with the background of fixed stars. Use the RA-Dec mode for that. This is so
important (and easily overlooked) that you will see a reminder notice to
this effect the first (and only) time you create and display a trail in Alt-Az
mode.

Finally, be sure to recompute any trails if you change any of the preferences
or circumstances in the Main menu.

@Sky View - list

This dialog allows saving the objects currently displayed in the Sky View to
a file in either of two formats.

The text format file begins with a two line header. The first line describes
the current circumstances of the Sky View. The second line consists of column
headers. Following these two lines, there is one line per object.  

The .edb format saves the objects in the XEphem catalog format.  This is
handy for using the XEphem filtering options to create custom catalogs.

Enter the desired file name in the space provided for each. You may precede
the file name with "~/" to refer to your home directory.  Press the button to
create the file. If the file does not exist, the file is written without
further ado. If the file already exists, you are first asked whether you wish
to append to the file or overwrite existing contents.

When finished creating the desired file(s), leave by pressing Close.

Note from the author: I am not sure how much work should go into this
feature. If you like this feature but wish you had more control over which
columns are printed, would like the header to be optional, or have other
ideas please feel free to send me your comments:
ecdowney@ClearSkyInstitute.edu.

@Sky FITS
This dialog allows you to read a local FITS file, or access the Digital Sky
Survey, DSS, via the Internet, and display the image in the Sky View where
it can be overlayed with all the features available therein. The image will
remain until the Sky View is repositioned or resized. While an image is in
the Sky View, all coordinates are based on the information in the FITS header.

The Internet connection may be made directly, or via a Proxy or SOCKS server.
These may be configured in the Network setup dialog.

In order to be displayed, the FITS header must either contain the standard
DSS headers or the World Coordinate System fields CTYPE, CROTA, CRPIX, CDELT
and CRVAL, 1 and 2. If the file contains only the former fields, XEphem will
compute and add the corresponding WCS fields automatically. Only 16 bit integer
files (BITPIX 16) are supported.

The DSS is maintained by the Space Telescope Science Institute, STScI, in the
United States or the European Southern Observatory, ESO, research facility in
Germany. The image data from either site is identical, so the decision is
only a matter of your local availability and access speeds.

To access the DSS:

    1) Make sure your live Internet network connection is working.
    2) Select the desired source location using the buttons at the top.
    3) Choose whether to use compression; always turn On if you have gunzip.
    4) The image will be retrieved. The size of the image is currently
       limited to 20 arc minutes. During the network access, the
       Main->File->Progress meter is active to indicate relative progress,
       and a Stop dialog is available to abort the transfer. Running dialogs
       at the same time as the network connection is a bit klunky so please be
       patient. The header of the http server response message is in the
       Main->File->Messages dialog; check here if an error occurs.
    5) If the image is successfully retrieved, it will appear in the Sky View.

To read a local FITS file:

    1) Use the File Selection Box at the bottom to choose the desired file.
    2) If the file is successfully read, the image will appear in the Sky View.

Image controls:

    1) The FITS header is displayed in the scrolling text area at the top.

    2) If the header contains the JD field, or the DATE-OBS with optional UT
       or TIME-OBS fields, then the date of the observation is displayed
       above the header. A button will also come alive which allows setting
       the main XEphem time and date to this value. This is handy when
       checking for asteroids or other moving objects in an image.

    3) Below the header are two plots on one graph. The horizontal axis for
       each plot is the same: the full range of pixel values within
       the image, with lowest on the left. The yellow line is a histogram of
       the number of pixels with each value. The orange line indicates the
       brightness at which each pixel value will be displayed on the screen.

       Pixel values may be mapped to a set of gray colors spanning black to
       white using either of two methods. One is Histogram Equalization,
       which arranges for an equal number of pixels at each level of display
       brightness within the selected range. The other is a power function
       similar to the Gamma factor for CRT compensation. Values of gamma less
       than one emphasize dark pixels, gamma values greater than one
       emphasize only bright pixels. You may directly control the black and
       white limits of either mapping function by dragging the red arrows at
       the top of the diagram, or by using the convenience buttons for making
       predefined changes.

    4) The current image may be saved to disk as a FITS file as named with
       the text field near the center. This is particularly handy if the image
       was retrieved over the net. If "Auto name" enabled, a filename is
       created automatically derived from the RA and Dec of the center of the
       image. In an attempt to preserve any existing directory and filename
       extensions, the filename is constructed between the right-most '/' and
       the right-most '.' characters, if any.  

Once an image is displayed, all graphical features of the Sky View are
available, including drawing and labeling all objects in the XEphem database
and printing.

For example, to label the field stars over an image, follow these steps:

    1) Select the source of field stars, using Control->Setup Field Stars.
    2) Set the faintest magnitude to about 16, using Control->Filter.
    3) Enable Field Stars using View->Field Stars.
    4) Enable Field Star labels using View->Labels->Field Stars.
    5) If the Field Stars view option is already on, remember that fresh field
       stars may be reloaded under a new image at any time using the Load Field
       Stars option in the popup menu available using the right mouse button
       while over an image.

Note that what is meant by "up" and "left" will now depend on the FITS image
headers and may be different from what was in effect before the image was
loaded.

@Solsys
+Solsys - intro
+Solsys - misc
+Solsys - mouse
+Solsys - control
+Solsys - view
+Solsys - objects
@Solsys - intro
This is a graphical representation of the solar system. The Sun is always at
the center of the screen, marked with a small circle.

@Solsys - misc
The three scales at the edges control the position of the observer. The
vertical scale on the left controls the distance from the sun -- you are
closer as the scale is slid further up. The horizontal scale under the view
controls the heliocentric longitude -- think of it as a rotation about the
central axis. The value of the scale is the heliocentric longitude towards
you. The vertical scale on the right controls the heliocentric latitude --
your angle above the ecliptic plane.

Changes to the scales take effect as you drag, unless the View->All Objects
option is on in which case the change does not take effect until you release
the scale.

@Solsys - mouse
Any object may be identified by pointing near it and clicking the right
mouse button. This will bring down a temporary popup menu with additional
information until the button is released. RA and Dec are displayed as of the
time the dot was computed. The RA, Dec and Mag given for the Earth is that of
the Sun.

Several controls may also be present on the popup menu, as follows.

    Persistent Label:
	
	This toggles whether the label for the object is displayed regardless
	of whether the View->Labels option is activated.

    Assign ->
	To ObjX
	To ObjY
	To ObjZ

	This cascade allows you to assign the given object to become ObjX,
	Y or Z, as desired. This will also cause all other views which are
	currently making use of this object to be updated and the object
	will be added to and selected by the Data table.

	Since this makes the object one of the User-Defined objects it will now
	appear directly in the Solar System->Objects pulldown menu.

    Show in Data Table:

	This option is only offered when the object chosen under the cursor
	is a planet, the Sun or the Earth. Selecting this option forces the
	object to be enabled in the Data Table. Both the Sun and the Earth
	actually enable the Sun in the Data Table.

@Solsys - control
Control options:

    Print...

	This selection allows printing the current Solar System view or
	saving it to a file.

    Create Trails...

        This button will bring up a dialog to set up making a trail for each
	planet and user-defined object as they travel from their current
	positions. Each trail time is drawn connected together with a solid
	line with each point indicated with a small dot. The time stamps shown
	with the trails, if any, are always in UTC. For the trail to be
	visible, the Trails option must be activated.

	Only one set of trails is supported at a time. Creating new trails will
	delete the old ones. The trails will also be discarded if a user
	defined object is changed or an Update occurs from the Main menu.

	Only the basic planets and user-defined objects, if defined, are
	trailed. The other solar system objects, if any, are always shown in
	their current positions.
	
	See the Help from the trail setup dialog itself for more details on how
	it operates.

    Movie Demo:

	This push button will set the Main menu Step to 5 days and start
	looping with a very large number of steps. Press the button again or
	use the Main menu Stop control to stop the movie.

    Live Dragging:

	This toggle button selects whether the graphics are redrawn in
	real time as the various scale controls are being slid, or whether the
	graphics are not redrawn until the mouse is released. The decision
	depends on the speed of the computer, display and data bandwidth.
	If the system is fast enough, turning this on can produce dramatic
	depth queues for complex solar system views; also try it in Stereo.

    Stereo:

	This toggle button is used to bring up another image of the solar
	system from a slightly displaced vantage point. Adjusting your gaze to
	fuse the two images together will reveal a 3D image. This effect is
	most pronounced if fairly lengthy trails are created and legs are
	enabled. This effect was designed primarily to help visualize the
	orbits of comets.

	At the bottom of the stereo display is a scale to control the amount of
	parallax to introduce. The parallax is only introduced in the plane of
	the ecliptic.  This works well for low latitudes but has the odd effect
	of just moving everything as a whole when viewing from near the poles.
	If you prefer focusing your eyes in front of the screen, move the
	parallax control somewhat to the left; if you prefer to relax your eyes
	and focus at infinity then move the parallax control to the right.

    Close:

	This push button will close both the main Solar system view and the
	Stereo view. If the Solar System view is closed while the Stereo menu
	is on, it will reappear when the Solar System menu is reactivated.

@Solsys - view
View options:


    Trails:

	This toggles whether trails, if currently defined, are displayed for
	the basic planet objects and the three user-defined objects (if any).
	The trails may be turned on and off as desired without loss but the
	trails are permanently discarded at the next Update from the Main menu.

    Ecliptic:

	This toggle button controls the display of a set of circles in the
	ecliptic plane, spaced at regular intervals. The interval between each
	circle is displayed at the upper left of the view.

    Labels:

	This option causes each object's name to appear.

    Basic Legs:

	This toggle button controls whether a line is drawn from each
	planet and any ObjXYZ user objects to the ecliptic. This aids in
	visualizing the 3D location of the objects.

    DB Legs:

	This toggle button controls whether a line is drawn from each
	Database object (other than planets and user ObjXYZ objects) to the
	ecliptic. This aids in visualizing the 3D location of the objects.

@Solsys - objects
Objects:

    The planets and the user-defined objects ObjX, Y and Z, if they are solar
    system objects, may be individually turned on and off, without loss of any
    trail data associated with them, by using the toggle buttons in this
    "Objects" pulldown menu.

    All Basic:

	This pushbutton is a shortcut to turn on all the basic planets and
	user defined objects which are in the solar system.

    Just S+E+ObjXYZ:
	
	This pushbutton is a shortcut to turn on only the Sun, Earth and
	any user-defined objects which are solar system objects. It does not
	effect whether the other database objects at large are displayed.

	For that, use the next control ...

    All DB too:

	This toggles whether _all_ solar system objects in the data base are
	also displayed. This is great when the asteroids database has been
	loaded.

	In expectation of increased drawing time with all these objects, when
	this option is on the scales switch so they only cause an update when
	they are released at their new net position.

	Note: these objects are never trailed. If you want to include one of
	these objects in a trail, first assign it to ObjX, Y or Z.

    Note: Trail data is discarded at the time of the next Update from the Main
    menu, regardless of whether the object is displayed at that time or not.

@DataBase
+Database - intro
+Database - control
+Database - delete
+Database - files
+Database - notes

@Database - intro
This menu allows you to manage the collection of objects that are currently in
memory. These objects form what is referred to as the XEphem database.

The top half of the dialog displays a count of each major type of object in
the database. The counts do not include the planets, sun or moon.

The lower half allows you to browse the directory structure on your system for
database files in XEphem format and read them into memory. By convention, the
names of these files end with .edb.

A database file may be read in and added to the current database by selecting
the file then pressing Append them from the File Selection Box towards the
bottom of the menu. A file may also be appended by double-clicking its name in
the right-hand column. The default file directory is the edb directory and the
default pattern is *.edb.  These values may be changed as desired using the
XEphem.DBdirectory and XEphem.DBpattern X resources; see the sample XEphem.ad
for an example.

The Filter control in the lower right forces the current directory to be
rescanned for all files which match the filter pattern.

XEphem may also read objects from another process via a fifo. Please refer
to the description of this facility under the Controls help category.

@Database - control
Control:

    Open DB Fifo:

	When pressed, this button tells XEphem to listen for database objects
	arriving via a fifo from another process. XEphem attempts to reopen the
	fifo each time the button is pressed.

	The file name of this fifo is "fifos/xephem_db_fifo" which in turn is
	in the directory named by the value of the X resource XEphem.ShareDir.

	All relevant displays are automatically updated when data arrives via
	this fifo. The format of the fifo data is exactly the same as for any
	XEphem database file. Due to the way the fifo data is read and
	processed, it is important that each line be terminated with a newline;
	incomplete last lines can result in loss of information.

    No Dups:

	If this toggle is on then when a new database file is read, objects
	whose name already exists in memory will be silently skipped. This
	option does _not_ check for duplicates among entries within the new
	file itself.

    Close:

	Closes the Data Base dialog.

@Database - delete
Delete:

These controls are used to delete all or some of the objects in memory.

A checkpoint may be set at any time to mark the set of objects currently in
memory. Special features are provided to avoid deleting these marked objects.
Checkpointing is handy when repeatedly adding and deleting highly detailed
lists of objects near a region of interest and yet retaining a broad list of
general objects.

    Set Checkpoint:

	Tag each object currently in memory.

    Clear Checkpoint:

	Clear the tags set on objects in memory.

    Delete to Checkpoint:

	Delete all objects in memory which have not been tagged.

    Delete All:

	After asking for a confirmation, this deletes all objects in the XEphem
	database memory (except the planets, sun and moon).

@Database - files
Follows is the description of the format of an XEphem database file. On an
historical note, this format remains compatible with ephem, the character-based
ancestor of XEphem, to the extent possible.

Note that the "Filter" dialog accessible from the "Sky View" menu also includes
a list of the type codes for each object, for easy reference.

Each object occupies one line in the file. Fields are separated with commas.
Some fields are further subdivided into subfields with vertical bars (|). Lines
beginning with anything other than a-z, A-Z or 0-9 are ignored and may be
used for comments. Objects may be in any order.

Where they appear, all date fields may be in either of two forms:

  1) month/day/year, where day may contain a trailing decimal portion.
	examples: 1/1/1993 and 1/1.234/1993

    NOTE: this is always the format of dates in database files, regardless of
    the current XEphem run time Data format preference setting.

  2) a real-number, such as 1993.123.

The first two fields are always Name and Type. Remaining fields depend on the
form of the object's motion.

The Name field is the object's name. Any number of characters may be present
but only the first 13 are retained as significant.

The Type field always starts with a single letter designating the form of
the object's motion from the following set:

  f: fixed (no proper motion)
  e: heliocentric elliptical orbit
  h: heliocentric hyperbolic orbit
  p: heliocentric parabolic orbit
  E: geocentric elliptical orbit, i.e., Earth satellite

  if "Type" is f (fixed), an object class code may follow in the next subfield:
      A: Cluster of galaxies
      B: Star, binary
      C: Cluster, globular
      D: Star, double
      F: Nebula, diffuse
      G: Galaxy, spiral
      H: Galaxy, spherical
      J: Radio
      K: Nebula, dark
      L: Pulsar
      M: Star, multiple
      N: Nebula, bright
      O: Cluster, open
      P: Nebula, planetary
      Q: Quasar
      R: Supernova remnant
      S: Star
      T: Stellar object
      U: Cluster, with nebulosity
      V: Star, variable

  if class is one of T, B, D, S or V, the spectral class and possibly the
  numerical subclass designation may follow as 1 or 2 characters in the next
  subfield.

  if class is G or H, the size field (described next) may include minor axis
  and position angle as subfields.

  for all fixed objects, the following fields are supported:

       RA, hours
       Declination, degrees
       magnitude
       reference epoch, optional, assumed to be 2000 if absent
       size = angular size, arc seconds, optional. For elliptical objects such
	   as galaxies, this field is considered as the size of the major axis
	   and two additional subfields may be provided: the size of the minor
	   axis, also in arc seconds, and the position angle, in degrees E of N.

For other object types, the remaining fields are defined as follows:

elliptical format (e < 1):
       i = inclination, degrees
       O = longitude of ascending node, degrees
       o = argument of perihelion, degrees
       a = mean distance (aka semi-major axis), AU
       n = mean daily motion, degrees per day (computed from a**3/2 if omitted)
       e = eccentricity,
       M = mean anomaly (i.e., degrees from perihelion),
       E = epoch date (i.e., time of M),
       D = the equinox year (i.e., time of i/O/o).
       g,k or H,G = two fields which define the magnitude model; select which
	   by preceding the first field with a "g" or an "H" (2 parameters)

hyperbolic format (e > 1):
       T = epoch of perihelion
       i = inclination, degrees
       O = longitude of ascending node, degrees
       o = argument of perihelion, degrees
       e = eccentricity,
       q = perihelion distance, AU
       D = the equinox year (i.e., time of i/O/o).
       g,k = two fields which specify the magnitude model
       s = angular size at 1 AU, arc seconds, optional

parabolic format (e == 1):
       T = epoch of perihelion
       i = inclination, degrees
       o = argument of perihelion, degrees
       q = perihelion distance, AU
       O = longitude of ascending node, degrees
       D = the equinox year (i.e., time of i/O/o).
       g,k = magnitude two fields which specify the model
       s = angular size at 1 AU, arc seconds, optional

Earth satellite format:
      Epoch
      inclination, degrees
      RA of ascending node, degrees
      eccentricity, must be < 1
      argument of perigee, degrees
      mean anomaly, degrees
      mean motion, revolutions/day
      orbit decay rate, revolutions/day^2
      integral reference orbit number at Epoch
@Database - notes

The XEphem distribution kit includes several database files that contain more
than 20,000 objects of all types.

In addition, the complete Hubble Guide Star Catalog is available on CDROM and
XEphem can access these directly, via the internet, and make local copies. Also,
the entire Tycho, PPM, USNA A1.0 and SA1.0 catalogs, and virtually the entire
SAO catalogs are accessible in XEphem. For full details, please see the Help
information from the Main->Objects->Field Stars dialog.

XEphem also ships with a few awk and perl scripts which might be helpful for
converting databases in other formats into XEphem format. These scripts are in
the tools/ directory of the XEphem source distribution tree.  
@Object
This dialog allows you to select, inspect and modify any object currently
in memory. It also allows you to control the user defined objects, ObjX,
ObjY and ObjZ.  

XEphem supports three user-defined objects, denoted ObjX, Y and Z. These may
be fixed objects; objects in elliptical, hyperbolic or parabolic heliocentric
orbits; or objects in geocentric elliptical orbits. The ObjX/Y dialog allows
you to define these objects.

XEphem maintains a working copy of these objects for use with the ObjX/Y/Z
menu that is separate from the real ObjX and ObjY and ObjZ. The ObjX/Y/Z menu
always works on these working copies. The working copies and the real
ObjX/Y/Z only interact when using the Ok, Apply and Reset control, as
described shortly.

This dialog is always displaying information from one of these working copies
as indicated by the small radio box in the top center of the menu. The radio
box may also be used to change whether ObjX, Y or Z is being displayed and
manipulated. We will refer to the one selected as the "current working object."

The radio box in the upper left displays the basic type of the current
working object. This can be changed by selecting another of the collection
of toggle buttons.

In the left and center of the menu is an area that lists each field for the
current working object and its present value. The list is adjusted to
correspond to the fields that are associated with the type of the current
working object. These fields may be changed by selecting the button that
contains their value. This will bring up a small text entry dialog. A new
entry may be typed into the dialog box and applied by typing RETURN or
selecting the "Ok" button. The value may be left unchanged by selecting
"Cancel".

Along the right edge of the dialog is a list of each object currently
loaded into the XEphem database. (See the Help for the "Database Load and
Delete" menu for more information on manipulating this data base.) If there are
more than 20 items then a scroll bar may be used to browse through the list.
The entries are sorted in numeric and alphabetic order, ignoring case, for easy
browsing.  If one of these objects is picked, then it is copied to the
current working object.  You may then edit the values for this working object,
if desired, without effecting the original.

Below the list of names is a text field with which you may select an object by
name. Enter a string and type RETURN or press the Search: pushbutton. All
objects in memory will be searched for one with a name that contains the
string. Whitespace and case are ignored. To anchor the string to be at the
beginning of the object's name precede the string with a caret (^). If a match
is found, the list is scrolled so the object is at the top and the object is
copied to the current working object. To select again with the same string,
type RETURN or press the Search: pushbutton again. XEphem beeps if no matches
are found.

When the current working object is as you want it, select "Apply" to copy it
into the real ObjX (or ObjY or Z) used throughout the other functions of
XEphem. "Ok" will do the same thing and also close the dialog.

Selecting "Reset" will load the current working object with a copy of the
real ObjX (or ObjY or Z).

Selecting "Sky Point" will move the center of the field of view on the "Sky
View" menu so that the current working object is centered and a cross-hair
is drawn over the object. This change in pointing direction and marking will
take place even if the object is not in the Sky View type filter or within
the magnitude range. Note that the Sky View display will _not_ be changed if
it is set to Alt-Az mode and the current working object is below the
horizon.

Selecting "Sky Mark" will draw a cross-hair on the Sky View menu at the
location of the current working object but only if it is already within the Sky
View field of view. The Sky View menu is never reaimed with this command.

Selecting "Set Tel" will cause the coordinates of the current object to be
sent to the xephem_loc_fifo fifo, which is typically connected to a telescope
control process. The command is not issued if the object is currently below
the horizon. See the discussion at Sky_View->Help->on_Telescope for
more information.

Follows is a description of each field for the type of the current working
object. To get a description of the fields for other types of objects,
change the type of the current working object and reselect Help.

@Fixed Object
+Object
Fixed objects are characterized by five parameters:

    RA,
    Dec,
    magnitude,
    the reference epoch for the coordinates and
    angular size in arc seconds, optional

Note:

In order to conserve memory usage, XEphem stores the astrometric RA and Dec for
a fixed object only once with each object. These values are always precessed
*in place* to the current display epoch. Thus, you will find that the RA and
Dec displayed for a given object may change if the epoch is changed on the
main menu and the object information is redisplayed here on the ObjX/Y menu.
@Elliptical Object
+Object
Elliptical objects are characterized by 12 parameters: the parameters that
define a heliocentric elliptic orbit and the coefficients for either of two
magnitude models.  These elements are the same ones often listed in the
Astronomical Almanac.  The elements are, in order:

    i = inclination, degrees
    O = longitude of ascending node, degrees
    o = argument of perihelion, degrees
    a = mean distance (aka semi-major axis), AU
    n = mean daily motion, degrees per day
    e = eccentricity
    M = mean anomaly (i.e., degrees from perihelion)
    E = epoch date (i.e., time of M)
    D = the equinox year (i.e., time of i/O/o)
    g,k or H,G  = two fields to specify either of two magnitude models; see
	below
    s = angular size at 1 AU, arc seconds, optional


You might have other parameters available that can be converted into these. 
The following relationships might be useful:

    P = sqrt(a*a*a)
    p = O + o
    n = 0.9856076686/P
    T = E - M/n
    q = a*(1-e)
    AU = 149,597,870 km = 92,955,621 U.S. statute miles
 where
    P = the orbital period, years;
    p = longitude of perihelion, degrees
    T = epoch of perihelion (add multiples of P for desired range)
    q = perihelion distance, AU

Note that if you know T you can then set E = T and M = 0.

XEphem supports two different magnitude models for elliptical objects. One,
denoted here as g,k, is generally used for comets in elliptical objects. The
other, denoted H/G, is generally used for asteroids in the Astronomical
Almanac.

+OBJXY_gkMAGNITUDE
When using this model for elliptical objects, the first of the two magnitude
fields must be preceded by a letter "g". This applies in both the .edb
database file and the corresponding menu elliptical object definition prompt;
otherwise the default magnitude model for elliptical objects is the H/G model.

+OBJXY_HGMAGNITUDE

The H/G model is the default magnitude model for elliptical objects but it can
also be explicitly indicated when the first of the two magnitude fields is
preceded by a letter "H". This works in both the .edb database file and
the corresponding menu elliptical object definition prompt.
@Hyperbolic Object
+Object
Hyperbolic objects are characterized by 10 parameters: the parameters that
define a heliocentric hyperbolic orbit and the magnitude model coefficients. 
These orbital parameters are, in order:

    T = epoch of perihelion
    i = inclination, degrees
    O = longitude of ascending node, degrees
    o = argument of perihelion, degrees
    e = eccentricity,
    q = perihelion distance, AU
    D = the equinox year (i.e., time of i/O/o).
    g,k = two fields for the magnitude model
    s = angular size at 1 AU, arc seconds, optional

As with elliptical elements, other parameters might be available.  The
relationships are generally the same, except for:

    q = a*(e-1)

+OBJXY_gkMAGNITUDE
@Parabolic Object
+Object
Parabolic objects are characterized by 9 parameters: the parameters that
define a heliocentric parabolic orbit and the magnitude model coefficients.
These orbital parameters are, in order:

    T = epoch of perihelion
    i = inclination, degrees
    o = argument of perihelion, degrees
    q = perihelion distance, AU
    O = longitude of ascending node, degrees
    D = the equinox year (i.e., time of i/O/o).
    g,k = two fields for the magnitude model
    s = angular size at 1 AU, arc seconds, optional

+OBJXY_gkMAGNITUDE
@OBJXY_gkMAGNITUDE
The g,k magnitude model requires two parameters to be specified. One, the
absolute magnitude, g, is the visual magnitude of the object if it were one
AU from both the sun and the earth.  The other, the luminosity index, k,
characterizes the brightness change of the object as a function of its
distance from the sun. This is generally zero, or very small, for inactive
objects like asteroids.  The model may be expressed as:

    m = g + 5*log10(D) + 2.5*k*log10(r)
 where:
    m = resulting visual magnitude;
    g = absolute visual magnitude;
    D = comet-earth distance, in AU;
    k = luminosity index; and
    r = comet-sun distance.

Note that this model does not take into account the phase angle of sunlight.

@OBJXY_HGMAGNITUDE
The H/G model also requires two parameters. The first, H, is the magnitude of
the object when one AU from the sun and the earth. The other, G, attempts to
model the reflection characteristics of a passive surface, such as an
asteroid. The model may be expressed with the following code fragment:

    beta = acos((rp*rp + rho*rho - rsn*rsn)/ (2*rp*rho));
    psi_t = exp(log(tan(beta/2.0))*0.63);
    Psi_1 = exp(-3.33*psi_t);
    psi_t = exp(log(tan(beta/2.0))*1.22);
    Psi_2 = exp(-1.87*psi_t);
    m = H + 5.0*log10(rp*rho) - 2.5*log10((1-G)*Psi_1 + G*Psi_2);
 where:
    m   = resulting visual magnitude
    rp  = distance from sun to object
    rho = distance from earth to object
    rsn = distance from sun to earth

Note that this model does not take into account the phase angle of sunlight.
@Earth satellite
+Object
Objects in Earth orbit are characterized by 9 parameters: the parameters that
define a geocentric elliptical orbit. These orbital parameters are, in order:

   Epoch of the measured values
   inclination, degrees
   RA of ascending node, degrees
   eccentricity, must be < 1
   argument of perigee, degrees
   mean anomaly, degrees
   mean motion, revolutions/day
   orbit decay rate, revolutions/day^2
   integral reference orbit number at Epoch

XEphem treats all earth satellites as if they had a visual magnitude of 2.0.

@Close Objects
+Close Objects - intro
+Close Objects - control
+Close Objects - options
+Close Objects - misc

@Close Objects - intro
This menu allows you to scan the list of objects currently in memory for all
pairs which are separated by less than a given angular distance.

First set up the desired maximum separation, in degrees, and faintest magnitude
using the Close Pairs dialog. Also set other options via the Options menu.
Separations will be topocentric or geocentric depending on the Equatorial
preference in the Main menu. Then start the scan via the Go button in the
Control menu.

When the scan completes, all pairs meeting the criteria will appear in the
scrolled list. The columns in the list are as follows:

	  Magnitude_1 Name_1     Magnitude_2 Name_2       Separation

The entries are sorted in increasing order of separation. The total number of
pairs and current conditions are reported above the list and the time when the
scan was performed is indicated in the time stamp label below the list. The
scan does not include field stars.

@Close Objects - control

Controls:

    Go:

	This performs the scan one time. The XEphem cursor will change to the
	Watch shape until the scan is complete. The results are listed in the
	scrolled list when complete.

    Auto Update:

	This causes the scan for close objects to be performed automatically
	each time an Update is commanded from the Main menu. The prior list is
	discarded each time. The list is never updated when the dialog is
	not open.

    Sky Point:

	This will center the Sky View on the first object of the selected pair
	in the list. Either select the pair in the list then press this button,
	or double-click on the pair in the list. (These commands do nothing if
	the Sky View is not currently up.)

    List to file...

	This selection allows writing the current collection of close objects
	to a file.

	A dialog is presented which allows you to enter a file name. If the
	file does not exist, the file is written as soon as you select Ok. If
	the file already exists, you are first asked whether you wish to append
	to the file or overwrite existing contents.

	The format of the file begins with a header line that captures the
	conditions in effect when the set of close objects was built. Following
	the header, there is one line per pair with exactly the same
	information as appears in the dialog list.

    Close:
	
	This closes the Close Objects menu. The list is not modified in any
	way while it is closed.

@Close Objects - options

Options:

    Omit fixed pairs

	When this option is active, then one or both objects of a pair must be
	wanderers (any object that is not of type Fixed). To make this the
	default, set the X resource: XEphem*CloseObjs*OmitFixedPairs.set: True

@Close Objects - misc
Algorithm:

    The sky dome is broken into bands of constant Dec with height equal to the
    given separation. The database is scanned once and each object is dealt
    into its corresponding band and the one adjacent in the direction of the
    North pole. Each band is then sorted by RA. Each band is then scanned for
    close pairs, with rapid cutoff detection due to the sort.  The final list
    is then sorted by separation, and displayed.

    Let N be the number of candidate objects, and B the number of bands. B is
    computed as ceil(180/separation). The dealing of the database objects into
    their bands takes O(N) time and requires O(N+B) memory. The sort time for
    each band, on average, is O(N(log(N/B)). Scanning each band can take as
    long as O(N**2) but this should be very rare due to the cutoff scan
    technique. The final list preparation require an additional sort, whose
    time and memory depend on the number of pairs found.

    In general, very small separations tend to require excessive overhead while
    large separations cause long sort times. The program enforces, quite
    arbitrarily, a lower limit of 0.1 for the separation. In practice, values
    from .5 to 1.5 seem to work best. A lower limit results in no loss of
    functionality since all smaller separations are, of course, still in the
    resulting list.

@Saturn
+Saturn - intro
+Saturn - mouse
+Saturn - control
+Saturn - view
@Saturn - intro
This is a schematic view of Saturn, its rings and moons at the indicated date
and time. In addition, background sky objects may also be displayed.

The scale at the left controls relative magnification.

The scale at the right controls the dimmest magnitude which will be displayed.
Saturn and its rings are always displayed. The values range from 20 at the
top and 0 at the bottom. Objects dimmer than the value specified are not shown.
This scale may be initialized via the X resource XEphem*Saturn*LimMag.value.

Nominal celestial directions are indicated at the top and right edges.

Moons are displayed only if they are geometrically visible. Use the top
view to see whether they are also in sun light.

@Saturn - mouse
Mouse functions:

The mouse may be used to identify any object in the Saturn view. Position
the cursor near the object of interest and select the right mouse button. A
popup menu will appear with the objects name, current location and magnitude.

@Saturn - control
Control options:

    Setup Field Stars...

	This selection activates the Field Star setup dialog. For more 
	information about this facility, see the Help for the Field Star
	dialog itself.

    Telescope command:

	This option causes the location of Saturn to be sent to a fifo. The
	fifo is opened and closed each time this selection is made. The
	intent is for the fifo to be connected to a telescope control process.

	This mechanism is the same as that provided by the Telescope 
	facility within the Sky view. Please refer to its help for more
	details.

    Movie Demo:

	This option will set up the Main menu time step controls for a 15
	minute step size and start a loop which dramatically displays the
	motions of the moons as they orbit Saturn. This selection automatically
	disables the View->Sky Background selection to insure reasonable speed.
	Push the button again to stop the movie.

    Close:

	This removes the Saturn display, and the additional information dialog
	if present, from the screen.

@Saturn - view
View Options:

    Top view:

	Selects whether to also display another dialog, looking down on
	the Saturnian system from above the celestial N pole. This dialog will
	tend to remain aligned above the main view when either is resized.
	Moons are displayed only if they are in sun light.

    Sky background:

	Selects whether to also show objects within the current field of view
	that are in the XEphem database memory or available from the Field Star
	facility. The size of the object is determined by the limiting
	magnitude as specified by the scale at the right. Objects are drawn
	using the same symbols as used by the Sky view. While this option is
	on, XEphem will continue to retrieve field stars as required.

    Bright moons:

	If this option is in effect, then the diameter of all moons will be
	increased by 3 pixels. This option also insures that even those moons
	which are dimmer than the limiting magnitude, as specified by the scale
	to the right, will be drawn with a circle of diameter 3 pixels.

    Tags:

	Selects whether to show the Roman numeral designation beneath each moon
	and a 1 arc-minute scale calibration line.

    Flip T/B:
    Flip L/R:

	These allow the scene to be flipped vertically and horizontally, 
	respectively.

    More info...

	This button brings up a separate dialog which contains quantitative
	information about Saturn's moons and its rings. All values may be used
	in plotting, listing and solving.

	The E and S columns are 1 if the moon is visible from the Earth and
	Sun, respectively.
	
	The ring tilt is displayed as the angle above or below the line of
	sight to Saturn from the Sun and the Earth. A positive value means the
	front of the rings are tilted southward.

	The locations of the moons are given in two coordinate systems. The
	first three columns are the displacements of the moons in Saturn
	radii with respect to the celestial plane. The next two columns
	give the RA and Dec location of the moons in the current epoch (as 
	specified on the Main menu).

@Jupiter
+Jupiter - intro
+Jupiter - mouse
+Jupiter - control
+Jupiter - view
@Jupiter - intro
This is a schematic view of Jupiter, the Galilean moons and the Great Red Spot
at the indicated date and time. In addition, background sky objects may also be
displayed.

The scale at the left controls relative magnification.

The scale at the right controls the dimmest magnitude which will be displayed.
Jupiter is always displayed. The values range from 20 at the top and 0 at the
bottom. Objects dimmer than the value specified are not shown. This scale may
be initialized via the X resource XEphem*Jupiter*LimMag.value.

Nominal celestial directions are indicated at the top and right edges.

Moons are displayed only if they are geometrically visible. Use the top
view to see whether they are also in sun light.

The default longitude of the GRS is set to 61 degrees, where it was in late May
of 1997. This may be changed interactively in the More Info dialog, and the
default may be set in the X resource XEphem*JupiterStats*GRSSysIILong.value.

@Jupiter - mouse
Mouse functions:

The mouse may be used to identify any object in the Jupiter view. Position
the cursor near the object of interest and select the right mouse button. A
popup menu will appear with the objects name, current location and magnitude.

@Jupiter - control
Control options:

    Setup Field Stars...

	This selection activates the Field Star setup dialog. For more 
	information about this facility, see the Help for the Field Star
	dialog itself.

    Telescope command:

	This option causes the location of Jupiter to be sent to a fifo. The
	fifo is opened and closed each time this selection is made. The
	intent is for the fifo to be connected to a telescope control process.

	This mechanism is the same as that provided by the Telescope 
	facility within the Sky view. Please refer to its help for more
	details.

    Movie Demo:

	This option will set up the Main menu time step controls for a 15
	minute step size and start a loop which dramatically displays the
	motions of the moons as they orbit Jupiter. This selection automatically
	disables the View->Sky Background selection to insure reasonable speed.
	Push the button again to stop the movie.

    Close:

	This removes the Jupiter display, and the additional information dialog
	if present, from the screen.

@Jupiter - view
View Options:

    Top view:

	Selects whether to also display another dialog, looking down on
	the Jovian system from above the celestail N pole. This dialog will
	tend to remain aligned above the main view when either is resized.
	Moons are displayed only if they are in sun light.

    Sky background:

	Selects whether to also show objects within the current field of view
	that are in the XEphem database memory or available from the Field Star
	facility. The size of the object is determined by the limiting
	magnitude as specified by the scale at the right. Objects are drawn
	using the same symbols as used by the Sky view. While this option is
	on, XEphem will continue to retrieve field stars as required.

    Bright moons:

	If this option is in effect, then the diameter of all moons will be
	increased by 3 pixels. This option also insures that even those moons
	which are dimmer than the limiting magnitude, as specified by the scale
	to the right, will be drawn with a circle of diameter 3 pixels.

    Tags:

	Search whether to show the Roman numeral designation beneath each moon
	and a 1 arc-minute scale calibration line.

    Flip T/B:
    Flip L/R:

	These allow the scene to be flipped vertically and horizontally, 
	respectively.

    More info...

	This button brings up a separate dialog which contains quantitative
	information about Jupiter's moons and central meridian longitude. All
	values may be used in plotting, listing and solving.

	The E and S columns are 1 if the moon is visible from the Earth and
	Sun, respectively.
	
	The locations of the moons are given in two coordinate systems. The
	first three columns are the displacements of the moons in Jupiter
	radii with respect to the celestial plane. The next two columns
	give the RA and Dec location of the moons in the current epoch (as 
	specified on the Main menu).

	Value of the System II longitude of the Great Red Spot is displayed.
	The value may be changed according to current information. Pressing
	ENTER will update the Jupiter display with the new value.

@Uranus
+Uranus - intro
+Uranus - mouse
+Uranus - control
+Uranus - view
@Uranus - intro
This is a schematic view of Uranus and its moons at the indicated date and
time. In addition, background sky objects may also be displayed.

The scale at the left controls relative magnification.

The scale at the right controls the dimmest magnitude which will be displayed.
Uranus is always displayed. The values range from 20 at the top and 0 at the
bottom. Objects dimmer than the value specified are not shown. This scale may
be initialized via the X resource XEphem*Uranus*LimMag.value.

Nominal celestial directions are indicated at the top and right edges.

Moons are displayed only if they are geometrically visible. Use the top
view to see whether they are also in sun light.

@Uranus - mouse
Mouse functions:

The mouse may be used to identify any object in the Uranus view. Position
the cursor near the object of interest and select the right mouse button. A
popup menu will appear with the objects name, current location and magnitude.

@Uranus - control
Control options:

    Setup Field Stars...

	This selection activates the Field Star setup dialog. For more 
	information about this facility, see the Help for the Field Star
	dialog itself.

    Telescope command:

	This option causes the location of Uranus to be sent to a fifo. The
	fifo is opened and closed each time this selection is made. The
	intent is for the fifo to be connected to a telescope control process.

	This mechanism is the same as that provided by the Telescope 
	facility within the Sky view. Please refer to its help for more
	details.

    Movie Demo:

	This option will set up the Main menu time step controls for a 15
	minute step size and start a loop which dramatically displays the
	motions of the moons as they orbit Uranus. This selection automatically
	disables the View->Sky Background selection to insure reasonable speed.
	Push the button again to stop the movie.

    Close:

	This removes the Uranus display, and the additional information dialog
	if present, from the screen.

@Uranus - view
View Options:

    Top view:

	Selects whether to also display another dialog, looking down on
	the Uranus system from above the N celestial pole. This dialog will
	tend to remain aligned above the main view when either is resized.
	Moons are displayed only if they are in sun light.

    Sky background:

	Selects whether to also show objects within the current field of view
	that are in the XEphem database memory or available from the Field Star
	facility. The size of the object is determined by the limiting
	magnitude as specified by the scale at the right. Objects are drawn
	using the same symbols as used by the Sky view. While this option is
	on, XEphem will continue to retrieve field stars as required.

    Bright moons:

	If this option is in effect, then the diameter of all moons will be
	increased by 3 pixels. This option also insures that even those moons
	which are dimmer than the limiting magnitude, as specified by the scale
	to the right, will be drawn with a circle of diameter 3 pixels.

    Tags:

	Search whether to show the Roman numeral designation beneath each moon
	and a 1 arc-minute scale calibration line.

    Flip T/B:
    Flip L/R:

	These allow the scene to be flipped vertically and horizontally, 
	respectively.

    More info...

	This button brings up a separate dialog which contains quantitative
	information about Uranus's moons. All values may be used in plotting,
	listing and solving.

	The E and S columns are 1 if the moon is visible from the Earth and
	Sun, respectively.
	
	The locations of the moons are given in two coordinate systems. The
	first three columns are the displacements of the moons in Uranus
	radii with respect to the celestial plane. The next two columns
	give the RA and Dec location of the moons in the current epoch (as 
	specified on the Main menu).

@Trails
This dialog allows you to define a set of time values spaced at regular
intervals beginning at the current XEphem time and define which and in what
manner values will be annotated with a time stamp.

This is a general purpose facility used in several places throughout XEphem,
generally for the purpose of establishing a trail of object motion. This
description will be of a general nature. For the specific information on how a
given XEphem view uses these time values, please refer to the Help information
associated with that view.

Seven parameters must be specified:

    Orientation:

    	This choice determines Where the stamps appear in relation to their
	corresponding tick mark.

	The radio box in the upper left corner provides several strategies for
	placing the time stamps near each tick mark. The first several options
	should be obvious. The last two, "Path-left" and "Path-right", cause
	the time stamps to be placed to the left or right side of the trail
	path, as one would perceive these directions when traversed in forward
	order. In no case are the time stamps ever drawn to require you to turn
	your head more than 90 degrees left or right.

    Interval:

	This is the time interval between each step.
	
	Choose from among the several handy intervals in the upper central
	radio box, or choose Custom and enter any desired interval in the space
	provided. It is okay to specify more than 24 hours to achieve intervals
	of several days. It is also okay to specify negative values to run time
	backwards.

    Label:

        This choice determines which intervals will to be label with a time
	stamp.
	
	Choose from among several options in the upper right radio box, or
	choose None if no labeling is desired.

    Format:

        This choice determines how to display each time-stamp.
	
	The lower left radio box offers either Hour:Minute format or the
	current date Preference (as set in the Preferences->Date formats option
	in the Main menubar).

    Font:

	This choice sets the size of the annotation text font.

	The bottom central radio box allows you to choose from several
	character sizes for the time stamps.

    Start:

    	This choice specifies how the first time value is derived from the
	current XEphem time.

	The lower right radio box offers several methods of determining the
	beginning of the first time interval. "Whole min" rounds the current
	XEphem time forward to the next whole minute, if necessary; "Whole day"
	rounds to the next whole day. "Whole interval" rounds to the next whole
	multiple of whatever time interval is set (as specified in the Intervals
	choices). "Now" means to begin with the current XEphem time without
	any initial changes.

	The idea here is generally to match the time values of each time mark
	with the precision implied by the format, but to allow other options
	as necessary.

    Number of tick marks:

	This is specified by setting the scale near the bottom of the dialog
	to the desired number.


Once the choices are set up as desired, Ok will create the trail and the
dialog will disappear. Apply will create the trail but the dialog will remain
up for further use. Close just dismisses the dialog without creating a trail.
Help brings up this message.

Even with all this flexibility pleasingly annotated trails are not trivial to
generate. It is hoped that a little experimentation can yield acceptable
results in most cases.

Note that this general trail facility does not provide close coupling with the
view being supported. For example, some views do not support setting a trail
for an object which has changed while the Trail Setup is up. Also, views may
vary in their support of having trails defined while they are not visible. 
Each view may establish its own initial default values but changes usually
remain in effect for subsequent instances of Trail Setup dialogs from the same
view. Some views permit more than one Trail Setup to be active at one time. In
short, the operational boundary conditions vary by view.

@Example - sky trail
This example will use the Sky View to display a trail of the appulse between
asteroid 121 Hermione and NGC 7293 which occurs about July 28, 1995. We also
demonstrate displaying stars from the Hubble GSC catalog in the sky background
(you will need either the GSC CDROMs or a live internet connection for this).
This example is taken from Sky and Tel, July 1995, page 72.

    for convenience, use UTC for all time displays:
	Main->Preferences->Zone Display->UTC

    set time to 00:00 using shortcut:
	Main->UTC Time:->00:00:00

    set date to 24 July 1995 using the interactive calendar:
	Main->(Year)->1995
	Main->(Month)->July
	Main->24

    commit to new date and time:
	Main->Update		// note NEW CIRCUMSTANCES stops flashing

    read in asteroid and NGC databases:
	Main->Objects->Load and delete objects in memory ...
	    in lower right corner, double-click on "asteroids.edb"
		(could also have single-clicked and then pushed Append)
	    similarly, double click on "NGC.edb" (scrolling a bit if necessary)
	    Control->Close

    select 121 Hermione to be Object X:
	Main->Objects->Search memory and define ObjX,Y,Z...
	in the lower right Search text field, type "hermi" then RETURN
	    (this finds 121 Hermione in memory and stages it to become ObjX)
	    (you may also browse by scrolling through the list at right and
	     selecting the candidate object's button).
	load this into Object X and dismiss the dialog:
	    Ok

    display asteroid trail on sky view:
	Main->View->Sky View...
	    Control->Options->RA-Dec
	    Locate->121 Hermione
	    set Field of View to about 1.5 degrees using scale on left
	    Control->Filter..
		set Sol Sys Lim Mag to 16 using scale
		Ok
	    place cursor over the central dot (Hermione!) and press button 3:
		Create Trail...
		    Interval: 1 Day
		    Time stamp: Every 2
		    Format: Date
		    Number of tick marks: type "8"
		    Ok
	    center the trail by placing cursor near dot for 7/28/95 and press
	    button 3, then scroll down and release on:
		Point

    add nearby Hubble Guide Star Catalog entries:

	If you have not already done so, set up the source for the GSC stars:
	    Sky View->Control->Setup Field Stars...

	Enable viewing Field Stars and load an initial set:
	    Sky View->Control->Options->Field Stars

	The GSC stars will now be read in and displayed. If you reposition the
	Sky View someplace else, use the right mouse button and select the
	option "Load Field Stars" each time you want them loaded.

    if desired, overlay with a coordinate grid:
	Sky View->Control->Options->Grid
	(making the Sky View wider will allow room for more grid labels)



As another example, investigate the appulse between M21 and 241 Germania near
July 15, 1995. Use ObjY for the asteroid so you can leave ObjX as Hermione.
If you have your Sky & Tel handy, this is also described on the same page as
the above reference. From the picture in that article, you can see that the
elements shipped with XEphem for 241 Germania no longer quite match the epoch
of the image, and the Saguaro Astro Club entry for M21 is slightly too far
south and east. This emphasizes an important note: XEphem is only as good as
its databases.

@Example - eclipse path
This example displays the location of totality on the Earth for the solar
eclipse of July 11, 1991.

    for convenience, use UTC for all time displays:
	Main->Preferences->Zone Display->UTC

    set time to 17:25:00
	Main->UTC Time
	    enter 17:25:00 then Ok (or just RETURN).
	    note you may use almost any punctuation character instead of ":"
	        and you need not give leading zeros. for example: "17;25;0".

    set date to 11 July 1991:
	Main->UTC Date
	    enter 7/11/1991
	    note this should be entered according to the current date format
		preference. for example, after
		    Main->Preferences->Date formats->Y/M/D
		you would enter the same date as "1991/7/11".

    commit to new date and time:
	Main->Update		(note NEW CIRCUMSTANCES stops flashing)

    display the earth:
	Main->View->Earth...

    A black cross should appear a little southwest of Hawaii. That is the
	current center of totality.

    display the subearth point of the moon, i.e., the point on the earth
	surface at which the moon is directly over head:

	Set Moon as current object:

	    earth->Object->Sun->Moon

	Insure "Show Object" is enabled:

	    earth->Object->Show Object

	Note: after the Moon is selected, "Moon" is the label at the bottom of
	    the Object pulldown menu.

    One may now easily read off the local altitude of the Moon by comparing
	with the circles of 0, 30, 60 and 90 degree altitudes. More precise
	values for altitude, and azimuth, may be obtained for any location
	using the right mouse button.

    change Main location to Mauna Kea Observatory:
	move cursor near southeast edge of Hawaii, hunt around clicking right
	    button until the popup says Mauna Kea, slide down and let go over
	    "Point"
	Earth->Control->Set Main
	    the white Plus on the earth should move over Mauna Kea and the
	    central longitude should shift to approximately 155 degrees west.
	    Note the Latitude and Longitude in the Main view are also updated.

    show the sky from Hawaii:
	Main->View->Sky View...
	    Sky View->FOV->1	(move left scale up until it says about 1.0)
	    Sky View->Locate->Sun
	    move cursor over the center of the Sun, select right button, pull
		down and let go over "Track"
	    make sure Sky View->Control->Options->Alt-Az is selected
		(or Main->Preferences-> Equatorial->Topocentric is set)
		to get a topocentric point of view.


    set up a movie showing the path of totality for the next two hours:
	Main->N Steps-> enter "24", then RETURN
	Main->Step->0:05:00
	Main->Pause->1
	Main->Update

@Example - sun plot
In this example, we will plot the times of local dawn, sunrise, sunset, and
dusk over the course of this year.

    Set the date to Jan 1 this year:
	Main->Local Date-> 1/1
	    you might have to enter this differently depending on your current
		Date Formats preference.

	    you could also set the date by using the interactive calendar at
	    the right: select the current month, slide and release over January.
	    then push the "1" date on the calendar.

    Set the time to local midnight:
	Main->Local Time-> enter 0:0:0

    commit to the new date and time:
	Main->Update		(note NEW CIRCUMSTANCES stops flashing)

    bring up the data table:
	Main->View->Data Table...

	(if the RiseTm and SetTm columns and the Sun row are not visible, use
	the Setup option to enable at these columns and rows.)

    bring up the plot control dialog:
	Main->Tools->Plot...

    define a plot with four independent traces:
	Plot->Select fields
	    (note how all labels which can be used for plotting now look and
	    operate like buttons. as you press them, they form the definition
	    of what will be saved for plotting; watch the X and Y columns of
	    the Plot menu be filled in as you define the variables to plot).

	Main->Local Date
	Main->Dawn

	Main->Local Date
	Data->Sun.RiseTm

	Main->Local Date
	Data->Sun.SetTm

	Main->Local Date
	Main->Dusk

	Plot->Select fields	(turns buttons back to labels)

	When you are finished, the lower portion of the Plot menu should look
	like this:

	    Tag		X	   Y
	    A		LD	  Dawn
	    B		LD	Sun.RiseTm
	    C		LD	 Sun.SetTm
	    D		LD	  Dusk

	If you make a mistake, you must start over (Undo is on my list :-)

	If you wish, you may edit the Tags to more accurately denote their
	meaning, such as D, R, S and d. Case is significant, but you only get
	one character.

    Set up Main to generate data every other day for 180 days, i.e., span about
    one year:

	Main->N Steps->180
	Main->Step-> enter 2d, then select Ok (or type RETURN)

    Define a file to contain the plot values:

	Plot-> enter a file name in the text field, such as sun.plt

    Start capturing XEphem plot data to the plot file:

	Plot->Plot to file

    Let XEphem run:

	Main->Update

	Note that as it runs, XEphem does not update many values and they are
	made to look unusual. This is for speed. It only does this if
	Main->Pause is set to 0. If Pause is anything greater than 0, all
	values are drawn. In any case, internal values are always updated; it's
	just the display that is eliminated for a little more efficiency.

    When it stops, display the year of plot data:

	Plot->Show plot file

	Note how the Plot->Plot to file option is automatically disabled. If
	XEphem was built on a POSIX-compliant system with ANSI C, you should
	see local timezone changes, as appropriate, as discontinuities in the
	plot.

    Change the X axis label to be a little easier to relate to:

	Plot->View->Show X-Axis as Dates
@Example - ring plane
This example will demonstrate the programmable equation solving feature by
solving for the time when the Earth crosses the ring plane of Saturn. 

Generally when using the solving feature of XEphem, a plot of the function
should be made first to investigate the general behavior of the function over
time and to form an initial estimate of the solution. Hence, our first step is
to make a plot of ring plane angle throughout 1995.

    Use UTC for all time displays:

	Main->Preferences->Zone Display->UTC

    Set the date to Jan 1 1995:

	Main->Local Date-> 1/1/1995
	    You might have to enter this differently depending on your current
		Date Formats preference.

	    You could also set the date by using the interactive calendar at
	    the right: select the current month, slide and release over January.
	    then push the "1" date on the calendar. Do the same sort of thing
	    to set the year.

    Set the time to UTC midnight:

	Main->UTC Time->00:00:00

    Bring up the Saturn diagram and supporting information views:

	Main->View->Saturn...
	    Saturn->View->More info..

    Bring up the plot control dialog:

	Main->Tools->Plot

    Select one function to plot, UTC Date vs. Earth ring tilt:

	Plot->Select fields	// turn on
	    Main->UTC Date
	    Saturn info->From Earth
	Plot->Select fields	// turn off

    Specify plot file name and give it a title:

	Plot->File name: rings.plt
	Plot->Title: Saturn Earth Ring Tilt for 1995

    Enable plot file capture:

	Plot->Plot to file

    Accumulate 180 steps, each 2 days:

	Main->N Steps 		enter "180" then RETURN
	Main->Step		enter "2d" then RETURN
	Main->Update		// runs through 180 steps, rather subdued. it
				// runs faster if you close the Saturn view.

    Display plot file, 

	Plot->Show plot file
	Plot file->View->Show X-Axis as Dates

    There are evidently two crossing, one in late May and one in early August.
    Lets solve for the one in August:

	Main->December->August
	Main->Update				// to engage NEW CIRCUMSTANCES

    Open the Solve control dialog, set up to solve for when the earth ring
    tilt goes to zero:

	Main->Control->Solve...
	    Solve->Enable field buttons	// turn on
		Saturn info->From Earth
	    Solve->Enable field buttons	// turn off
	    Solve->Compile
	    Solve->Find 0
	    Solve->Solving is Active

    And go:

	Main->N Steps->1000000
	Main->Update

    The Main menu stops at Aug 10, 1995, at about 19:54 UT. The August 1995 Sky
    and Tel, page 72, says it occurs at about 21h +- 2.
@Example - whats up
This example will take us through a session which explores the sky tonight at
midnight. Of course, you can do this for any night by setting the desired date
first on the Main menu.

    Set time to midnight tonight:

	Main->Local Time->Midnight Tonight
	Main->Update

    Load up several database file, if not already:

	Main->Objects->Load and Detele...
	    Data Base->YBS.edb		// Yale Bright Star catalog
	    Data Base->Append
	    Data Base->Messier.edb	// Messier catalog
	    Data Base->Append
	    Data Base->NGC.edb		// RNGC objects (all but Messier)
	    Data Base->Append
	    Data Base->SAC.edb		// even more deep-sky objects
	    Data Base->Append
	    Data Base->asteroids.edb	// some 6000 asteroids 
	    Data Base->Append

    Bring up the sky view:

	Main->View->Sky View...

    Explore around using mouse pointing and/or sliding field-of-view and
    pointing controls as desired.

    Now let's focus in on some close encounters. Let's switch to RA and Dec
    coordinates, tighten up the field and increase the limiting magnitude so
    we can see fainter things:

	Sky View->Control->Options->Coord:RA-Dec
	Sky View->FOV->  slide to 2.0
	Sky View->Control->Filter...
	    Sol Sys Lim Mag ->  slide to 14
	    Stars Lim Mag ->  slide to 14
	    Deep Sky Sys Lim Mag ->  slide to 14
	    Ok

    You'll probably want to use the Topocentric preference from the Main menu:

	Main->Preferences->Equatorial->Topocentric

    Open the Close objects dialog, build a list of all moving objects within,
    say, 1 degree of each other:

	Main->Objects->Find close pairs of objects...
	    Close->Max sep->    enter 1.0
	    Close->Mag limit->  enter, say, 13
	    Close->Options->Omit fixed pairs	// if not already on
	    Close->Control->Go			// might take a moment..

    Now scroll through your set and find something that looks good. For 
    example, tonight I happened to find asteroid 702 Alauda passing within 16
    arc minutes of the bright open cluster NGC 6416. Double click on the
    item and the Sky View will swing around and show it to you. You might want
    to tweak up the field-of-view a bit.

    If you've chosen an asteroid, let's plot its motion over several hours. Put
    the mouse near the asteroid, click button 3, pull down to "Create Trail..."
    and let go. You'll get a trail setup dialog:

	Trail->1 Hour
	Trail->First+Mid+Last
	Trail->Number of intervals:  enter 24
	Trail->Ok

    If you get a wild array of lines, be sure Sky View->Control->
    Options->RA-Dec is set.  You may click on any of the tick marks with
    mouse button 3 to get the circumstances of the asteroid at the
    various times along the trail. You can change the trail parameters
    by using "Change Trail..." and proceeding as before.

    With luck, you'll have a pretty appulse to watch. To make a permanent
    record, make a file of objects in the Sky view:

	Sky View->Control->List to file...

    Or use Sky View->Control->Print to save the scene in Postscript.

@Example - lunar occultation
This example was taken from the lunar occultation of Spica (Alpha Vir) which
occurred January 23, 1995, UTC, as reported in Sky and Telescope, January 1995.

    If the YBS.edb database is not already loaded, load it now so that Spica
    is loaded in the XEphem database:

	Main->Objects->Load_and_Delete...
	    YBS.edb
	    Append
	    Control->Close

    Set UTC Zone preferences:

	Main->Preferences->Zone Display->UTC

    Set the Topocentric Equatorial preference:

	Main->Preferences->Equatorial->Topocentric

    Set Epoch to EOD (occultations must always be computed using EOD in order
	to incorporate the effect of aberration):

	Main->Epoch

	select EOD

    Set up the date and time to Jan 23, 1995, 11:45:00 UT, using the calendar
	and the "UTC Time:" selections in the Main menu.

    Set the Step size to one minute (0:1:0) using the Step selection in the
	Main menu.

    Set the location to Chicago, using the Site selections in the Main menu:

	Main-><Site>
	    type "chicago" into the text field,
	    hit RETURN,
	    select Ok

	    or

	    scroll down to "Chicago, Illinois" and double-click on it.

    Display the moon:

	Main->View->Moon..

    Make sure the true Sky background option is enabled:

	Moon->View->Sky background

    Spica is just behind the dark western limb, ready to emerge. To see it,
    press Main->Update to advance the time by 1 minute. Spica appears at 11:47
    and near the craters depicted in the schematic on page 83.

    An analytical method is to use the Main->Tools->Solve method to find the
    time when the following equation evaluates to zero:

    	"Spica.Moon"-"Moon.Size"/7200

    Set the Desired Accuracy to 0:0:1 and one finds the occultation occurs at
    11:46:10 UTC.

@Example - images
This example will go through displaying an image in the Sky View. The image
may be either a FITS file on your local disk, or may be retrieved via the
Internet.

    Bring up the Sky View display:

	Main->View->Sky View...

    Bring up the Image control window:

	Sky View->Control->Image...

    To display a FITS file, use the file selection dialog at the bottom to
	browse your local file system. When the you have found the file,
	select it in the list and press the Open button. The image will be
	displayed in the Sky View.

	Note: In order to be displayable by XEphem, the FITS file must be in
	16 bit image format (BITPIX 16) and contain either the WCS keywords
	(CTYPE, CRPIX, CRVAL, CROTA, CDELT, 1 and 2), or the standard DSS
	coordinate fields.

    Or, to retrieve a Digitized Sky Survey image, use the Sky View scales
	to center the view on the desired sky location, set the field of
	view scale as desired, and press either of the buttons at the top
	of the FITS dialog labeled STScI or the ESO. Of course, for these
	to work you must have a live Internet connection.

	STScI is located in Maryland, USA. ESO is in Germany. They both
	provide identical service so use whichever gives you better network
	performance. The maximum size of an image retrieved in this manner
	is currently restricted to 20 arcminutes.

    Once an image is displayed by either method, all Sky View features are
    available. So, you may add a grid overlay, load and display field
    stars, track the coordinates with the cursor, etc etc, as with any Sky
    View. Investigate the various Controls from the menubar of the Sky View
    to see what all is available. For example, to display field stars
    over the image:

	Set up a source for the field stars (if not already set up):

	    Sky View->Control->Setup Field Stars

		(follow the directions in the Help)

	Turn on the following options (if not already on):

	    Sky View->Options...

		Auto mag
		Field Stars
		Names
		Field Stars too
		Brightest

    The image will remain in the Sky View until the center or field of view of
    changed. If you loaded a DSS image, you may want to save it to your local
    disk for easier access next time.

    As for the image itself, you may adjust the brightness and contrast using
    the controls near the center of the FITS dialog.
@Print
This dialog lets you print the current view or save it to a file. In either
case the format used is Postscript. 

If you enter a string the text field labeled Title, the string will be 
printed centered across the top of the page.

The top two toggle buttons allow you to choose whether any color commands will
be included in the Postscript generated.

If you choose to Save to a file, turn on that toggle button and type the
desired file name in the text box to the right of the toggle button. The file
name will be relative to the directory from which XEphem was executed or
you may precede the file name with "~/" to refer to your home directory.

If you choose to print directly to the printer, turn on that toggle button and
type a command which will print a Postscript file on your system. The command
should expect the name of a file to print as its first and only argument. A
temporary file will automatically be created for this command and deleted when
printing is completed.

When ready, press Ok. To avoid printing anything, press Cancel.

@FieldStars
This dialog allows you to control which field star sources you wish
to use. The dialog is accessible from the Main menu as well as from the
Control menus of most graphical views.

XEphem uses the term "field star" to refer to the huge numbers of faint
stars visible in any real world view of the sky. Field stars are generally
far more numerous and fainter than stars or other objects which could be
reasonably accommodated in the conventional XEphem *.edb databases. For this
reason they are stored and made available in their own special compact forms
for efficiency. They are also never loaded automatically. The Sky, Moon, 
Jupiter and Saturn views all require explicit loading each time the field is
updated. On the other hand, it is never necessary to delete field stars; XEphem
automatically manages their memory for you. The downside to this approach
is that field stars are not included in the totals presented by the Load
dialog nor are they available for searching or inspection using the Search
dialog. This results in little loss of generality, however, since (once
found!) they may be assigned to the user defined objects by using the
popup menu in the Sky view and thus be further investigated via the Data
table dialog.

The controls in the Field Stars setup dialog are grouped into categories,
depending on the basic source of the stars, as follows:

Hubble GSC:

    ASP CDROM Directory:

	This choice enables reading field stars from the Hubble Guide Star
	Catalog available on two CDROMs as published by the Space Telescope
	Science Institute. The complete set includes more than 11 million
	unique stars; more than 300 stars per square degree. The CDROMs may be
	obtained from several organizations, such as the Astronomical Society
	of the Pacific. (Note that if you purchase the CDROMs from them just
	for use with XEphem you can save a little money by specifying you do
	not want their software).
	
	Mount a CDROM somewhere onto your filesystem, turn this option on and
	type the name of the mount directory in the text field provided. Unless
	you are on VMS, the filenames are assumed to have the trailing ";1"
	removed.
	
	You can also specify this option and the directory in the X resource
	file using the resources as follows:

	    XEphem*FieldStars*GSCCD.set: True
	    XEphem*FieldStars*GSCCDDirectory.value: /usr/local/gsc

    Local Cache Directory:

	This choice enables reading GSC field stars from your local disk. If
	this option is on along with the CDROM option, then as requests are
	satisfied from the CDROM a compact form of the same data will be
	written to files below the directory named in this option. Then the
	next time the same field stars are needed, and this option is on, they
	will be obtained from the local disk files rather than the CDROM. In
	fact, the CDROM is not needed or used if the local disk contains all
	the stars for any given access. The entire 2 CDROM set loads onto disk
	in this format in some 180 MB. To control this option use the following
	X resource:

	    XEphem*FieldStars*GSCCache.set: True

	The default path of the directory which holds the disk version is
	"catalogs/gsc" which in turn is within the directory named by the X
	resource XEphem.ShareDir.

	Note: There is also a utility in the tools/gsc directory, gscload, with
	which you may preload any entire CDROM segment at once if desired.

    Internet to xephemdbd:

	This choice is to use the Internet to access an XEphem GSC server. See
	the XEphem home page for the current list of GSC server hosts.

	To use this source, select this option and type the host name followed
	by its path to xephemdbd.pl in the text field provided in typical URL
	fashion (but minus the usual "http:/" thingy). You can set this
	permanently from the following X resource:

	    XEphem*FieldStars*XEphemdbdURL.value:

	If you would like to build this server process and run it more locally
	to your enterprise, the source is in tools/xephemdbd. See the README
	there in for full details. If you would like to give others access,
	let me know and I will add your site to those listed on the XEphem
	home page. Thank you.

    Internet to ESO:

	This choice accesses the GSC catalog service maintained by the
	European Southern Observatory. This choice emulates a web browser
	query and uses the Proxy or SOCKS facilities (described below) which
	should make it accessible to user behind firewalls.

	To use this source simply select this option. You can set this
	choice from the following X resource:

		XEphem*FieldStars*ESONet.set: True

	The CDROM or the cache options may not be used at the same time as the
	network options.

	Note that the ESO GSC server (apparently) arbitrarily and (certainly)
	silently restricts the total number of stars it will return, so larger
	and/or deeper fields may not contain all stars.

	You may also access this service directly from your Web browser at
	http://archive.eso.org/cgi-bin/gsc.

USNO A or SA catalogs:

    Root directory:

	This choice of field stars supports the SA or even the A series of
	astrometric catalogs produced in recent years by the US Naval
	Observatory. The SA2.0 for example, includes some 54 million stars,
	spacially sampled so there is about 1,300 stars per square degree of
	sky. Note that such a uniform distribution does not "look" much like
	the real sky, but it is great for its intended use as an astrometric
	mesh for comet hunters or such.

	To order these catalogs, see http://psyche.usno.navy.mil/pmm.

	If you have such a catalog, simply enter the name of its base
	directory and toggle this switch on. The default assumes a
	symbolic link, usno, located in XEphem.ShareDir/catalogs,
	points to the base of the catalog.

	The suggested citation for SA1.0 follows:

	    Monet, D., Bird, A., Canzian, B., Harris, H., Reid, N., Rhodes,
	    A., Sell, S., Ables, H., Dahn, C., Guetter, H., Henden, A.,
	    Leggett, S., Levison, H., Luginbuhl, C., Martini, J., Monet, A.,
	    Pier, J., Riepe, B., Stone, R., Vrba, F., Walker, R. 1996,
	    USNO-SA1.0, (U.S. Naval Observatory, Washington DC).

Proper Motion catalogs:

    PPM catalog:

    Tycho catalog:

	Catalogs are available which include information regarding proper
	motion. The position of the star is moved to its location according
	to the current XEphem time when the stars are loaded. In order to see
	a movement, change the time, then reload the field stars. It is *not*
	sufficient to just change the time because the new positions are only
	computed when the field stars are reloaded.  

	Two such catalogs are currently available ready for XEphem. You may
	only use one at a time, by choosing the corresponding toggle.

	One catalog is the Tycho astrometric catalog, published in 1997
	by the European Space Agency. This catalog contains some 1 million
	stars and is now considered the best catalog in its class.

	The other is the PPM catalog. This is the _Positions and Proper Motion_
	catalog of S. Roeser and U. Bastian, Astronomisches Rechen-Institut,
	Heidelberg, published in 1990. The PPM includes 468,586 stars rather
	evenly distributed throughout both hemispheres. This averages out to
	more than 10 stars per square degree. The set includes the original
	North and South editions plus the extended supplement. The set
	includes more than 99% of the stars in the original SAO catalog and
	some 70% of the Henry Draper Catalogue (HD).   While the SAO catalog
	is more or less complete to V=9, with stars as faint as V=10, the PPM
	catalog is fairly complete to V=9.5, and goes somewhat deeper than V=10.

	To use either catalog with XEphem, you must first obtain it in .xe
	format from an Internet location. Current locations are listed on the
	XEphem web page. Retrieve the file and move it to the XEphem.ShareDir/
	catalogs directory with the other edb files. Then turn on the PM
	option and fill in the text field with the pathname to the file.

	One example of a star with high proper motion is Groombridge 1830 (HD
	103095), in Ursa Major, near 11h53m 37d44m. For a nice discussion
	see Burnham's Celestial Handbook, Volume III, page 1978. By comparing
	its position in either PM catalog with the same entry from the GSC
	one can deduce this particular GSC field was evidently taken in early
	1983.

	Remember: the proper motion is only recomputed when you "(Re)Load
	Field stars".

    Use SAO or HD name where possible:

	Some PM catalogs also includes SAO and HD names for many stars. This
	option allows you to choose whether one of these names will be used
	if possible. If this option is on and the star has an HD number
	assigned it will be used, otherwise if it has an SAO designation it
	will be used, otherwise the catalog name will be used. If the option
	if off, then the catalog name is always used.

    No duplicates:

	All of the above may be used together with the regular database
	facility of XEphem. If this option is on, XEphem eliminates what
	appears to be redundant entries for the same star from the various
	catalogs. Two stars are considered the same if their positions match
	within 4 arcseconds and their magnitudes differ by less than 3. (The
	generous magnitude tolerance is because the GSC and the PPM use
	varying filters). When deciding on the final selection for such
	duplicate entries the highest priority is the local database, then
	the HD or SAO entry, then the PPM entry and finally the GSC entry.

When you have made the desired entries, pressing Test will attempt to check
each filename, directory and Internet choice, as appropriate. The cursor
will be a Watch while the tests are in progress. If something does not seem
correct, a warning dialog will appear and the option will be turned back off.
If everything seems to be operating correctly, a confirmation message will
appear. The Ok button will also make the same checks as Test but then
also close the dialog if they all succeed. If at any time during normal
operation something goes wrong during the acquisition of any Field Stars or
FITS files from any View, the responsible option in that view is also turned
off automatically.

All field star sources may silently enforce limits on the total number of stars
they yield for any query. As of this writing, CDROM and cache queries are
limited to a field 15 degrees in diameter; the GSC network limits the field to
3 degrees; PM queries are limited to a field 30 degrees in diameter; USNO
fields are limited to 20 degrees; FITS fields are limited to sizes of 20
arcminutes or smaller. These limits are not considered bugs.

@NetSetup
Network Setup:

This dialog allows you to define a proxy or SOCKS server to use for the
various XEphem features that utilize the Internet. One of the following
three choices must be enabled for Internet access to be available.

    Direct connect:

	This choice just means to use the direct DNS/IP TCP/IP sockets as
	necessary. Use this one unless you are behind a firewall. The
	following X resources controls the default value:

	    XEphem*NetSetup*Direct.set: False

    via Proxy:

	This choice attempts to access the Internet via a Proxy. Type the
	port address and the host name of the proxy in the field provided.
	The following X resources control the default values:

	    XEphem*NetSetup*Proxy.set: False
	    XEphem*NetSetup*ProxyHost.value: a.b.com
	    XEphem*NetSetup*ProxyPort.value: 8000

    via SOCKS:

	This choice attempts to access the Internet via a version 4 SOCKS
	server. Type the port address and the host name of the server in the
	field provided. These values can be initialized using the environment
	variables SOCKS_PORT and SOCKS_NS. The following X resources
	also control the default values:

	    XEphem*NetSetup*SOCKS.set: False",
	    XEphem*NetSetup*SOCKSHost.value: x.y.com",
	    XEphem*NetSetup*SOCKSPort.value: 1080",


@ExternalInput
XEphem can read a file (or fifo) containing sets of time, latitude and
longitude values and automatically install these values sequentially
unattended. Enter the name of the file in the dialog and press OK. To pause
between updates, set the desired delay in the Pause field of the Main menu.
All features of XEphem, such as plotting and listing, are available while this
feature is running.

The format of each line of the file is as follows:

	JD Lat Long

    Where JD   = Julian Date
	  Lat  = Latitude, radians, +north
	  Long = Longitude, radians, +west

    The fields are separated by one or more blanks or tabs.

All lines not having exactly three floating point values are ignored and
may be used for comments, etc.

