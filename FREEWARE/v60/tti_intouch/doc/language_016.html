<!-- LANGUAGE_016.HTML continuation of DOCDATA:[DOC.INTOUCH]LANGUAGE.HTML -->
<html>
<head>
<title>INTOUCH&#174; 4GL </title>
</head>
<body background="/white.gif">
<h1 align="center">INTOUCH<sup>&#174;</sup> 4GL <br> A Guide to the INTOUCH Language</h1>

<hr> <a href="LANGUAGE_015.HTML#bottom_015">Previous page...</a> 
<a href="LANGUAGE_CONTENTS.HTML">Table of Contents</a>

<hr size=5>

<a name="heading_14.8.1.12"><h3>14.8.1.12 Item: LENGTH</h3></a>
<a name="index_x_974"></a>
<a name="index_x_975"></a>
<a name="index_x_976"></a>

<p><pre>
        ASK STRUCTURE struc_name, FIELD field_expr: LENGTH num_var 
</pre>

<p>
<b>LENGTH</b> returns the length of the specified field in a 
numeric variable. 

<p>

<a name="heading_14.8.1.13"><h3>14.8.1.13 Item: NAME</h3></a>
<a name="index_x_977"></a>
<a name="index_x_978"></a>
<a name="index_x_979"></a>

<p><pre>
        ASK STRUCTURE struc_name, FIELD field_expr: NAME str_var 
</pre>

<p>
<b>NAME</b> returns the name of the specified field in a string 
variable. 

<p>

<a name="heading_14.8.1.14"><h3>14.8.1.14 Item: NULL</h3></a>
<a name="index_x_980"></a>
<a name="index_x_981"></a>
<a name="index_x_982"></a>

<p><pre>
        ASK STRUCTURE struc_name, FIELD field_name: NULL int_var 
</pre>

<p>
If the specified field is <b>NULL</b> (i.e. contains no data), 
this statement returns TRUE.  If the field is not NULL, the statement 
returns FALSE. 

<p>

<a name="heading_14.8.1.15"><h3>14.8.1.15 Item: NUMBER</h3></a>
<a name="index_x_983"></a>
<a name="index_x_984"></a>
<a name="index_x_985"></a>

<p><pre>
        ASK STRUCTURE struc_name, FIELD field_expr: NUMBER num_var 
</pre>

<p>
<b>NUMBER</b> returns the field number of the specified field 
in a numeric variable.  Fields are numbered sequentially.  If the field 
does not exist, INTOUCH returns a value of 0. 

<p>

<a name="heading_14.8.1.16"><h3>14.8.1.16 Item: OPTIMIZED</h3></a>
<a name="index_x_986"></a>
<a name="index_x_987"></a>
<a name="index_x_988"></a>

<p><pre>
        ASK STRUCTURE struc_name, FIELD field_expr: OPTIMIZED num_var 
</pre>

<p>
<b>OPTIMIZED</b> returns a value of TRUE or FALSE in a specified 
numeric variable.  If the key field in <i>field_expr</i> is optimized, 
the value is TRUE.  Otherwise, the value is FALSE. 

<p><pre>
        10  OPEN STRUCTURE cl: NAME 'tti_run:client' 
            ASK STRUCTURE cl, FIELD id: OPTIMIZED z 
            PRINT z 
            CLOSE STRUCTURE cl 
        20  END 
 
        RNH 
         1 
</pre>

<a name="heading_14.8.1.17"><h3>14.8.1.17 Item: POSITION</h3></a>
<a name="index_x_989"></a>
<a name="index_x_990"></a>
<a name="index_x_991"></a>

<p><pre>
        ASK STRUCTURE struc_name, FIELD field_expr: POSITION num_var 
</pre>

<p>
<b>POSITION</b> returns the starting position for the specified 
field in a numeric variable. 

<p>

<a name="heading_14.8.1.18"><h3>14.8.1.18 Item: PRINTMASK</h3></a>
<a name="index_x_992"></a>
<a name="index_x_993"></a>
<a name="index_x_994"></a>

<p><pre>
        ASK STRUCTURE struc_name, FIELD field_expr: PRINTMASK str_var 
</pre>

<p>
<b>PRINTMASK</b> returns the print mask for the specified field 
in a string variable. 

<p>

<a name="heading_14.8.1.19"><h3>14.8.1.19 Item: PROMPT</h3></a>
<a name="index_x_995"></a>
<a name="index_x_996"></a>
<a name="index_x_997"></a>

<p><pre>
        ASK STRUCTURE struc_name, FIELD field_expr: PROMPT str_var 
</pre>

<p>
<b>PROMPT</b> returns the prompt for the specified field in a 
string variable. 

<p>

<a name="heading_14.8.1.20"><h3>14.8.1.20 Item: SCREENMASK</h3></a>
<a name="index_x_998"></a>
<a name="index_x_999"></a>
<a name="index_x_1000"></a>

<p><pre>
        ASK STRUCTURE struc_name, FIELD field_expr: SCREENMASK str_var 
</pre>

<p>
<b>SCREENMASK</b> returns the screen mask for the specified field 
in a string variable.  This option is not currently used. 

<p>

<a name="heading_14.8.1.21"><h3>14.8.1.21 Item: VRULES</h3></a>
<a name="index_x_1001"></a>
<a name="index_x_1002"></a>
<a name="index_x_1003"></a>

<p><pre>
        ASK STRUCTURE struc_name, FIELD field_expr: VRULES str_var 
</pre>

<p>
<b>VRULES</b> returns the validation rules for the specified 
field in a string variable. 

<p>
You can refer to the "VALID" function item in 
Section A.2, Other Functions for information on validation rules. 

<p><pre>
        10  OPEN STRUCTURE cl : NAME 'tti_run:client' 
            ASK STRUCTURE cl, FIELD bday: VRULES str$ 
            PRINT str$ 
        20  END 
 
        RNH 
        date ymd; minlength 8 
</pre>

<a name="heading_14.8.2"><h2>14.8.2 ASK STRUCTURE: CURRENT</h2></a>
<a name="index_x_1004"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name: CURRENT str_var 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  DIM a$(100) 
            LET i = 0 
        20  OPEN STRUCTURE cl: NAME 'tti_run:client' 
        30  EXTRACT STRUCTURE cl 
            END EXTRACT 
        40  FOR EACH cl 
              PRINT cl(last); ', '; cl(first) 
              INPUT 'Would you like to see this record (Y/N)': yn$ 
              IF  yn$ = 'Y'  THEN    
                LET i = i + 1 
                ASK STRUCTURE cl: CURRENT a$(i) 
              END IF 
            NEXT cl 
        50  PRINT 
            FOR j = 1 TO i 
              SET STRUCTURE cl: CURRENT a$(j) 
              PRINT cl(last); ','; cl(first), cl(state), cl(phone) 
            NEXT j 
        60  END 
 
        RNH 
        Errant, Earl      Would you like to see this record (Y/N)? Y 
        Abott, Al         Would you like to see this record (Y/N)? Y 
        Brock, Bud        Would you like to see this record (Y/N)? N 
        Cass, Cathy       Would you like to see this record (Y/N)? N 
        Derringer, Dale   Would you like to see this record (Y/N)? Y 
        Farmer, Fred      Would you like to see this record (Y/N)? Y 
        Errant, Earl       CA       (408) 844-7676 
        Abott, Al          NY       (202) 566-9892 
        Derringer, Dale    CA       (818) 223-9014 
        Farmer, Fred       FL       (305) 552-7872 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
<b>ASK STRUCTURE: CURRENT</b> assigns the current record value 
to the <i>str_var</i>.  Once the current record has been assigned with 
ASK STRUCTURE: CURRENT, you can use the SET STRUCTURE: CURRENT statement 
to get this record. 

<p>
INTOUCH returns a zero length string if there is no CURRENT record. 
</dl>

<p>

<a name="heading_14.8.3"><h2>14.8.3 ASK STRUCTURE: FIELDS</h2></a>
<a name="index_x_1005"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name: FIELDS num_var 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE cl: NAME 'tti_run:client', ACCESS INPUT 
            ASK STRUCTURE cl: FIELDS z 
            PRINT z 
        20  END 
 
        RNH 
         18 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
You can find out the number of fields in a structure with the 
<b>ASK STRUCTURE: FIELDS</b> statement.  The number is assigned 
to the numeric variable <i>num_var</i>. 
</dl>

<p>

<a name="heading_14.8.4"><h2>14.8.4 ASK STRUCTURE: KEYS</h2></a>
<a name="index_x_1006"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name: KEYS num_var 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE cl: NAME 'tti_run:client', ACCESS INPUT 
            ASK STRUCTURE cl: KEYS z 
            PRINT z 
        20  END 
 
        RNH 
         2 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
The <b>ASK STRUCTURE: KEYS</b> statement returns the number of 
keys that are accessible by INTOUCH.  It returns the value of 0 if no keys 
are available. 
</dl>

<p>

<a name="heading_14.8.5"><h2>14.8.5 ASK STRUCTURE: CAPABILITY</h2></a>
<a name="index_x_1007"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name: CAPABILITY str_var 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE cl: NAME 'tti_run:client', ACCESS INPUT 
            ASK STRUCTURE cl: CAPABILITY z$ 
            PRINT z$ 
        20  END 
 
        RNH 
        INDEXED,INPUT 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
Given a structure expression, <b>ASK STRUCTURE: CAPABILITY</b>
sets <i>str_expr</i> to a comma delimited string containing one or 
more of the following:  INDEXED, RELATIVE, INPUT, OUTPUT 
<p><a name="table_14-1"></a>
<a name="index_x_1008"></a>
<table border>
  <caption><b>Table 14-1 Structure Types</b></caption>
  <tr>
    <th align=center>Structure Type </th>
    <th align=center>Description </th>
  </tr>
  <tr>
    <td>RELATIVE </td>
    <td>You can access a structure, using a relative record number, with statements such as ASK/SET STRUCTURE...RECORD.</td>
  </tr>
  <tr>
    <td>INDEXED </td>
    <td>The structure is indexed; you can access it by key with statements such as SET STRUCTURE...KEY.</td>
  </tr>
  <tr>
    <td>INPUT </td>
    <td>You can read from the structure.</td>
  </tr>
  <tr>
    <td>OUTPUT </td>
    <td>You can write to the structure.</td>
  </tr>
  <tr>
    <td>null string </td>
    <td>The structure is not currently open.</td>
  </tr>
</table>
</dl>

<p>

<a name="heading_14.8.6"><h2>14.8.6 ASK STRUCTURE: EXTRACTED</h2></a>
<a name="index_x_1009"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name: EXTRACTED num_var 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE cl: NAME 'tti_run:client' 
            EXTRACT STRUCTURE cl 
            END EXTRACT 
            ASK STRUCTURE cl: EXTRACTED z 
            PRINT 'Records found: '; z 
        20  END 
 
        RNH 
        Records found:  13 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
<b>ASK STRUCTURE: EXTRACTED</b> asks the operating system for 
the last extracted count for the structure specified. 
</dl>

<p>

<a name="heading_14.8.7"><h2>14.8.7 ASK STRUCTURE: ID</h2></a>
<a name="index_x_1010"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name: ID str_var 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  DECLARE STRUCTURE str 
            OPEN STRUCTURE cl: NAME 'tti_run:client' 
            ASK STRUCTURE cl: ID cl_id$ 
            SET STRUCTURE str: ID cl_id$ 
        20  EXTRACT STRUCTURE str 
            END EXTRACT 
            FOR EACH str 
              PRINT str(#1); '  '; str(#2) 
            NEXT str 
        30  END 
 
        RNH 
        20000 Smith 
        20001 Jones 
        20002 Kent 
        23422 Johnson 
        32001 Waters 
        43223 Errant 
        80542 Brock 
        80543 Cass 
        80544 Porter 
        80561 Derringer 
        80573 Farmer 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
The <b>ASK STRUCTURE: ID</b> statement asks the operating system 
for the ID of a structure and returns it in the string variable 
<i>str_var</i>. 
</dl>

<p>

<a name="heading_14.8.8"><h2>14.8.8 ASK STRUCTURE: POINTER</h2></a>
<a name="index_x_1011"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name: POINTER num_var 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE cl: NAME 'tti_run:client' 
            EXTRACT STRUCTURE cl 
            END EXTRACT 
            FOR EACH cl 
              ASK STRUCTURE cl: POINTER ptr 
              PRINT ptr, cl(last) 
            NEXT cl 
        20  END 
 
        RNH 
         1                Smith 
         2                Jones 
         3                Kent 
         4                Johnson 
         5                Waters 
         6                Errant 
         7                Brock 
         8                Cass 
         9                Porter 
         10               Derringer 
         11               Farmer 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
From within a FOR EACH...NEXT STRUCTURE_NAME block, 
<b>ASK STRUCTURE: POINTER</b> asks the structure for the 
number of the current record pointer.  
</dl>

<p>

<a name="heading_14.8.9"><h2>14.8.9 ASK STRUCTURE: RECORD</h2></a>
<a name="index_x_1012"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name: RECORD num_var 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE ml: NAME 'tti_run:maint_log' 
            EXTRACT STRUCTURE ml 
              ASK STRUCTURE ml: RECORD ml_rec 
              PRINT ml_rec, ml(cost) 
            END EXTRACT 
        20  END 
 
        RNH 
         1                      $450.00 
         2                    $3,200.00 
         3                      $370.00 
         4                    $1,200.00 
         5                      $600.00 
         6                      $770.00 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
<b>ASK STRUCTURE: RECORD</b> asks for the relative record number 
of the current record and places that number in the numeric variable given.  
</dl>

<p>

<a name="heading_14.8.10"><h2>14.8.10 ASK STRUCTURE: RECORDSIZE</h2></a>
<a name="index_x_1013"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name: RECORDSIZE int_var 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE cl: NAME 'tti_run:client' 
        20  ASK STRUCTURE cl: RECORDSIZE recsize 
        30  PRINT 'Logical recordsize: '; recsize 
        40  END 
 
        RNH 
        Logical recordsize:   400 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
The <b>ASK STRUCTURE: RECORDSIZE</b> statement returns the 
record size of the structure data file. 
</dl>

<p>

<a name="heading_14.8.11"><h2>14.8.11 ASK STRUCTURE: ACCESS</h2></a>
<a name="index_x_1014"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name: ACCESS str_var 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE inv: NAME 'tti_run:invoice', ACCESS INPUT 
        20  ASK STRUCTURE inv: ACCESS x$ 
        30  PRINT x$ 
        40  CLOSE STRUCTURE inv 
        50  END 
 
        RNH 
        SECURITY:N, READ:N, WRITE:N, UPDATE:N, DELETE:N                
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
The <b>ASK STRUCTURE: ACCESS</b> statement retrieves the access 
rules for the specified structure.  Security level, data file read, write, 
update, and delete rules are returned. 
</dl>

<p>

<a name="heading_14.8.12"><h2>14.8.12 ASK |SET STRUCTURE: TIMEOUT</h2></a>
<a name="index_x_1015"></a>
<a name="index_x_1016"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name: TIMEOUT int_var 
        SET STRUCTURE struc_name: TIMEOUT int_expr 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
The <b>ASK STRUCTURE: TIMEOUT</b> statement asks for the current 
TIMEOUT setting. 

<p>
The <b>SET STRUCTURE: TIMEOUT</b> statement is used when a record 
is locked for over the <i>int_expr</i>.  INTOUCH then returns a TIMEOUT 
error. 
</dl>

<p>

<a name="heading_14.8.13"><h2>14.8.13 ASK | SET STRUCTURE #string_expr . . .</h2></a>
<a name="index_x_1017"></a>
<a name="index_x_1018"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE #string_expr. . . 
        SET STRUCTURE #string_expr. . . 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE cl: NAME 'tti_run:client' 
            str$ = 'CL' 
            fld$ = 'ID' 
            do_work 
            STOP 
 
        20  ROUTINE do_work 
            ASK STRUCTURE #str$, FIELD #fld$: DESCRIPTION dsc$ 
            PRINT 'Description is: '; dsc$ 
            END ROUTINE 
        
        30  END 
 
        RNH 
        Description is: Client ID number 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
You can use a string expression for the structure name in an 
<b>ASK STRUCTURE #string_expr</b> or 
<b>SET STRUCTURE #string_expr</b> statement. 
This allows you to write generalized code to work for several structures. 
</dl>

<p>

<a name="heading_14.8.14"><h2>14.8.14 ASK STRUCTURE: ENGINE</h2></a>
<a name="index_x_1019"></a>
<h2>FORMAT:</h2>

<p><pre>
        ASK STRUCTURE struc_name : ENGINE str_var 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE cl : name 'tti_run:vendor' 
        20  ASK STRUCTURE  cl : ENGINE ename$ 
        30  PRINT 'DATABASE ENGINE is: '; ename$ 
        40  END 
 
        RNH 
        DATABASE ENGINE is: RMS 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
The <b>ASK STRUCTURE: ENGINE</b> statement returns the name 
of the database engine (record management system) being used for the 
specified structure in <i>str_var</i>. 
</dl>

<p>

<a name="heading_14.9"><h1>14.9 SET STRUCTURE</h1></a>
<a name="index_x_1020"></a>
<a name="index_x_1021"></a>
<a name="index_x_1022"></a>

<p>
The <b>SET STRUCTURE</b> statement is used to change various 
device and structure characteristics from within your programs. 

<p>
<h2>FORMAT:</h2>

<p><pre>
        SET STRUCTURE struc_name: struc_option [num_var | str_var] 
</pre>

<p>
SET STRUCTURE sets characteristics of structures.  <i>struc_name</i>
is the name of the structure whose characteristics are being set.  
<i>struc_option</i> is the option you are setting.  The options 
are explained in the following sections. 

<p>

<a name="heading_14.9.1"><h2>14.9.1 SET STRUCTURE: CURRENT</h2></a>
<a name="index_x_1023"></a>
<h2>FORMAT:</h2>

<p><pre>
        SET STRUCTURE struc_name: CURRENT str_expr 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  DIM a$(100) 
            LET i = 0 
        20  OPEN STRUCTURE cl: NAME 'tti_run:client' 
        30  EXTRACT STRUCTURE cl 
            END EXTRACT 
        40  FOR EACH cl 
              PRINT cl(last); ', '; cl(first) 
              INPUT 'Would you like to see this record (Y/N)': yn$ 
              IF  yn$ = 'Y'  THEN    
                LET i = i + 1 
                ASK STRUCTURE cl: CURRENT a$(i) 
              END IF 
            NEXT cl 
        50  PRINT 
            FOR j = 1 TO i 
              SET STRUCTURE cl: CURRENT a$(j) 
              PRINT cl(last); ','; cl(first), cl(state), cl(phone) 
            NEXT j 
        60  END 
 
        RNH 
        Errant, Earl      Would you like to see this record (Y/N)? Y 
        Abott, Al         Would you like to see this record (Y/N)? Y 
        Brock, Bud        Would you like to see this record (Y/N)? N 
        Cass, Cathy       Would you like to see this record (Y/N)? N 
        Derringer, Dale   Would you like to see this record (Y/N)? Y 
        Farmer, Fred      Would you like to see this record (Y/N)? Y 
        Errant, Earl       CA       (408) 844-7676 
        Abott, Al          NY       (202) 566-9892 
        Derringer, Dale    CA       (818) 223-9014 
        Farmer, Fred       FL       (305) 552-7872 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
The <b>CURRENT</b> option sets the current record to that 
specified by the <i>str_expr</i>.  The str_expr contains the 
information for the current record for the record management system 
you are using.  You can use ASK STRUCTURE: CURRENT to store a current 
record value into a string variable. 

<p>
When INTOUCH executes a SET STRUCTURE: CURRENT statement, it uses the 
structure name and sets the current record to the value specified by 
the string variable.  The structure must be open and str_expr must 
contain a value stored with the <b>ASK STRUCTURE: CURRENT</b>
statement. 

<p>
If you use a null string for the value, INTOUCH sets the structure 
to no current record and sets _EXTRACTED to zero. 

<p><pre>
        SET STRUCTURE struc_name: CURRENT '' 
</pre>

</dl>

<p>

<a name="heading_14.9.2"><h2>14.9.2 SET STRUCTURE, FIELD: KEY</h2></a>
<a name="index_x_1024"></a>
<h2>FORMAT:</h2>

<p><pre>
        SET STRUCTURE struc_name, FIELD field_expr: KEY str_expr 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE cl: NAME 'tti_run:client' 
            LINE INPUT 'Enter an ID': id$ 
            SET STRUCTURE cl, FIELD id: KEY id$ 
            IF  _EXTRACTED = 0  THEN 
               MESSAGE ERROR: 'Not found' 
            ELSE 
               PRINT cl(id), cl(last) 
            END IF 
        20  END 
 
        RNH 
        Enter an ID? 80561 
        80561               Derringer 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
The <b>FIELD</b> option lets you get a record by means of a key 
field in a structure.  You can use SETUP's "SHOW FIELDS" menu option 
(see Chapter 16, Creating Structures, Field Definitions with SETUP) to see the field names.  The FIELD option 
is currently used only with the <b>KEY</b> or 
<b>PARTIAL KEY</b> option.  The KEY option specifies the key 
to look for.  The key is contained in <i>str_expr</i>. 

<p>
The above example shows how to look in the CLIENT structure for an ID. 

<p>
_EXTRACTED contains the number of records extracted.  If the operation 
fails, _EXTRACTED will be 0 and an error message will be displayed. 
</dl>

<p>

<a name="heading_14.9.3"><h2>14.9.3 SET STRUCTURE, FIELD: PARTIAL KEY</h2></a>
<a name="index_x_1025"></a>
<h2>FORMAT:</h2>

<p><pre>
        SET STRUCTURE struc_name, FIELD field_expr: PARTIAL KEY str_expr 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE cl: NAME 'tti_run:client' 
            INPUT 'Name': name$ 
            SET STRUCTURE cl, FIELD last: PARTIAL KEY name$ 
            PRINT cl(id); ' '; cl(last) 
        20  END 
 
        RNH 
        Name? D 
        80561 Derringer 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
This statement retrieves the first record matching the partial key in 
<i>str_expr</i>. 
</dl>

<p>

<a name="heading_14.9.4"><h2>14.9.4 SET STRUCTURE: ID</h2></a>
<a name="index_x_1026"></a>
<h2>FORMAT:</h2>

<p><pre>
        SET STRUCTURE struc_name: ID str_expr 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  DECLARE STRUCTURE str 
            OPEN STRUCTURE cl: NAME 'tti_run:client' 
            ASK STRUCTURE cl: ID cl_id$ 
            SET STRUCTURE STR: ID cl_id$ 
        20  EXTRACT STRUCTURE str 
            END EXTRACT 
            FOR EACH str 
              PRINT str(#1); ' '; str(#2) 
            NEXT str 
        30  END 
 
        RNH 
        20000 Smith 
        20001 Jones 
        20002 Kent 
        23422 Johnson 
        32001 Waters 
        43223 Errant 
        80542 Brock 
        80543 Cass 
        80544 Porter 
        80561 Derringer 
        80573 Farmer 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
<b>SET STRUCTURE: ID</b> sets a structure to a structure ID that 
you have stored previously into a string variable with the 
<a name="index_x_1027"></a>
<b>ASK STRUCTURE: ID</b> statement.  Once you have used the 
SET STRUCTURE: ID statement, you can access the structure with the new 
structure name (STR in the example).  By using these statements, you can 
write generalized routines when you do not know which structure you are 
going to access until run time. 
</dl>

<p>

<a name="heading_14.9.5"><h2>14.9.5 SET STRUCTURE: POINTER</h2></a>
<a name="index_x_1028"></a>
<h2>FORMAT:</h2>

<p><pre>
        SET STRUCTURE struc_name: POINTER num_expr 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE cl: NAME 'tti_run:client' 
            EXTRACT STRUCTURE cl 
            END EXTRACT 
            SET STRUCTURE cl: POINTER 3 
            PRINT cl(id); ' ' ; cl(last) 
        20  END 
 
        RNH 
        20000 Kent 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
This statement sets the structure to the <i>nth</i> record extracted. 
The statement is useful after you have done an extract, because it provides 
random access to any record extracted.  There is no error message if there 
are no records extracted, or if the number given is out of range.  If 
the number is valid, _EXTRACTED is set to 1; otherwise, it is set to 0. 
</dl>

<p>

<a name="heading_14.9.6"><h2>14.9.6 SET STRUCTURE: RECORD</h2></a>
<a name="index_x_1029"></a>
<h2>FORMAT:</h2>

<p><pre>
        SET STRUCTURE struc_name: RECORD num_expr 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE ml: NAME 'tti_run:maint_log' 
            SET STRUCTURE ml: RECORD 3 
            PRINT ml(cost) 
        20  END 
 
        RNH 
            $370.00        
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
<b>SET STRUCTURE: RECORD</b> sets the structure to the record 
number given.  The statement works only for structures that support 
relative record access. 
</dl>

<p>

<a name="heading_14.9.7"><h2>14.9.7 SET STRUCTURE: EXTRACTED 0</h2></a>
<a name="index_x_1030"></a>
<h2>FORMAT:</h2>

<p><pre>
        SET STRUCTURE struc_name: EXTRACTED 0 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE vend: NAME 'tti_run:vendor' 
            SET STRUCTURE vend: EXTRACTED 0 
        20  END 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
Setting the number of records extracted to zero causes a new collection 
to be started. The <b>SET STRUCTURE struc_name : EXTRACTED 0</b> 
statement is used in conjunction with the 
<a name="index_x_1031"></a>
<b>EXTRACT STRUCTURE struc_name: APPEND</b> statement.  
</dl>

<p>

<a name="heading_14.9.8"><h2>14.9.8 SET STRUCTURE, SET, USING: EXPRESSION 'owner'</h2></a>
<a name="index_x_1032"></a>
<h2>FORMAT:</h2>

<p><pre>
        SET STRUCTURE struc_name1, SET 'set_name', USING struc_name2: EXPRESSION 'owner' 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE class: name 'devint:intest_dbms' 
        20  OPEN STRUCTURE part : name 'devint:intest_dbms' 
            SET STRUCTURE class, SET 'class_part', USING part: EXPRESSION 'owner' 
        30  END 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
<a name="index_x_1033"></a>
This statement used for DBMS handling, fetches the owner of the structure 
specified by <i>struc_name1</i>.  The structure specified by 
<i>struc_name2</i> is the owner of <i>struc_name1</i> with the 
set given in <i>set_name</i>. 
</dl>

<p>

<a name="heading_14.9.9"><h2>14.9.9 SET STRUCTURE, SET: EXPRESSION 'owner'</h2></a>
<a name="index_x_1034"></a>
<h2>FORMAT:</h2>

<p><pre>
        SET STRUCTURE struc_name1, SET 'set_name': EXPRESSION 'owner' 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE class: name 'devint:intest_dbms' 
        20  OPEN STRUCTURE part : name 'devint:intest_dbms' 
            SET STRUCTURE class, SET 'class_part': EXPRESSION 'owner' 
        30  END 
</pre>

<h2>DESCRIPTION:</h2>

<dl>
<dd>

<p>
<a name="index_x_1035"></a>
This statement is used for DBMS handling. 
</dl>

<p>

<a name="heading_14.9.10"><h2>14.9.10 SET STRUCTURE, SET, USING, FIELD: KEY</h2></a>
<a name="index_x_1036"></a>
<h2>FORMAT:</h2>

<p><pre>
        SET STRUCTURE struc_name1, SET 'set_name', USING 'struc_name2', 
                FIELD field_expr: KEY str_expr 
</pre>

<h2>EXAMPLE:</h2>

<p><pre>
        10  OPEN STRUCTURE class:  name 'devint:intest_dbms' 
        20  OPEN STRUCTURE part :  name 'devint:intest_dbms' 
            SET STRUCTURE class, SET 'class_part', USING part, FIELD &amp; 
              class_code: KEY cl_code$ 
        30  END 
</pre>

<h2>DESCRIPTION:</h2><a name="bottom_016"></a>
<p>
<hr> <a href="language_017.html">Next page...</a> | 
<a href="language_contents.html">Table of Contents</a>
</body>
</html>
