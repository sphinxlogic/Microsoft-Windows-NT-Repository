 





                   Hardware Information




                   supported platform. The sequence may or may not work on
                   other platforms, and may or may not work on the DIGITAL
                   Server 3300 platform.

                   Also see Section 5.32.

          _____________________________
          14.4.4.2  OpenVMS and Personal Workstation ATA (IDE) bootstrap?

                   OpenVMS will boot and is supported on the Personal
                   Workstation -au series platforms, though OpenVMS will
                   require a SCSI CD-ROM if the Intel Saturn I/O (SIO) IDE
                   chip is present in the configuration- only the Cypress
                   IDE controller chip is supported by OpenVMS for IDE
                   bootstraps.

                   If you have an -au series system, you can determine
                   which IDE chip you have using the SRM console command:

                     SHOW CONFIGURATION

                   If you see "Cypress PCI Peripheral Controller", you can
                   bootstrap OpenVMS from IDE storage. If you see "Intel
                   SIO 82378", you will need to use and bootstrap from
                   SCSI. (A procedure to load DQDRIVER on the Intel SIO-
                   once the system has bootstrapped from a SCSI device-is
                   expected to be included as part of the contents of the
                   DQDRIVER directory on Freeware V5.0 and later.)

                   Many of the -a series systems will include the Intel
                   SIO, and thus cannot bootstrap from IDE.

          _____________________________
          14.4.5  On the Intel Itanium IA-64 platform?

                   OpenVMS is being ported to the Intel IA-64
                   architecture; to HP systems based on the Intel Itanium
                   Processor Family.

                   The first release of OpenVMS I64 is V8.0, with the
                   first general release of OpenVMS I64 expected to be
                   V8.2.

                   Some Intel and HP terminology: Itanium Processor Family
                   is the name of the current implementation; of the
                   current Intel microprocessor family implementing the
                   IA-64 architecture. IA-64 is the name of the Intel

                                                                     14-23

 





                   Hardware Information




                   and HP architecture implementing the VLIW (Very Long
                   Instruction Word) design known as EPIC (Explicitly
                   Parallel Instruction Computing). I64 is the name of
                   a family of HP computer systems using Intel Itanium
                   processors.

          _____________________________
          14.4.5.1  Where can I get Intel Itanium information?

                   Intel Itanium Processor Family and IA-64 Architecture,
                   Hardware, Software, and related docoumentation
                   materials are available at:

                   o  ftp://download.intel.com/design/IA-64/manuals/

                   o  ftp://download.intel.com/design/IA-64/Downloads/

                   o  ftp://download.intel.com/design/IA-
                      64/Downloads/archSysSoftware.pdf

                   o  ftp://download.intel.com/design/IA-
                      64/Downloads/24870101.pdf

                   The Intel Extensible Firmware Interface (EFI) console
                   documentation:

          http://www.pentium.de/technology/efi/index.htm

                   Please see Section 14.4.5 for Intel Itanium
                   terminology.

          __________________________________________________________
          14.5  What is the least expensive system that will run OpenVMS?

                   The cheapest systems that are or have been recently
                   offered by HP that will run OpenVMS Alpha are the
                   AlphaServer DS10 server, the AlphaStation XP900
                   workstation, the AlphaStation VS10 workstation, and
                   the AlphaStation XP1000 workstation. Other companies
                   sell Alpha-powered systems and Alpha motherboards, some
                   of which will run (and can be purchased with) OpenVMS-
                   see the OpenVMS Software Product Description (SPD) for
                   details on the supported systems and configurations.
                   There are also many used AlphaStation, AlphaServer, and
                   DEC 3000 models available which are quite suitable.
                   For more experienced OpenVMS system managers, the

                   14-24

 





                   Hardware Information




                   (unsupported) Multia can bootstrap OpenVMS-see
                   Section 14.4.1 for details.

                   Depending on the OpenVMS version and configuration, the
                   OpenVMS Software Product Description (SPD) is available
                   at:

                   o  http://www.openvms.compaq.com/doc/

                   o  http://www.openvms.compaq.com/commercial/

                   When purchasing a system, ensure that the system
                   itself is supported, that the system disk drive is
                   supported or closely compatible, that the CD-ROM drive
                   is supported or is closely compatable and that (in the
                   case of SCSI devices) it also specifically supports
                   512 byte block transfers; no equivalent requirement
                   exists for IDE devices. Also particularly ensure that
                   the video controller is supported. Use of supported HP
                   hardware will generally reduce the level of integration
                   effort involved.

                   A CD-ROM, CD-R or DVD drive is required for OpenVMS
                   Alpha installations.

                   CD-ROM drive compatibility information is available at:

                   o  http://sites.inka.de/pcde/dec-cdrom-list.txt

          __________________________________________________________
          14.6  Where can I get more information on Alpha systems?

                   HP operates an AlphaServer information center at:

                   o  http://www.compaq.com/alphaserver/

          Alpha Technical information and documentation is available at:

                   o  ftp://ftp.compaq.com/pub/products/alphaCPUdocs/

                   o  http://h18000.www1.hp.com/products/software/alpha-
                      tools/

                   o  ftp://ftp.digital.com/pub/DEC/Alpha/systems/

                   o  http://ftp.digital.com/pub/Digital/info/semiconductor/literature/dsc-
                      library.html

                                                                     14-25

 





                   Hardware Information




                   o  Alpha Systems Update:
                      http://www.compaq.com/alphaserver/fb_acu.html

                   Software Product Description (SPD) information,
                   including platform support documentation:

                   o  http://www.compaq.com/info/spd/
                      OpenVMS typically uses SPD 25.01.xx and/or SPD
                      41.87.xx.

                   Information on Multia hardware is available at:

                   o  http://www.netbsd.org/Ports/alpha/multiafaq.html

                   Information on DEC 3000 series hardware is available
                   at:

                   o  http://www.phys.ufl.edu/~prescott/linux/alpha/dec3000-
                      sysinfo.html

                   o  http://www.phys.ufl.edu/~prescott/linux/alpha/dec3000-
                      docs.html

                   o  http://ftp.netbsd.org/pub/NetBSD/misc/dec-
                      docs/index.html

                   Information on current and future Alpha microprocessor
                   designs is also available from AlphaPowered at:

                   o  http://www.alphapowered.com/alpha_tomorrow.html

                   o  http://www.alphapowered.com/timeline.html

                   o  http://www.alphapowered.com/ev7-and-ev8.html

                   The NetBSD folks maintain useful Alpha hardware
                   information at:

                   o  http://www.netbsd.org/Ports/alpha/models.html





                   14-26

 





                   Hardware Information



          __________________________________________________________
          14.7  Describe Alpha instruction emulation and instruction
                subsets?

                   The Alpha architecture is upward- and downward-
                   compatible, and newer instructions are emulated on
                   older platforms, for those cases where the compiler
                   is explicitly requested to generate the newer Alpha
                   instructions.

                   In particular, OpenVMS Alpha V7.1 and later include the
                   instruction emulation capabilities necessary for the
                   execution of newer Alpha instructions on older Alpha
                   microprocessors. (Instruction emulation capabilities
                   are available for user-mode application code, and
                   are not available to device drivers or other similar
                   kernel-mode code.)

                   Alpha instructions are available in groups (or
                   subsets). Obviously, there is the base instruction set
                   that is available on all Alpha microprocessors. Then,
                   the following are the current instruction extension
                   groups (or subsets) that are available on some of
                   various recent Alpha microprocessors:

                   o  byte/word extension (BWX):
                      LDBU, LDWU, SEXTB, SEXTW, STB, and STW.

                   o  floating-point and square root extension (FIX):
                      FTOIS, FTOIT, ITOFF, ITOFS, ITOFT, SQRTF, SQRTG,
                      SQRTS, and SQRTT.

                   o  count extension (CIX):
                      CTLZ, CTPOP, and CTTZ.

                   o  multi-media extension (MVI):
                      MAXSB8, MAXSW4, MAXUB8, MAXUW4, MINSB8, MINSW4,
                      MINUB8, MINUW4, PERR, PKLB, PKWB, UNPKBL, and
                      UNPKBW.

                   The typical instruction subset that provides the
                   biggest win-and of course, your mileage may vary-is
                   typically the instruction set that is provided by the
                   EV56 and later; specifically, the byte-word instruction
                   subset. To select this subset, use the following:

                   /ARCHITECTURE=EV56/OPTIMIZE=TUNE=GENERIC

                                                                     14-27

 





                   Hardware Information




                   The /ARCHITECTURE controls the maximum instruction
                   subset that the compiler will generally use, while
                   the /OPTIMIZE=TUNE controls both the instruction-level
                   scheduling and also the instructions generated inside
                   loops-any code resulting from /OPTIMIZE=TUNE that is
                   specific to an instruction subset will be generated
                   only inside loops and will also be "protected" by
                   an AMASK-based test that permits the execution of
                   the proper code for the particular current Alpha
                   microprocessor.

                   Typically /OPTIMIZE=TUNE=GENERIC is the appropriate
                   choice for tuning, and the /ARCHITECTURE selects the
                   minimum target architecture for general use throughout
                   the generated code.

                   generated for later architectures and instruction
                   subsets will run on older Alpha systems due to the
                   emulation, but if /ARCHITECTURE is a significant
                   benefit, then the emulation might be a performance
                   penalty.

                   Please see the OpenVMS Ask The Wizard area for the
                   source code of a (non-privileged) tool that looks at
                   the instruction subsets available on the particular
                   Alpha microprocessor that the tool is run on. This tool
                   demonstrates the use of the Alpha AMASK and IMPLVER
                   instructions.

                   Please see Section 10.22 and Section 14.10 for
                   additional details and related considerations.

          __________________________________________________________
          14.8  What is the Accuracy of the Alpha Time of Year (BB_WATCH)
                Clock?

                   The specification for maximum clock drift in the Alpha
                   hardware clock is 50 parts per million (ppm), that
                   is less than ±0.000050 seconds of drift per second,
                   less than ±0.000050 days of drift per day, or less
                   than ±0.000050 years of drift per year, etc. (eg: An
                   error of one second over a day-long interval is roughly
                   11ppm, or 1000000/(24*60*60).) Put another way, this
                   is .005%, which is around 130 seconds per month or 26
                   minutes per year.

                   14-28

 





                   Hardware Information




                   The software-maintained system time can drift more than
                   this, primarily due to other system activity. Typical
                   causes of drift include extensive high-IPL code (soft
                   memory errors, heavy activity at device IPLs, etc) that
                   are causing the processing of the clock interrupts to
                   be blocked.

                   Also see Section 14.15, Section 4.3.

          __________________________________________________________
          14.9  So how do I open up the DEC 3000 chassis?

                   After removing those two little screws, tilt the back
                   end of the top shell upwards-then you can remove the
                   lid.

          __________________________________________________________
          14.10  What is byte swizzling?

                   "Swizzling" is the term used to describe the operation
                   needed to do partial longword (i.e. byte or word)
                   accesses to I/O space on those systems that don't
                   support it directly. It involved shifting the offset
                   into an address space by 5 (or 7 for one older system),
                   and ORing this into the base address. It then required
                   the size of the operation to be ORed into the low order
                   bits.

                   That is, because the EV4 and EV5 CPUs did not bring
                   bits 0 and 1 off the chip, to do programmed I/O for
                   bytes/words, the information on the size/offset of the
                   transfer was encoded into the address data. The data
                   itself then had to be shifted into the correct "byte
                   lane" (i.e. its actual position within a longword).

                   The EV56 CPU supports the byte/word instructions
                   however only some EV56 systems support byte/word
                   accesses to I/O space. Even on an EV56 system that
                   supports byte/word accesses to I/O space, the relevant
                   OpenVMS routines do not support byte/word access to I/O
                   space.

                   EV6 systems (with the exception of the AlphaServer GS60
                   and AlphaServer GS140 series, for reasons of platform
                   compatability) support a flat, byte addressable I/O
                   space.

                                                                     14-29

 





                   Hardware Information




                   If a device driver uses CRAM or IOC$WRITE_IO/IOC$READ_
                   IO, then OpenVMS will do the right thing without
                   changing the driver - OpenVMS will swizzle and
                   unswizzle as needed.

                   To use byte/word operations on MEMORY, you need to
                   tell the compiler to use the EV56 or EV6 architecture
                   (/ARCHITECTURE=EV56). Memory operations did not
                   swizzle, but the compiler would do long/quad
                   access, and extract/insert bytes as needed. Using
                   /ARCHITECTURE=EV56 allows smaller, more efficient
                   byte/word access logic to memory.

                   If the application is directly doing I/O space access
                   across a range of Alpha systems (like the graphics
                   servers), then the driver will need to know how to do
                   swizzling for old platforms, and byte access for new
                   platforms.

                   Please see Section 10.22 and Section 14.7 for
                   additional details and related considerations.

          __________________________________________________________
          14.11  What is the layout of the VAX floating point format?

                   The VAX floating point format is derived from one
                   of the PDP-11 FP formats, which helps explain its
                   strange layout. There are four formats defined: F 32-
                   bit single-precision, D and G 64-bit double-precision
                   and H 128-bit quadruple precision. For all formats,
                   the lowest addressed 16-bit "word" contains the sign
                   and exponent (and for other than H, some of the most
                   significant fraction bits). Each successive higher-
                   addressed word contains the next 16 lesser-significant
                   fraction bits. Bit 15 of the first word is the sign, 1
                   for negative, 0 for positive. Zero is represented by
                   a biased exponent value of zero and a sign of zero;
                   the fraction bits are ignored (but on Alpha, non-
                   zero fraction bits in a zero value cause an error.)
                   A value with biased exponent zero and sign bit 1 is
                   a "reserved operand" - touching it causes an error -
                   fraction bits are ignored. There are no minus zero,
                   infinity, denormalized or NaN values.

                   14-30

 





                   Hardware Information




                   For all formats, the fraction is normalized and the
                   radix point assumed to be to the left of the MSB, hence
                   the following range: 0.5 less than or equal to f and
                   less than 1.0. The MSB, always being 1, is not stored.
                   The binary exponent is stored with a bias varying with
                   type in bits 14:n of the lowest-addressed word.

                     FP      Exponent    Exponent    Mantissa (Fraction) bits,
                     Type      Bits        Bias        including hidden bit
                     ==========================================================
                      F         8           128              24
                      D         8           128              56
                      G        11          1024              53
                      H        15         16384             113

                   The layout for D is identical to that for F except for
                   32 additional fraction bits.

                   Example: +1.5 in F float is hex 000040C0 (fraction of
                   .11[base 2], biased exponent of 129)

          __________________________________________________________
          14.12  Where can I find more info about VAX systems?

                   o  HP runs a VAX "InfoCenter" at:
                      http://www.compaq.com/alphaserver/vax/

                   o  Jim Agnew maintains a MicroVAX/VAXstation FAQ at:
                      http://anacin.nsc.vcu.edu/~jim/mvax/mvax_faq.html

                   o  The VAXstation 3100 Owner's Guide:
                      http://www.whiteice.com/~williamwebb/intro/DOC-
                      i.html

                   o  A field guide to PDP-11 (and VAX) Q-bus and UNIBUS
                      modules can be found at:
                      http://metalab.unc.edu//pub/academic/computer-
                      science/history/pdp-11/hardware/field-guide.txt

                   o  Various VAX historical information (also see
                      Section 2.1) can be found at:
                      http://telnet.hu/hamster/vax/e_index.html


                                                                     14-31

 





                   Hardware Information



          __________________________________________________________
          14.13  Where can I find information on NetBSD for VAX systems?

                   Gunnar Helliesen maintains a NetBSD VAX FAQ at
                   http://vaxine.bitcon.no/.

          __________________________________________________________
          14.14  What system disk size limit on the MicroVAX and
                 VAXstation 3100?

                   System disks larger than 1.073 gigabytes (GB)-1fffff
                   hexidecimal blocks - are not supported on any member of
                   the VAXstation 3100 series and on certain older members
                   of the MicroVAX 3100 series, and are not reliable
                   on these affected systems. (See below to identify
                   the affected systems-the more recent members of the
                   MicroVAX 3100 series systems are NOT affected.)

                   Various of the SCSI commands used by the boot drivers
                   imbedded in the console PROM on all members of the
                   VAXstation 3100 series use "Group 0" commands, which
                   allow a 21 bit block number field, which allows access
                   to the first 1fffff hexidecimal blocks of a disk. Any
                   disk references past 1fffff will wrap-this wrapping
                   behaviour can be of particular interest when writing a
                   system crashdump file, as this can potentially lead
                   to system disk corruptions should any part of the
                   crashdump file be located beyond 1.073 GB.

                   More recent systems and console PROMs use "Group 1"
                   SCSI commands, which allow a 32 bit block number field.

                   There was a similar limitation among the oldest of
                   the MicroVAX 3100 series, but a console boot PROM
                   was phased into production and was made available for
                   field retrofits-this PROM upgrade allows the use of the
                   "Group 1" SCSI commands, and thus larger system disks.
                   There was no similar PROM upgrade for the VAXstation
                   3100 series.

                   Systems that are affected by this limit:

                   o  VAXstation 3100 series, all members. No PROM upgrade
                      is available.

                   o  MicroVAX 3100 models 10 and 20. No PROM upgrade is
                      available.

                   14-32

 





                   Hardware Information




                   o  MicroVAX 3100 models 10e and 20e. Only systems with
                      console VMB versions prior to V6.4 are affected. A
                      PROM upgrade for these specific systems is (or was
                      once) available.

                   Also see
                   http://www.whiteice.com/~williamwebb/intro/DOC-i.html

                   Also see Section 9.5.

          __________________________________________________________
          14.15  What is the Accuracy of VAX the Time of Year (TOY) Clock?

                   The VAX Time-Of-Year (TOY) clock (used to save the time
                   over a reboot or power failure) is specified as having
                   an accuracy of 0.0025%. This is a drift of roughly 65
                   seconds per month.

                   The VAX Interval Time is used to keep the running time,
                   and this has a specified accuracy of .01%. This is a
                   drift of approximately 8.64 seconds per day.

                   Any high-IPL activity can interfere with the IPL 22
                   or IPL 24 (this depends on the VAX implementation)
                   clock interrupts-activities such as extensive device
                   driver interrupts or memory errors are known to slow
                   the clock.

                   Also see Section 14.8, Section 4.3.

          __________________________________________________________
          14.16  What are the VAX processor (CPU) codes?












                                                                     14-33

 





                   Hardware Information




                      CPU:    Platform:
                      -----   ---------
                      KA41-A : MicroVAX 3100 Model 10 and 20
                      KA41-B : VAXserver 3100 Model 10 and 20
                      KA41-C : InfoServer
                      KA41-D : MicroVAX 3100 Model 10e and 20e
                      KA41-E : VAXserver 3100 Model 10e and 20e
                      KA42-A : VAXstation 3100 Model 30 and 40
                      KA42-B : VAXstation 3100 Model 38 and 48
                      KA43-A : VAXstation 3100 Model 76
                      KA45   : MicroVAX 3100 Model 30 and 40
                      KA46   : VAXstation 4000 Model 60
                      KA47   : MicroVAX 3100 Model 80
                      KA48   : VAXstation 4000 VLC
                      KA49-A : VAXstation 4000 Model 90/90A
                      KA49-B : VAXstation 4000 Model 95
                      KA49-C : VAXstation 4000 Model 96
                      KA50   : MicroVAX 3100 Model 90
                      KA51   : MicroVAX 3100 Model 95
                      KA52   : VAX 4000 Model 100
                      KA53   : VAX 4000 Model 105
                      KA54   : VAX 4000 Model 106
                      KA55   : MicroVAX 3100 Model 85
                      KA56   : MicroVAX 3100 Model 96
                      KA57   : VAX 4000 Model 108
                      KA58   : MicroVAX 3100 Model 88
                      KA59   : MicroVAX 3100 Model 98
                      KA85   : VAX 8500
                      KA86   : VAX 8600
                      KA88   : VAX 8800
                      KA600  : VAX 4000-50 (aka VAXbrick)
                      KA610  : MicroVAX I, VAXstation I (aka KD32)
                      KA620  : rtVAX (VAXeln)
                      KA62A  : VAX 6000-200
                      KA62B  : VAX 6000-300
                      KA630  : MicroVAX II, VAXstation II
                      KA640  : MicroVAX 3300, MicroVAX 3400
                      KA650  : VAXstation 3200, MicroVAX 3500, MicroVAX 3600, MicroVAX III
                      KA64A  : VAX 6000-400
                      KA655  : MicroVAX 3800, MicroVAX 3900, MicroVAX III+
                      KA65A  : VAX 6000-500
                      KA660  : VAX 4000-200, VAX 4 upgrade
                      KA66A  : VAX 6000-600

                   14-34

 





                   Hardware Information




                      KA670  : VAX 4000-300
                      KA675  : VAX 4000-400
                      KA680  : VAX 4000-500
                      KA681  : VAX 4000-500A
                      KA690  : VAX 4000-600
                      KA691  : VAX 4000-605A
                      KA692  : VAX 4000-700A
                      KA693  : VAX 4000-605A
                      KA694  : VAX 4000-705A
                      KA730  : VAX-11/730
                      KA750  : VAX-11/750
                      KA780  : VAX-11/780, VAX-11/782
                      KA785  : VAX-11/785
                      KA7AA  : VAX 7000-600
                      KA7AB  : VAX 7000-700
                      KA7AC  : VAX 7000-800
                      KA800  : VAXrta
                      KA820  : VAX 8200, VAX 8300
                      KA825  : VAX 8250, VAX 8350
                      KA865  : VAX 8650

          __________________________________________________________
          14.17  Where can I get software and hardware support
                 information?

                   Please contact the HP Customer Support Center. Services
                   and information, manuals, guides, downloads, and
                   various other information is available via the support
                   link at:

                   o  http://www.hp.com/products/openvms/

                   Various hardware and system documentation is available
                   at:

                   o  http://www.compaq.com/support/techpubs/user_
                      reference_guides/

                   o  http://www.adenzel.demon.nl/vaxes/microvax3100/

                   o  http://www.adenzel.demon.nl/vaxes/infoserver150/



                                                                     14-35

 





                   Hardware Information




                   TSM (Terminal Server Manager), DEChub, DECserver, etc.
                   information:

                   o  http://www.compaq.com/support/digital_networks_
                      archive/

                   The owner and maintainer of current DECserver and
                   related hardware is DIGITAL Network Products Group
                   (DNPG):

                   o  http://www.dnpg.com/

          __________________________________________________________
          14.18  Where can I get hardware self-maintenance support
                 assistance?

                   The HP Assisted Services (CAS) program (a direct
                   descendent of the program once known as DECmailer)
                   is available to customers that wish to maintain their
                   own system(s) (self-maintenance), but that wish some
                   level of assistance in acquiring hardware diagnostics
                   and hardware manuals for the system(s), and that wish
                   to have access to spares and module-level repairs for
                   customer-performed hardware module swaps:

                   o  http://www.compaq.com/CAS-Catalog/

          __________________________________________________________
          14.19  Why does my system halt when I power-cycle the console
                 terminal?

                   Various VAX and Alpha consoles are designed to process
                   the BREAK signal, treating it as a HALT request.

                   A BREAK is a deliberately-generated serial line framing
                   error.

                   When a serial line device such as a terminal
                   powers up (or sometimes when powering down) it can
                   generate framing errors. These framing errors are
                   indistingushable from a BREAK signal.

                   When a BREAK is received on a serial line console
                   for various VAX systems-including most VAXstation,
                   MicroVAX, and VAX 4000 series-it is typically
                   interpreted as a HALT. Alpha systems will also often

                   14-36

 





                   Hardware Information




                   process a BREAK in a similar fashion, halting the
                   system.

                   There is no uniform or generally-available way to
                   disable this behaviour on every VAX or Alpha system. On
                   some systems, BREAK processing can be disabled in favor
                   of [CTRL/P], or [CTRL/P] is the only way to halt the
                   processor.

                   The most common way to avoid these halts is to disable
                   the serial line console or to simply not power-cycle
                   the console terminal. There is certain important
                   system state information that is displayed only on
                   the console, OpenVMS expects to always have access to
                   the system console.

                   Also see Section 5.5.

          __________________________________________________________
          14.20  Can I reuse old keyboards, mice and monitors with a PC?

                   Older HP keyboards (those with the DIGITAL logo and
                   the RJ modular jacks), older HP mice (those with the
                   DIGITAL logo and with the RJ modular jacks, or with
                   a DIN connector with pins in a configuration other
                   than the PC-standard DIN connector pin orientation),
                   and older video monitors (with RGB synch-on-green
                   video signaling) all use signaling formats and/or
                   communications protocols that differ from the PC
                   standards, and are not (easily) interchangable nor
                   (easily) compatible with typical PC peripheral device
                   controllers. The LK201 and LK401 keyboards, the VSXXX
                   series mice, the VR260 and VR290 monitors, etc., are
                   incompatible with most PC systems and with most KVM
                   switches.

                   Newer HP (and Compaq) keyboards (those with with PC-
                   style DIN plugs, and the HP, Compaq or DIGITAL logo),
                   newer HP mice (with PC-pin DIN plugs, and the HP,
                   Compaq or DIGITAL logo), and newer video monitors
                   (multi-synch) are often interchangeable with "industry
                   standard" PC systems, and can often be used with
                   most PC peripheral device controllers. LK461, LK463,
                   LK46W, LK471, PC7XS-CA, VRC16, VRC21, TFT-series LCD
                   flat-panel displays, etc., are typically reasonably
                   compatible with most PC systems, and will usually

                                                                     14-37

 





                   Hardware Information




                   perform as expected within the limits of the hardware.
                   (For details of CRT and LCD display compatibility,
                   please see Section 14.21.)

                   Rule of thumb: if the peripheral device component
                   was sold for use with the DEC 2000 (DECpc 150 AXP),
                   an AlphaServer series, an AlphaStation series, or a
                   more recent Alpha system, it will probably work with a
                   PC peripheral controller or with a PC-compatible KVM
                   switch. If the peripheral device component was sold
                   for use with an VT420 or older terminal, most VAX, most
                   VAXstation, and most Alpha systems with names in the
                   format DEC [four-digit-number], it probably won't work
                   on a PC system or with a PC-compatible KVM.

                   Note that the above is a general guideline, and should
                   not be read to indicate that any particular peripheral
                   device will or will not work in any particular
                   configuration, save for those specific configurations
                   the device is explicitly supported in.

                   Software Integrators sells a video adapter card
                   called Gemini P1 which will drive many of the older
                   HP (DIGITAL-logo) fixed-frequency monitors on a PC
                   system:

                   o  http://www.si87.com/

                   The DIGITAL part number 29-32540-01 converts the output
                   from the RGB cable (3 BNC, synch-on-green) that comes
                   with the VAXstation 3100 and VAXstation 4000 series to
                   a female SVGA D connector.

                   This adapter will allow PC multisync monitors with
                   the needed frequency specifications to be used with
                   the VAXstation series synch-on-green video connection.
                   It may well also work with a VAXstation 2000 series
                   systems, but specifics and performance of that
                   combination are not immediately known at this writing.

                   The protocol definition for the old DIGITAL keyboard
                   and mouse interfaces is buried at the back of the QDSS
                   section in the old VAXstation II manual, specifically,
                   in the back of the VCB02 Video Subsystem Technical
                   Manual (EK-104AA-TM). The keyboard wiring and protocol

                   14-38

 





                   Hardware Information




                   is in appendix B, and occupies circa 44 pages. The
                   mouse is in appendix C, circa 12 pages.

                   Also see Section 14.21.

          __________________________________________________________
          14.21  Which video monitor works with which graphics controller?

                   To determine the answer to the "will this video monitor
                   or this LCD panel work with this graphics controller?"
                   question, please first locate the resolution(s) and the
                   frequencies that are possible/supported at both ends
                   of the video cable (on the display and on the graphics
                   controller, in other words), and then determine if
                   there are any matching settings available. If there are
                   multiple matches, you will need to determine which one
                   is most appropriate for your needs.

                   You will also need to determine if the video monitor or
                   graphics controller requires the 3 BNC signaling with
                   the synchronization signals on the green wire, or the 5
                   BNC signalling common on many PCs, or other connections
                   such as the DB15 video connector or USB connector used
                   on various systems.

                   If there are no matches, you will likely need to change
                   the hardware at one or both ends of the video cable.

                   The refresh frequencies for many devices have been
                   posted to comp.os.vms and/or other newsgroups. Search
                   the archives for details. Also see:

                   o  http://www.repairfaq.org/

                   o  http://www.mirage-mmc.com/faq/

                   o  http://www.geocities.com/SiliconValley/Foothills/4467/fixedsync.html

                   o  http://saturn.tlug.org/sunstuff/ffmonitor.html

                   o  http://hawks.ha.md.us/hardware/monitor.html

                   LCD-based and plasma-based flat-panel displays are
                   generally compatible with all recent OpenVMS Alpha
                   systems and supported graphics controllers. For
                   best results, you should generally set the graphics
                   controller to match the native LCD or plasma display
                   resolution and (for LCD displays) also set the

                                                                     14-39

 





                   Hardware Information




                   controller refresh rate to 60Hz. Check your graphics
                   controller and your display documentation for any
                   device-specific requirements and/or configuration
                   recommendations.

                   Also see Section 14.20.

          __________________________________________________________
          14.22  Where can I get information on storage hardware?

                   Information on various HP (Compaq, DIGITAL) OpenVMS
                   and other disk storage hardware and controllers, and
                   related technical information on SCSI, device jumpers,
                   etc., is available at:

                   o  http://theref.aquascape.com/

                   Note: the above website appears to have become
                   unavailable, and the FAQ maintainer is unaware of
                   a new server. You may or may not have some success
                   looking for this or other now-unavailable sites using
                   the world-wide web archives at:

                   o  http://www.archive.org/

          __________________________________________________________
          14.23  Why does my LK401 keyboard unexpectedly autorepeat?

                   There are several modes of failure:

                   o  Pressing 2 and 3 keys at the same time causes
                      one key to autorepeat when released. Check the
                      hardware revision level printed on the bottom of
                      the keyboard. If the revision level is C01, the
                      keyboard firmware is broken. Call field service to
                      replace the keyboard with any revision level other
                      than C01.

                   o  Pressing certain keys is always broken. Typical
                      symptoms are: delete always causes a autorepeat,
                      return needs to be pressed twice, etc. This is
                      frequently caused by having keys depressed while
                      the keyboard is being initialized. Pressing ^F2
                      several times or unplugging and replugging the
                      keyboard frequently fix this problem. (Ensure you
                      have current ECO kits applied; there is a patch
                      available to fix this problem.)

                   14-40

 





                   Hardware Information




                   o  A key that was working spontaneously stops working
                      correctly. This may be either of the two previous
                      cases, or it may be bad console firmware. Ensure
                      that you have the most recent firmware installed
                      on your Alpha system. In particular, an old version
                      of the DEC 3000 SRM firmware is known to have a bug
                      that can cause this keyboard misbehaviour.

          __________________________________________________________
          14.24  Problem - My LK411 sends the wrong keycodes or some keys
                 are dead

                   Check the firmware revision on the keyboard. Hardware
                   revision B01 introduced an incompatability with the
                   device driver which causes the keyboard to not be
                   recognized correctly. There is a patch available to
                   fix this problem: [AXPDRIV06_061] - the fix is also
                   included in OpenVMS V6.2. The rev A01 keyboard, and the
                   LK450 should work without problems.

                   If you are working from another operating system
                   platform, please see the DECxterm tool and related
                   information on OpenVMS Freeware V5.0.

          __________________________________________________________
          14.25  Which DE500 variant works with which OpenVMS version?

                   Ensure you have a version of the Alpha SRM console
                   with support for the DE500 series device. Apply ALL
                   mandatory ECO kits for the OpenVMS version in use, and
                   also apply the CLUSIO, ALPBOOT, and ALPLAN kits, and
                   apply any available ALPCPU ECO kit for the platform.

                   o  DE500-XA
                      auto-detection, no auto-negotiation,
                      OpenVMS V6.2-1H1 and ALPBOOT ECO, also V7.0 and
                      later and ECO.
                      Device hardware id 02000011 and 02000012.
                      Component part number 54-24187-01

                   o  DE500-AA
                      auto-detection, auto-negotiation,
                      OpenVMS V6.2 and ALPBOOT and ALPLAN ECOs, or V7.1
                      and later and ECO.
                      Device hardware id 02000020 and 20000022.
                      Component part number 54-24502-01

                                                                     14-41

 





                   Hardware Information




                   o  DE500-BA
                      auto-detection, auto-negotiation,
                      OpenVMS V6.2-1H3 and CLUSIO, ALPBOOT, ALPLAN and
                      ALPCPU ECOs, or V7.1-1H1 or later and ECO.
                      Device hardware id 02000030 (check connector, vs
                      DE500-FA) (other values on old Alpha SRM firmware)
                      Component part number 54-24602-01

                   o  DE500-FA (100 megabit fibre optic Ethernet)
                      OpenVMS V7.1-1H1 and later
                      Device hardware id 02000030 (check connector, vs
                      DE500-BA) (other values possible on old Alpha SRM
                      firmware)
                      Component part number 54-24899-01

                   To check the DE500 device hardware id from OpenVMS, use
                   the following command:

                   $ ANALYZE/SYSTEM
                   SDA> SHOW LAN/DEVICE=EWcu:

                   The "hardware id" will be displayed.

                   To set the DE500 speed via the Alpha SRM console
                   environment variable:

                      EWx0_MODE setting           Meaning
                      --------------------------  --------------------------------
                      Twisted-Pair                10 Mbit/sec, nofull_duplex
                      Full Duplex, Twisted-Pair   10 Mbit/sec, full_duplex
                      AUI                         10 Mbit/sec, nofull_duplex
                      BNC                         10 Mbit/sec, nofull_duplex
                      Fast                        100 Mbit/sec, nofull_duplex
                      FastFD (Full Duplex)        100 Mbit/sec, full_duplex
                      Auto-Negotiate              Negotiation with remote device

                   To override the console setting and use LANCP:

                   $ RUN SYS$SYSTEM:LANCP
                   LANCP> SET DEV EWA0/SPEED=10
                   LANCP> SET DEV EWA0/SPEED=100/full_duplex

                   Fast Ethernet (100Base, 100 megabit) controllers
                   such as the DE500 series have a pair of connections
                   available-while traditional Ethernet (10Base, 10
                   megabit) is inherently a half-duplex protocol, Fast
                   Ethernet can be configured to use one or both of the

                   14-42

 





                   Hardware Information




                   available connections, depending on the controller.
                   Fast Ethernet can thus be half- or full-duplex
                   depending on the configuration and the capabilities
                   of the network controller and the Ethernet network
                   plant. Some Fast Ethernet controllers can also operate
                   at traditional Ethernet speeds, these controllers are
                   thus often refered to as 10/100 Ethernet controllers.

          __________________________________________________________
          14.26  Third-party disk/tape/controllers/SCSI/widgets on
                 OpenVMS?

                   A wide variety of third-party widgets-SCSI and ATA
                   (IDE) disks and tapes, graphics controllers, etc-are
                   obviously widely available and are used on various
                   platforms.

                   If you purchase third-party "generic" SCSI or ATA
                   (IDE) storage devices, you and your device vendor
                   will be responsible for the testing and the support
                   of the devices. In general, you can expect that Compaq
                   will address non-standards-compliance problems within
                   OpenVMS (changes that will also not prevent operations
                   with other supported devices, of course), but you
                   and/or the device vendor and/or the device manufacturer
                   are responsible for finding and fixing problems in
                   the particular third-party device and or controller
                   involved.

                   In particular, realize that neither SCSI nor ATA (IDE)
                   is a particularly standard interface, these interfaces
                   tend to be a collection of optionally-implemented and
                   standardized interface features. You should not and can
                   not simply assume that all SCSI nor ATA (IDE) storage
                   devices are interchangeable. If you want to try to use
                   a generic SCSI device, use V6.2 or later, or (better)
                   V7.1-2 or later. If you wish to try to use ATA (IDE),
                   use OpenVMS V7.1-2 or later.

                   On older OpenVMS releases, see the disk capacity limits
                   (Section 9.5).

                   With SCSI disks on releases prior to V6.2, ensure
                   that you have the ARRE and ARWE settings configured
                   correctly (disabled). (If not, you will see DRVERR
                   fatal drive errors and error log entries.)

                                                                     14-43

 





                   Hardware Information




                   Some SCSI disks set the medium type byte as part of
                   the SCSI size field-this is a SET CAPACITY extension to
                   SCSI specs. This problem also applies to VAX V7.1 and
                   later.

                   Disks with SCSI disk sizes past 8.58 GB and/or with
                   the SET CAPACITY extension require ALPSCSI07 ECO or the
                   OpenVMS Alpha V7.1-2 or later release. (See Section 9.5
                   for further details.)

                   Based on the displays of the (undocumented)
                   SYS$ETC:SCSI_INFO tool; this tool is present in OpenVMS
                   V6.2 and later:

                       Issuing 6-byte MODE SENSE QIOW to get current values for page 01h
                              Page Code ................. 01h
                              Page Name ................. Read-Write Error Recovery
                              Saveable .................. Yes
                              Size ...................... 10
                              Hex Data .................. E6 08 50 00 00 00 08 00
                                                          00 00

                   The E6 indicates that the AWRE and ARRE bits are set,
                   and this is not acceptable on OpenVMS versions prior to
                   V6.2. Further along in the SCSI_INFO display, if you
                   also see:

                       Issuing 6-byte MODE SENSE QIOW to get changeable values for page 81h
                              Page Code ................. 01h
                              Page Name ................. Read-Write Error Recovery
                              Saveable .................. Yes
                              Size ...................... 10
                              Hex Data .................. C0 08 50 00 00 00 08 00
                                                          00 00

                   The C0 value means that the AWRE and ARRE values can
                   be changed on this particular SCSI device. (This is
                   not always the case.) Use RZDISK from the OpenVMS
                   Freeware, and reset the E6 flag byte to hexadecimal
                   26 (or whatever the remaining mask when you remove bits
                   C0) on page one.

                   Each SCSI and ATA (IDE) host contains non-trivial
                   SCSI and IDE driver software, and each device contains
                   equally non-trivial firmware- taken together with the
                   mechanical and electronic components, this software

                   14-44

 





                   Hardware Information




                   and firmware will determine whether or not a particular
                   device will function as expected.

                   Also note that various devices-such as various SCSI
                   CD-R devices -can implement and can require vendor-
                   specific protocol extensions, and these extensions can
                   require modifications to OpenVMS or the addition of
                   various utilities. In various of these cases, these
                   devices perform functions that will require them to
                   use SCSI or ATA (IDE) commands that are (hopefully)
                   architecturally-compatible SCSI or ATA (IDE) command
                   extensions. (Also see Section 7.1 and Section 9.7.)

                   In order for OpenVMS to officially support a particular
                   device, integration and testing work is mandated. There
                   can be no certainty that any particular device will
                   operate as expected in any particular configuration
                   without first performing this (non-trivial) work.

                   It is quite possible to find two devices-both entirely
                   compliant with applicable standards or interface
                   documents-that will not interoperate.

                   The same general statement holds for OpenVMS
                   bootstrapping on an unsupported VAX or Alpha platform.
                   It might or might not work. In particular, please see
                   the OpenVMS Software Product Description (SPD) for
                   the list of platforms supported by OpenVMS. OpenVMS
                   is not supported on the Personal Workstation -a
                   series, on the Digital Server series platforms, on
                   the AlphaServer 2100 series 5/375 CPU, on the Multia,
                   on the AlphaServer DS20L, and on a variety of other
                   platforms. (You might or might not see success booting
                   OpenVMS on any of these platforms.)

          _____________________________
          14.26.1  Lists of third-party widgets on OpenVMS?

                   Various folks have successfully used common third-party
                   disk disk devices with OpenVMS, such as the ATA (IDE)
                   and SCSI variants of the Iomega Zip250 removable disk
                   device.


                                                                     14-45

 





                   Hardware Information




                   Common SCSI CD-R/CD-RW devices such as the Plextor
                   PlexWriter 12/10/32S SCSI series and the HP DVD200i
                   series (recording CD-R) have also been successfully
                   utilized with various AlphaStation and VAXstation
                   systems, and with tools such as CDRECORD. (A Plextor
                   PlexWriter burn of 614400000 bytes (300000 sectors)
                   requires just over six minutes at 12x, using an
                   AlphaStation XP1000 666 MHz EV67 system UltraSCSI
                   host.)

                   If you choose to attempt to use third-party devices,
                   ensure that you have the most current OpenVMS version
                   and the most current ECO kit(s) applied. In the
                   specific case of the ATA (IDE) Iomega Zip250 drive,
                   ensure that you have the most current revision of
                   SYS$DQDRIVER installed.

          _____________________________
          14.26.2  Are the 2X-KZPCA-AA and SN-KZPCA-AA LVD Ultra2 SCSI?

                   Yes. Both of these controllers are Ultra2 low-voltage
          _________differential_(LVD)_SCSI controllers.

          14.26.3  Resolving DRVERR fatal device error?

                   If this is on an OpenVMS version prior to V6.2, please
                   see the AWRE and ARRE information included in section
                   Section 14.26.

          __________________________________________________________
          14.27  Looking for connector wiring pinouts?

                   The DECconnect DEC-
          423 Modified Modular Jack (MMJ) pinout:

                     1: Data Terminal Ready (DTR)
                     2: Transmit (TXD)
                     3: Transmit Ground (TXD-)
                     4: Receive Ground (RXD-)
                     5: Receive (RXD)
                     6: Data Set Ready (DSR)

                      +------------------+
                      | 1  2  3  4  5  6 |
                      +------------+    ++
                                   +____+

                   14-46

 





                   Hardware Information




                   The PC-compatible DB9 connector pinout follows:

                     1: Data Carrier Detect (DCD)
                     2: Received Data
                     3: Transmit Data
                     4: Data Terminal Ready (DTR)
                     5: Ground
                     6: Data Set Ready (DSR)
                     7: Request To Send (RTS)
                     8: Clear To Send
                     9: floating

                   The MicroVAX DB9 console connector pinout predates the
                   PC-style DB9 pinout, and uses a then-common (and older)
                   standard pinout, and uses the following EIA-232 series
                   standard signals:

                     1: Protective Ground
                     2: Transmited Data
                     3: Received Data
                     4: Request To Send (RTS)
                     5: Data Terminal Ready (DTR)
                     6: Data Set Ready (DSR)
                     7: Signal Ground
                     8: Shorted to pin 9 on MicroVAX and VAXstation 2000...
                     9:    ...series systems, otherwise left floating.

                     When pin 8 is shorted to pin 9, this is a BCC08 (or variant) cable,
                     most commonly used as a console cable on the MicroVAX 2000 and
                     VAXstation 2000 series.  (Other systems may or may not tolerate
                     connecting pin 8 to pin 9.)

                   The BC16E-nn (where -nn indicates the cable length)
                   cable key impliicitly "flips over" (crosses-over) the
                   signal wires, so all DECconnect MMJ connectors are
                   wired the same.

                       //
                       ----                                 ----
                       |  |---------------------------------|  |
                       ----                                 ----
                                                               \\


                                                                     14-47

 





                   Hardware Information




                   The BC16E-nn cross-over wiring looks like this:

                           Terminal                         Host
                           MMJ                              MMJ

                        DTR 1 --->---------->----------->--- 6 DSR
                        TXD 2 --->---------->----------->--- 5 RXD
                            3 ------------------------------ 4
                            4 ------------------------------ 3
                        RXD 5 ---<----------<-----------<--- 2 TXD
                        DSR 6 ---<----------<-----------<--- 1 DTR

                   The BN24H looks like this:

                        MMJ       RJ45

                         1---------8
                         2---------2
                         3---------1
                         4---------3
                         5---------6
                         6---------7

                   The BN24J looks like this:

                        MMJ       RJ45

                         1---------7
                         2---------6
                         3---------3
                         4---------1
                         5---------2
                         6---------8

                   Also see:

                   o  http://www.hp.com/go/openvms/wizard/

                   o  http://www.airborn.com.au/rs232.html

                   o  http://www.stanq.com/cable.html

                   o  For adapters and connectors, see Section 14.28.

                   14-48

 





                   Hardware Information



          __________________________________________________________
          14.28  What connectors and wiring adapters are available?

                   The H8571-B converts the (non-2000-series) MicroVAX
                   DB9 to MMJ DECconnect. The MicroVAX 2000 and VAXstation
                   2000 requires a BCC08 cable (which has the 8-9 short,
                   see Section 14.27) and the H8571-D for use with
                   DECconnect.

                   More recent HP (HP, Compaq or DIGITAL logo) systems
                   will use either the DECconnect MMJ wiring or (on all
                   recent system designs) the PC-compatible DB9 pinout.

                   DECconnect MMJ adapters:

                       Part:      Converts BC16E MMJ male to fit into:

                       H8571-C  25 pin DSUB Female to MMJ, Unfiltered
                       H8571-D  EIA232 25 pin male (modem-wired)
                       H8571-E  25 pin DSUB Female to MMJ, Filtered
                       H8571-J  PC/AT 9 pin male (PC serial port)
                       H8572-0  BC16E MMJ double-female (MMJ extender)
                       H8575-A  EIA232 25 pin female (common)
                       H8575-B  EIA232 9 pin male (MicroVAX II console)
                       H8575-D  25 Pin to MMJ W/EOS and ESD Protection
                       H8577-AA 6 pin Female MMJ to 8 pin MJ
                       BC16E-** MMJ cable, available in various lengths

                   Numerous additional adapters and cables are available
                   from the _OPEN DECconnect Building Wiring Components
                   and Applications Catalog_, as well as descriptions of
                   the above-listed parts.

                   The H8571-A and H8575-A are MMJ to DB25 (female) and
                   are wired as follows:

                   Also see the adapter-, cable- and pinout-related
                   discussions at:

                   o  http://www.hp.com/go/openvms/wizard/

                   Jameco offers a USB-A to PS/2 Mini DIN 6 Adapter (as
                   part 168751), for those folks wishing to (try to) use
                   PS/2 Keyboards via USB-A connections. The LK463 USB
                   keyboard is also a potential option, for those wishing
                   to connect an OpenVMS keyboard to USB systems or (via
                   the provided adapter) to PS/2 systems.

                                                                     14-49

 





                   Hardware Information



          __________________________________________________________
          14.29  What is flow control and how does it work?

                   XON/XOFF is one kind of flow control.

                   In ASCII, XON is the <CTRL/Q> character, and XOFF is
                   the <CTRL/S>.

                   XON/XOFF flow control is typically associated with
                   asynchronous serial line communications. XON/XOFF is an
                   in-band flow control, meaning that the flow control is
                   mixed in with the data.

                   CTS/RTS is another type of flow control, and is
                   sometimes called hardware flow control. Out-of-band
                   means that seperate lines/pins from the data lines
                   (pins) are used to carry the CTS/RTS signals.

                   Both kinds of flow control are triggered when a
                   threshold is reached in the incoming buffer. The flow
                   control is suppose to reach the transmitter in time to
                   have it stop transmitting before the receiver buffer is
                   full and data is lost. Later, after a sufficient amount
                   of the receiver's buffer is freed up, the resume flow
                   control signal is sent to get the transmitter going
                   again.

                   DECnet Phase IV on OpenVMS VAX supports the use of
                   asynchronous serial communications as a network
                   line; of asynch DECnet. The communication devices
                   (eg. modems, and drivers) must not be configured
                   for XON/XOFF flow control. The incidence of these
                   (unexpected) in-band characters will corrupt data
                   packets. Further, the serial line device drivers
                   might normally remove the XON and XOFF characters
                   from the stream for terminal applications, but DECnet
                   configures the driver to pass all characters through
                   and requires that all characters be permitted. (The
                   communication devices must pass through not only the
                   XON and XOFF characters, they must pass all characters
                   including the 8-bit characters. If data compression is
                   happening, it must reproduce the source stream exactly.
                   No addition or elimination of null characters, and full
                   data transparency.

                   14-50

 





                   Hardware Information




                   An Ethernet network is rather different than an
                   asynchronous serial line. Ethernet specifies the
                   control of data flow on a shared segment using CSMA/CD
                   (Carrier Sense Multiple Access, with Collision Detect)
                   An Ethernet station that is ready to transmit listens
                   for a clear channel (Carrier Sense). When the channel
                   is clear, the station begins to transmit by asserting
                   a carrier and encoding the packet appropriately. The
                   station concurrently listens to its own signal, to
                   permit the station to detect if another station began
                   to transmit at the same time-this is called collision
                   detection. (The collision corrupts the signal in a
                   way that can reliably be detected.) Upon detecting the
                   collision, both stations will stop transmitting, and
                   will back off and try again a little later. (You can
                   see a log of this activity in the DECnet NCP network
                   counters.)

                   DECnet provides its own flow control, above and beyond
                   the flow control of the physical layer (if any). The
                   end nodes handshake at the beginning to establish
                   a transmit window size-and a transmitter will only
                   send that much data before stopping and waiting for
                   an acknowledgement. The acknowledgement is only sent
                   when the receiver has confirmed the packet is valid. (A
                   well-configured DECnet generally avoids triggering any
                   underlying (out-of-band) flow control mechanism.)

          __________________________________________________________
          14.30  CD-R and DVD device requirements?

                   Read and write access to CD-ROM, CD-R and CD-RW devices
                   on ATA (IDE) is generally handled transparently by
                   SYS$DQDRIVER, and SYS$DQDRIVER will transparently block
                   and de-block the media-native 2048 byte disk blocks
                   with the 512 byte blocks expected by OpenVMS and by
                   native OpenVMS software.

                   Read access to CD-ROM, CD-R and CD-RW devices on SCSI
                   is handled by DKDRIVER, though SYS$DKDRIVER will not
                   transparently de-block the native 2048 byte disk blocks
                   into the 512 byte blocks expected by OpenVMS. The
                   drive or external software is expected to provide
                   this de-blocking, thus either a 512-byte-block capable
                   drive (such as all RRD-series SCSI CD-ROM drives) is

                                                                     14-51

 





                   Hardware Information




                   required, or host software is required for a 2048-
                   byte block drive. SCSI drives with UNIX or 512-byte
                   selectors will generally operate.

                   At least some of the Plextor PlexWriter SCSI drives
                   can be accessed from OpenVMS, and at least one Pioneer
                   SCSI DVD drive (for CD media). The Pioneer SCSI DVD
                   drive switches to 2048 byte blocks for DVD media, and a
                   block-size conversion tool (written by Glenn Everhart)
                   or other similar tool can be applied.

                   OpenVMS also has supported HP DVD drives for the ATA
                   (IDE) bus.

                   For some related information (and details on a
                   commercial DVDwrite package), please see:

                   o  http://home.tiscali.de/dvd4openvms/supported_
                      hardware.html

                   Recording of CD and DVD media requires an application,
                   and both commercial and non-commercial options are
                   available. Please see CDRECORD (both non-DVD and DVD
                   versions are available, and a commercial version is
                   available), and also see DVDwrite (commercial) or
                   DVDRECORD (open source).

                   For information on the GKDRIVER (SYS$GKDRIVER)
                   interface that is utilized by most CD and DVD recording
                   tools to send commands to SCSI or ATAPI devices (most
                   ATA devices can use SCSI-like command packets), please
                   see SYS$EXAMPLES:GKTEST.C, and please see the various
                   sections of the OpenVMS I/O User's Reference Manual.











                   14-52

 










                   _______________________________________________________

          15       Information on Networks and Clusters



                   The following sections contain information on OpenVMS
                   Networking with IP and DECnet, and on clustering and
                   volume shadowing, on Fibre Channel, and on related
                   products and configurations.

          __________________________________________________________
          15.1  How to connect OpenVMS to a Modem?

                   Please see the Ask The Wizard area topics starting with
                   (81), (1839), (2177), (3605), etc.

                   o  http://www.hp.com/go/openvms/wizard/

                   For additional information on the OpenVMS Ask The
                   Wizard (ATW) area and for a pointer to the available
                   ATW Wizard.zip archive, please see Section 3.9.

          __________________________________________________________
          15.2  OpenVMS and IP Networking?

                   The following sections contain information on OpenVMS
                   and IP networking, as well as IP printing topics.

          _____________________________
          15.2.1  How to connect OpenVMS to the Internet?

                   Some tutorial information and tips for connecting
                   OpenVMS systems to the Internet are available at:

                   o  http://www.tmesis.com/internet/

          _____________________________
          15.2.2  Connecting to an IP Printer?

                   To connect a printer via the IP telnet or lpr/lpd
                   protocols, you will need to install and configure an IP
                   stack on OpenVMS, and configure the appropriate print
                   queue.

                                                                      15-1

 





                   Information on Networks and Clusters




                   With current OpenVMS IP implementations, the choice
                   of telnet or lpr/lpd really amounts to determining
                   which of these works better with the particular printer
                   involved.

                   To support network printing, the printer must include
                   an internal or external NIC or JetDirect; an adapter
                   connecting the network and the printer.

                   While it is normally possible to use a host-connected
                   printer-when the host supports an LPD or telnet daemon,
                   and OpenVMS and most other operating systems have the
                   ability to serve locally-attached printers to other
                   hosts on the network-it is generally far easier and
                   far more effective to use a printer that is directly
                   attached to the network. If your present printer does
                   not have a NIC or a JetDirect, acquire an internal (if
                   available) or external NIC or JetDirect. Or replace the
                   printer. And obviously, most any operating system that
                   can serve its local printers usually also provides
                   a client that can access remote network-connected
                   printers.

                   please see the Ask The Wizard area topics-starting with
                   topic (1020)-for additional information on IP-based
                   network printing.

                   o  http://www.hp.com/go/openvms/wizard/

                   For additional information on the OpenVMS Ask The
                   Wizard (ATW) area and for a pointer to the available
                   ATW Wizard.zip archive, please see Section 3.9.

                   Please see Section 15.2.3 for information on Postscript
                   printing. comment>(--------------------)

          _____________________________
          15.2.3  How do I connect a PostScript printer via TCP/IP?

                   Using TCP/IP Services (UCX) as the TCP/IP stack, it is
                   possible to configure queues using the UCX$TELNETSYM
                   (TCP/IP Services prior to V5.0) or TCPIP$TELNETSYM
                   (with V5.0 and later) in order to print to Postscript
                   printers. This assumes however that the printer itself
                   can convert whatever is passed to it into something
                   intelligible. As an example, if the printer has an IP

                   15-2

 





                   Information on Networks and Clusters




                   address of 123.456.789.101 and jobs should be passed to
                   port 9100 then :

                   $ INITIALIZE/QUEUE/ON="123.456.789.101:9100" -
                       /PROCESSOR=UCX$TELNETSYM  -
                       my_ip_queue

                   $ INITIALIZE/QUEUE/ON="123.456.789.101:9100" -
                       /PROCESSOR=TCPIP$TELNETSYM  -
                       my_ip_queue

                   The port number of 9100 is typical of HP JetDirect
                   cards but may be different for other manufacturers
                   cards.

                   As a better alternative, DCPS Version 1.4 and later
                   support IP queues using either HP TCP/IP Services
                   for OpenVMS software or Process Software Multinet
                   for OpenVMS. The usage of this type of interface is
                   documented in the DCPS documentation or release notes,
                   and the DCPS$STARTUP.TEMPLATE startup template file.

                   For general and additional (non-Postscript) IP printing
                   information, please see topic (1020) and other topics
                   referenced in that topic elsewhere within the Ask The
                   Wizard area.

                   o  http://www.hp.com/go/openvms/wizard/

                   For additional information on the OpenVMS Ask The
                   Wizard (ATW) area and for a pointer to the available
                   ATW Wizard.zip archive, please see Section 3.9. Also
                   see:

                   o  http://www.wotsit.org/

                   Please see Section 15.2.2 for pointers to an
                   introduction to IP printing.

          _____________________________
          15.2.4  How do I set a default IP route or gateway on OpenVMS?

                   If you have TCP/IP Services, then use the command for
                   TCP/IP Services V5.0 and later:

                   $ TCPIP
                   SET ROUTE/GATE=x.x.x.x/DEFAULT/PERMANENT

                                                                      15-3

 





                   Information on Networks and Clusters




                   And for earlier TCP/IP Services versions, use the
                   command:

                   $ UCX
                   SET ROUTE/GATE=x.x.x.x/DEFAULT/PERMANENT

          _____________________________
          15.2.5  How can I set up reverse telnet (like reverse LAT)?

                   Though it may seem obvious, Telnet and LAT are quite
                   different-with differing capabilities and design goals.

                   Please see the documentation around the TCP/IP Services
                   for OpenVMS TELNET command CREATE_SESSION. This command
                   is the equivilent of the operations performed in
                   LTLOAD.COM or LAT$SYSTARTUP.COM. There is no TELNET
                   equivilent to the sys$qio[w] control interface for
                   LTDRIVER (as documented in the I/O User's Reference
                   Manual) available, though standard sys$qio[w] calls
                   referencing the created TN device would likely operate
                   as expected.

          _____________________________
          15.2.6  Why can't I use PPP and RAS to connect to OpenVMS Alpha?

                   OpenVMS Alpha IP PPP does not presently support
                   authentication, and the Microsoft Windows NT option
                   to disable authentication during a RAS connection
                   apparently doesn't currently work-RAS connections will
                   require authentication-and this will thus prevent RAS
                   connections.

                   Future versions of OpenVMS and TCP/IP Services may
                   add this, and future versions of Microsoft Windows may
                   permit operations with authentication disabled.

          __________________________________________________________
          15.3  OpenVMS and DECnet Networking?

                   The following sections contain information on OpenVMS
                   and DECnet networking.



                   15-4

 





                   Information on Networks and Clusters



          _____________________________
          15.3.1  Can DECnet-Plus operate over IP?

                   Yes. To configure DECnet-Plus to operate over IP
                   transport and over IP backbone networks, install and
                   configure DECnet-Plus, and install and configure the
                   PWIP mechanism available within the currently-installed
                   IP stack. Within TCP/IP Services, this is a PWIPDRIVER
                   configuration option within the UCX$CONFIG (versions
                   prior to V5.0) or TCPIP$CONFIG (with V5.0 and later)
                   configuration tool.

          _____________________________
          15.3.2  What does "failure on back translate address request"
                  mean?

                   The error message:

                   BCKTRNSFAIL, failure on the back translate address request

                   indicates that the destination node is running DECnet-
                   Plus, and that its naming service (DECnet-Plus DECdns,
                   LOCAL node database, etc) cannot locate a name to
                   associate with the source node's address. In other
                   words, the destination node cannot determine the node
                   name for the node that is the source of the incoming
                   connection.

                   Use the DECNET_REGISTER mechanism (on the destination
                   node) to register or modify the name(s) and the
                   address(es) of the source node. Check the namespace
                   on the source node, as well.

                   Typically, the nodes involved are using a LOCAL
                   namespace, and the node name and address settings are
                   not coherent across all nodes. Also check to make sure
                   that the node is entered into its own LOCAL namespace.
                   This can be a problem elsewhere, however. Very rarely,
                   a cache corruption has been known to cause this error.
                   To flush the cache, use the command:

                   $ RUN SYS$SYSTEM:NCL
                   flush session control naming cache entry "*"


                                                                      15-5

 





                   Information on Networks and Clusters




                   Also check to see that you are using the latest ECO for
                   DECnet-Plus for the version you are running. DECnet-
                   Plus can use the following namespaces:

                   o  DECdns: DECnet-Plus distributed name services.

                   o  LocalFile: a local file containing names and
                      addresses.

                   o  DNS/BIND: the TCP/IP distributed name services
                      mechanism.

                   o  The TCP/IP Services (UCX) local host file.

                   Of these, searching DNS/BIND and LocalFile,
                   respectively, is often the most appropriate
                   configuration.

          _____________________________
          15.3.3  Performing SET HOST/MOP in DECnet-Plus?

                   First, issue the NCL command SHOW MOP CIRCUIT *

                   $ RUN SYS$SYSTEM:NCL
                   SHOW MOP CIRCUIT *

                   Assume that you have a circuit known as FDDI-0
                   displayed. Here is an example of the SET HOST/MOP
                   command syntax utilized for this circuit:

                   $ SET HOST/MOP/ADDRESS=08-00-2B-2C-5A-23/CIRCUIT=FDDI-0

                   Also see Section 15.6.3.

          __________________________________________________________
          15.4  How to determine the network hardware address?

                   Most Alpha and most VAX systems have a console command
                   that displays the network hardware address. Many
                   systems will also have a sticker identifying the
                   address, either on the enclosure or on the network
                   controller itself.

                   The system console power-up messages on a number of VAX
                   and Alpha systems will display the hardware address,
                   particularly on those systems with an integrated
                   Ethernet network adapter present.

                   15-6

 





                   Information on Networks and Clusters




                   If you cannot locate a sticker on the system, if
                   the system powerup message is unavailable or does
                   not display the address, and if the system is at the
                   console prompt, start with the console command:

                   HELP

                   A console command similar to one of the following is
                   typically used to display the hardware address:

                   SHOW DEVICE
                   SHOW ETHERNET
                   SHOW CONFIG

                   On the oldest VAX Q-bus systems, the following console
                   command can be used to read the address directly off
                   the (DELQA, DESQA, or the not-supported-in-V5.5-and-
                   later DEQNA) Ethernet controller:

                   E/P/W/N:5 20001920

                   Look at the low byte of the six words displayed by
                   the above command. (The oldest VAX Q-bus systems-such
                   as the KA630 processor module used on the MicroVAX II
                   and VAXstation II series-lack a console HELP command,
                   and these systems typically have the primary network
                   controller installed such that the hardware address
                   value is located at the system physical address
                   20001920.)

                   If the system is a VAX system, and another VAX system
                   on the network is configured to answer Maintenance
                   and Operations Protocol (MOP) bootstrap requests
                   (via DECnet Phase IV, DECnet-Plus, or LANCP), the
                   MOM$SYSTEM:READ_ADDR.EXE tool can be requested:

                   B/R5:100 ddcu
                   Bootfile: READ_ADDR

                   Where ddcu is the name of the Ethernet controller in
                   the above command. The primarly local DELQA, DESQA,
                   and DEQNA Q-bus controllers are usually named XQA0.
                   An attempt to MOP download the READ_ADDR program will
                   ensue, and (if the download is successful) READ_ADDR
                   will display the hardware address.

                                                                      15-7

 





                   Information on Networks and Clusters




                   If the system is running, you can use DECnet or
                   TCP/IP to display the hardware address with one of
                   the following commands.

                   $! DECnet Phase IV
                   $ RUN SYS$SYSTEM:NCP
                   SHOW KNOWN LINE CHARACTERISTICS

                   $! DECnet-Plus
                   $ RUN SYS$SYSTEM:NCL
                   SHOW CSMA-CD STATION * ALL STATUS

                   $! TCP/IP versions prior to V5.0
                   $ UCX
                   SHOW INTERFACE/FULL

                   $! TCP/IP versions V5.0 and later
                   $ TCPIP
                   SHOW INTERFACE/FULL

                   A program can be created to display the hardware
                   address, reading the necessary information from
                   the network device drivers. A complete example C
                   program for reading the Ethernet or IEEE 802.3 network
                   controller hardware address (via sys$qio calls to the
                   OpenVMS network device driver(s)) is available at the
                   following URL:

                   o  http://www.hp.com/go/openvms/wizard/

                   To use the DECnet Phase IV configurator tool to watch
                   for MOP SYSID activity on the local area network:

                   $ RUN SYS$SYSTEM:NCP
                   SET MODULE CONFIGURATOR KNOWN CIRCUIT SURVEILLANCE ENABLED

                   Let the DECnet Phase IV configurator run for at least
                   20 minutes, and preferably longer. Then issue the
                   following commands:

                   $ RUN SYS$SYSTEM:NCP
                   SHOW MODULE CONFIGURATOR KNOWN CIRCUIT STATUS TO filename.txt
                   SET MODULE CONFIGURATOR KNOWN CIRCUIT SURVEILLANCE DISABLED

                   15-8

 





                   Information on Networks and Clusters




                   The resulting file (named filename.txt) can now be
                   searched for the information of interest. Most DECnet
                   systems will generate MOP SYSID messages identifying
                   items such as the controller hardware address and the
                   controller type, and these messages are generated and
                   multicast roughly every ten minutes.

                   Information on the DECnet MOP SYSID messages and other
                   parts of the maintenance protocols is included in the
                   DECnet network architecture specifications referenced
                   in section DOC9.

          _____________________________
          15.4.1  How do I reset the LAN (DECnet-Plus NCL) error counters?

                   On recent OpenVMS releases:

                   $ RUN SYS$SYSTEM:LANCP
                   SET DEVICE/DEVICE_SPECIFIC=FUNCTION="CCOU" devname

          _____________________________
          15.4.2  How do I install DECnet Phase IV on VMS 7.1?

                   On OpenVMS V7.1, all DECnet binaries were relocated
                   into separate installation kits-you can selectively
                   install the appropriate network: DECnet-Plus (formerly
                   known as DECnet OSI), DECnet Phase IV, and HP TCP/IP
                   Services (often known as UCX).

                   On OpenVMS versions prior to V7.1, DECnet Phase IV was
                   integrated, and there was no installation question. You
                   had to install the DECnet-Plus (DECnet/OSI) package on
                   the system, after the OpenVMS upgrade or installation
                   completed.

                   During an OpenVMS V7.1 installation or upgrade, the
                   installation procedure will query you to learn if
                   DECnet-Plus should be installed. If you are upgrading
                   to V7.1 from an earlier release or are installing V7.1
                   from a distribution kit, simply answer "NO" to the
                   question asking you if you want DECnet-Plus. Then-after
                   the OpenVMS upgrade or installation completes - use
                   the PCSI PRODUCT INSTALL command to install the DECnet
                   Phase IV binaries from the kit provided on the OpenVMS
                   software distribution kit.

                                                                      15-9

 





                   Information on Networks and Clusters




                   If you already have DECnet-Plus installed and wish
                   to revert, you must reconfigure OpenVMS. You cannot
                   reconfigure the "live" system, hence you must reboot
                   the system using the V7.1 distribution CD-ROM. Then
                   select the DCL ($$$ prompt) option. Then issue the
                   commands:

                   $$$ DEFINE/SYSTEM PCSI$SYSDEVICE DKA0:
                   $$$ DEFINE/SYSTEM PCSI$SPECIFIC DKA0:[SYS0.]
                   $$$ PRODUCT RECONFIGURE VMS /REMOTE/SOURCE=DKA0:[VMS$COMMON]

                   The above commands assume that the target system device
                   and system root are "DKA0:[SYS0.]". Replace this with
                   the actual target device and root, as appropriate.
                   The RECONFIGURE command will then issue a series of
                   prompts. You will want to reconfigure DECnet-Plus off
                   the system, obviously. You will then want to use the
                   PCSI command PRODUCT INSTALL to install the DECnet
                   Phase IV kit from the OpenVMS distribution media.

                   Information on DECnet support, and on the kit names, is
                   included in the OpenVMS V7.1 installation and upgrade
                   documentation.

                   Subsequent OpenVMS upgrade and installation procedures
                   can and do offer both DECnet Phase IV and DECnet-Plus
                   installations.

          __________________________________________________________
          15.5  How can I send (radio) pages from my OpenVMS system?

                   There are third-party products available to
                   send messages to radio paging devices (pagers),
                   communicating via various protocols such as TAP
                   (Telocator Alphanumeric Protocol); paging packages.

                   RamPage (Ergonomic Solutions) is one of the available
                   packages that can generate and transmit messages to
                   radio pagers. Target Alert (Target Systems; formerly
                   the DECalert product) is another. Networking Dynamics
                   Corp has a product called Pager Plus. The System
                   Watchdog package can also send pages. The Process
                   Software package PMDF can route specific email
                   addresses to a paging service, as well.

                   15-10

