<!-- VDE_GUIDE_016.HTML continuation of VDED$:[VDE.VDEDOC.DOC]VDE_GUIDE.HTML -->
<html>
<head>
<title>VDE</title>
</head>
<body bgcolor=white>
<font color=maroon>
<h1 align="center">VDE<br>Guide to Using<br> VDE</h1>
</font>

<hr>
<table border=2>
  <tr>
    <td bgcolor=lightgoldenrodyellow width=150 align=center><a href="vde_guide_015.html#bottom_015">Previous</a>
    <td bgcolor=cyan width=150 align=center><a href="vde_guide_contents.html">Contents</a>
    <td bgcolor=lightskyblue width=150 align=center><a href="vde_guide_index.html">Index</a>
</table>

<hr>

<p>
<hr size=5>
<font color=maroon>
<a name="gui_interface"><h1>Chapter 10<br>The Graphical User Interfaces</h1></a>
</font>

<p>
VDE provides an X Windows Motif graphical user interface, as 
well as a World Wide Web (WWW) interface accessable via Mosaic. 
<em>This section is under construction...</em>
<a name="index_x_681"></a>
<a name="index_x_682"></a>
<a name="index_x_683"></a>
<a name="index_x_684"></a>

<a name="gui_xm_interface"><h1><font color=maroon>10.1 Motif Interface</font></h1></a>

<p>
<em>This section is under construction...</em>

<a name="gui_xm_version"><h2>10.1.1 Motif Version Information</h2></a>

<p>
The VDE is heirarchical; the display shows, in decending 
order, the VDE library, the streams within the library, the 
facilities within the stream, and the modules within each facility.

<p>
<a href="vde_guide_016.html#gui_xm_facility">Figure 10-1</a> is an example of the facility-level display.
<a name="gui_xm_facility"></a>
<p>
<strong>Figure 10-1 VDE Motif Facility Display</strong>
<hr>
<img src="VDE_XM_FACILITY.gif">

<p>
This is the VDE Motif interface for V1.5-0. This 
interface is Copyright 1997.

<p>
<em>This section is under construction...</em>

<a name="gui_xm_library"><h2>10.1.2 Motif Library Selection</h2></a>

<p>
<em>This section is under construction...</em>

<p>
Initial VDE library selection is based on the definition of 
the logical name VDE$LIBRARY.
<a name="index_x_685"></a>
<a name="index_x_686"></a>
If the VDE$LIBRARY logical name is not defined, VDE searches 
for the file Motif data file DECW$USER_INCLUDE:VDE.DAT. An example of 
VDE.DAT follows:

<p>
<table border=0>
  <tr>
    <td bgcolor=blanchedalmond>
      <br>
      <font color=mediumblue><pre>
# 
# VDE.DAT 
# VDE Motif configuration 
# file created by: VDE for OpenVMS VAX Version V1.5-0
# file created at: Wed Jan  4 13:32:47 1997
# values:  DEFAULT SETTINGS 
# 
VDE.title:  VDE: OpenVMS Development Environment 
VDE.x:   100 
VDE.y:   100 
VDE.remarksVisible: true 
VDE.fontList:  *-*-Menu-Medium-R-Normal--*-120-*-*-P-*-ISO8859-1 
VDE.libraryVDE:  VSC$ROOTDISK:[VMS.DBROOT] 
VDE.libraryVDEDebug: VDED$:[VDE] 
VDE.libraryVSC:  VSC$ROOTDISK:[VMS.DBROOT] 
VDE.libraryVSCDebug: VDED$:[VDE] 
VDE.libraryLabel:     
VDE.libraryList:     
VDE.sctNotesPrefix: SCT- 
VDE.sctNotesNode: NODE:: 
VDE*borderColor: #545445450000 
# end VDE.DAT 
</pre>
</font>
</table>

<a name="gui_xm_deflibrary"><h2>10.1.3 Motif Library Default Selection</h2></a>

<p>
<em>This section is under construction...</em>

<p>
VDE provides support for multiple default library selection 
lists. These selection lists allow a VDE user an easy way to 
avoid memorizing all the various &quot;interesting&quot; libraries that 
might be around, and they provide an easy way for a user and/or a 
system manager to change the default library list, and they provide a 
shorthand reference to individual libraries. Multiple lists of library 
defaults are supported and can be created for individual users, user 
groups, all system users, all cluster users, and for eclectic groups of 
users based on a shared logical name table. Note that each individual 
user has access to only a single list of defaults.

<p>
There are three parts to each default library specification---the 
library database device and directory specification, the display value 
shown to the user for each database, and the shorthand mnemonic for 
each library. These values are used to access the library on disk, for 
the text used to display the library, and as a nickname for a 
particular library, respectively.

<p>
VDE reads and uses values from logical name search lists, or 
from the VDE.DAT Motif resource file, as the default values for 
various library selection operations. The logical names used for this 
purpose are VDE$LIBRARY_DEFAULTS, VDE$LIBRARY_DEFAULTS_LABELS, 
VDE$LIBRARY_DEFAULTS_CMS, and VDE$LIBRARY_DEFAULTS_MNEMONICS.
<a name="index_x_687"></a>
<a name="index_x_688"></a>
<a name="index_x_689"></a>
<a name="index_x_690"></a>
<a name="index_x_691"></a>
<a name="index_x_692"></a>
<a name="index_x_693"></a>
<a name="index_x_694"></a>

<p>
VDE translates the list of default libraries from the above 
logical names, or (if the logicals are absent) from the VDE.DAT 
Motif resource file.

<p>
<center>
<table bgcolor=lightskyblue border=0 width=75%>
<tr>
  <td><center><font size=+2 
  color=black><strong>Note</strong></font></center><hr size=1 noshade>
<font color=black>
A null VDE$LIBRARY_DEFAULTS logical name definition, or a missing 
VDE$LIBRARY_DEFAULTS logical name definition will cause VDE 
to access the default Motif resource file looking for the list of 
defaults. The null definition logic allows a non-privileged user to 
override a system-wide or group-wide logical name definition (using a 
null logical name in a searched-before logical name table) and use a 
set of default library definitions located in a user-specific or 
system-wide resource file. </font>
    </td>
  </tr>
</table>
</center>

<p>
An example of the definition of the VDE$LIBRARY_DEFAULTS, 
VDE$LIBRARY_DEFAULTS_LABELS, VDE$LIBRARY_DEFAULTS_CMS, and 
VDE$LIBRARY_DEFAULTS_MNEMONICS
<a name="index_x_695"></a>
<a name="index_x_696"></a>
<a name="index_x_697"></a>
<a name="index_x_698"></a>
<a name="index_x_699"></a>
<a name="index_x_700"></a>
<a name="index_x_701"></a>
<a name="index_x_702"></a>
logical names follows:

<p>
<table border=0>
  <tr>
    <td bgcolor=blanchedalmond>
      <br>
      <font color=mediumblue><pre>
$ DEFINE/JOB VDE$LIBRARY_DEFAULTS - 
_$ SYS$SYSDEVICE:[LIB1], - 
_$ XYZZY$:[LIB2], - 
_$ PLUGH$:[MASTERLIB] 
$ DEFINE/JOB VDE$LIBRARY_DEFAULTS_LABELS - 
_$ "Library One", - 
_$ "Library Two", - 
_$ "Master Library" 
$ DEFINE/JOB VDE$LIBRARY_DEFAULTS_MNEMONICS - 
_$ "L1", - 
_$ "L2", - 
_$ "ML" 
$ DEFINE/JOB VDE$LIBRARY_DEFAULTS_CMS - 
_$ "L1CMS", - 
_$ "L2CMS", - 
_$ "MLCMS" 
</pre>
</font>
</table>

<p>
The mnemonic names for the libraries are also accepted by the command 
(non-graphical) interface SET LIBRARY command.
<a name="index_x_703"></a>
<a name="index_x_704"></a>
The following two commands, based on the aforementioned logical names, 
are valid and equivalent:

<p>
<table border=0>
  <tr>
    <td bgcolor=blanchedalmond>
      <br>
      <font color=mediumblue><pre>
VDE„ SET LIBRARY ML
VDE„ SET LIBRARY PLUGH$:[MASTERLIB]
</pre>
</font>
</table>

<a name="gui_x_resources"><h2>10.1.4 Motif Resources</h2></a>

<p>
<em>This section is under construction...</em>

<p>
See the <em>Save Options</em> entry on the <em>Options</em> pulldown 
for information.

<a name="gui_www_interface"><h1><font color=maroon>10.2 WWW/Mosaic Interface</font></h1></a>

<p>
<em>This section is under construction...</em>

<p>
<hr size=5>
<font color=maroon>
<a name="troubleshooting"><h1>Appendix A<br>TroubleShooting Information</h1></a>
</font>

<p>
The following sections contain troubleshooting information. And in 
addition, see the VDE Reference Manual.
<a name="index_x_705"></a>

<p>
<em>This section is under construction...</em>

<a name="ts_periodic"><h1><font color=maroon>A.1 Periodic Maintenance</font></h1></a>

<p>
VDE has a few tasks that will need to be performed at 
periodic intervals.

<ul>
  <li>BACKUPs <br>Periodic BACKUPs of the VDE library are 
  required, both the CMS libraries and the a reference&gt;(Rdb_acronym) 
  database. <br>See <a href="vde_guide_013.html#maint_lib_backup">Section 7.4</a>.
  <li>Staging <br>VDE stages all replacement files into the 
  staging area, and the files in this area must be manually deleted at 
  site-specific intervals. The interval these deletions must occur is 
  dependent on the amount of freespace on the staging disk, and on the 
  size and frequency of the replacements, and on the backup policies used 
  for the staging disk and the CMS library disk(s), and on the likelyhood 
  the staging files will be needed during any potential recovery of the 
  CMS libraries. <br> See <a href="vde_guide_014.html#staging_cleanup">Section 7.5</a>.
</ul>

<a name="ts_cms"><h1><font color=maroon>A.2 CMS Troubleshooting</font></h1></a>

<p>
<em>This section is under construction...</em>

<a name="ts_cms_locked"><h2>A.2.1 CMS Library Locked</h2></a>

<p>
The following example shows an CMS CMS$_TRYAGNLAT interlock error.
<a name="index_x_706"></a>
<a name="index_x_707"></a>
<a name="index_x_708"></a>

<p>
<table border=0>
  <tr>
    <td bgcolor=blanchedalmond>
      <br>
      <font color=mediumblue><pre>
%VDE-I-GENDEL, generation [KITTING]STARTUP.UP3;38(38) deleted from stream DRAGON 
%VDE-I-GENRETAINED, generation [KITTING]STARTUP.UP3;38(38) retained in library 
%CMS-E-NOREF, error referencing VMS$:[000000.KITTING.CMS] 
-CMS-E-TRYAGNLAT, library locked; try again later 
-RMS-E-FLK, file currently locked by another user 
%VDE-E-CMSINSGEN, CMS error inserting generation 37 of element STARTUP.UP3 into class DRAGON 
-CMS-E-NOREF, error referencing !AS 
%VDE-I-ROLLBACK, database transaction has been rolled back 
</pre>
</font>
</table>

Based on the particular CMS library that caused the error, the 
following example shows the commands necessary to detect the process 
holding the interlock among all member nodes present in the VMScluster, 
and how to (brute-force) free it.

<p>
<table border=0>
  <tr>
    <td bgcolor=blanchedalmond>
      <br>
      <font color=mediumblue><pre>
$ Run Sys$System:SysMan 
SYSMAN&gt; DO SHOW DEVICE/FILE/NOSYSTEM VMS$ 
%SYSMAN-I-OUTPUT, command execution on node HELENA 
Files accessed on device DSA69: on 21-MAR-1997 17:50:22.21 
%SYSMAN-I-OUTPUT, command execution on node GALAXY 
Files accessed on device DSA69: on 21-MAR-1997 17:50:24.10 
%SYSMAN-I-OUTPUT, command execution on node DIMOND 
Files accessed on device DSA69: on 21-MAR-1997 17:50:25.23 
Process name      PID     File name 
DRAGONBLD       6081487F  [VMS.KITTING.CMS]00CMS.CMS;1 
%SYSMAN-I-OUTPUT, command execution on node EDISON 
Files accessed on device DSA69: on 21-MAR-1997 17:50:27.65 
%SYSMAN-I-OUTPUT, command execution on node BRYTT 
Files accessed on device DSA69: on 21-MAR-1997 17:50:43.58 
SYSMAN&gt; ^Z 
$ SET PROCESS/PRIVILEGE=WORLD 
$ STOP/ID=6081487F 
</pre>
</font>
</table>

In the above examples, the VMS$ logical name translates to DSA69:.

<a name="ts_cms_indexed"><h2>A.2.2 CMS 3.8-2 and Indexed Files</h2></a>

<p>
Under certain circumstances, CMS 3.8-2 cannot correctly retrieve an 
indexed file stored in the CMS library. The file remains valid and 
remains uncorrupted within the CMS library.
<a name="index_x_709"></a>
<a name="index_x_710"></a>
<a name="index_x_711"></a>

<p>
<table border=0>
  <tr>
    <td bgcolor=blanchedalmond>
      <br>
      <font color=mediumblue><pre>
%CMS-E-NOFETCH, error fetching element [name] 
-CMS-E-OPENOUT, error opening !AS for output 
-CMS-E-OPENOUT, error opening [name] for output 
-RMS-E-NPK, no primary key defined for indexed file 
%CMS-F-BADBUG, there is an unrecoverable bug in CMS or something it calls 
-CMS-F-RBKNOTOPEN, File passed to rollback is not open 
</pre>
</font>
</table>

This is a known problem in CMS 3.8-2 on OpenVMS Alpha. Do not store 
indexed files directly in CMS, store all binary files as a 
VDE &quot;marker file&quot;.

<a name="ts_maint_recover_cms"><h2>A.2.3 Recovering Lost CMS Libraries</h2></a>

<p>
If the delta files (the CMS libraries) in your VDE library 
are damaged or lost due to a disk failure or other cause, you must 
recover as much of its lost contents as possible.

<p>
See <a href="vde_guide_014.html#maint_lib_backup_recover_cms">Section 7.4.10</a> for details on how to perform this task.

<a name="ts_cms_got_bigger"><h2>A.2.4 Moving to Larger CMS Disks</h2></a>

<p>
This section describes how to move the CMS library to different---and 
usually larger---disks.

<p>
See <a href="vde_guide_014.html#cms_got_bigger">Section 7.4.11</a> for one procedure used to get to larger disks.

<a name="ts_vms_menu"><h1><font color=maroon>A.3 VMS_MENU Troubleshooting</font></h1></a>

<p>
<em>This section is under construction...</em>

<p>
VMS_MENU displays generated VDE commands the logical name 
VDE$$DBG_SCRIPT
<a name="index_x_712"></a>
<a name="index_x_713"></a>
is defined.

<a name="ts_spawned"><h1><font color=maroon>A.4 VDE Spawned Processing Troubleshooting</font></h1></a>

<p>
<em>This section is under construction...</em>

<p>
Like VMS_MENU, VDE uses logical names to enable the display 
of DCL commands executed in spawned subprocesses. If the logical name 
is VDE$$DBG_SENDMSG
<a name="index_x_714"></a>
<a name="index_x_715"></a>
is defined, the DCL code generated by various VDE routines 
will be displayed during execution.

<a name="ts_rdb"><h1><font color=maroon>A.5 Rdb Troubleshooting</font></h1></a>

<a name="ts_maint_stuck"><h2>A.5.1 User Process Deadlocks</h2></a>

<p>
Process-level deadlocks occur infrequently, and they often involve 
high-traffic applications such as database backups or they involve a 
VDE command that was paused via <kbd>[XOFF]</kbd> command.

<p>
To resolve these deadlocks, see <a href="vde_guide_012.html#maint_stuck">Section 7.3.1</a>.

<a name="ts_maint_freeze"><h2>A.5.2 Freeze in Rdb</h2></a>

<p>
It is possible for Rdb processes to deadlock waiting for the 
Rdb &quot;freeze&quot; resource.

<p>
To resolve this deadlock, see <a href="vde_guide_012.html#maint_freeze">Section 7.3.2</a>.

<a name="ts_maint_dumps"><h2>A.5.3 Resolving Rdb process dumps</h2></a>

<p>
Rdb generates a dump file when it encounters an unexpected 
condition. Under typical circumstances, Rdb will display a 
message indicating a dump is being generated.

<p>
To determine the cause of the dump, see <a href="vde_guide_012.html#maint_dumps">Section 7.3.3</a>.

<a name="ts_maint_ruj"><h2>A.5.4 Rdb run-unit journal errors</h2></a>

<p>
The run-unit journal area is a key component of the Rdb 
processing, and allows Rdb to rollback incomplete or 
erroneous database operations. And when an unexpected condition occurs 
with the run-unit journal, Rdb tends to generate a dump file.

<p>
To resolve these errors, see <a href="vde_guide_012.html#maint_ruj">Section 7.3.4</a>.

<a name="maint_rujmissing"><h2>A.5.5 Missing run-unit journal area</h2></a>

<p>
If the run-unit journal area is entirely messing, one can potentially 
see an Rdb bugcheck dump generated.

<p>
To resolve these errors, see <a href="vde_guide_012.html#maint_rujmissing">Section A.5.5</a>.

<a name="ts_maint_rujdiskquota"><h2>A.5.6 Rdb run-unit journal diskquota errors</h2></a>

<p>
Rdb requires the creation of a run-unit journal file. By 
default, this is in the user's login device, in the directory 
[RDM$RUJ], and this location can be altered using the logical name 
RDMS$RUJ.

<p>
To resolve these errors, see <a href="vde_guide_012.html#maint_rujdiskquota">Section 7.3.4.2</a>.

<a name="ts_maint_recoverydumps"><h2>A.5.7 Rdb recovery process dumps</h2></a>

<p>
Rdb generates a dump file when the recovery process 
encounters an unexpected condition. Also see <a href="vde_guide_016.html#ts_maint_rujawol">Section A.5.7.1</a>.

<p>
To resolve these errors, see <a href="vde_guide_012.html#maint_recoverydumps">Section 7.3.4.3</a>.

<a name="ts_maint_rujawol"><h3>A.5.7.1 Missing run-unit journal files</h3></a>

<p>
A recovery-process dump similar to <a href="vde_guide_016.html#ts_maint_recoverydumps">Section A.5.7</a> can also be seen when 
the RUJ file is missing.

<p>
To resolve these errors, see <a href="vde_guide_012.html#maint_rujawol">Section 7.3.4.4</a>.

<a name="ts_maint_lib_backup_lost_jnl"><h2>A.5.8 Recovering from a Lost Journal File</h2></a>

<p>
If the after-image journal file for your VDE database 
becomes unavailable due to a disk failure or other cause, nobody will 
be able to use the database and VDE operations will fail.

<p>
To recover from these errors, see <a href="vde_guide_013.html#maint_lib_backup_lost_journal">Section 7.4.8</a>.

<a name="rdb_got_bigger"><h2>A.5.9 Moving to Larger Rdb Disks</h2></a>

<p>
Sometimes, one just runs out of storage space on the disk(s) holding 
the Rdb database.

<p>
See <a href="vde_guide_014.html#rdb_got_bigger">Section A.5.9</a>, and <a href="vde_guide_015.html#db_reloc">Section 7.8</a>.

<p>
<hr size=5>
<font color=maroon>
<a name="util_comparision"><h1>Appendix B<br>Comparison of VDE,  VSC, and  VTSC</h1></a>
</font>

<p>
Certain VSC installations have three command interfaces: 
VDE, VSC, and VTSC.

<p>
As mentioned previously, the VDE, VSC and 
VTSC command interfaces all use the same command syntax, all 
use the same message prefix, and all perform the same basic functions. 
<a href="vde_guide_016.html#tbl_comparo">Table B-1</a> contains a high-level comparison of the differences 
among the command interfaces. <p>
<a name="index_x_716"></a>
<a name="index_x_717"></a>
<a name="index_x_718"></a>
<a name="index_x_719"></a>
<a name="index_x_720"></a>
<a name="index_x_721"></a>
<a name="index_x_722"></a>
<a name="index_x_723"></a>
<a name="index_x_724"></a>

<table border=3>
  <caption><a name="tbl_comparo"><strong>Table B-1 VDE , VSC and VTSC</strong></a></caption>
  <tr bgcolor=lightseagreen>
    <th align=center>VDE </th>
    <th align=center>VSC </th>
    <th align=center>VTSC </th>
    <th align=center>Operation </th>
  </tr>
  <tr bgcolor=blanchedalmond>
    <td>
      No
    </td>
    <td>
      Yes
    </td>
    <td>
      No
    </td>
    <td>
      Defaults to referencing the OpenVMS VAX library
    </td>
  </tr>
  <tr bgcolor=blanchedalmond>
    <td>
      No
    </td>
    <td>
      No
    </td>
    <td>
      Yes
    </td>
    <td>
      Defaults to referencing the OpenVMS testing library
    </td>
  </tr>
  <tr bgcolor=blanchedalmond>
    <td>
      Yes
    </td>
    <td>
      No
    </td>
    <td>
      No
    </td>
    <td>
      Defaults to the library referenced by the VDE$LIBRARY logical name
    </td>
  </tr>
  <tr bgcolor=blanchedalmond>
    <td>
      Yes
    </td>
    <td>
      No
    </td>
    <td>
      No
    </td>
    <td>
      Defaults to processing the command in the current process.
    </td>
  </tr>
  <tr bgcolor=blanchedalmond>
    <td>
      No
    </td>
    <td>
      Yes
    </td>
    <td>
      Yes
    </td>
    <td>
      Defaults to spawning a kept subprocess and processing commands there.
    </td>
  </tr>
  <tr bgcolor=blanchedalmond>
    <td>
      Yes
    </td>
    <td>
      Yes
    </td>
    <td>
      Yes
    </td>
    <td>
      Can operate correctly on the OpenVMS VAX library.
    </td>
  </tr>
  <tr bgcolor=blanchedalmond>
    <td>
      Yes
    </td>
    <td>
      Yes
    </td>
    <td>
      Yes
    </td>
    <td>
      Can SET LIBRARY and can operate correctly on user-specified private 
      source code libraries.
    </td>
  </tr>
</table>
<em>There are no other operational differences among the command 
interfaces.</em>

<p>
While this document generally refers to the VDE utility and 
sometimes to VSC utility, the information here is also 
directly applicable to the VTSC utility. And in a few 
places---where information related to libraries other than the 
OpenVMS VAX source code control library is presented---the 
VDE utility is specifically used. For additional information 
on VSC and VDE, please see the 
<em>VDE Reference Manual</em>.

<p>
Why are there three interfaces? Simple: each was tailored to the needs 
of specific parts of the OpenVMS community. However, due to the 
creation of various additional libraries and the common use of these 
libraries for various purposes, the use of the &quot;stock&quot; 
VDE image has generally become preferable.
<p>

<a name="bottom_016"></a>
<hr>
<table border=2>
  <tr>
    <td bgcolor=lightskyblue width=150 align=center><a href="vde_guide_index.html">Index</a>
    <td bgcolor=cyan width=150 align=center><a href="vde_guide_contents.html">Contents</a>
</table>
</body>
</html>
