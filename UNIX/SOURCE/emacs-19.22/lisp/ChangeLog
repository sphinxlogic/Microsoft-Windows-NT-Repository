Sat Nov 27 02:51:34 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.22 released.

	* vc.el (vc-buffer-sync): Signal error if user says no.

	* vc-hooks.el (vc-mode-line): Make buffer read-only for root
	if file is locked.

	* mouse.el (mouse-set-font): Update nonstandard faces that are supposed
	to use a modification of the frame's font.

Fri Nov 26 15:41:51 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmail.el (rmail-variables): Abbreviate truename for comparison.

Thu Nov 25 01:51:27 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* faces.el (make-face-unitalic, make-face-unbold, make-face-bold)
	(make-face-bold-italic, make-face-italic): If frame is t,
	do the special handling only if face-font is a list.

	* etags.el (tags-add-tables): New variable.
	(visit-tags-table-buffer): Use it.
	(default-tags-table-function): No longer user var, no longer autoload.

	* ange-ftp.el (ange-ftp-binary-file-name-regexp):
	Accept .tgz and .taz files.

	* tpu-edt.el (tpu-revision): Variable deleted.

Wed Nov 24 15:08:12 1993  Rob Riepel  (riepel@Snowflake.Stanford.edu)

        * tpu-edt.el (tpu-quoted-insert): New function.
        (tpu-reset-control-keys): Remove C-f mapping.
        Insert (in file) fsets for free/bound cursor, scroll
        margins, key mappings for same.

        * tpu-extras.el: Remove free/bound cursor and scroll
        margin fsets and key mappings.  Add autoload cookies.

        * tpu-doc.el: Add sample test for tpu-set-scroll-margins.

Wed Nov 24 00:03:32 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* comint.el (comint-send-input): Don't call comint-arguments
	to set HISTORY, even if comint-input-autoexpand is not `history'.
	When comint-input-autoexpand is `history', undo part of prev change:
	do put INPUT back in the buffer in place of expanded hist.

	* tabify.el: Add a provide.

	* vc.el (vc-next-action): Doc fix.
	(vc-checkout-carefully): New variable.
	(vc-next-action-on-file): Obey vc-checkout-carefully.

	* vc-hooks.el (vc-make-backup-files): Doc fix.
	(vc-rcs-status): Use colon, not dash, in the string LOCKS.

	* rmailsort.el (rmail-sort-messages): In summary buf, go to rmail buf.

	* subr.el (walk-windows): If start at minibuf window, do return to it.

	* comint.el (comint-send-input): Don't call comint-arguments while
	computing the value for history.
	(comint-delim-arg): Treat quoted delim chars as non-delims.

Tue Nov 23 01:23:38 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* simple.el (count-lines): In selective-display case,
	adjust value if end is not at bol.

	* isearch.el (isearch-other-meta-char): Correct the test for a split-up
	mode line or scroll bar mouse event.

	* icomplete.el: New file.

	* info.el (Info-follow-reference): Correct one-off error in
	comparing start-point.

	* dired-aux.el (dired-diff): Require diff.

	* telnet.el (telnet-rsh-program): New variable.
	(rsh): Use it.
	(telnet-count): Now buffer-local.

	* finder.el (finder-known-keywords): Add data, faces, mouse, matching.

	* edebug.el: Delete periods from error messages.
	(edebug-functionp): Recognize compiled functions.
	(edebug-display): Supply missing parens in let.

	* simple.el (repeat-complex-command): Undo Oct 2 change.

	* c-mode.el (c-indent-region): Don't goto-char sexpend if it's nil.
	As first thing, advance to a nonblank line.

	* view.el (View-scroll-lines-forward):
	Allow scrolling backward at the end of the buffer.

	* comint.el (comint-preinput-scroll-to-bottom): If SCROLL is `this',
	don't bother with walk-windows; just hack the selected window.

	* avoid.el: New file.
	* shadowfile.el: New file.

Mon Nov 22 11:07:43 1993  Morten Welinder  (terra@tyr.diku.dk)

	* add-log.el (add-change-log-entry): put buffer in change-log-mode.
	(find-change-log): correct calculation of file one directory out.

Mon Nov 22 01:32:59 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* dired.el (dired-goto-file): Don't try matching one line twice.

	* rmailsum.el (rmail-summary-wipe): If rmail buffer is not visible,
	switch to it in this window.
	(rmail-summary-mode): Doc fix.

	* dired.el (dired-readin-insert): Expand default-directory and dirname
	before comparing them.
	(dired-internal-noselect): Set default-directory to abbreviated name.

	* mouse.el (mouse-save-then-kill-delete-region):
	Call undo-boundary at the beginning and at the end.

	* gnuspost.el (gnus-inews-do-fcc): If gnus-author-copy-saver
	is rmail-output, call rmail-output the proper way.

	* man.el (Man-specified-section-option): New variable.
	(Man-translate-references): Use that variable.

Sun Nov 21 01:11:19 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* mouse.el (mouse-start-end): Use MODE mod 3.
	(mouse-save-then-kill): Test mouse-selection-click-count mod 3.
	(mouse-drag-secondary, mouse-secondary-save-then-kill): Likewise.

	* inf-lisp.el (inferior-lisp-proc): Clean up error message.

	* iso-acc.el (iso-accents-enable): New variable.
	(key-translation-map): Enable an accent only if in iso-accents-enable.

	* lisp-mode.el (lisp-eval-defun): Renamed from lisp-send-defun.
	(lisp-mode-map): Use new name lisp-eval-defun.
	Move run-lisp to C-x C-z.

	* sendmail.el (mail-yank-original):
	Delete windows on selected frame only.

	* mouse.el (mouse-kill-secondary): Do the kill in proper buffer.
	Give error if in the wrong buffer.
	(mouse-secondary-save-then-kill): Give error if click is not in
	the buffer already used for secondary selection.
	Don't switch windows; always temporarily switch buffers.

	* mail-utils.el (mail-fetch-field): Exclude trailing whitespace.
	Delete duplicate (goto-char (point-min)).

	* faces.el (x-resolve-font-name): Undo previous change.

	* info.el (Info-edit): Use proper map in substitute-command-keys.

Sat Nov 20 00:49:20 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* tex-mode.el (tex-send-command): Wait for output first,
	if text has not changed since previous tex-send-command.
	(tex-send-command-modified-tick): New buffer-local variable.

	* texinfo.el (texinfo-tex-region): Use tex-send-command to do commands.
	(texinfo-tex-buffer, texinfo-texindex, texinfo-tex-print): Likewise.
	(texinfo-delete-from-print-queue, texinfo-quit-job): Likewise.

	* tex-mode.el (tex-start-shell): Don't use -v option.
	(tex-send-command): Insert text in the buffer, then use
	comint-send-input to send it.

	* etags.el (tags-complete-tag): Bind enable-recursive-minibuffers to t.

Fri Nov 19 18:36:55 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* startup.el (command-line): Set init-file-had-error to t or nil.
	(command-line-1): Inhibit startup message if init-file-had-error.

Fri Nov 19 17:13:32 1993  Robert J. Chassell  (bob@geech.gnu.ai.mit.edu)

        * texinfmt.el (texinfo-if-set, texinfo-if-clear): Act
          appropriately when flat neither set nor cleared.

Fri Nov 19 10:57:31 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gnuspost.el (gnus-inews-do-fcc): Use gnus-output-to-rmail
	if file is an rmail file.  Pass extra args to rmail-output.

	* simple.el (eval-expression): Don't bind minibuffer-history-sexp-flag.
	(edit-and-eval-command): Likewise.

	* ange-ftp.el (ange-ftp-parse-dired-listing): Skip extra blank line
	after the "total" line.

	* hexl.el (hexlify-buffer): Add autoload cookie.

Thu Nov 18 00:24:34 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* iso-acc.el (iso-accents-list): Fix entries for 'y and ~c.
	(iso-accents-list): Add "s.

Wed Nov 17 08:11:03 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* comint.el (comint-scroll-show-maximum-output): Make default nil.

	* gnus.el (gnus-summary-save-in-mail): Use rmail-output
	if the file is not an Rmail file.

	* font-lock.el (font-lock-hack-keywords):
	Handle next-single-property-change returning nil.

Tue Nov 16 01:14:29 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.21 released.

	* gnus.el (gnus-summary-save-in-mail): Don't use rmail-output.
	Instead, use either gnus-output-to-rmail or gnus-output-to-file.
	Expand filename before use.
	* rmailout.el (rmail-file-p): Add autoload cookie.

	* comint.el (comint-send-input): Run comint-output-filter-functions
	only if process is using comint-output-filter as its filter.

	* subr.el (remove-hook): Doc fix.

	* rmail.el (rmail-set-attribute): Do nothing if MSGNUM is 0.

	* nntp.el (nntp-encode-text): Insert a CR before the newline.

	* info.el (Info-mode): Doc fix.

	* loaddefs.el: Delete duplicate etags.el autoloads.

	* add-log.el (change-log-default-name, add-log-current-defun-function)
	(add-log-full-name, add-log-mailing-address): Delete autoload cookies.

Mon Nov 15 21:37:37 1993  Per Bothner  (bothner@cygnus.com)

	* iso-acc.el (iso-accents-list):  Added /A for A-with-ring
	and /E for AE-ligature, with lowercase versions.  These
	letters are used (with O-with-slash) in Norwegian and Danish.

Mon Nov 15 00:17:12 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* appt.el (appt-display-interval): New variable.
	(appt-check): Obey that variable.

	* sun.el (sun-raw-prefix): Make this just a variable,
	not a function name.

	* startup.el (command-line-1): Display a message in the echo area.

	* comint.el (comint-read-input-ring, comint-write-input-ring):
	Treat "" like nil in comint-input-ring-file-name.

Mon Nov 15 13:21:51 1993  Robert J. Chassell (bob@grackle.stockbridge.ma.us)

        * page.el Add `provide'.
        (narrow-to-page): Enable page-delimiter to span lines.

        * page-ext.el: Revise documentation.  Add `provide'.
        (pages-directory-for-adding-addresses-narrowing-p): 
        New user option for adding addresses.  Default to narrowing.
        (pages-directory-for-addresses): Intall user settable options. 
        (add-new-page): Insert new page in specified location.
        (original-page-delimiter): Set default value to "^^L".

Mon Nov 15 04:13:48 1993  Eric S. Raymond  (eric@mole.gnu.ai.mit.edu)

	* vc.el: vc-static-header-alist shouldn't have been declared const.

Sun Nov 14 00:49:35 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmailout.el (rmail-output): New argument FROM-GNUS.
	* gnus.el (gnus-summary-save-in-mail): Pass new args to rmail-output.

	* solar.el (solar-equinoxes-solstices): Add autoload.

	* calendar.el (solar-holidays): Change top-level progn to an if.

	* mouse.el (mouse-save-then-kill-delete-region): Take args BEG and END.
	Update the undo list properly.
	(mouse-save-then-kill): Pass those args.
	When we kill, clear mouse-save-then-kill-posn
	and mouse-selection-click-count.
	(mouse-secondary-save-then-kill): Likewise.
	Delete the overlay after deleting the selection text.
	(mouse-selection-click-count): Initialize to 0.
	(mouse-save-then-kill-delete-region): Handle buffers with no undo list.
	Handle empty regions.  Handle end < beg.

	* rmailsum.el (rmail-summary-forward): Accept prefix arg
	and pass it to rmail-forward.

Sat Nov 13 01:58:53 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* compare-w.el (compare-windows-skip-whitespace): Swap the two
	and's within the or.

	* help.el (describe-project): New function, on C-h C-p.
	(help-for-help): Add C-p.  Refer to help-command, not
	help-for-help, in the \\[...].

	* paths.el (rmail-spool-directory): Check for irix,
	not silicon-graphic-unix.
	* dired.el (dired-chown-program): Likewise.
	* lpr.el (lpr-command): Likewise.

	* xscheme.el: Add a provide call.

	* dired.el (dired-make-relative): Expand DIR if starts with ~.

Fri Nov 12 23:48:06 1993  Paul Eggert  (eggert@twinsun.com)

	* cal-dst.el (calendar-absolute-from-time): Undo Sep 14 patch.
	Fix comments instead, since they didn't match the code.

Fri Nov 12 17:16:24 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* comint.el (comint-match-partial-filename): Consider +@: part of
	filenames; don't consider parens as part of them.

	* fill.el (fill-individual-paragraphs): Fix skipping headers
	of yanked message.

	* rmailsum.el (rmail-summary-edit-map): Inherit text-mode-map properly.

Fri Nov 12 03:52:03 1993  Paul Eggert  (eggert@twinsun.com)

	* vc.el (vc-rename-file): Don't overwrite an existing file.
	Fix test for unsaved files.
	Calculate name of new master file properly.

Thu Nov 11 02:16:55 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.20 released.

	* man.el (Man-section-regexp): Allow section names l, n, L, N.

Wed Nov 10 21:46:27 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* map-ynp.el (map-y-or-n-p): Handle help-char values other than chars.

	* c-mode.el (c-indent-region): When looking for a sexp that ends
	past this line, make sure it really starts on this line.

	* replace.el (occur-mode): Run occur-mode-hook.

Wed Nov 10 20:53:06 1993  Robert J. Chassell  (bob@kropotkin.gnu.ai.mit.edu)

        * texinfo.el (texinfo-texi2dvi-command): Separate `texi2dvi'
	command from `tex' command so `texinfo-format-region' can use
	straight `tex' command.
        (texinfo-format-buffer): Use `texinfo-texi2dvi-command'
        (texinfo-delete-from-print-queue): Revise documentation. 
	(texinfo-quit-job): Use comint-send-input.

	* texinfmt.el (texinfo-format-region): Change `texinfo-[start
	end]-of-header' to `tex-[start end]-of-header'.

Wed Nov 10 15:38:24 1993  Brian Fox  (bfox@mole.gnu.ai.mit.edu)

	* rmail.el (rmail-start-mail): Don't do other frame unless we have
	a window system, irregardless of the state of rmail-mail-new-frame.

	* man.el (Man-filter-list): Include anything starting with
	alphabetics, and containing "Last change:".
	(manual-entry): Don't call `Man-downcase' since
	Man-translate-references has already done the right thing.

	* info.el (Info-extract-menu-item): Quote `*' in the menu-item
	leadin re-search to prevent us from finding node names which
	contain the text of another node name within them.

	* files.el (find-backup-file-name): Don't fatal-error on
	directories that are hard to read; fall back on ~/%backup%.

	* hexl.el (hexl-mode): Use `add-hook' to modify buffer local
	`write-contents-hooks'.
	(hexl-mode-exit): Remove our hook when turning off Hexl mode.

	* files.el (file-truename): Treat ~USER like just ~.

	* subr.el (remove-hook): New function, analogous to add-hook.  This
	is now the recommended way to remove a hook that you have added.
	* lucid.el (remove-hook): Function deleted.

Tue Nov  9 02:11:05 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* texinfo.el (texinfo-mode-map): Add C-c C-e bindings for texinfmt.el.

	* texnfo-upd.el (texinfo-sequential-node-update): Add autoload.
	(texinfo-update-node, texinfo-every-node-update): Add autoload.

	* comint.el (comint-postoutput-scroll-to-bottom):
	Don't alter point in a window if it's after the process-mark.
	Don't treat minibuffer window specially.

	* menu-bar.el (menu-bar-edit-menu): Add menu items for searching.

	* etags.el (etags-list-tags): Return t if found the file.
	(list-tags): Clear first-time when we go around the loop.
	Supply file name in error message.
	Remove dir names from files when preparing for completion.

Mon Nov  8 18:40:24 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* shell.el: Doc fixes.

Mon Nov  8 19:05:34 1993  Simon Marshall  (Simon.Marshall@mail.esrin.esa.it)

	* comint.el (comint-preinput-scroll-to-bottom): Added
	comint-magic-space to list of commands recognised as inserting.

	* comint.el (comint-output-filter): Corrected check for killed
	buffer.

Mon Nov  8 16:16:32 1993  Robert J. Chassell  (bob@geech.gnu.ai.mit.edu)

        * texinfo.el (texinfo-show-structure): Indent appendices properly.

Mon Nov  8 07:42:24 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* disp-table.el (describe-current-display-table):
	Don't get error if no display table now.
	(describe-display-table): Put all the output in the temp buffer.

	* ws-mode.el (wordstar-mode): Add autoload.

	* pascal.el: New file.
	* thingatpt.el: New file.
	* mouse-sel.el: New file.

	* ispell.el (ispell-message): Delete excess (beginning-of-line).

	* frame.el (set-frame-configuration): Iconify frames
	rather than making them invisible.

	* register.el (jump-to-register): Rename prefix arg to DELETE
	and invert its sense.

	* comint.el (comint-postoutput-scroll-to-bottom):
	Walk the windows even if scroll is nil.

Sun Nov  7 03:09:57 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* ispell.el (ispell-message): If gnus, but no mail-yank-prefix,
	use ispell-message-cite-regexp.  Turn off case-fold-search
	for the searching and matching in this function.

	* ispell.el (ispell-message): Stop if ispell-region returns nil.
	(ispell-next, ispell-word): Catch ispell-quit, not quit.
	(ispell-next): Return t if exit normally (no throw to ispell-quit).
	(ispell-command-loop): For q, throw to ispell-quit.
	Explicitly handle C-g.
	(ispell): If we don't call ispell-next, return t.

	* compare-w.el (compare-windows-skip-whitespace): Return t
	if there is whitespace before point.

	* iso-acc.el (iso-accents-mode): Doc fix.

	* comint.el (comint-postoutput-scroll-to-bottom):
	Always keep point at end in all buffers if was at end.
	comint-scroll-to-bottom-on-output controls what to do
	if point was not already at the end.

	* iso-acc.el: Support ~ and /.  Support 'Y, 'y, "y.
	Delete the `compose' support.
	(iso-accents-list): Fix typo in ^A code.  Support ~< and ~>.

	* iso-transl.el: Alter isearch-mode-map so C-x 8 works in search.

	* frame.el (set-frame-configuration): If NODELETE, make the
	unwanted frames invisible.

Sun Nov  7 11:19:25 1993  Ethan Bradford  (ethanb@ptolemy.astro.washington.edu)

	* ispell.el (ispell-non-empty-string): New function.
	(ispell-message): Add autoload.
	Choose a citation regexp automatically.
	Don't fail if there is no following cited line after filled lines.

Fri Nov  5 23:15:57 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* man.el (Man-frame-parameters): New variable.
	(Man-notify-when-ready): Handle `newframe' as Man-notify value.

Thu Nov  4 07:01:50 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* ange-ftp.el (ange-ftp-load): Handle extra args after the file name.

Wed Nov  3 15:42:09 1993  Edward M. Reingold  (reingold@emr.cs.uiuc.edu)

        * tex-mode.el (tex-alt-print): New function for menu bar.
        (tex-define-common-keys, tex-mode-map): Move some items from
	tex-define-common-keys to tex-mode-map.
	Add more menu-enable properties.
        (tex-append): Cope with both the original
        Pascal-based TeX and the newer C-based TeX.

Wed Nov  3 14:59:49 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* frame.el (other-frame): Subtract 1 from hpos for new mouse position.

	* sendmail.el (sendmail-send-it): Don't insert Sender.

	* tex-mode.el (tex-validate-region, tex-region):
	Enable menu items if only mark is active.

Tue Nov  2 19:44:53 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* mouse.el (mouse-drag-region): Set this-command to mouse-set-point
	if not setting the mark.
	(mouse-save-then-kill): Consider mark-active only in transient mark md.

Wed Oct 27 17:32:56 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* tex-mode.el (tex-define-common-keys): Define menu items.

Tue Oct 26 16:45:48 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* comint.el (comint-mode-map): Merge menu bar item Output into Input.
	Rename Completion to Complete.

	* font-lock.el (font-lock-fontify-buffer): Don't turn
	font-lock-mode on and off; just call font-lock-set-defaults.

Tue Oct 26 14:08:10 1993  Lawrence R. Dodd  (dodd@roebling.poly.edu)

	* ispell.el (ispell-look-command): New user variable.
	(ispell-do-look, ispell-lookup-build-list): Use it as
	PROGRAM for call-process instead of just "look".

	* ispell.el (ispell-complete-word-interior-frag): New command.
	(ispell-complete-word): New command.
	(ispell-menu-map): Add bindings for them.
	(ispell-gnu-look-still-broken-p, ispell-look-dictionary): New vars.

	* text-mode.el (text-mode-map): Bind ispell-complete-word to M-TAB.

Tue Oct 26 14:07:22 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* simple.el (eval-expression): Fix typo: missing paren.
	(read-expression-map): Use an indirection to minibuffer-local-map
	rather than copying it.

Mon Oct 25 23:28:41 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* bookmark.el (bookmark-load, bookmark-write-file):
	Bind enable-local-variables instead of enable-local-eval.

Mon Oct 25 20:09:53 1993  Karl Fogel  (kfogel@mole.gnu.ai.mit.edu)

        * bookmark.el (bookmark-load, bookmark-write-file): Made
	enable-local-eval be nil when loading a bookmark file, since
	bookmark context strings can contain eval forms from the files in
	which the bookmarks are set, and we don't want them evalled when
	.emacs-bkmrks is found!

	Got rid of ###autoload to put a bookmark menu on the menu-bar.
	Now it will appear on the File menu -- that change is made in
        menu-bar.el.  See below:
	
        * menu-bar.el: Added a define-key for menu-bar-bookmark-map, so
        that bookmarks will appear on the File menu of the menu-bar, right
        after the Print Buffer item.

Mon Oct 25 15:48:39 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* comint.el (comint-scroll-to-bottom-on-input): Default to nil.
	(comint-mode): Use pre-command-hook, not before-change-function.
	(comint-preinput-scroll-to-bottom): Take no arguments.
	(comint-output-filter-functions):
	Renamed from comint-output-filter-hook.
	(comint-output-filter): Pass STRING as arg to output hook functions.
	(comint-preinput-scroll-to-bottom): Take an arg.
	Move point to new process mark if it was at the old one.
	Scroll so only if point is at or after the process mark.
	When scrolling, put end of text on bottom line, regardless of point.

Mon Oct 25 02:07:36 1993  Brian Fox  (bfox@albert.gnu.ai.mit.edu)

 	* ispell.el (ispell): If the buffer to spell has no associated
	file, or, the associated file has a special handler, use a
	temporary file with the buffer contents to pass to the local
	ispell process.

	* dired.el (provide): Provide "dired" before running user hooks.

	* ange-ftp.el (ange-ftp-dired-uncache): Fix parens so that `(setq
	...' is a result of the if statement, and not a top level
	expression.

	* simple.el (eval-expression, edit-and-eval-command): Let
	minibuffer-history-sexp-flag be 't during the call to
	read-from-minibuffer.

Sun Oct 24 19:18:52 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* iso-acc.el: Define "dead keys" in key-translation-map,
	not in global-map.
	(iso-accents-compose): New subroutine to do the composition.
	Method of doing so is new.
	(iso-accents-accent-key): Use iso-accents-compose.
	(iso-accents-compose-key): New function.

Sat Oct 23 17:25:41 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* isearch.el (isearch-yank): Handle `kill' as chunk type.
	(isearch-yank-kill): New command, on M-y and mouse-2.

	* frame.el (make-frame): Use before-make-frame-hook and
	after-make-frame-hook.

	* comint.el (comint-scroll-to-bottom-on-output)
	(comint-scroll-to-bottom-on-input): Default to nil if baud-rate<=9600.

Fri Oct 22 13:10:53 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* comint.el (comint-filename-prefix): Deleted.
	* rlogin.el (rlogin, rlogin-mode): Use comint-file-name-prefix,
	not comint-filename-prefix.

Thu Oct 21 22:22:08 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* shell.el (shell-after-partial-filename): Renamed from
	shell-after-partial-pathname.
	* comint.el (comint-after-partial-file-name-command):
	Renamed from comint-after-partial-pathname-command.
	(comint-match-partial-file-name, comint-after-partial-file-name):
	Renamed from comint-match-partial-pathname, etc.

Thu Oct 21 23:10:27 1993  Simon Marshall  (Simon.Marshall@mail.esrin.esa.it)

	* shell.el (shell-after-partial-pathname): New subroutine.

	* shell.el: Renamed shell-command-execonly to
	shell-completion-execonly for consistency.

	* shell.el (shell-read-input-ring, shell-input-ring-file-name):
	Moved to, and renamed in, comint.el.

	* shell.el (shell-dynamic-complete-command):  Make sure local
	completion-ignore-case is nil.

	* shell.el (shell-mode): Set buffer-local variable paragraph-start
	to comint-prompt-regexp so paragraph motion/mark commands work on
	output groups.
	Set comint-after-partial-pathname to it.
	(shell-read-input-ring): Use find-file-noselect.

	* shell.el (shell-match-cmd-w/optional-arg): Removed.

	* comint.el (comint-last-output-start): New variable to record
	where most recent process output started from.
	(comint-mode): Initialise it.
	(comint-output-filter): Set it.

	* comint.el (comint-previous-matching-input-string): Moved to
	comint-previous-matching-input-position.
	(comint-previous-matching-input-string): Use it.
	(comint-search-arg, comint-search-start,
	comint-previous-input-string): New subroutines.
	(comint-previous-input, comint-next-input,
	comint-previous-matching-input, comint-next-matching-input,
	comint-previous-matching-input-from-input,
	comint-next-matching-input-from-input): Use them.

	* comint.el (comint-mode-map): Added signal menu-bar.  Moved
	comint-backward/forward-matching-input to output menu-bar, since
	they move within the buffer rather than do input.

	* comint.el (comint-send-input, comint-after-pmark-p,
	comint-kill-input, comint-proc-query): Removed serialisation of
	obtaining the process mark's marker-position.

	* comint.el, shell.el: Commented out comint/shell-load-hooks.

	* comint.el (comint-dynamic-simple-complete): New subroutine.

	* comint.el (comint-dynamic-complete-filename-command): New variable.
	(comint-after-partial-pathname-command): New variable.
	(comint-after-partial-pathname): New subroutine.
	(comint-dynamic-complete): Use them.
	(comint-mode): Make them local.

	* comint.el, shell.el: Renamed comint-dynamic-complete-command to
	comint-dynamic-complete-command-command for consistency.
	Renamed comint-file-name-addsuffix/autolist/recexact to
	comint-completion-addsuffix/autolist/recexact for consistency.

	* comint.el (comint-replace-by-expanded-history): Check if input
	ring size is not big enough for relative reference.

	* comint.el (comint-read-input-ring, comint-input-ring-file-name):
	From shell.el.
	(shell-write-input-ring): New subroutine.

	* comint.el (comint-file-name-prefix): New variable.
	(comint-directory): New inline subroutine.
	(comint-dynamic-complete-filename, comint-dynamic-complete-variable,
	comint-dynamic-list-filename-completions): Use it.

	* comint.el (comint-dynamic-complete-filename,
	comint-dynamic-complete-variable,
	comint-dynamic-list-filename-completions): Make sure local
	completion-ignore-case is nil.

	* comint.el (comint-next-prompt, comint-previous-prompt): Use
	paragraph-start and paragraph motion commands rather than
	re-search-forward and re-search-backward commands.

	* comint.el (comint-dynamic-list-input-ring,
	comint-previous-matching-input-string): Use ring-empty-p rather
	than zerop and ring-length.

	* comint.el (comint-input-ignoredups): New variable.
	(comint-send-input, shell-read-input-ring): Use it.
	(comint-mode): Make comint-input-ignoredups local.  Doc fix.

	* comint.el (comint-scroll-to-bottom-on-input): New variable.
	(comint-scroll-to-bottom-on-output): New variable.
	(comint-scroll-show-maximum-output): New variable.
	(comint-output-filter-hook): New variable, defaults to
	comint-postoutput-scroll-to-bottom.

	* comint.el (comint-output-filter): Renamed from comint-filter
	for consistency.  Now calls comint-output-filter-hook.

	* comint.el (comint-preinput-scroll-to-bottom): New subroutine.
	(comint-postoutput-scroll-to-bottom): New subroutine.
	(comint-show-maximum-output): New command.
	(comint-copy-old-input): New command.

	* comint.el (comint-send-input): Run comint-output-filter-hook if
	necessary as a kludge to prevent messy redisplays.

	* comint.el (comint-mode-map): Added comint-show-maximum-output to
	C-c C-e and menu-bar output, and comint-copy-old-input to C-c C-i
	and menu-bar input.

	* comint.el (comint-mode): Make local variables
	comint-scroll-to-bottom-on-input, before-change-function,
	comint-scroll-to-bottom-on-output, comint-scroll-show-maximum-output,
	and comint-output-filter-hook.

Thu Oct 21 13:51:51 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* simple.el (blink-matching-open): Treat / syntax like \ syntax.

	* texinfmt.el (texinfo-format-begin-end): Bind cmd locally.
	(texinfo-defun-type): Renamed from command-type in various fns.
	(texinfo-command-start, texinfo-command-end, texinfo-command-name)
	(texinfo-defun-type, texinfo-last-node-pos, texinfo-stack)
	(texinfo-short-index-cmds-alist)
	(texinfo-short-index-format-cmds-alist, texinfo-format-filename)
	(texinfo-footnote-number, texinfo-start-of-header)
	(texinfo-end-of-header, texinfo-raisesections-alist)
	(texinfo-lowersections-alist): Add defvars.

Wed Oct 20 14:06:31 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cdl.el: New file.

Wed Oct 20 08:00:51 1993  Brian Fox  (bfox@gnu.ai.mit.edu)

	* forms.el (forms--set-minor-mode): Rewrite so that describe-mode
	can parse the value of minor-mode-alist correctly.  The string
	" View" is now dependent on the value of forms-read-only.

Wed Oct 20 08:00:51 1993  Johan Vromans  (jv@mh.nl)

	* forms.el: Documentation: `forms-forms-scroll' and `forms-forms-jump'
	now default to nil.
	`forms-new-record-filter' and `forms-modified-record-filter'
	cannot be redefined as functions.
	Commands and keymaps are changed.
	Add function key defs.
	(forms-version): Docstring includes full RCS id.
	(forms-forms-scroll): Defaults to nil.
	(forms-forms-jump): Defaults to nil.
	(forms-mode-edit-map, forms-mode-ro-map): Additional keymaps
	for edit mode and read-only mode.
	(forms--new-record-filter, forms--modified-record-filter): Deleted.
	(forms-mode): Docstring now includes the key bindings, since
	both edit mode and read-only mode must be supported.
	Changed `forms-new-record-filter' and `forms-modified-record-filter'
	semantics: the variable must point to a function and may
	not be defined as a function anymore.
	Use three keymaps: `forms-mode-map' (C-c commands),
	`forms-mode-edit-map' (normal mode) and `forms-mode-ro-map'
	(read-only mode). The maps are not buffer local.
	Changed the text of error messages to be more descriptive, and
	consistent with the documentation.
	Moved setting up write-file-hooks and revert-buffer-function
	to function `forms--change-commands'.
	(forms--process-format-list): Changed error messages to be
	more descriptive.
	(forms--set-keymaps): Setup the three keymaps.
	(forms--mode-commands): Use new command key bindings.
	(forms--mode-commands1): New helper function for
	`forms--mode-commands'.
	(forms--change-commands): Handle setup of
	local-write-file-hooks and revert-buffer-function.
	(forms--help): Show new command bindings.
	(forms--show-record): Replaced `forms--modified-record-filter' by
	`forms-modified-record-filter'.
	(forms-jump-record): Changed error message.
	(forms-toggle-read-only): New function, replaces
	`forms-view-mode' and `forms-edit-mode'.
	(forms-view-mode, forms-edit-mode): Deleted.
	(forms-insert-record): Replaced `forms--new-record-filter' by
	`forms-new-record-filter'. 
	(forms-insert-record, forms-delete-record): Disallow in read-only
	mode.
	(forms-prev-field): New function.

Tue Oct 19 09:50:13 1993  Edward M. Reingold  (reingold@emr.cs.uiuc.edu)

	* calendar.el (calendar-week-start-day): New var (autoloaded) to
	allow the calendar week to start on any day, not just Sunday.
	(calendar-mod): New support function.
	(calendar-cursor-to-visible-date, generate-calendar-month,
	calendar-beginning-of-week, calendar-end-of-week): Rewritten to
	use new var calendar-week-start-day.

	* holidays.el (holiday-easter-etc): Fix Ascension Day string. 

	* diary.el (list-sexp-diary-entries): Fix doc string.

	* solar.el (solar-n-hemi-seasons, solar-s-hemi-seasons): New vars.
	(solar-equinoxes-solstices): Use them to fix names for
	southern hemisphere.

	* calendar.el (calendar-day-name-array, calendar-month-name-array,
	calendar-islamic-month-name-array,
	calendar-hebrew-month-name-array-common-year,
	calendar-hebrew-month-name-array-leap-year):  Change to defvar.

	* diary.el (hebrew-calendar-parashiot-names):  Change to defvar.

Mon Oct 18 03:54:58 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* etags.el (list-tags): Fix completing-read call interactive spec;
	TABLE and PREDICATE args were reversed, and more processing was
	needed on tags-table-files.

Mon Oct 18 02:41:47 1993  Noah Friedman  (friedman@gnu.ai.mit.edu)

        * rlogin.el (rlogin-initially-track-cwd): New variable.
        (rlogin): Use it to determine whether enable directory tracking
        via ange-ftp.
        (rlogin-mode): Make `comint-filename-prefix' local here.

        * rlogin.el (rlogin): Arguments to function are now a string with
        multiple words (hostname first) and an optional prefix.
        (rlogin-with-args): Function deleted.

        * rlogin.el (rlogin): Set process filter after calling
        `rlogin-mode' since the latter called `comint-mode', which sets
        its own initial process filter.
Mon Oct 18 20:28:36 1993  Barry A. Warsaw, ITB  (warsaw@anthem)

	* reporter.el:
	(reporter-submit-bug-report, reporter-mailer): reporter-mailer
	variable can now take a list of mailers, trying each one until an
	commandp one is found.

	* reporter.el: Fixed elisp archive address.
	Handle dumping of buffer local variables via reporter-eval-buffer.

Thu Oct 14 18:28:24 1993  Paul Eggert  (eggert@twinsun.com)

	* vc.el (vc-backend-checkout): Do not set umask to value that does
	not allow user-write permission while `co' is running; this breaks
	versions of `co' that need to write temporary files.

Wed Oct 13 20:11:51 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* rmailout.el (rmail-output-file-alist): Doc fix.

Wed Oct 13 02:20:53 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* supercite.el, regi.el: New files.
	* sc-elec.el: Files deleted.
	* sc.el: Just load supercite.

Tue Oct 12 16:57:23 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* files.el (abbreviated-home-dir): Doc fix.

Mon Oct 11 20:53:34 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* map-ynp.el (map-y-or-n-p): Take new optional arg to not set
	cursor-in-echo-area.

Sun Oct 10 18:13:18 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmail.el (rmail-retry-setup-hook): New hook variable.
	(rmail-retry-failure): Use that variable.

	* pp.el: New file.

Sat Oct  9 17:43:44 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* ispell.el (ispell-message-cite-regexp): Add definition.

Sat Oct  9 03:12:59 1993  Karl Fogel  (kfogel@occs.cs.oberlin.edu)

	* bookmark.el (bookmark-write): Add numbered backups for bookmark file.
	(bookmark-version-control): New variable.

	* bookmark.el (bookmark-jump): bookmark-jump now gives a
	default value if no bookmark is entered manually.
	(bookmark-set): Default to bookmark-current-bookmark or
        buffer-name the way bookmark-jump does.

	* bookmark.el (ctl-x-map): Check if C-x r is a prefix
	before using it as one.

	* bookmark.el: Include string "Bookmarks" in defining
	[menu-bar bookmark] in global-map in the menu-bar code.

	* bookmark.el (menu-bar-bookmark-map): Supply t as 4th arg of autoload.

	* bookmark.el (bookmark-jump-noselect): New subroutine taken from 
	bookmark-jump.  Support compressed files.
	(bookmark-jump): Call bookmark-jump-noselect.
	Offer to relocate if necessary, but change default dir to that of 
        the old	bookmark in read-file-name.

	* bookmark.el: (bookmark-set, bookmark-rename, bookmark-delete,
	bookmark-write-file, bookmark-load, Bookmark-menu-show-filenames,
	Bookmark-menu-hide-filenames, Bookmark-menu-bookmark,
	Bookmark-menu-save, Bookmark-menu-load): Fixed the save-excursion
	bugs by wrapping things in save-window-excursion as well.

	(bookmark-make-menu-bar-alist): Added sorting. 

	(bookmark-map): Added new keybindings.
	(bookmark-try-default-file): Set bookmarks-already-loaded to t
	after the load.

	* bookmark.el (list-bookmarks): Added bookmark menu stuff.
	(Bookmark-menu-*): New functions.

Sat Oct  9 15:59:31 1993  David J. MacKenzie  (djm@kropotkin.gnu.ai.mit.edu)

	* isearch.el, reporter.el: Change comments saying they're not yet
	part of GNU Emacs.

Fri Oct  8 22:01:33 1993  Jonathan I. Kamens  (jik@security.ov.com)

	* timezone.el (timezone-parse-date): Handle new style 22-AUG-1993.

	* rmail.el (rmail): Really don't get new mail if file name was given.
	(rmail-reformat-message): Move past Mail-from as well as Summary-line.
	(rmail-toggle-header): Likewise.
	(rmail-next-undeleted-message): Return t unless hit end of buffer.
	(rmail-delete-forward): Likewise.
	(mail-unsent-separator): Add `Original message follows'.
	(rmail-resend): Handle mail-self-blind.

	* files.el (hack-local-variables): If buffer has no file,
	display its buffer name.

	* rmailout.el (rmail-output): If message was shown with full headers,
	copy the full headers (or each message copied) into the file.
	New local var original-headers-p, header-beginning, mail-from.
	Bind locals outside the while loop.  Kill tembuf only after loop.
	If message has a saved mail-from field, use that.
	Detect reaching end of rmail buffer; display # messages copied.

Wed Oct  6 23:02:55 1993  Morten Welinder  (terra@diku.dk)

	* desktop.el: Internal clean-up.  Save information about current
	tags files, don't save the tags buffers (to save reload time).
	Don't save desktop-globals-to-save (desktop files must be erased
	for this to take effect, sorry.)  Save "mark-activity" and
	allow multi-dir direds.

Mon Oct  4 21:56:46 1993  Brian Fox  (bfox@albert.gnu.ai.mit.edu)

	* telnet.el (rsh): Add `host' to args passed to make-comint.

Mon Oct  4 20:22:11 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmail.el (rmail-convert-to-babyl-format): Protect against
	nonsensical content-length values.

Mon Oct  4 20:51:01 1993  Eric S. Raymond  (eric@mole.gnu.ai.mit.edu)

	* vc.el	(vc-next-action): Fix (throw ... ) invocation to work with 19;
	allows vc-next-action on all marked files in a dired buffer to work.
	
	(vc-finish-logentry) There isn't necessarily a *VC-log-entry* buffer
	to remove if this function was called from within a dired buffer.  Fix
	its handling of this case.

Sat Oct  2 15:53:27 1993  Brian J. Fox  (bfox@ai.mit.edu)

	* simple.el (edit-and-eval-command): Let `read-from-minibuffer'
	manipulate the history list, don't manipulate it directly.
	(repeat-complex-command): Same thing.

Fri Oct  1 18:40:22 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* mailabbrev.el (build-mail-abbrevs): Pass just 1 arg to
	substitute-in-file-name.

Mon Sep 27 04:36:31 1993  Paul Eggert  (eggert@twinsun.com)

	* vc.el (vc-find-binary): Fix bug; it always claimed success.

Sun Sep 26 16:00:42 1993  Johan Vromans  (jv@mh.nl)

	* forms.el: Version 2.3.
	Documentation: `forms-forms-scroll' and `forms-forms-jump'
	now default to nil.
	`forms-new-record-filter' and `forms-modified-record-filter'
	cannot be redefined as functions.
	Commands and keymaps are changed.
	Add function key defs.
	(forms-version): Docstring includes full RCS id.
	(forms-forms-scroll): Defaults to nil.
	(forms-forms-jump): Defaults to nil.
	(forms-mode-edit-map, forms-mode-ro-map): Additional keymaps
	for edit mode and read-only mode.
	(forms--new-record-filter, forms--modified-record-filter): Deleted.
	(forms-mode): Docstring now includes the key bindings, since
	both edit mode and read-only mode must be supported.
	Changed `forms-new-record-filter' and `forms-modified-record-filter'
	semantics: the variable must point to a function and may
	not be defined as a function anymore.
	Use three keymaps: `forms-mode-map' (C-c commands),
	`forms-mode-edit-map' (normal mode) and `forms-mode-ro-map'
	(read-only mode). The maps are not buffer local.
	Changed the text of error messages to be more descriptive, and
	consistent with the documentation.
	Moved setting up write-file-hooks and revert-buffer-function
	to function `forms--change-commands'.
	(forms--process-format-list): Changed error messages to be
	more descriptive.
	(forms--set-keymaps): Setup the three keymaps.
	(forms--mode-commands): Use new command key bindings.
	(forms--mode-commands1): New helper function for
	`forms--mode-commands'.
	(forms--change-commands): Handle setup of
	local-write-file-hooks and revert-buffer-function.
	(forms--help): Show new command bindings.
	(forms--show-record): Replaced `forms--modified-record-filter' by
	`forms-modified-record-filter'.
	(forms-jump-record): Changed error message.
	(forms-toggle-read-only): New function, replaces
	`forms-view-mode' and `forms-edit-mode'.
	(forms-view-mode, forms-edit-mode): Deleted.
	(forms-insert-record): Replaced `forms--new-record-filter' by
	`forms-new-record-filter'. 
	(forms-insert-record, forms-delete-record): Disallow in read-only
	mode.
	(forms-prev-field): New function.
	
Sun Sep 26 21:36:07 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* disass.el (disassemble-internal): Allow a call to byte-code
	as argument.

Fri Sep 24 00:08:17 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* ispell.el (ispell-message): Handle cited messages.

	* frame.el (other-frame): Warp the mouse so that the other
	frame actually stays selected.

Wed Sep 22 12:37:21 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* mouse.el (mouse-delete-max-match): New function.
	(mouse-choose-completion): Use that.  Now supports buffers
	other than minibuffer.

	* comint.el (comint-version): Deleted--no need for separate version.
	(comint-input-ring-index): Make this a permanent local.
	(comint-mode): Don't alter comint-input-ring-index or comint-input-ring
	if already set meaningfully.

Tue Sep 21 16:23:23 1993  Simon Marshall  (Simon.Marshall@mail.esrin.esa.it)

	* comint.el (comint-mode-map): Added keys M-R/S for
	comint-previous/next-matching-input-from-input and to completion
	menu-bar.  Added comint-forward/backward-matching-input and
	comint-previous/next-matching-input to completion menu-bar.

	* comint.el (comint-mode): Doc fix for functionality.

	* comint.el (comint-exec-1): Uses setenv.
	(comint-update-env): Removed.

	* comint.el (comint-input-ring-size): Incremented to 32, as with
	command history.
	(comint-dynamic-list-input-ring): Check for zero
	length ring.  Use ring length, not ring size, when generating
	list.  Use buffer " *Input History*".
	(comint-previous-matching-input-string): Check for zero-length ring.
	Check last item in case at end of cycle and it's a match.
	(comint-searching-input-ring): New subroutine.

	* comint.el (comint-regexp-arg): New subroutine.

	* comint.el (comint-previous-matching-input-from-input): New command.
	(comint-next-matching-input-from-input): New command.

	* comint.el (comint-replace-by-expanded-history): Fix for matching
	inside quotes.  Fix to allow argument subrange specifiers.  Fix to
	identify and reject absolute input number references.

	* comint.el (comint-within-quotes): New subroutine.
	(comint-how-many-region): New subroutine.
	(comint-args): New subroutine.
	(comint-delim-arg): New subroutine.
	(comint-arguments): New subroutine.
	(comint-delimiter-argument-list): New variable.

	* comint.el (comint-send-input): Inserts input arguments into ring
	separated by single spaces.

	* comint.el (comint-filter): Checks the buffer's process to make
	sure it's still there.  Otherwise, set-buffer will fail.

	* comint.el (comint-backward-matching-input): New command.
	(comint-forward-matching-input): New command.
	
	* comint.el (comint-next-prompt, comint-previous-prompt):
	Error if reach beg/end of buffer.

	* comint.el (comint-dynamic-complete): Fix for absolute input
	number references.
	(comint-dynamic-complete-filename): Changed listings
	function to comint-dynamic-list-filename-completions.  Uses
	file-directory-p rather than string-match to test for directories.
	(comint-dynamic-list-completions): Changed to list the
	list of completions supplied as the function argument.  Use buffer
	" *Completions*".

	* comint.el (comint-match-partial-pathname): New subroutine.
	(comint-dynamic-complete-variable): New command.
	(comint-dynamic-list-filename-completions): New function.

	* shell.el (shell-delimiter-argument-list): New variable.
	(shell-input-ring-file-name): New variable.

	* shell.el (shell-mode-map): Changed file name completions listing
	binding to new name comint-dynamic-list-filename-completions.

	* shell.el (shell-mode): Call new function shell-read-input-ring
	and shell-dirstack on start up.  Doc fix for new functionality.

	* shell.el (shell-mode): Set shell-input-ring-file-name depending
	on the command that was invoked for the inferior shell.  Set
	comint-delimiter-argument-list to shell-delimiter-argument-list.

	* shell.el (shell-read-input-ring): New function.

	* shell.el (shell-directory-tracker): Use comint-arguments.

	* shell.el (shell-front-match): Removed.
	(shell-match-cmd-w/optional-arg): Removed.

	* shell.el (shell-process-popd): Fixed bug when numeric argument
	equal to length of stack including current directory.
	(shell-process-pushd): Fixed missing ()s in cond.

	* shell.el (shell-dynamic-complete-command): Uses exec-path minus
	trailing emacs library path.  Uses "." for nil elements in
	exec-path.  Uses string-match rather than funcall to test
	candidate extensions.  Uses member on completions list rather than
	file-exists-p to test for existence.  Uses file-directory-p rather
	than funcall to test for directory.  Uses directories only if in
	current directory.  Uses comint-dynamic-list-completions.

Tue Sep 21 07:42:31 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* loaddefs.el (global-map): Add bindings for menu and find keys.
	(function-key-map): Add translation for labeled help key.

	* mouse.el (mouse-drag-region): Put the text on the kill ring.
	Don't set mark if region is empty.
	(mouse-yank-at-click): Set this-command.
	(mouse-start-end): Fix double-click-on-closeparen case.
	(mouse-save-then-kill): When used repeatedly at different places,
	alter the nearer end of the region.  This applies regardless of how
	the previous selection was made.
	(mouse-drag-secondary, mouse-secondary-save-then-kill):
	Rewrite for xterm-style dragging and extending.

	* comint.el (comint-previous-input):
	Don't use replace-match; just insert before deleting.
	(comint-magic-space): Use self-insert command.
	(comint-history-file-name): New variable.

Tue Sep 21 03:18:47 1993  Brian Fox  (bfox@albert.gnu.ai.mit.edu)

	* edebug.el (edebug-enter): Don't call the current function being
	debugged in pre-command-hook or post-command-hook.

Mon Sep 20 23:43:49 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* edmacro.el: Total rewrite by Gillespie.

Mon Sep 20 17:38:06 1993  Simon Marshall  (Simon.Marshall@mail.esrin.esa.it)

	* shell.el (shell-command-regexp, shell-command-execonly)
	(shell-pushd-tohome, shell-pushd-dextract)
	(shell-pushd-dunique): New variables.

	* shell.el (shell-mode-map): Bound shell-forward/backward-command
	to C-c C-f and C-c C-b.

	* shell.el (shell-mode): Set comint variables for which
	shells have different values:
	comint-get-current-command, comint-dynamic-complete-command.

	* shell.el (shell-directory-tracker): Parse through
	command sequences for directory commands.
	(shell-process-popd): Signal error if can't
	process argument/stack.  Fixed bug when no argument and no stack.
	(shell-process-cd): Signal error if can't process argument.
	(shell-process-pushd): Signal error if can't
	process argument/stack.  Handle shell-pushd-tohome,
	shell-pushd-dextract, and shell-pushd-dunique.

	* shell.el (shell-forward-command, shell-backward-command)
	(shell-dynamic-complete-command): New commands.

Mon Sep 20 14:57:52 1993  Simon Marshall  (Simon.Marshall@mail.esrin.esa.it)

	* comint.el (comint-mode): Initialize comint-input-ring before
	running comint-mode-hook.

	* comint.el (comint-input-autoexpand): New variable.
	(comint-dynamic-complete-command): New variable.
	(comint-get-current-command): New variable.

	* comint.el (comint-read-input-ring): New function.

	* comint.el (comint-send-input): Handle history expansion.
	(comint-input-sentinel): Doc fix.

	* comint.el (comint-mode-map): Added key binding for C-c C-h.
	Added menu bars for completion, input and output.

	* comint.el (comint-dynamic-list-input-ring): New function.

	* comint.el (comint-previous-input-string): New subroutine.
	(comint-previous-input): Use it.
	(comint-previous-matching-input-string): New subroutine.
	(comint-previous-matching-input): Use it.

	* comint.el (comint-replace-by-expanded-history): New command.
	(comint-magic-space): New command.
	(comint-replace-by-expanded-filename): Now replaces
	expanded match for a filename, and then calls filename completion
	comint-dynamic-complete-filename to do file name completion.

	* comint.el (comint-kill-output): Don't kill prompt.
	(comint-show-output): Don't move point if it's
	visible where it is, and if point is moved, put it after prompt.

	* comint.el (comint-dynamic-complete): Totally new definition.
	(comint-dynamic-complete-filename): New name for old
	function comint-dynamic-complete, completes files and lists
	candidates, souped up for configurability.
	(comint-dynamic-complete-variable): New command.
	(comint-file-name-autolist): New variable.
	(comint-file-name-addsuffix): New variable,
	(comint-file-name-recexact): New variable.

Mon Sep 20 11:39:04 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* mouse.el (mouse-save-then-kill): If follows a multi-click selection,
	extend the selection.
	(mouse-save-then-kill-delete-region): New subroutine.
	(mouse-selection-click-count): New variable.
	(mouse-drag-region): Set it.

	* ispell.el (ispell-message): New command, with menu bar item.

Sat Sep 19 22:05:38 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* menu-bar.el (revert-buffer):
	Enable menu item when the buffer is modified.

Fri Sep 17 10:31:48 1993  Brian Fox  (bfox@inferno)

	* simple.el (kill-region): Use `equal' instead of `eq' to compare
	markers `beg' and `end'.  They might be two different markers that
	point to the same place.

	* rmail.el (rmail-forward): Insert the forwarded message
	on the line which follows mail-header-separator, not at the end of
	the buffer.

	* diary.el (diary-syntax-table): Make sure that we use a copy of
	standard-syntax-table, and not the table itself.

	* compile.el (compile-reinitialize-errors): Use ">=" to compare
	`find-at-least' to the `length' of compilation-error-list.

	* simula.el (simula-mode-syntax-table): Make sure that we use a
	copy of standard-syntax-table, and not the table itself.

	* compile.el (compile-internal): Back out jimb change of making
	buffer read-only.  It is non-ergonomic.

	* vc.el (vc-print-log): Delete extraneous lines of RCS output if
	present.

	* dired.el (dired-mode): Don't change the value of
	case-fold-search.

Wed Sep 15 12:56:44 1993  Brian Fox  (bfox@inferno)

	* files.el (local-write-file-hooks): Make this variable
	buffer-local.

	* dired.el (dired-build-subdir-alist): Call `expand-file-name' to
	clean up the subdirectory title (removing extra "./").

Tue Aug 31 21:16:29 1993  Paul Eggert  (eggert@twinsun.com)

	* vc.el (vc-do-command): Remove debugging output.  Use (forward-line
	-1) instead of (previous-line 1).

Tue Sep 14 00:58:34 1993  Brian Fox  (bfox@inferno)

	* rmail.el (rmail-convert-file): If the file is empty, don't
	convert it after inserting the BABYL header.

	* cal-dst.el (calendar-absolute-from-time): Fix typo by
	interchanging (floor) and  (%).

	* byte-opt.el (side-effect-free-fns): Add "-" and "1-" to the
	list.

	* subr.el (suppress-keymap): Use substitute-key-definition instead
	of manually checking each key (we were using 127 instead of 255
	anyway).

	* loaddefs.el (ctl-x-map): `C-x r c' now runs `clear-rectangle'.

	* texinfmt.el (texinfo-format-region texinfo-format-buffer): Add
	###autoload cookies.
	(batch-texinfo-format): Use `buffer-disable-undo' instead of
	obsolete function `buffer-flush-undo'.

	* solar.el (s-hemi-seasons n-hemi-seasons): New constants are
	hemisphere dependent list of season names.  The names are
	"international"; i.e., `vernal' and `autumnal' are used
	consistently.
	(solar-equinoxes-solstices): Use new constants, allowing southern
	hemisphere reports to be meaningful.
	(sunrise-sunset): Use `frame-width' instead of `screen-width'.

	* calendar.el (calendar-mode): Fix typos in documentation string.

	* outline.el (outline-minor-mode): Force update of modeline when
	outline-minor-mode is toggled.

Thu Aug 26 23:07:00 1993  Jim Blandy  (blandy@comano.cscs.ch)

	* add-log.el (add-log-full-name, add-log-mailing-address): New
	variables.
	(add-change-log-entry): Don't ask for the login name and site name
	separately; instead, prompt for a mailing address; that's more
	useful.  Set add-log-full-name and add-log-mailing-address, so
	that the values specified persist after being specified once.
	Create a new change log entry if the mailing address doesn't
	match; don't just compare the date, full name, and login name.

Wed Sep  1 10:31:28 1993  Brian Fox  (bfox@inferno)

	* tex-mode.el (slitex-mode): Add ###autoload magic cookie.

Fri Aug 27 00:40:59 1993  Brian Fox  (bfox@sonderbar)

	* diff.el (diff): Doc fix.

Tue Aug 17 23:50:18 1993  Brian Fox  (bfox@inferno)

	* version.el: Changed comment to refer to actual filename
	"inc-vers.el" instead of "inc-version.el".

Fri Sep 17 17:24:00 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* mouse.el (mouse-set-region): Put region in kill ring.
	(mouse-drag-region): Handle double and triple clicks
	when displaying region and when setting it.
	(mouse-skip-word, mouse-start-end): New functions.

Fri Sep 17 14:42:39 1993  Stig@netcom.com (Jonathan Stigelman)

        * hilit19.el:
        - (hilit-rehighlight-region): added (save-restriction (widen))
          to avoid hangups in dired.
        - Also slight improvements to fortran patterns and
          hilit-default-face-table doc string
        - added optional case-fold argument to hilit-set-mode-patterns
        - added hilit-rehighlight-buffer-quietly to dired-after-readin-hook
        - fixed bug in hilit-string-find that mishandled some strings: "\\"
        - work-around for bug in next-overlay-change
        - the pattern matcher now starts it's searches from the end of the 
	  most recently highlighted region (which is not necessarily the end
	  of the most recently matched regex).
        - code moved from hilit-highlight-region to hilit-set-mode-patterns.
          This will affect you if you pass your patterns directly to
          hilit-highlight-region....use a pseudo-mode instead.
        - twiddled C/C++, latex, texinfo, fortran, nroff patterns.
        - added calendar-mode, icon-mode and pascal-mode patterns
        - diverged lisp-mode and emacs-lisp-mode...also added lisp keywords.

Fri Sep 17 14:52:33 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* yow.el (read-zippyism): New function.

	* cookie1.el (read-cookie): New function.

Fri Sep 17 13:51:33 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* files.el (directory-abbrev-alist): Doc fix.

Thu Sep 16 10:52:37 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gud.el (perldb): New function, plus subroutines.

	* text-mode.el (indented-text-mode): Make only blank lines
	separate or start paragraphs.  Doc fix.

	* font-lock.el (font-lock-fontify-region): Don't add `font-lock' props.
	(font-lock-unfontify-region): Don't remove `font-lock' props.
	(font-lock-hack-keywords): Don't add `font-lock' props.
	Handle values other than t and nil for allow-overlap-p specially.
	(c-font-lock-keywords-1): Don't override how comments in #if... appear.
	Highlight text after #else or #endif.

Wed Sep 15 19:22:28 1993  Paul Eggert  (eggert@twinsun.com)

	* vc.el (vc-version-other-window): New function.
	(vc-backend-checkout): Add optional arg workfile, which specifies
	where to put the working file.
	* vc-hooks.el (vc-prefix-map): Bind C-x v ~ to
	vc-version-other-window.

Wed Sep 15 17:45:50 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmail.el (rmail-forward): Insert the text right after the
	header separator.

	* iso-acc.el: Set up keymap at load time.
	(iso-accents-mode): Not here.  Just setq iso-accents-minor-mode.
	(iso-accents-minor-mode): Make it local in all buffers.

Tue Sep 14 12:51:30 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* iso-acc.el: New file.
	Rename `iso-accents' to `iso-accents-mode' and change comments
	accordingly.  Fix doc strings.
	(iso-accents-minor-mode): Now a user option.
	(iso-accents-mode): Positive arg means enable.
	No arg means toggle.

Mon Sep 13 19:49:45 1993  Per Cederqvist  (ceder@signum.se)

	* forms.el: Change typos in comments.
	(forms-delete-record, forms--update): Use `delete-region' instead of
	`kill-line' to avoid messing around with the kill ring.

Mon Sep 13 23:35:33 1993  Johan Vromans  (jv@mh.nl)

	* forms.el: Release 2.1 for Emacs 19.19.
	(forms--process-format-list): No need to prepend a text item
	anymore. 
	(forms--ro-modification-start): Renamed to `forms--iif-start.
	(forms--ro-properties): Renamed to `forms--iif-properties'.
	(forms--romh): Renamed to `forms--iif-hook'.  Rewritten to use
	`insert-in-front-hooks' instead of `modification-hooks'. 
	(forms--romh-post-command-hook): Renamed to
	`forms--iif-post-command-hook'.  Rewritten to use
	`insert-in-front-hooks' instead of `modification-hooks'.
	(forms--make-format, forms--make-format-elt-using-text-properties):
	Use `insert-in-front-hooks' instead of `modification-hooks'.
	Remove `forms--electric' code.  Use `front-sticky' and
	`rear-nonsticky' text properties to control the insertion of text
	between read-only fields.
	(forms--show-record): Remove `forms--electric' code.

Sun Sep 12 07:24:21 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* sc.el (sc-glom-headers): Bind mark-active around calling region-...
	(sc-cite-original): Likewise.

Sat Sep 11 06:39:46 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* font-lock.el (font-lock-fontify-region): Put on `font-lock'
	property as well as `face' property.
	(font-lock-hack-keywords): Likewise.

	* rmail.el (rmail-convert-file): Narrow to exclude the Babyl header.

Fri Sep 10 01:05:45 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* paths.el (rmail-spool-directory): Use "/var/mail/" if
	system-type is netbsd.

Thu Sep  9 00:31:27 1993  Noah Friedman  (friedman@nutrimat.gnu.ai.mit.edu)

        * rlogin.el: require 'shell.

Wed Sep  8 12:06:37 1993  Paul Eggert  (eggert@twinsun.com)

	* vc.el (vc-backend-steal): Fix typo when invoking the 'rcs'
	command to steal the lock.

Wed Sep  8 02:22:59 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* shell.el (shell-dirstack-message): Recognize ~ by matching the
	expansion of "~" with comint-filename-prefix prepended.  Strip
	comint-filename-prefix from elts.

	* comint.el (comint-filename-prefix): New variable.
	(comint-replace-by-expanded-filename, comint-dynamic-complete,
	comint-dynamic-list-completions): Prepend it to absolute file
	names before completing.
	* shell.el (shell-cd): New function, like `cd' but prepend
	comint-filename-prefix.
	(shell-resync-dirs, shell-process-cd, shell-process-pushd,
	shell-process-popd): Use shell-cd in place of cd.
	* rlogin.el (rlogin): After rlogin-mode, set
	comint-filename-prefix locally to indicate the host, and cd to
	/HOST:~/.
	(rlogin-mode-map): Start with (cons 'keymap shell-mode-map),
	rather than with a full copy of comint-mode-map.

	* ange-ftp.el (ange-ftp-file-executable-p): New function, handles
	file-executable-p.

Tue Sep  7 13:06:55 1993  Ron Schnell  (ronnie@media.mit.edu)

	* dunnet.el (dun-save-game): Use correct name of endgame question.

Tue Sep  7 04:35:26 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* files.el (hack-local-variables-prop-line): Ignore any specification
	for `mode:', since set-auto-mode has already handled it.
	(set-auto-mode): Clean up.  Handle more than one `mode:' spec in -*-.

	* rmail.el (rmail-convert-file): Exclude the Babyl header
	when calling rmail-convert-to-babyl-format.

	* startup.el (command-line): Setq inhibit-startup-message to nil.

Mon Sep  6 18:48:08 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* register.el (jump-to-register): Take new optional arg NODELETE
	(prefix arg); pass through to set-frame-configuration.
	* frame.el (set-frame-configuration): Take new optional arg
	NODELETE; if non-nil, don't delete any frames.

	* register.el (window-configuration-to-register): Fix
	prompt string in interactive spec.
	(frame-configuration-to-register): Likewise.

	* menu-bar.el: Don't clobber existing binding for menu-bar in
	global-map.

Mon Sep  6 22:37:51 1993  Paul Eggert  (eggert@twinsun.com)

	* cal-dst.el (calendar-time-zone-daylight-rules): Remove
	special case for Israel.  Israel has changed its daylight
	savings time rules.  We don't know what the current rules are,
	but the special case was definitely incorrect.

Mon Sep  6 18:15:29 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* etags.el (tag-exact-match-p): Return true if TAG is the explicit
	tag name.

Mon Sep  6 08:48:50 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* simula.el: Doc fixes.
	(simula-mode-syntax-table): Copy the syntax table.

Mon Aug 30 12:17:43 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* etags.el (next-file): If arg is neither t nor nil, then eval it
	to return initial list of files.
	(tags-loop-continue): Doc fix.
	(tags-search, tags-query-replace): Take optional final arg and pass to
	tags-loop-continue (through to next-file) instead of t if non-nil.

Sun Aug 29 10:29:22 1993  Paul Eggert  (eggert@twinsun.com)

	* solar.el (solar-degrees-to-quadrant): Use `floor' not `truncate'.
	(solar-sunrise, solar-sunset, solar-longitude-of-sun):
	Undo Aug 19 patch; not needed with new `mod'.

Sun Aug 29 08:21:25 1993  Edward M. Reingold  (reingold@emr.cs.uiuc.edu)

	* solar.el (solar-equinoxes-solstices): Invert seasons in southern
	hemisphere.  Use "Autumnal" not "Fall".

Sat Aug 28 02:41:19 1993  Paul Eggert  (eggert@twinsun.com)

	* cal-dst.el (calendar-time-zone-daylight-rules): Scan through the
	next few years until at most one rule remains; if none remain, then
	just use the first candidate rule; it's wrong in general, but it's
	right for at least one year.  This is a better heuristic in case the
	underlying time zone implementation has bugs (which is all too
	common).  If possible, don't convert back and forth between gregorian
	and absolute; this speeds things up noticeably.  This uses the new
	calendar-nth-named-absday function.
	
	(calendar-current-time-zone): Some locales start DST at a different
	time of day than they end; allow for this by yielding both times.  The
	performance speedups in calendar.el are great enough that we now no
	longer need the "Checking time zone data..." message.  If
	current-time-zone yields nil, don't bother with
	calendar-next-time-zone-transition.  Use clearer names for local vars.
	
	(calendar-time-zone, calendar-daylight-time-offset,
	calendar-{standard,daylight}-time-zone-name,
	calendar-daylight-savings-{starts,ends}): Default to US Eastern rules
	for information that is not available.
	
	(calendar-daylight-savings-{starts,ends}-time): New vars, replacing
	calendar-daylight-savings-switchover-time, to support locales that
	start DST at a different time of day than they end.

	(calendar-absolute-from-time): Fix typo by interchanging floor and mod.

	* calendar.el (solar-holidays): Use new
	calendar-daylight-savings-{starts,ends}-time vars instead of old
	calendar-daylight-savings-switchover-time var.
	
	(calendar-last-day-of-month): Tune by testing month before year.
	(calendar-absolute-from-gregorian): Tune by computing (1- year) once.
	
	(calendar-nth-named-absday): New function, used to improve performance
	in calendar-time-zone-daylight-rules.
	(calendar-nth-named-day): Use it.

	* solar.el (solar-time-string):
	Use new calendar-daylight-savings-{starts,ends}-time
	vars instead of old calendar-daylight-savings-switchover-time var.

Thu Aug 26 20:56:51 1993  Paul Eggert  (eggert@twinsun.com)

	* vc.el (vc-locked-example): Renamed from vc-quiescent-p.  Now
	yields example of why current directory is not quiescent.  All
	callers changed to use this.

	* vc-hooks.el (vc-find-file-hook, vc-file-not-found-hook): Use
	add-hook to install these hooks.

Thu Aug 19 14:21:25 1993  Edward M. Reingold  (reingold@emr.cs.uiuc.edu)

        * solar.el (solar-sunrise, solar-sunset, solar-longitude-of-sun):
        Make both arguments to solar-mod float.

        (sunrise-sunset): Change screen-width to frame-width.

        * calendar.el (calendar-absolute-from-iso,
        american-calendar-display-form, european-calendar-display-form):
        Fix typos in doc strings doc strings.

        (calendar-mode-map): Use "[prior]" and "[next]" in key bindings.

Wed Aug 18 12:48:40 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* texinfo.el (texinfo-environment-regexp): Match cartouche.

	* upd-copyr.el (update-copyright): Handle two-digit years with
	apostrophes.

Sat Aug 14 03:54:40 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.19 released.

	* menu-bar.el (list-buffers-directory): Add declaration.

	* files.el (find-file-noselect): If a find-file-not-found-hook
	succeeds, clear `error'.

	* faces.el (x-create-frame-with-faces): Check for `on' or `true'
	as reverseVideo resource value.
	* frame.el (frame-initialize): Likewise.

	* outline.el (outline-minor-mode-prefix): New variable.
	(outline-minor-mode-map): Use it.
	(outline-level): New var.  Everything funcalls this
	instead of calling outline-level.

	* frame.el (frame-initialize): Handle reverseVideo x-resource.

	* subr.el (momentary-string-display): Scroll to keep the string
	on the screen.

Fri Aug 13 02:23:43 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* compile.el (compilation-parse-errors): Don't add multiple errors
	for one source line.

	* bibtex.el (bibtex-mode-map): Change C-c e to C-c C-b.

	* menu-bar.el (mouse-menu-bar-buffers): Use list-buffers-directory.

	* isearch.el (isearch-edit-string): Use read-event, not read-char.

Thu Aug 12 18:20:55 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* files.el (backup-inhibited): Doc fix.

	* saveplace.el: New file.

	* bookmark.el: New version from Fogel.

	* mouse.el (mouse-choose-completion): Really go to minibuffer;
	no save-excursion.

Thu Aug 12 14:38:37 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* tar-mode.el (tar-mode-map): Don't bind C-c.

Thu Aug 12 01:32:30 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* paragraphs.el (paragraph-start): Doc fix.

	* paren.el (show-paren-command-hook): Do nothing if input is pending.

Wed Aug 11 17:26:47 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* compile.el (next-error): Handle zero and negative prefix args.

Wed Aug 11 02:01:49 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* dired-aux.el (dired-compress-file): Fix previous change.

	* rmail.el (rmail-forward): Don't bind mail-signature, mail-setup-hook.

	* mouse.el (mouse-drag-region): Mouse in menu bar means scroll up.

	* text-mode.el (indented-text-mode): Doc fix.

	* userlock.el (ask-user-about-supersession-threat): Mention file name
	when asking question.

	* paren.el (show-paren-command-hook): Don't use value of make-face.

	* mouse.el (font-menu-add-default): Use list, not cons, for new elt.
	Don't get confused if no Misc entry.

	* emerge.el (emerge-find-difference): Add interactive spec.

	* mouse.el (mouse-set-point): Use event-end, not event-start.

	* frame.el (other-frame): Fix error in loop counting.

Tue Aug 10 08:02:36 1993  Paul Eggert  (eggert@twinsun.com)

	* autoload.el (generate-file-autoloads): Set float-output-format to
	nil, not "%.20e", since nil is guaranteed to not lose info on output.
	* bytecomp.el (byte-compile-from-buffer): Likewise.

Tue Aug 10 04:24:09 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* startup.el (site-run-file): New variable.
	(command-line): Use it.  Support -no-site-file.

	* mouse.el (mouse-drag-region): Doc fix.

	* texinfo.el (texinfo-delete-from-print-queue)
	(texinfo-tex-buffer): Load tex-mode to get tex-start-shell, etc.

Tue Aug 10 18:19:46 1993  Rob Riepel  (riepel@Snowflake.Stanford.edu)

        * tpu-edt.el (tpu-help): Use variables for "n" and "p".
	(tpu-help-N, tpu-help-n, tpu-help-P, tpu-help-p): New vars.
        * tpu-mapper.el: Insert (in buffer) setqs for tpu-help-... variables.

Mon Aug  9 21:32:42 1993  Paul Eggert  (eggert@twinsun.com)

	* calendar.el (hebrew-holidays-3): Fix misspelling in var name.

	* array.el (abs, ceiling, floor): Remove, since they now redefine
	builtin functions.  All `ceiling' callers rewritten to invoke `floor'.

	* bytecomp.el: `mod' is no longer an alias for `%'.
	* subr.el: Likewise.

	* cal-dst.el (calendar-/, calendar-%): Remove, since floor and mod
	now subsume them.  All callers changed.
	* cal-mayan.el (mayan-mod): Likewise.
	* ring.el (ring-mod): Likewise.
	* solar.el (solar-mod): Likewise.

	* cl-extra.el (floor*): Use `floor' rather than doing all the work.

	* gnus.el (gnus-caesar-region): Replace `%' by `mod' and simplify.
	* rnews.el (caesar-region): Likewise.
	* isearch.el (isearch-ring-adjust1, isearch-ring-advance-edit):
	Likewise.
	* simple.el (current-kill): Likewise.

	* timezone.el (timezone-fix-time): Simplify complicated expression
	with `floor'.
	(timezone-zone-to-minute): Replace (max X (- X)) with (abs X).

Mon Aug  9 15:28:25 1993  Rob Riepel  (riepel@Snowflake.Stanford.edu)

        * tpu-doc.el: Added section on local variables.

        * tpu-edt.el (tpu-version): Print version number rather than the RCS
        revision number.

        * tpu-edt.el (tpu-next-file-buffer): Bind starting-buffer with let.
        * tpu-edt.el (tpu-load-xkeys): Check value of tpu-xkeys-file.
	Make sure to use the "*scratch*" buffer.

        * tpu-edt.el (tpu-lm-replace): Changed variable searching-forward
        to tpu-searching-forward.
        (tpu-substitute): Likewise.
	(tpu-toggle-search-direction): Likewise.
        (tpu-search-forward, tpu-search-reverse, tpu-set-search): Likewise.
        (tpu-search-internal, tpu-adjust-search): Likewise.

        * tpu-extras.el (tpu-search-internal): Changed variable
        searching-forward to tpu-searching-forward.

        * tpu-extras.el: Changed "edit-picture-hook" to
        "picture-mode-hook" for emacs version 19.

        * tpu-mapper.el (tpu-gnu-map-key): Repaired the key name
        generation code to work with the latest version of emacs.

Sun Aug  8 00:39:52 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.18 released.

	* tpu-doc.el (enable-local-variables): setq deleted.
	* tpu-extras.el (edit-picture-hook): Use add-hook to modify it.

	* server.el (server-visit-files): Restore current-buffer by hand,
	not using save-excursion.

	* gud.el (gud-dbx-marker-filter): Detect signals as well as bpts.

	* ange-ftp.el (ange-ftp-send-cmd): Bind ange-ftp-this-...
	in the outermost let, not an inner one.

	* comint.el (comint-mode-map): Delete C-c C-y binding.

	* mh-e.el (mh-read-msg-list): Undo previous change.

	* subr.el (minibuffer-window-active-p): New function.

	* mouse.el (mouse-set-point): Error if click in inactive minibuffer.
	(mouse-drag-region): Use mouse-set-point.
	Don't set a mark if final event wasn't suitable for setting point.

	* etags.el (etags-goto-tag-location): If match started with Ctrl-m,
	compensate when setting point.

	* simple.el (shell-command, shell-command-on-region):
	Fix bugs in previous change.

	* dired-aux.el (dired-compress-file): For .z file, run gunzip.
	When running gzip, see if it made .gz or .z.
	(dired-compress): Delete any old entry for new-file.

Sat Aug  7 20:42:29 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* vc.el (vc-diff, vc-directory-18): Add missing paren to end of
	vc-diff, and remove extra paren from vc-directory-18.

Sat Aug  7 04:18:43 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* dired-aux.el (dired-diff): Read options right here;
	don't try to use diff-read-switches.  Always call diff with 3 args.
	(dired-backup-diff): Likewise.

	* simple.el (do-auto-fill): Don't keep breaking the line
	if it doesn't help matters.

Fri Aug  6 18:10:29 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* indent.el (indent-region): Fix paren error in last change.

	* mouse.el (mouse-save-then-kill): Fix paren error in last change.

Fri Aug  6 16:25:08 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	Fix {menu,scroll}-bar-mode so prefix arg of M-- works.
	* scroll-bar.el (scroll-bar-mode): If FLAG is non-nil, set it to
	its prefix-numeric-value.
	* menu-bar.el (menu-bar-mode): Defvar removed.
	(menu-bar-mode): Rewritten to parallel scroll-bar-mode.

	* info.el (Info-goto-emacs-command-node,
	Info-goto-emacs-key-command-node): Doc fix.

	* help.el (help-for-help): Mention C-k and C-f.

Fri Aug  6 14:02:22 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* files.el (after-find-file): Improve warning message about
	existing file that can't be read.

Thu Aug  5 02:54:42 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* indent.el (indent-region): Rename arg ARG to COLUMN.
	Don't add fill-prefix to empty line.
	Don't change whitespace in empty line.

	* mouse.el (help-admin-map): Fix menu item text.

	* font-lock.el (font-lock-fontify-region):
	Handle comment-start-skip = nil.

	* rmail.el (rmail-resend): Delete any Sender field.

Wed Aug  4 00:36:19 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* perl-mode.el (perl-mode): Add autoload cookie.

	* paths.el (sendmail-program): Try /usr/sbin/sendmail.el also.

	* mouse.el (mouse-save-then-kill): Don't discard all the normal
	undo info; just replace the deletion entry.

	* tpu-edt.el, tpu-doc.el, tpu-extras.el, tpu-mapper.el: New files.
	* vt-control.el: New file.

Wed Aug  4 14:42:17 1993  Edward M. Reingold  (reingold@emr.cs.uiuc.edu)

        * diary.el (list-diary-entries): Split diary-display-hook into two
        pieces, diary-display-hook and diary-hook.  If diary-display-hook
        is nil, use simple display.
        (include-other-diary-files): Set those hooks properly for other files.

        * calendar.el (diary-display-hook): Change default and fix doc string.
        (diary-hook): New user variable.
        (diary-date-forms, calendar-date-display-form): Don't autoload
        them so the European/American style is decided at load time.

Tue Aug  3 23:40:03 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* lpr.el (print-region-1): Make END a marker so untabify relocates it.

Tue Aug  3 17:38:47 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* compile.el (compilation-minor-mode): Make variable buffer-local.
	(compilation-minor-mode): Autoload this function.

Tue Aug  3 13:44:52 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* man.el (man): Define as alias.

	* paren.el (window-setup-hook): Add hook function.

Tue Aug  3 03:52:36 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* comint.el (comint-dynamic-list-completions): Expand PATHDIR in
	call to file-name-completion.

Tue Aug  3 03:09:18 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* faces.el: Make boldness/italicness affect frames created later.
	(make-face-bold, make-face-italic, make-face-bold-italic)
	(make-face-unbold, make-face-unitalic): Update global-face-data.
	Ignore a list found in the font slot.
	(make-face-bold-internal, make-face-italic-internal):
	(make-face-bold-italic-internal): New subroutines.
	(x-create-frame-with-faces): If global-face-data's font slot
	indicates bold and/or italic, make it so.

Tue Aug  3 02:38:34 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* window.el (shrink-window-if-larger-than-buffer): Pass WINDOW to
	pos-visible-in-window-p.

Tue Aug  3 00:08:44 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* completion.el (cmpl-read-time-eval): Make it no-op.
	(cmpl-hours-since-origin): Use truncate to make an integer.
	(completion-search-reset): Use completion-prefix-min-length.

	* telnet.el (telnet): If we already have a telnet to HOST,
	just switch buffers.

Mon Aug  2 23:33:34 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* frame.el (other-frame): Skip iconified and invisible frames.

Mon Aug  2 21:07:02 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* replace.el (occur-mode-goto-occurrence): Give meaningful error
	message if there's nowhere useful to go.

Mon Aug  2 18:18:52 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* comint.el (comint-dynamic-complete): If called interactively
	twice in a row, give the completion list.

	* comint.el (comint-dynamic-complete): Expand PATHDIR in call to
	file-name-completion.

	* comint.el (comint-dynamic-completion): Say "Sole completion",
	not "Unique completion".

	* frame.el (other-frame): New function, analogous to other-window.
	(ctl-x-5-map): Bind C-x 5 o to other-frame.

Mon Aug  2 00:47:00 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* subr.el (add-hook): Change a single function into a list.

	* lucid.el (remove-hook): Doc string added.
	Change a single function into a list.

	* sendmail.el (mail-yank-hooks): Initialize to nil.
	(mail-yank-original): If mail-yank-hooks is nil,
	call mail-indent-citation.

	* c-mode.el (indent-c-exp): Don't document ENDPOS.
	(c-indent-region): Rewrite to use indent-c-exp on one sexp at a time,
	then use c-indent-line on the next line, etc.

	* bytecomp.el (byte-recompile-directory): At end of compiling a file,
	put back the "Checking DIR..." message.

Sun Aug  1 18:22:59 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* etags.el (etags-tags-completion-table): Fixed regexp for today's
	format.
	(etags-snarf-tag): Skip explicit tag name if present.

Sun Aug  1 20:50:07 1993  Paul Eggert  (eggert@twinsun.com)

	* dissociate.el (dissociated-press):
	Use `(random N)' instead of while loop.
	* dunnet.el: (dun-endgame-question, tcom, tloc):
	Use (random N) instead of combination of %, abs and random.
	* life.el (life-insert-random-pattern): Simplify (% (abs (random)) N)
	to (random N).
	* cookie1.el (pick-random): Remove.
	All callers changed to use `random' instead.
	* gomoku.el (random-number): Likewise.
	* mpuz.el (mpuz-random): Likewise.

	* emerge.el (emerge-default-[AB]): Use (zerop (% A B)) instead of
	(= (* (/ A B) B) A).

Sun Aug  1 01:17:14 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* subr.el (event-click-count): New function.

	* texinfmt.el: Installed the version from the Texinfo package.

	* dired.el (dired-sort-mode): Variable deleted.
	Don't display it in mode line.
	(dired-sort-set-modeline): Set mode-name instead.

	* etags.el (visit-tags-table-buffer): New local named
	visit-tags-table-buffer-cont copies cont.
	(tags-table-including): Set that, instead of cont.

	* c-mode.el (indent-c-exp): Don't move an { from column 0.

Sat Jul 31 01:31:30 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* tar-mode.el: Fix doc strings and error message syntax.
	Add menu bar items.
	(tar-subfile-mode): Set a local-write-file-hook
	rather than using key bindings.
	(tar-subfile-save-buffer): Return t.

	* add-log.el (change-log-mode): Use \f for formfeed, to avoid
	syntax error.

	* isearch.el (isearch-done): Move point (for small window)
	before deciding whether to set the mark.

	* man.el (Man-build-references-alist): When setting word,
	use only what Man-reference-regexp matched.
	(Man-reference-regexp): Don't match starting with a period.
	(Man-first-heading-regexp): Allow leading space.
	(Man-heading-regexp): Allow leading space.
	(Man-section-translations-alist): Add entries for xlib.

	* completion.el (completion-version): New variable.
	(save-completions-to-file): Use completion-version.

	* tex-mode.el (validate-tex-buffer): Record mismatches in *Occur*.

	* files.el (basic-save-buffer): When we read a file name,
	use set-visited-file-name to put it in.

	* mouse.el (mouse-choose-completion): Actually choose that alternative,
	don't just insert its name.

	* simple.el (shell-command-history): New variable.
	(shell-command, shell-command-on-region): Use it.

Fri Jul 30 14:25:24 1993  Paul Eggert  (eggert@twinsun.com)

	* window.el (shrink-window-if-larger-than-buffer): Do nothing if the
	window is the only window of its frame.  If the buffer ends in newline
	and point is not at the end of the buffer, do not display the
	last (empty) line.

	* vc.el (vc-shrink-to-fit): Deleted.  All callers changed to use
	the new, fixed `shrink-window-if-larger-than-buffer' instead.
	In some places move it after a (goto-char (point-min)).

Fri Jul 30 20:19:06 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* blackbox.el (blackbox-mode-map): Now that we have
	terminal-independent function-key facilities, we ought to use
	them.  Remove hack which looks for all bindings for the simple
	motion keys and locally binds them to blackbox keys; add bindings
	for the [up], [down], [left], and [right] keys.

	* frame.el (frame-notice-user-settings): If we had to create a new
	frame in order to obey initial-frame-alist, use delete-frame's
	FORCE argument to get rid of the old frame even if the new one
	hasn't been mapped yet.

Fri Jul 30 20:18:16 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* fill.el (fill-region-as-paragraph): When we take one word
	after the fill column, don't stop at period with just one space.
	When checking whether at beginning of line, if no fill prefix,
	ignore intervening whitespace.

Fri Jul 30 18:38:56 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* gud.el (gud-gdb-marker-filter): Preserve the match data across
	the filter's execution.

	* gud.el (gud-gdb-marker-filter): If we received some text after
	the position marker, append it to any text before the marker,
	instead of throwing away the text before the marker.

Fri Jul 30 03:00:20 1993  David Gillespie  (synaptx!daveg@uunet.UU.NET)

	* cl.el: File totally replaced.
	* cl-compat.el, cl-extra.el, cl-macs.el, cl-seq.el: New files.

	* info.el (Info-fontify-node): New function.
	(Info-fontify): New variable.
	(Info-mode): Initialize Info-related faces.
	(Info-select-node): Fontify the node if necessary.

	* info.el (Info-goto-node): Provide completion for node names.
	(Info-read-node-name, Info-build-node-completions): New functions.
	(Info-current-file-completions): New variable.
	(Info-find-node): Clear completions cache.

	* info.el (Info-next-reference, Info-prev-reference): New commands.
	(Info-mode-map): Bind these to TAB and M-TAB.
	(Info-next-preorder): Special case if sitting on "*Note" reference.

	* info.el (Info-standalone): New variable.
	(Info-exit): Exit Emacs if in standalone mode.
	(info-standalone): New function.

	* info.el (Info-summary): Added `bury-buffer' call.
	(Info-no-error): Renamed from `no-error'.
	(Info-suffix-list): Put ".info" before "" to deal with directory
	named "foo" next to file "foo.info".

Fri Jul 30 03:00:20 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* fill.el (fill-region-as-paragraph): Move misplaced paren
	ending `(if (eobp) nil ...)'.
	In the loop that avoids breaking after `.' with one space,
	break if we actually have two spaces.

Fri Jul 30 01:32:53 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* compile.el (compilation-error-regexp-alist): Broaden RS6000
	regexp to match "lines N-M," or "line N,".

Thu Jul 29 19:21:10 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* gud.el (gud-gdb-marker-filter): Do not assume that the position
	markers from GDB will always be received in one chunk of input;
	gud-gdb-marker-filter may be called several times, each time
	providing a little more of the position marker.
	(gud-gdb-marker-acc): New variable.
	(gud-gdb-marker-filter): If we have received what could be the
	beginning of a position marker, hold that text in
	gud-gdb-marker-acc for the next time we get called, until we have
	enough information to decide for sure.

	* gud.el (gud-gdb-marker-filter): Only recognize GDB position
	markers if they occur at the beginning of the line.  They always
	do, and this reduces the likelihood that the above change will
	hold back output that isn't really a position marker.

	* mpuz.el (mpuz-board): Doc fix.

Thu Jul 29 01:10:06 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gud.el (dbx): Use %d in gud-break.
	(gud-format-command): Support %d.  Delete spurious progns.

	* etags.el (etags-goto-tag-location): Handle selective display.

	* sendmail.el: Do the global key bindings only via loaddefs.el,
	not when sendmail.el is loaded.

	* buff-menu.el (Buffer-menu-mode-map): Undo previous change.

	* rmail.el (rmail-nuke-pinhead-header): Tell replace-match not to
	alter the case.
	(rmail-toggle-header, rmail-reformat-message): Ignore case
	when checking for Summary-line.

	* calendar.el (calendar-mode-map): Bind C-SPC.

Thu Jul 29 04:58:47 1993  Paul Eggert  (eggert@twinsun.com)

	* (vc-mode-line): Set vc-mode to nil if FILE no longer is
	version-controlled.

Thu Jul 29 00:47:52 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* menu-bar.el (delete-frame): Permit it, if > 1 frame is vis or iconic.

Wed Jul 28 23:02:45 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* man.el (Man-find-section): HP/UX man pages have section names
	indented by a single space; recognize them.

	* gud.el (gud-last-last-frame): Specify initial value.  `dbx'
	doesn't work unless we do.

Thu Jul 29 00:00:29 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* c-mode.el (calculate-c-indent): When checking whether function decl
	is inside a comment, move back to the `(' that starts the arglist.

Wed Jul 28 19:50:53 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmail.el (rmail-convert-file): If file needs conversion,
	convert it all.

	* macros.el (name-last-kbd-macro): Handle macros that are vectors.

	* man.el (Man-filter-list): Insert \n newlines in awk script.

	* time-stamp.el (time-stamp): Add autoload cookie.

Wed Jul 28 18:41:55 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* comint.el (comint-replace-by-expanded-filename,
	comint-dynamic-complete): Say "Sole completion" instead of "Unique
	completion", for consistency with the rest of the known universe.

Wed Jul 28 04:21:48 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* sc.el: Require assoc instead of sc-alist.
	* sc-alist.el: File deleted.

	* gnus.el (gnus-apply-kill-hook): Make the value a list of functions.
	(gnus-mark-article-hook, gnus-select-digest-hook): Likewise.
	(gnus-select-article-hook, gnus-select-group-hook): Likewise.

Tue Jul 27 17:58:29 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* bytecomp.el (byte-recompile-directory): Doc fix.

	* term/x-win.el (iconify-or-deiconify-frame): New function.
	Use it for C-z.

Tue Jul 27 19:28:46 1993  Paul Eggert  (eggert@twinsun.com)

	* vc-hooks.el (vc-rcs-status): Removing any trailing "-".

Tue Jul 27 01:48:44 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* cplus-md.el (c++-mode-syntax-table): Don't alter syntax of '.

	* term/x-win.el (x-handle-iconic): New function.
	(command-switch-alist): Use that.
	(x-switch-definitions): Delete elt for `-iconic'.

	* gud.el (dbx): For gud-break, send a file command and a stop command.

	* diary.el: Doc fixes.

Mon Jul 26 15:55:32 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* mouse.el (font-menu-add-default): New function.
	* startup.el (normal-top-level): Call font-menu-add-default.

Mon Jul 26 14:32:18 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* simple.el (read-expression-history): New defvar.
	(eval-expression): Use it has history var in interactive spec.

Mon Jul 26 01:54:00 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* frame.el (frame-notice-user-settings): Don't reapply a parm
	whose value is ot changed (as far as we know) since frame-initialize.

	* simple.el (kill-ring-save): Delete spurious `message' call.
	(set-mark): If POS is nil, call deactivate-mark.

	* c-mode.el (indent-c-exp): When previous line ends in comma,
	use calculate-c-indent.  Fix the "inner loop" to properly detect
	a line that ends outside of comments and strings.

	* cplus-md.el (c++-mode-syntax-table): Handle C-style comments.

	* files.el (insert-directory): Make sure default-directory is absolute.

	* dired.el (dired-readin-insert): If we got a list of files,
	pass nil for WILDCARD arg to dired-insert-directory.

Sun Jul 25 16:19:47 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* vc.el (vc-backend-steal): Pass arg omitted in last change.

	* term/x-win.el (x-selection-timeout): Use 20000 as default.

	* mouse.el (x-fixed-font-alist): Give some fonts long patterns.
	Delete 9x15 bold and 8x13 and 8x13 bold.  Add some fonts.

	* term/x-win.el (x-select-text): Never set the CLIPBOARD selection.
	(x-cut-buffer-or-selection-value): Try PRIMARY before cut buffer.
	(x-cut-buffer-max): Set based on x-server-max-request-size.

Sat Jul 24 01:33:11 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* unrmail.el (unrmail): Total rewrite.
	* rmailout.el (rmail-output): New arg NOATTRIBUTE.

	* rmailout.el (rmail-output-to-rmail-file): Set rmail-last-rmail-file
	while reading the interactive args.
	(rmail-output): Likewise, for rmail-last-file.
	(rmail-output-to-rmail-file): Use default-file consistently.

	* replace.el (occur): If no default, don't mention one.

	* rmail.el (rmail-last-rmail-file): Initialize to a file name.
	(rmail): Don't set rmail-last-rmail-file.

	* info.el (Info-select-node): Run Info-selection-hook.

	* ispell.el (ispell-point): Do nothing if there's no word at START.

Fri Jul 23 00:42:36 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* doctor.el (doctor-type-symbol): Win if auto-fill-function is nil.

	* edt.el (advance-direction): Set kp-f3, not kp-f1.

	* term/x-win.el (x-select-text): Always set the cut buffer,
	but sometimes set it to nothing.  Don't put large strings in clipboard.

	* dired.el (dired-readin-insert): Don't use the "whole directory"
	case if DIR-OR-LIST is a list.

	* font-lock.el (font-lock-after-change-function):
	Scan for comments and strings from beg of line.
	(c-font-lock-keywords-1): Recognize &, like *, before fn name.
	(perl-font-lock-keywords): Put digit 1 into function-name-face items.
	Allow whitespace before the open-brace.

	* sort.el (sort-skip-fields): Really implement fields as runs
	of nonwhitespace chars.
	(sort-fields, sort-float-fields, sort-numeric-fields):
	Don't subtract 1 when calling sort-skip-fields.

Thu Jul 22 13:44:22 1993  Ron Schnell  (ronnie@media.mit.edu)

	* dunnet.el (dun-special-object): Fixed so that bus will
	explode if falls through hole instead of making adventurer
	trapped in room with no escape and no way off the bus.

Thu Jul 22 13:34:32 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* term/x-win.el (x-select-text): Limit size of text sent to cut buffer.

	* subr.el (keyboard-translate): Properly lengthen existing table.

	* files.el (set-auto-mode): Fix backwards test
	involving inhibit-local-variables-regexps.

	* loaddefs.el (ctl-x-map): Correct C-x r t to string-rectangle.

	* paren.el (show-paren-command-hook): Specify buffer for move-overay.

Thu Jul 22 03:59:42 1993  Paul Eggert  (eggert@twinsun.com)

	* vc.el (vc-backend-revert): Use `co -f' instead of deleting the
	working file ourselves; that way, if `co' fails, we won't have
	deleted the working file.
	(vc-backend-steal):  Don't delete the working file.  Use `rcs -u -l',
	not `rcs -u ; rcs -l'; it's faster.  Use vc-backend-dispatch -- the
	old code couldn't have possibly worked.

Thu Jul 22 01:34:34 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* map-ynp.el (map-y-or-n-p): If LIST is nil, just return.

	* mouse.el (mouse-secondary-save-then-kill): When making the undo item,
	use an integer, not a marker, for the position.

	* rmail.el (rmail-forward): Call rmail-start-mail for new frame
	even if just one window.
	(rmail-start-mail): Return what mail-other-frame returned.

	* mouse.el (mouse-set-font): Update faces bold, italic and bold-italic.

	* completion.el (complete): Use sit-for, not cmpl19-sit-for.

	* simple.el (completion-list-mode): Renamed from completion-mode.
	(completion-list-mode-map): Likewise.

	* files.el (parse-colon-path): Really make nil, not ".",
	for empty path element.

Wed Jul 21 00:07:54 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* autoload.el (generate-file-autoloads): Bind float-output-format.
	Bind print-escape-newlines.

	* inc-vers.el: Try deleting version.el if it's not writable.

	* term/lk201.el: Explicitly define kp-f1...

	* tar-mode.el (tar-parse-info, tar-header-offset, tar-superior-buffer)
	(tar-superior-descriptor): Make them permanent locals.
	(tar-mode): Call kill-all-local-variables.
	Locally set enable-local-variables to nil.

	* man.el (Man-set-fonts): Don't look for another char after
	the backspace; instead look for a sequence CHAR BS CHAR BS CHAR BS...
	Delete all the CHAR BS pairs found, after making the text property.

	* c-mode.el (indent-c-exp): If ENDPOS, always set OPOINT
	to the function start.  And don't indent a line which is past ENDPOS.
	Don't indent a comment on the first line if it's the only
	thing on that line.
	Call calculate-c-indent-within-comment when appropriate.

	* mouse.el (mouse-drag-region): Use deactivate-mark.

	* font-lock.el (perl-font-lock-keywords): Add a `(... . 1)' to the
	first element of the list.
	(font-lock-hack-keywords, font-lock-unfontify-region)
	(font-lock-fontify-region): Bind buffer-read-only to nil,
	and don't alter buffer-modified-p.
	(font-lock-fontify-region): Use comment-start-skip, not comment-start.

Tue Jul 20 00:34:26 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* buff-menu.el (Buffer-menu-mode-map): Bind delete like DEL.

	* files.el (parse-colon-path): Turn empty substring into nil.

	* sendmail.el (mail-bury): Check that frame-parameters is defined.

	* font-lock.el (font-lock-function-name-face): defvar renamed.
	(font-lock-hack-keywords): Evaluate face specs from keyword list.

	* dunnet.el: New version from Schnell, to fix possible bad patch run.

	* subr.el (define-key-after): Fix typo in previous change.

	* outline.el (outline-mode-map): Delete spurious `outline-'
	from show and hide command names in menu.

	* ange-ftp.el (file-name-handler-alist): Have two separate regexps
	with different hooks.
	* files.el (ange-ftp-completion-hook-function): New function.

	* paren.el (show-paren-face): New variable.
	(show-paren-command-hook): Use it.
	Call set-face-background properly.

	* reposition.el (reposition-window): Don't forward-char if eobp.

	* startup.el (normal-top-level): Call abbreviate-file-name again
	after calling command-line.

	* rmailedit.el (rmail-edit-map): Inherit properly from text-mode-map;
	use the whole thing, not its cdr.

	* man.el (Man-getpage-in-background): Copy process-environment
	so we only alter the copy.

	* mh-e.el (mh-read-msg-list): Add space to message-number regexp.

Mon Jul 19 19:27:01 1993  Paul Eggert  (eggert@twinsun.com)

	* vc-hooks.el (vc-rcs-status): Use "-", not " ", to separate locks,
	so that the RCS minor mode label doesn't contain internal spaces.

Mon Jul 19 14:56:17 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* dired.el (dired-unmark-all-files-no-query): New command.
	(dired-mode-map): Use that for the Unmark All item.
	Fix typo that made the Flag Backup Files item not show up.

	* mlconvert.el (while): Comment out converter.

	* calendar.el (hebrew-holidays): Split into 4 sub-variables.

Mon Jul 19 16:06:31 1993  Masanobu UMEDA  (umerin at orchid)

	* gnus.el (gnus-emacs-version): New variable.
	(gnus-version): Updated to 4.1.
	(gnus-newsrc-to-gnus-format): Use different regexp in 18 and 19.
	(gnus-group-startup-message): Use gnus-emacs-version.

	* gnuspost.el (gnus-current-time-zone): Fix typo.
	(gnus-inews-organization): Fix zero length string operation bug.

	* metamail.el (metamail-environment): Format changed.  It
	must be a list of strings that have the format ENVVARNAME=VALUE.
	(metamail-region): Corresponding changes.

	* metamail.el (metamail-region): Optional 2nd argument NODISPLAY
	controls redisplay behavior.
	(metamail-buffer): LIkewise.

Mon Jul 19 01:44:43 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* menu-bar.el (mouse-menu-bar-buffers): Add Frames pane if there
	are multiple panes.

Sun Jul 18 21:05:05 1993  Paul Eggert  (eggert@twinsun.com)

	* vc-hooks.el (vc-rcs-status): Omit "LOCKER:" if you are the locker.

Sun Jul 18 16:41:08 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* vc.el (vc-comment-to-change-log): Complete rewrite.  Do not use
	vc-update-change-log.  Instead, snarf last comment from
	vc-comment-ring and insert it with add-change-log-entry.

	* add-log.el (prompt-for-change-log-name): Autoload this (for
	vc-comment-to-change-log).
	(add-change-log-entry): Take optional fourth arg NEW-ENTRY.  If
	non-nil, never append to an existing entry.
	(change-log-fill-paragraph): New function.
	It might be nice to have a general feature to replace this.  The
	idea I have is a variable giving a regexp matching text which
	should not be moved from bol by filling.  change-log-mode would
	set this to "^\\s *\\s(".  But I don't feel up to implementing
	that today.
	(change-log-mode-map): New defvar for keymap.  Bind M-q to
	change-log-fill-paragraph in it.
	(change-log-mode): Use that as local map.

	* add-log.el (add-log-current-defun-function): New defvar.
	(add-change-log-entry): Call its value if non-nil instead of
	add-log-current-defun.
	(add-change-log-entry-other-window): Doc fix.

	* compile.el (compilation-error-list): An elt's cdr's car is again
	a cons (DIRECTORY . FILE) if it's not a marker.  The conversion to
	using a string containing an expanded file name was never
	finished, and anyway it utterly broke compilation-search-path and
	a few other things.
	(next-error): Expect them that way.
	(compilation-parse-errors): Make them that way.
	(compile-file-of-error): Function removed.
	(compilation-error-filedata, compilation-error-filedata-file-name): New
	defsubsts.
	(compilation-next-file): Use them instead of compile-file-of-error.

Sun Jul 18 16:01:03 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* autoload.el (update-file-autoloads):
	Go to the beginning of FILE before searching it
	for generate-autoload-cookie.

	* cookie1.el (cookie, cookie-insert, cookie-snarf, shuffle-vector):
	Autoload these.

Sun Jul 18 02:38:03 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* Version 19.17 released.

	* makeinfo.el: Don't (require 'texinfmt) - that file doesn't exist
	any more; all its functions have been moved into other files.

	* files.el (insert-directory): Doc fix.

	* files.el (insert-directory): If FULL-DIRECTORY-P is non-nil,
	add "." component to the end of the path, so that if file is a
	symlink, we get the contents of the directory, not the symlink
	itself.

Sat Jul 17 13:25:27 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* tar-mode.el (tar-extract): Use view-exit-action to kill viewed buf.

	* view.el: Doc fixes; some args renamed.

	* gnus.el (gnus-info-nodes): Update node names.

	* makeinfo.el (makeinfo-options): Fix option syntax in initial value.

	* texinfo.el (texinfo-mode): Undo changes mistakenly added with
	previous batch: texinfo-{start,end}-of-header are now tex-...

Sat Jul 17 18:13:11 1993  Johan Vromans  (jv@mh.nl)

	* forms.el: New version 2.0.
	Redesigned and rewritten to use Emacs 19 text properties. 
	Requires Emacs 19.16 or later.

Sat Jul 17 01:58:36 1993  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* term/x-win.el: Include (invocation-name) in the error messages
	which might occur during startup.

	* shell.el (shell-process-pushd): Fix syntax error in
	condition-case.

Fri Jul 16 20:16:57 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* menu-bar.el (revert-buffer): Make menu-enable form more accurate
	using revert-buffer-function and verify-visited-file-modtime.
	(menu-bar-help-menu): Put back under global-map.
	(menu-bar-final-items): Set it.

	* mh-e.el (mh-yank-hooks): Use (mark t).
	(mh-new-draft-name): Likewise.

Fri Jul 16 16:30:18 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* comint.el (comint-{next,prev}-prompt, comint-send-eof): New defuns.
	(comint-mode-map): Bind C-c C-n, C-c C-p, and C-c C-d to those.
	Bind C-c C-y to comint-previous-input, for compatibility with v18
	shell.el.

Fri Jul 16 15:53:38 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* advice.el (ad-start-advice-on-load): Initialize to t.

Fri Jul 16 04:45:14 1993  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* term/x-win.el: Make the `-rn NAME' option specify a resource
	name, as documented, and not a resource database string.  Make
	`-name NAME' act like `-rn NAME' and also set the name of the
	initial frame.
	(command-switch-alist): Process the `-rn' and `-name' options
	using the x-handle-name-rn-switch function.
	(x-handle-name-rn-switch): New function, which sets the
	x-resource-name variable.
	(opening connection): Make sure x-resource-name is valid.  If it's
	not a string, set it to (invocation-name), with any periods or
	asterisks changed to hyphens.

	* term/x-win.el: Make the `-xrm STRING' option specify a resource
	database string.  `-rn' used to behave this way.
	(command-switch-alist): Process the `-xrm' switch using
	x-handle-xrm-switch.
	(x-handle-xrm-switch): Renamed from x-handle-rn-switch; this
	function does the right thing for `-xrm', not for `-rn'.

Fri Jul 16 00:11:29 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* sendmail.el (mail-bury): If selected frame is dedicated,
	and there are other visible frames, delete this frame.

	* rmail.el (rmail-mail-new-frame): New variable.
	(rmail-start-mail): New function.
	(rmail-mail, rmail-continue, rmail-reply, rmail-forward)
	(rmail-retry-failure): Use rmail-start-mail.

Thu Jul 15 01:29:45 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* faces.el (face-equal): Don't mess with face-background-pixmap.

	* ispell.el (ispell-menu-map): Add missing quote in defalias.
	(ispell-window-configuration): Initialize to nil.

	* vc-hooks.el (vc-rcs-status): Make work buffer's name start w/ space.

	* simple.el (completion-setup-function): Insert the mouse help message
	only if non-nil `window-system'.

	* paren.el: Enable the hook only if window-system.
	Clear blink-paren-function at the same time.
	(show-paren-command-hook): If after a closeparen,
	highlight that closeparen as well as matching open.
	Use a different color for a mismatch, if color screen.

Thu Jul 15 01:07:51 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* assoc.el (asort): First argument should be named alist-symbol,
	not assoc-symbol.

Wed Jul 14 23:52:20 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* server.el (server-done): Let save-buffer make the backup,
	so that make-backup-files remains effective.

	* loaddefs.el: Delete C-x a C-h binding.

	* menu-bar.el (help-menu-bar-map): Put the Help item in this map.

Wed Jul 14 23:46:02 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* isearch.el (isearch-edit-string): Bind isearch-nonincremental to
	its own value, not to nil.

Wed Jul 14 23:35:51 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* hippie-exp.el: Renamed from hippie.el.

Wed Jul 14 23:08:17 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* compile.el (compilation-parse-errors): After skipping two lines,
	move one char back so point is before the newline.

Wed Jul 14 21:55:13 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* gud.el (gud-debugger-startup): Replaced with gud-massage-args.
	(gud-{gdb,sdb,xdb}-debugger-startup): Replaced with gud-*-massage-args.
	(gdb, sdb, xdb): Argument is command line, not args for it.  Remove
	debugger name from prompt and put it in the default input instead.
	Overload gud-massage-args instead of gud-debugger-startup.
	(gud-chop-words): New function; subr for gud-common-init.
	(gud-common-init): Argument is command line, not args for it.
	Rewritten to use gud-chop-words instead of temp buffer and kludge
	involving read.  Find the program name as the first word of the
	command line.  Use make-comint and gud-massage-args in place of
	gud-debugger-startup. 
	Expand the file name before passing it to gud-massage-args.

Wed Jul 14 19:38:00 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* spook.el (snarf-spooks): Restore function.

	* cookie1.el (cookie-cache): New defvar.
	(cookie-snarf): Cache cookies in cookie-cache, not in obarray (idiot).
	Also store the modtime and punt the cache when it changes.

Wed Jul 14 19:14:37 1993  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	Changes from Anders Holst, to bring hippie-expand up to version 1.2:
	* hippie-exp.el (hippie-expand-max-buffers): New variable.
	(try-expand-line-all-buffers, try-expand-list-all-buffers,
	try-expand-dabbrev-all-buffers): Use it.
	(try-expand-list, try-expand-list-all-buffers): New functions.
	(he-string-beg, he-string-end, he-search-loc): These values are
	now markers, not integers.  Uses changed.
	(he-reset-string, he-substitute-string): Use a marker to preserve
	the old position of point.
	(try-expand-all-abbrevs): handle case the same way as the
        usual expand-abbrev (which is not a very good way, but for
        consistency...). 
	(he-dabbrev-beg): Use `skip-syntax' instead of `skip-chars', to
        adjust its behavior to different modes.
	(hippie-expand): Don't messages which try function it is using,
        when the expansion itself is done in the minibuffer (it was very
        annoying to have the message obscuring the expansion).
	(try-complete-file-name, try-complete-file-name-partially,
	try-complete-lisp-symbol, try-complete-lisp-symbol-partially,
	try-expand-line, try-expand-line-all-buffers,
	try-expand-all-abbrevs, try-expand-dabbrev,
	try-expand-dabbrev-all-buffers): No unnecessary "resetting" of the
	epansion, when no expansion is done (caused the buffer to be
	marked as changed, although nothing was done, among other things).
	(he-reset-string): Undoing of last expansion at a later occasion, now
        undoes correctly (before, it garbled things up).
	(make-hippie-expand-function): now uses "(function ...)" 
        instead of "'" (matters for compilation).
	(try-expand-line, try-expand-line-all-buffers,
	he-line-search-regexp): uses `comint-prompt-regexp' instead of
	`shell-prompt-pattern', to strip off prompt in process buffers.

Wed Jul 14 16:56:19 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* autoload.el (generate-file-autoloads):
	Fix FILE truename hacking to substring
	SOURCE-TRUENAME instead of FILE.

Tue Jul 13 01:51:31 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* faces.el (copy-face): New arg NEW-FRAME.
	(list-faces-display): New command.

	* simple.el (completion-mode): New major mode.
	(completion-setup-function): New function.
	Add it to completion-setup-hook.

	* mouse.el (mouse-choose-completion): New function.

	* dunnet.el: Many functions and variables renamed.

	* sendmail.el (mail-bury): New function.
	(mail-send-and-exit): Call mail-bury.
	(mail-dont-send): New command, with menu bar binding.

	* compare-w.el (compare-windows-skip-whitespace): New function.
	(compare-windows): Use that.
	(compare-windows-whitespace): Value is now regexp.

	* rmail.el (rmail-insert-inbox-text): If inbox is not in the
	spool dir, try copying before renaming.

Tue Jul 13 00:38:53 1993  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* shell.el (shell-prompt-pattern): Don't match more than one line.
	Doc fix.

	* bytecomp.el (byte-compile-from-buffer): Bind float-output-format
	to "%.20e", not "%20e"; the latter is always ignored, since it
	doesn't have a decimal point after the percent sign.

Mon Jul 12 23:17:38 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* autoload.el (generate-file-autoloads): Correctly detect when the
	buffer receiving the autoload forms is in a parent of or the same
	directory as FILE, even in the presence of symlinks.

Mon Jul 12 23:57:14 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* subr.el (define-key-after): Error if KEY has two elements.

	* dired.el (dired-mode-map): Add menu bar items.

Mon Jul 12 23:17:38 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* autoload.el (generate-file-autoloads): Correctly detect when the
	buffer receiving the autoload forms is in a parent of or the same
	directory as FILE.

Mon Jul 12 16:44:47 1993  Jim Blandy  (jimb@totoro.cs.oberlin.edu)

	* ange-ftp.el: Install the correct regexp in
	file-name-handler-alist.

	* term/x-win.el: Recognize affirmative values for reverseVideo
	properly.  Include "on" in the list of recognized values.

Mon Jul 12 15:11:55 1993  Paul Eggert  (eggert@twinsun.com)

	* vc-hooks.el (vc-rcs-status): Include head version number
	in mode line if there are no locks.

Mon Jul 12 14:36:30 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* menu-bar.el (menu-bar-file-menu): Add menu item for dired.

	* menu-bar.el (ispell-menu-map): New autoload definition.
	(menu-bar-edit-menu): Add "Spell" item.
	* ispell.el (ispell-menu-map): New keymap--both fn and var.

	* loaddefs.el (mode-line-buffer-identification): Doc fix.

Sat Jul 10 23:28:50 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* calendar.el (calendar-holidays): Don't autoload this; its value
	must be set after the user's .emacs file is loaded.

Sat Jul 10 01:15:54 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* paren.el (show-paren-command-hook): Do nothing if not window-system.

Fri Jul  9 00:04:12 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmailout.el (rmail-output): If file is an Rmail file,
	use rmail-output-to-rmail-file.
	(rmail-output-to-rmail-file): If file exists
	and is not an Rmail file, use rmail-output.
	If we find an element in rmail-output-file-alist, eval it.
	(rmail-file-p): New function.
	(rmail-output-file-alist): Now contains expressions to eval.

	* font-lock.el: New file.

	* bytecomp.el (byte-compile-setq-default):
	Generate a progn of calls to set-default, then compile it.

	* menu-bar.el (mouse-menu-bar-buffers):
	Don't lose if all buffer names are short.

	* dunnet.el: New file.

Thu Jul  8 19:31:58 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* loaddefs.el (global-map): Bind M-next to scroll-other-window.

	* compile.el (compilation-error-regexp-alist):
	Broaden ``Line N of "FILE": msg'' regexp
	to also match Ultrix f77: ``Error on line N of FILE: msg''.

Thu Jul  8 18:42:14 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* Make everything that deactivates the mark do it consistently.
	* simple.el (deactivate-mark): New function.
	(kill-ring-save, pop-mark, keyboard-quit): Call it.
	* ispell.el (ispell):
	Call deactivate-mark instead of setting mark-active directly.  Do
	this regardless of transient-mark-mode.
	* isearch.el (isearch-done):
	Call deactivate-mark instead of setting mark-active
	directly.  Do this regardless of transient-mark-mode.

Thu Jul  8 20:51:51 1993  Richard Stallman  (rms@churchy.gnu.ai.mit.edu)

	* files.el (basic-save-buffer): Use after-save-hook.

Thu Jul  8 17:46:22 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* simple.el: Put error-conditions and error-message properties on
	'mark-inactive.
	(mark): Signal 'mark-inactive instead of using error with a message.

Thu Jul  8 17:14:43 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* mailabbrev.el (mail-abbrev-end-of-buffer): Fix interactive spec
	to "P", same as end-of-buffer.

Thu Jul  8 15:06:38 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* hanoi.el: Add (provide 'hanoi).

Wed Jul  7 18:19:03 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* files.el (file-relative-name): If we use default-directory,
	call expand-file-name anyway.

	* texnfo-upd.el (texinfo-update-node): Bind auto-fill-hook
	as well as auto-fill-function.
	(texinfo-sequential-node-update): Likewise.

Wed Jul  7 09:25:37 1993  Robert J. Chassell  (bob at grackle)

        * texnfo-upd.el: Fix typo re `texinfo-sequential-node-update.'
        Ensure that no commands depend on the value of
        case-fold-search.
	Rewrite messages.  Avoid using `mark-whole-buffer'.

	(texinfo-start-menu-description):
        New function to insert title as description in a menu. 
        (texinfo-make-menu-list): Remove automatic title insertion.
	(texinfo-master-menu): Error message if file
        contains too few nodes for a master menu.
	Handle the case where no master menu was inserted.
        (texinfo-insert-master-menu-list): Only attempt to insert detailed
        master menu if there is one.
        Insert a master menu only after `Top' node and before next node.

        (texinfo-check-for-node-name): Offer section title as prompt.
        (texinfo-copy-next-section-title): Copy title correctly.
	Handle failure to find @node.
        (texinfo-copy-menu): Error message if menu empty.
        (texinfo-pointer-name):  Find only those
        section commands that are accompanied by `@node' lines.
        (texinfo-section-types-regexp): Look for subh and subs, not just sub.
        (texinfo-make-one-menu): Copy node-name correctly for message.
        (texinfo-copy-menu-title): Copy title as it
        should rather than node line.

        (texinfo-find-higher-level-node): Stop search at limit.
	Special handling for `top' and `chapter' levels.
        (texinfo-copy-menu-title): Rewrite to handle outer include files.
        (texinfo-multi-file-update): Update all nodes properly (and sooner);
        rewrite doc string and interactive. Copy title properly.
        (texinfo-all-menus-update): Fixed typo that
        caused the function to create a master menu when it shouldn't.
        Update pre-existing master menu, if there is one.

	(texinfo-incorporate-descriptions): Use a regexp search to look for 
	both kinds of menu item.
	(texinfo-menu-indent-description): Likewise.
	(texinfo-incorporate-menu-entry-names): New function.
	(texinfo-insert-menu): Handle both kinds of menu item.
 	(texinfo-multi-files-insert-main-menu): Likewise.
	(texinfo-update-node): Pass t as second arg to push-mark.
	(texinfo-sequential-node-update): Likewise.
	(texinfo-insert-node-lines): Bind `title' at a higher level.
	Don't find previous @node if it's close.
	Take region to process as arguments.
	(texinfo-multiple-files-update): Handle prefix arg better within
	`interactive'.  Canonicalize the blank lines.

Wed Jul  7 16:13:57 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* autoload.el (update-file-autoloads):
	Correctly do nothing when there are no cookies.

Wed Jul  7 15:58:54 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* menu-bar.el (mouse-menu-choose-yank):
	Change menu title to "Choose Next Yank".

Wed Jul  7 03:19:41 1993  Paul Eggert  (eggert@twinsun.com)

	* vc-hooks.el (vc-rcs-status): Removed unused variable `status'.

	* rmail.el (rmail-resend): Use RFC 822 style date in Resent-Date: line.
	* sendmail.el (mail-do-fcc): Likewise, for appending Date: lines to
	RMAIL mode buffers.  Use new `mail-rfc822-time-zone' function
	to simplify pinhead generation.
	* mail-utils.el (mail-rfc822-time-zone, mail-rfc822-date): New fns.

Wed Jul  7 02:26:31 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* files.el (cd-absolute): Use abbreviate-file-name on expansion of DIR.

	* gud.el: Add (provide 'gud).

	* files.el (basic-save-buffer):
	Invoke after-save-hook, not after-save-hooks.

	* time.el (display-time-file-nonempty-p): Use file-chase-links.

	* bytecomp.el (byte-compile-setq-default): Handle multiple pairs
	args like setq (as the setq-default subr does).

	* autoload.el: Doc fix.

Tue Jul  6 18:07:14 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmail.el (rmail-variables): Compare truename as well as given name
	against rmail-file-name.

	* man.el (Man-mode-line-format): Add a space after global-mode-string.

Tue Jul  6 11:05:14 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* Version 19.16 released.

Tue Jul  6 01:21:37 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* vc.el (vc-start-entry): Don't call file-name-nondirectory on
	FILE before passing it to vc-mode-line.  Everyplace else passes
	vc-mode-line full filenames, and vc-mode-line now needs the real
	file name to decide which version-control system the file is under.

	* man.el (Man-build-man-command): Don't leave a pipe symbol at the
	end of the command list if Man-filter-list is nil.
	(Man-default-man-args): Don't write out assq and mapconcat.
	(Man-default-man-entry): Don't default to section 2 for C-mode.
	Call Man-default-man-args, and let people use
	Man-auto-section-alist if this is what they want.
	(manual-entry): Call Man-translate-references, instead of writing
	it out.
	(Man-getpage-in-background): Don't apply Man-default-man-args
	here; manual-entry has already run it, and
	Man-follow-manual-reference provides the sections itself.

Mon Jul  5 00:43:20 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* map-ynp.el (map-y-or-n-p): If we get a switch-frame-event,
	save it until we're done asking questions, and then unread it.

Mon Jul  5 03:20:12 1993  Paul Eggert  (eggert@twinsun.com)

	* vc.el (vc-name): Move to vc-hooks.el.
	* vc-hooks.el (vc-name): Moved from vc.el; vc-rcs-status now uses it.
	(vc-name, vc-backend-deduce): Set both vc-name and vc-backend
	properties, to avoid calling vc-registered unnecessarily when
	the other property is needed.
	(vc-rcs-status): Yield only status of locks; do not try to yield " REV"
	if there are no locks, since this cannot be done easily if there are
	branches.  Use vc-name instead of duplicating its function incorrectly.
	Fix off-by-one bug when inserting master header pieces.  Read headers
	8192 bytes at a time instead of 100.  Don't bother to expand-file-name.
	(vc-rcs-glean-field): Removed.

Sun Jul  4 17:29:43 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* outline.el (outline-mode-map): Add menu bar items.
	(outline-minor-mode-map): Copy menu bar submap from outline-mode-map.

	* help.el (describe-key-briefly): Don't set `foo'.

Sun Jul  4 17:01:01 1993  Jim Blandy  (jimb@churchy.gnu.ai.mit.edu)

	* subr.el (posn-point): Properly extract the BUFFER-POSITION field
	of an event when read-key-sequence has placed it in a singleton
	list.

	* comint.el (comint-prompt-regexp): Double the backslashes in the
	sample prompt regexps, so that they print properly when unquoted.

Sun Jul  4 18:54:59 1993  Paul Eggert  (eggert@twinsun.com)

	* vc.el (vc-backend-diff): Undo "-q" change.  This was fixed
	instead by adding -q support to vcdiff.

Sun Jul  4 13:55:13 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* help.el (describe-prefix-bindings): New command.
	(prefix-help-command): Set it.

	* hexl.el: Added a keyword.

Sun Jul  4 12:46:27 1993  Johan Vromans  (jv@mh.nl)

	* forms.el (forms-new-record-filter): Correct default value.
	(forms-modified-record-filter): Correct default value.

Sun Jul  4 00:53:27 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* paren.el (show-paren-command-hook): Add message for paren mismatch.

	* vc-hooks.el (vc-mode-line): Put `RCS' or `SCCS' before version num.

Sat Jul  3 21:44:54 1993  Jim Blandy  (jimb@churchy.gnu.ai.mit.edu)

	* faces.el (make-face-bold, make-face-italic,
	make-face-bold-italic, make-face-unbold, make-face-unitalic):
	Properly pass noerror argument to recursive calls.

	* frame.el (frame-remove-geometry-params): New function.
	(frame-initialize): Call it, instead of writing it out.

Sat Jul  3 15:03:44 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* simple.el (kill-region): Cope with change hooks that change props.

Sat Jul  3 06:15:43 1993  Jim Blandy  (jimb@churchy.gnu.ai.mit.edu)

        * term/x-win.el: Check the reverseVideo/ReverseVideo resource,
	correctly distinguish between "on" and "off" values, and put a
	parameter in default-frame-alist.
	* frame.el (frame-initialize): Don't call x-get-resource here.

Sat Jul  3 03:22:04 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* autoload.el (update-file-autoloads):
	Do nothing when there are no cookies.

Fri Jul  2 18:55:23 1993  Jim Blandy  (jimb@churchy.gnu.ai.mit.edu)

	* mouse.el (mouse-drag-region): Correctly handle drags which enter
	other frames.

Fri Jul  2 17:28:59 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* vc.el (vc-path): New variable.
	(vc-do-command): Use vc-path.

	* menu-bar.el (menu-bar-edit-menu): Rename menu item to
	Choose Next Paste.  Create this item along with all the others.

	* isearch.el (isearch-other-meta-char): Handle sequences
	containing mouse clicks in scroll-bar that used another buffer's map.

Fri Jul  2 16:06:38 1993  Jim Blandy  (jimb@churchy.gnu.ai.mit.edu)

	* vc.el (vc-backend-diff): Pass the "-q" flag only if we're using
	rcsdiff.

Fri Jul  2 14:31:59 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* menu-bar.el: Put mouse-menu-choose-yank binding after
	paste=>yank binding in menu-bar-edit-menu.

Fri Jul  2 13:32:10 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* bytecomp.el (byte-compile-keep-pending): Handle fset like defalias.
	(byte-compile-file-form-defmumble): Fix backward if in prev change.

Thu Jul  1 20:14:44 1993  Jim Blandy  (jimb@churchy.gnu.ai.mit.edu)

	* dired-aux.el (dired-diff): Work even when the mark is inactive.

Thu Jul  1 18:10:45 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* sendmail.el (mail-send): Don't test buffer-modified-p
	if buffer is visiting a file.

	* bytecomp.el (byte-compile-file-form-defmumble):
	If byte-compile-compatibility, use fset, not defalias.

Thu Jul  1 16:33:01 1993  Jim Blandy  (jimb@churchy.gnu.ai.mit.edu)

	* simple.el: Add bindings to function-key-map so that the keypad
	keys act like ordinary self-insertion keys, unless explicitly bound.

Thu Jul  1 14:39:35 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* mailabbrev.el (build-mail-abbrevs): Do substitute-in-file-name
	on the abbrev, for `source'.

	* files.el (set-visited-file-name): Rename the old auto save file.

Thu Jun 30 23:31:58 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* menu-bar.el (mouse-menu-choose-yank):
	Just return when x-popup-menu returns nil.
	Add menu-enable property to this function.

Wed Jun 30 17:50:25 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* compile.el (compile-abbreviate-directory): New function.
	(compilation-parse-errors): Use that, to visit files with a dirname
	more like the one the user specified.

Wed Jun 30 15:38:53 1993  Johan Vromans  (jv@mh.nl)

	* forms.el: Add e-mail address and version info.
	Adjust commentary and doc strings.
	(forms-mode): Add ###autoload.
	(forms-find-file): Add ###autoload.
	(forms-find-file-other-window):	Add ###autoload.

Wed Jun 30 21:35:59 1993  Paul Eggert  (eggert@twinsun.com)

	* vc.el (vc-update-change-log): Ensure that file names inserted
	into a ChangeLog are relative to that ChangeLog.

Wed Jun 30 12:43:18 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* simple.el (mark-even-if-inactive): New variable.
	(mark): Test it.

	* rmail.el: Doc fixes.

Wed Jun 30 00:29:08 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* gud.el: Add history lists to the debugging commands, so we don't
	have to retype the filename every invocation.
	(gud-gdb-history, gud-sdb-history, gud-dbx-history,
	gud-xdb-history): New variables.
	(gdb, sdb, dbx, xdb): Use them when reading the argument string.

	* mouse.el (mouse-drag-region-1): Commented out.
	(mouse-drag-region): Commented out, and replaced with new version,
	which highlights the region as we drag.
	(mouse-scroll-delay, mouse-drag-overlay): New variables.
	(mouse-scroll-subr): New function.

	* sun-fns.el, sun-curs.el: Move these to lisp/term, to be with
	sun-mouse.el.

Tue Jun 29 19:00:38 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* faces.el (global-face-data): Doc fix.

	* gnus.el (gnus-newsrc-to-gnus-format): Correct regexp which
	matches .newsrc lines not to match more than one line.

Tue Jun 29 13:05:15 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* ls-lisp.el (insert-directory): Doc fix.
	(ls-lisp-format): Provide user name when known.
	On ms-dos, provide a name for the group, to be prettier.

Mon Jun 28 00:47:48 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* subr.el (define-key-after): Delete duplicate bindings that come
	after the new one.  Do insert when we reach the end, if haven't before.

	* paren.el: New file.

	* faces.el (face-initialize): Create `underline' face.
	(x-initialize-frame-faces): Set up `underline' face.

	* faces.el (x-initialize-frame-faces): Check x-display-color-p
	and x-display-planes to decide whether to try using colors or gray.

	* man.el (Man-auto-section-alist): Default value nil.
	(Man-getpage-in-background): Call Man-default-man-args.
	(Man-filter-list): Don't discard overstrike here.
	(Man-set-fonts): New function.
	(Man-bgproc-sentinel): Call Man-set-fonts.
	(Man-version-number): Var deleted.
	(Man-version): Command and binding deleted.
	(Man-mode): Use Manual, not Man, as official mode name.

	* solar.el: Doc fixes.

	* c-mode.el (c-forward-conditional): New function.
	(c-up-conditional): Use c-forward-conditional.
	(c-backward-conditional): New function.
	(c-mode-map): Make bindings for them.

Sun Jun 27 20:56:11 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* vc.el (vc-update-change-log): Restore previous default-directory
	for running rcs2log.

Sat Jun 26 00:18:21 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* subr.el (define-key-after): New function.

Fri Jun 25 13:58:52 1993  Barry A. Warsaw  (warsaw@anthem.nlm.nih.gov)

	* reporter.el (reporter-submit-bug-report): Rename local var curbuf
	to reporter-eval-buffer.
	(reporter-dump-variable): Eval varsym in reporter-eval-buffer.

	* c++-mode.el (c++-fast-backward-syntactic-ws-2)
	(c++-fast-backward-syntactic-ws-1): Change the proper syntax table
	depending on whether we are editing C or C++ code.

	* c++-mode.el (c++-indent-exp): When computing offset for open-brace
	line, check not at class top level before adding c-indent-level.
	Fix bug handling member init lists.
	Fix case where comments follow a continued statement.
	Fix handling of c-brace-offset < 0.

	* c++-mode.el (c++-calculate-indent):
	Fixed indentation when base class declaration is on a separate line
	then the derived class intro header.
	Don't skip up past compound statement if we're in a member init list.

	* c++-mode.el (c++-indent-line): Clean up adjustment
	of block closing braces.  Handle a list as value of
	c++-block-close-brace-offset.

	* c++-mode.el (c++-indent-exp): Use c-continued-statement-offset
	instead of c-indent-level to indent comma separated arg decl lists.

	* c++-mode.el (c++-fast-backward-syntactic-ws-2): Simplify for
	new forward-comment semantics.

	* c++-mode.el (c++-calculate-indent): Change if's to cond in CASE3.
	Require colon when looking for `case' or `default'.
	Use c++-compound-offset.
	(c++-compound-offset): New function.
	Distinguish statement continuation from enum and initializer lists.

Fri Jun 25 18:30:17 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* vc-hooks.el (vc-rcs-status): New variable.
	(vc-mode-line): Display the lock status and head version.
	(vc-rcs-status, vc-rcs-glean-field): New function.

	* menu-bar.el (mouse-menu-bar-buffers): Include % and * in each item.
	Calculate amount of space needed for longest buffer name.
	* mouse.el (mouse-buffer-menu): Likewise.

Fri Jun 25 18:01:47 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* add-log.el (find-change-log): Try get-file-buffer before
	file-exists-p.

Fri Jun 25 17:30:19 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* vc.el (vc-diff): If `diff' gives empty output, return nil.

Wed Jun 23 21:45:19 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* ange-ftp.el: Loosen file-name-handler-alist regexp so we can do
	host name completion.

	* hexl.el (hexl-in-save-buffer): New flag.
	(hexl-save-buffer): Prevent infinite recursion.

Tue Jun 22 04:11:33 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* term/x-win.el (command-switch-alist): "-ib" takes a numeric
	argument; use x-handle-numeric-switch for it.

	* replace.el (query-replace-map): Fix typo in binding for [return].

Tue Jun 22 00:23:04 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmailsort.el: Don't touch rmail-summary-mode-map.
	Don't touch rmail-mode-map.  Don't require rmail or sort.
	(rmail-summary-sort-...): Moved to rmailsum.el.
	(rmail-sort-from-summary): Likewise.

	* rmail.el: Add autoloads for rmailsort commands.
	(rmail-mode-map): Add bindings for those commands.

	* rmailsum.el (rmail-summary-mode-map): Bind summary sort commands.
	(rmail-summary-sort-...): Moved from rmailsort.el.
	(rmail-sort-from-summary): Likewise.  Require rmailsort.

Mon Jun 21 22:01:23 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* compile.el (compile-file-of-error): Remember that
	compilation-error-list stores file names as strings, not as (DIR .
	FILE) pairs.

	* diff.el (diff-parse-differences): Preserve the match data
	across the call to find-file-noselect.

	* subr.el (event-end): Modified to account for multi-click events.

Mon Jun 21 01:53:46 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmail.el (rmail-mode-map): Add local menu bar bindings.
	(rmail-search-backward): New command.
	(rmail-mode): Move to the last message.

	* rmailsum.el (rmail-summary-mode-map): Add local menu bar bindings.
	(rmail-summary-search-backward): New command.
	(rmail-summary-search): Don't use save-excursion.

	* sendmail.el (mail-mode-map): Add local menu bar bindings.

	* texinfo.el: Set up autoloads for files `makeinfo' and `texnfo-upd'.
	(texinfo-delete-from-print-queue-command): New var.
	(texinfo-tex-trailer): New var.
	(texinfo-tex-region): Use that.
	(texinfo-tex-buffer): Rewritten; use the actual source file.
	Binding is now C-c C-t C-b.
	(texinfo-texindex): Turned back on.
	(texinfo-quit-job): New command, with binding.
	(texinfo-delete-from-print-queue): Likewise.
	(texinfo-show-structure): Indent each line according to depth.
	Require texnfo-upd.
	(texinfo-section-types-regexp): Var deleted.
	(texinfo-insert-@-with-arg): New function.
	(texinfo-insert-@var, etc.): Use that.
	(texinfo-insert-@end): New command, now on C-c C-c e.
	(texinfo-insert-@end-example): Deleted.
	(texinfo-insert-@table): New command, on C-c C-c t.
	(texinfo-start-menu-description): New command, on C-c C-c C-d.
	(texinfo-mode): No longer set tex-trailer.
	Make the @node for the top node start a page.
	Use shorter values for tex-end-of-header and tex-start-of-header.
	(texinfo-mode-map): Add bindings for makeinfo-buffer, etc.
	Delete bindings for texinfo-format-buffer/region.
	(texinfo-define-common-keys): New function.

	* texinfmt.el: File deleted.

	* makeinfo.el: New file.

	* metamail.el: New file.

	* time-stamp.el: New file.

Sun Jun 20 20:44:36 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* add-log.el (add-log-current-defun): To find the name of the
	function being defined in emacs-lisp-mode, lisp-mode, and
	scheme-mode, skip an opening paren and an s-expression, instead of
	just one word.  This allows us to properly recognize things like
	define-key and define-macro.

	* replace.el (query-replace-map): Make RET exit query-replace,
	just like ESC.

Sun Jun 20 18:44:30 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* mh-e.el (mh-yank-cur-msg): Test mark-active.

Sat Jun 19 17:14:27 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* version 19.15 released.

Sat Jun 19 17:47:40 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* info.el (Info-insert-dir): Remove the call to recursive-edit.

Sat Jun 19 15:05:59 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* info.el (Info-insert-dir): Record file attributes of files used.
	Recompute the dir if they change.

	* files.el (insert-file): Report error if file is directory.

Fri Jun 18 21:43:43 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* man.el (Man-switches): New variable.
	(Man-build-man-command): Use it to build the man command.
	(Man-mode): Mention it in documentation.

Fri Jun 18 21:13:02 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmailout.el (rmail-output): Check file can be read before trying
	to read part of it.

	* ange-ftp.el (ange-ftp-insert-file-contents):
	Handle extra args BEG, END.

Fri Jun 18 19:25:02 1993  Johan Vromans  (jv@mh.nl)

	* forms.el: Delete local variables list.
	(forms-forms-scrolls): Deleted.
	(forms-forms-jumps): Deleted.
	(forms--change-commands): Use substitute-key-definition.
	(forms-mode): Call forms--change-commands later on.

Fri Jun 18 13:55:31 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* compile.el (compilation-error-regexp-alist): Generalize the
	Apollo/BSD4.3 regexp to handle IBM RS6k too.

	* mouse.el (mouse-secondary-save-then-kill): Don't switch windows.
	Just set-buffer, and put save-excursion around it.
	(mouse-set-secondary, mouse-start-secondary): Likewise.
	(mouse-drag-secondary): Switch windows and move point just temporarily.

Fri Jun 18 13:49:53 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)

	* dired.el (dired-summary): dired-do-rename is on "R", not "r".

Fri Jun 18 10:14:45 1993  Edward M. Reingold  (reingold@emr.cs.uiuc.edu)

        * calendar.el (calendar-version): Update to 5.1.  Fixed a variety
        of spelling error in comments and doc strings.
        (calendar-sexp-debug): New variable to turn off error catching.
	(calendar-absolute-from-gregorian): Removed unused vars month, day.
        (view-calendar-holidays-initially, all-hebrew-calendar-holidays,
        all-christian-calendar-holidays, all-christian-islamic-holidays,
        diary-nonmarking-symbol, hebrew-diary-entry-symbol,
        islamic-diary-entry-symbol, diary-include-string,
        abbreviated-calendar-year, european-calendar-style,
        european-calendar-display-form, american-calendar-display-form,
        calendar-date-display-form, print-diary-entries-hook,
        list-diary-entries-hook, nongregorian-diary-listing-hook,
        nongregorian-diary-marking-hook, diary-list-include-blanks,
        holidays-in-diary-buffer, general-holidays,
        increment-calendar-month, calendar-sum, calendar-string-spread,
        calendar-absolute-from-iso, calendar-print-iso-date,
        hebrew-calendar-elapsed-days, list-yahrzeit-dates,
        calendar-print-astro-day-number): Fix doc strings.
        (calendar-nth-named-day): Rewritten to include optional day of month.
        (general-holidays, calendar-holidays, hebrew-holidays,
        christian-holidays, islamic-holidays,
        solar-holidays): Rewritten to include require of cal-dst.el and to
        show the time of the change to/from daylight savings time.
        (calendar-current-time-zone, calendar-time-zone,
        calendar-daylight-time-offset, calendar-standard-time-zone-name,
        calendar-daylight-time-zone-name, calendar-daylight-savings-starts,
        calendar-daylight-savings-ends,
        calendar-daylight-savings-switchover-time): Moved to cal-dst.el.
        (calendar-location-name, calendar-time-display-form, calendar-latitude,
        calendar-longitude): Moved to solar.el.
        (calendar-holidays): Unquote it!

        * solar.el (calendar-holiday-solar-equinoxes-solstices): Renamed
        solar-equinoxes-solstices.
        (calendar-time-display-form, calendar-latitude,
        calendar-longitude): Moved from calendar.el.
        (calendar-time-zone, calendar-standard-time-zone-name,
        calendar-daylight-time-zone-name,
        calendar-daylight-savings-starts, calendar-daylight-savings-ends):
        Take default values from calendar-current-time-zone, instead of
        being overwritten in open code if they were set to nil.
        (solar-time-string): Subtract calendar-daylight-time-offset when
        computing dst-ends.  Avoid rounding errors when rounding time to
        the nearest minute.

        * diary.el (list-sexp-diary-entries,
        hebrew-calendar-year-Saturday-incomplete-Sunday,
        hebrew-calendar-year-Monday-incomplete-Tuesday,
        hebrew-calendar-year-Tuesday-regular-Thursday,
        hebrew-calendar-year-Thursday-complete-Sunday,
        hebrew-calendar-year-Saturday-complete-Thursday,
        hebrew-calendar-year-Monday-complete-Saturday,
        hebrew-calendar-year-Thursday-incomplete-Sunday): Fix doc strings.
        (diary-sexp-entry): Use calendar-sexp-debug to turn off error catching.
        
        * diary-ins.el (insert-cyclic-diary-entry): Fix date form.

        * cal-mayan.el (calendar-mayan-days-before-absolute-zero,
        calendar-mayan-haab-difference, calendar-mayan-tzolkin-difference,
        calendar-mayan-tzolkin-haab-on-or-before,
        calendar-previous-calendar-round-date,
        calendar-absolute-from-mayan-long-count,
        calendar-print-mayan-date): Fix doc strings.

        * holidays.el (calendar-holiday-function-fixed,
        calendar-holiday-function-float, calendar-holiday-function-julian,
        calendar-holiday-function-islamic,
        calendar-holiday-function-hebrew, calendar-holiday-function-sexp,
        calendar-holiday-function-advent,
        calendar-holiday-function-easter-etc,
        calendar-holiday-function-greek-orthodox-easter,
        calendar-holiday-function-rosh-hashanah-etc,
        calendar-holiday-function-hanukkah,
        calendar-holiday-function-passover-etc,
        calendar-holiday-function-tisha-b-av-etc): Renamed without words
        "calendar" and "function"; changed argument from a list of values to
        individual values.  Fixed doc strings.
        (calendar-holiday-function-if): Removed.
        (calendar-holiday-solar-equinoxes-solstices): Renamed
        solar-equinoxes-solstices.
        (calendar-holiday-list): Rewrote to accomodate the name changes
        above and the unquoting of calendar-holidays.
        (calendar-cursor-holidays):  Change screen-width to frame-width.
        (holiday-sexp): Rewritten.

        * lunar.el (lunar-phase): Use time conversion from solar.el

        * cal-dst.el: New file.
        (calendar-/, calendar-%, calendar-absolute-from-time,
        calendar-time-from-absolute, calendar-next-time-zone-transition,
        calendar-time-zone-daylight-rules): New functions.
        (calendar-current-time-zone): Moved from calendar.el and rewritten.
        (calendar-current-time-zone-cache): New variable.
        (calendar-current-time-zone, calendar-time-zone,
        calendar-daylight-time-offset, calendar-standard-time-zone-name,
        calendar-daylight-time-zone-name,
        calendar-daylight-savings-starts, calendar-daylight-savings-ends,
        calendar-daylight-savings-switchover-time): Moved from calendar.el.

Thu Jun 17 19:29:56 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* Version 19.14 released.

Thu Jun 17 19:41:01 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* sendmail.el (mail-citation-hook): New hook var.
	(mail-yank-original): Use that hook if not nil.

	* sc.el: Change usage comment.

Thu Jun 17 18:57:01 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* faces.el (make-face-bold, make-face-italic,
	make-face-bold-italic, make-face-unbold, make-face-unitalic):
	Always pass the frame parameter to internal-try-face-font; we only
	want to set the face for this frame.

	* faces.el (make-face-bold, make-face-italic,
	make-face-bold-italic, make-face-unbold, make-face-unitalic):
	Fix error messages.

Thu Jun 17 00:12:30 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* faces.el (set-face-background-pixmap, face-background-pixmap):
	Functions commented out.

	* mouse.el (mouse-start-secondary): New function.
	(mouse-set-secondary, mouse-drag-secondary): New functions.
	(mouse-kill-secondary, mouse-secondary-save-then-kill): New functions.

	* term/vt200.el: Translate F11 (ESC [ 23 ~) to ESC.
	* term/vt201.el, term/vt220.el, term/vt240.el: Likewise.

	* autoload.el (generate-file-autoloads): Undo previous change
	because make-docfile requires defvar doc string to start on first line.

	* cplus-md.el: Renamed from c++-mode.el.
	* cplus-md1.el: Renamed from c++-mode-1.el.

	* vc.el (vc-rename-file): Remove periods from error messages.
	(vc-backend-logentry-check, vc-revert-buffer): Likewise.
	(vc-retrieve-snapshot, vc-create-snapshot): Likewise.
	(vc-diff, vc-finish-logentry, vc-steal-lock): Likewise.
	(vc-register, vc-next-action-on-file, vc-registration-error): Likewise.
	(vc-cancel-version): Add space to end of question.

	* menu-bar.el (mouse-menu-choose-yank): New function.
	Put it in the edit menu.
	(yank-menu-length): New variable.

Wed Jun 16 20:16:10 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* subr.el (event-basic-type): Deal with listy events properly.

Wed Jun 16 23:06:58 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)

	* autoload.el (make-autoload): Use memq once instead eq twice.
	(generate-file-autoloads): For non-autoloads, copy the defn textually
	rather than printing it after reading.

	* autoload.el (generate-autoload-cookie, update-autoloads-here):
	Doc fixes.

Wed Jun 16 17:21:51 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* frame.el (set-frame-configuration): Don't try to set a frame's
	minibuffer.  This parameter can't be changed, so that would signal
	an error.

Wed Jun 16 13:42:25 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* assoc.el (aput): Doc fix.

	* ls-lisp.el (insert-directory): If no handler, convert SWITCHES
	from a string to a list of characters.

	* disass.el (disassemble-internal): If function is autoload, load it.

	* lisp.el (parens-require-spaces): Var renamed and sense changed.
	(insert-parentheses): Corresponding changes.

	* rmailout.el (rmail-output): Use insert-file-contents to look at
	beginning of output file.

	* term/x-win.el (x-switch-definitions): Fix -iconic.

	* bytecomp.el (byte-compile-file-form-defmumble): Typo in prev change.

Tue Jun 15 03:56:34 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* server.el (server-process-filter): Use server-switch-buffer.

	* gud.el (gud-xdb-directories): Renamed from gud-xdb-paths.
	Defvar moved earlier.  All uses changed.
	(gud-xdb-debugger-startup): Rename local var `paths'.
	(gud-xdb-file-name): Likewise.

	* inf-lisp.el (inferior-lisp-buffer): Move defvar earlier.

	* mailalias.el (define-mail-alias): Remove excess whitespace better.

	* mailabbrev.el (define-mail-abbrev): Renamed from define-mail-alias.
	(build-mail-abbrevs): Use new name.

	* bytecomp.el (byte-compile-file-form-defmumble): Use defalias
	for named function, even if no doc string.

	* dired.el (dired-repeat-over-lines): Going fwd, skip new lines
	that FUNCTION inserts after the current line.
	Going backwd, no need for dired-move-to-filename each time.

Tue Jun 15 21:10:22 1993  Shane Hartman  (shane@nugget.spr.com)

        * gud.el (xdb): New debugger supported (xdb under HPUX-PARISC).
        (gud-xdb-debugger-startup): New function.
        (gud-xdb-file-name, gud-xdb-accumulation): New functions.
        (gud-xdb-marker-filter, gud-xdb-paths, gud-xdb-find-file): New.

Mon Jun 14 14:53:25 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* lisp.el (parens-dont-require-spaces): New variable.
	(insert-parentheses): Obey that variable.

	* emerge.el (emerge-make-diff3-list): Pass ancestor second.
	(emerge-extract-diffs3): Replace group-1 with group-2.
	(emerge-handle-local-variables): Pass no arg to hack-local-variables.

	* picture.el (picture-replace-match): New function.
	* dabbrev.el (dabbrev-expand): Do all changes with replace-match.
	In picture-mode, use picture-replace-match instead.

Mon Jun 14 10:57:43 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* holidays.el: Eval calendar-holidays; don't just use its value.

	* complete.el: (provide 'complete).

Mon Jun 14 03:10:35 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* window.el (balance-windows): Total rewrite.

Sun Jun 13 00:33:55 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* bytecomp.el (byte-compile-file): Undo previous change.
	(batch-byte-recompile-directory): Doc fix.

	* isearch.el (isearch-highlight): If no face `isearch', use `region'.

	* c-mode.el (c-indent-line): Call c-backward-to-start-of-if
	in the case of else following a close brace.

	* man.el (Man-getpage-in-background): Use TERM=dumb to prevent
	terminal control sequences in the output.

Sat Jun 12 16:58:04 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* files.el (abbreviate-file-name): Match home dir with no /
	if nothing else follows.

	* finder.el (finder-find-library): New function.
	(finder-commentary): Use it.

	* forms.el, forms-pass.el, forms-d2.el, forms-dat.el, forms.README:
	Moved from subdir forms-mode.  Subdir deleted.

Sat Jun 12 16:03:03 1993  Johan Vromans  (jv@mh.nl)

	* forms.el (forms--change-commands): 
	Use (function (lambda ...)) instead of '(lambda...).

	* forms.el: Provide `forms' as well as `forms-mode'.
	(forms-new-record-filter, forms-modified-record-filter): Add defvars.

Sat Jun 12 02:53:34 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* files.el (make-directory): By default create dir default-dir. 

Fri Jun 11 11:46:51 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* vc.el (vc-backend-diff): Always use -q option.

	* files.el (file-truename): Don't use expand-file-name to merge
	a link target into the previous dir.  Handle .. and . explicitly.

	* env.el (setenv): Treat case as significant.

	* mailabbrev.el (sendmail-pre-abbrev-expand-hook):
	If last-command-char is not a character, don't check char-syntax.

	* inf-lisp.el: Doc fixes. 
	(run-lisp): Add autoload.
	(inferior-lisp-mode-map): Explicitly make local prefix keys.

	* cmulisp.el: File deleted.

	* server.el (server-window): New variable.
	(server-switch-buffer): Use it.

	* flow-ctrl.el (enable-flow-control): Don't alter the 8-bit flag.

	* man.el (Man-filter-list): Add an element for X man pages.
	(Man-goto-page): Continue past errors in Man-build-references-alist.

	* rmailout.el (rmail-output-to-rmail-file): Use the smart default
	in the prompt.

	* register.el (view-register): Handle file name values.

	* etags.el (etags-tags-completion-table): When skipping the noise
	before the tag name, let it end with any char not allowed in a tag.

	* files.el (cd): Use file-name-absolute-p.
	(cd-absolute): No longer interactive.

	* echistory.el (electric-history-map): Don't use fillarray;
	make default bindings instead.  Bind up, down, home, next, prior.

Fri Jun 11 05:44:40 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* frame.el (frame-initialize): Remember to actually traverse
	initial-frame-alist.

	* gud.el (gud-last-last-frame): New variable.
	(gud-display-frame): Save the frame we displayed in
	gud-last-last-frame.
	(gud-refresh): Force gud-display-frame to jump to the last frame
	displayed, even if it has already done so once.

	* man.el (manual-entry): Recognize the subject(section) syntax.

	* picture.el (move-to-column-force): If column is negative, go
	flush left.

	* simple.el (hscroll-point-visible): Work as documented in the
	docstring for hscroll-step.

Fri Jun 11 00:04:40 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* lisp-mode.el (lisp-indent-function): Look for either
	lisp-indent-hook or lisp-indent-function property.

	* files.el (make-backup-files): Doc fix.

	* mouse.el (mouse-set-mark-fast): New function.
	(mouse-show-mark): New function.
	(mouse-kill-ring-save, mouse-save-then-kill): Use them.
	(mouse-save-then-kill): Don't let kill-region alter this-command.
	Check last-command accordingly.
	(mouse-split-window-vertically): Handle scroll bar events.

Thu Jun 10 13:41:06 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* rmail.el (rmail-primary-inbox-list): Use defvar, not defconst.

	* files.el (basic-save-buffer): Cal auto-save-mode with t as arg
	if and only if auto save was off and default is on.
	(set-visited-file-name): Likewise.

	* simple.el (append-to-buffer): Interactively, supply all 3 args.
	Allow nonexistent buffers.

	* files.el (abbreviate-file-name): Make abbreviated-home-dir
	from `~/', not from just `~'.
	(hack-one-local-variable): Query for ...-hook(s) and ..-function(s)
	as the `eval' variable.

	* ispell.el: Doc fixes.
	(ispell-command, ispell-command-options): New defvars.
	(start-ispell): Use them.

	* ange-ftp.el (ange-ftp-multi-msgs): Add 331-.

	* man.el (Man-mode): Run Man-mode-hook.

	* bibtex.el (bibtex-mode-map): Use tex-insert-quote, not TeX-...

Thu Jun 10 15:16:11 1993  Shane Hartman  (shane@nugget.spr.com)

        * c++-mode.el (calculate-c++-indent): Respect
        c-continued-brace-offset (as in c-mode.el).

Thu Jun 10 06:39:46 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* frame.el (frame-initialize): When deleting geometry
	specifications from initial-frame-alist, remember that they may
	occur more than once, and do, if the -geometry option was
	specified as well as a .geometry resource.

	* scroll-bar.el (scroll-bar-mode): Variable deleted.
	(scroll-bar-mode): Function changed to consult default-frame-alist
	instead of the variable.

	* gnus.el (gnus-start-news-server): If no server has been
	specified, but gnus-nntp-service is nil, don't ask for a server
	name; use the local host.

	* ange-ftp.el (ange-ftp-make-directory): Take second optional
	argument parents, like the original.  Implement it.

	* gnus.el (gnus-newsrc-to-gnus-format): Change regexp which
	matches .newsrc lines for better performance under the new regexp
	routines.

Thu Jun 10 13:40:44 1993  Dave Gillespie  (daveg@synaptics.com)

	* bytecomp.el: Bug fixes and upgrade to match Zawinski's v2.10.
	(byte-compile-dest-file): Added support for emacs-lisp-file-regexp.
	(byte-recompile-directory): Several things involving `noninteractive'.
	(byte-compile-file): Changed prompting in read-file-name.
	(byte-compile-insert-header): Put a magic number at top of .elc files,
	fixed backwards test of byte-compile-compatibility.
	(byte-compile-form, byte-defop-compiler19, byte-compile-list,
	byte-compile-concat, byte-compile-insert): Likewise.
	(byte-compile-condition-case): Added checking for unknown conditions.
	(batch-byte-recompile-directory): New function.

Wed Jun  9 05:43:49 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* compile.el (compilation-error-list): When we haven't yet
	generated a marker for the source position of an error message,
	store (FILENAME . LINE-NUMBER), not ((DIRECTORY . FILE)
	LINE-NUMBER).  Doc fix.
	(next-error, compilation-parse-errors): Adjusted appropriately.

	* scroll-bar.el (scroll-bar-set-window-start): Remember that the
	scroll bar numbers reflect the accessible region of the buffer,
	not the entire buffer.

Tue Jun  8 12:28:05 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* dired.el (dired-flag-auto-save-files): Ignore `*' added by ls -F.

	* sc.el (sc-mark): Use mark-marker.

Tue Jun  8 08:28:14 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	* Version 19.13 released.

Tue Jun  8 00:40:46 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* fortran.el (fortran-indent-new-line): Renamed from
	fortran-reindent-then-newline-and-indent.

	* mouse.el (mouse-drag-region-1): Un-comment-out this function.

	* info.el (Info-follow-reference): Fix completion defaulting.

Mon Jun  7 21:47:37 1993  Edward M. Reingold  (reingold@emr.cs.uiuc.edu)

        * calendar.el (calendar-current-time-zone): Change variable names
        to make them more readable.
        (calendar-time-zone, calendar-standard-time-zone-name,
        calendar-daylight-time-zone-name, calendar-daylight-savings-ends,
        calendar-daylight-savings-starts): Don't autload them.

Mon Jun  7 00:25:00 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* apropos.el (safe-documentation): Don't crash on byte-compiled macro.

	* telnet.el (telnet-simple-send): New function.
	(telnet): Arrange to use that.

	* sun-keys.el: File deleted.

	* texinfo.el (texinfo-section-types-regexp): Add @chapheading.

	* gud.el: Doc fixes.  Delete local variable list at the end.
	(expr-forward-sexp): Renamed from forw-expr.
	(expr-backward-sexp): Renamed from back-expr.

	* case-table.el (describe-buffer-case-table): Merge locals i and ch.
	Make *Help* current buffer for describe-vector.

	* bibtex.el: Fix typos in previous change.
	Add a few menu items.

	* compile.el (compilation-error-regexp-alist): Make sure each regexp
	can only match a few characters at the front.  Split off the Mips
	CC regexp from the Apollo regexp.

	* rmail.el (rmail-variables): Default rmail-inbox-list here.
	(rmail): Not here.

	* ange-ftp.el (ange-ftp-real-load): New function.
	(ange-ftp-load): New function--handles `load'.

Sun Jun  6 18:29:36 1993  Paul Eggert  (eggert@twinsun.com)

	* term/sun-mouse.el (mouse-union-first-preferred): Renamed from
	mouse-union-first-prefered.

Sun Jun  6 17:46:25 1993  Paul Eggert  (eggert@twinsun.com)
	
	* sc.el (sc-consistent-cite-p): Renamed from sc-consistant-cite-p.

	* etags.el (etags-recognize-tags-table): Fix misspelling of
	find-tag-regexp-next-line-after-failure-p.

	* bibtex.el (bibtex-name-alignment): Renamed from
	bibtex-name-alignement.

	* allout.el (outlinify-sticky): Renamed from outlineify-sticky.

	* faces.el (x-create-frame-with-faces): Reversevideo -> ReverseVideo.
	* frame.el (frame-initialize): Likewise.

Sun Jun  6 01:27:16 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* outline.el (outline-minor-mode): Add autoload cookie.

	* bibtex.el: Define 2 local menu-bar submaps.
	(bibtex-x-help, bibtex-x-environment): Deleted.

	* isearch.el (search-upper-case): Make `no-yanks' the default.
	(isearch-no-upper-case-p): New arg REGEXP-FLAG.
	(isearch-search): Pass new arg.
	(isearch-member-equal): Deleted.
	(isearch-overlay): New variable.
	(isearch-highlight, isearch-dehighlight): Rewritten to use overlays.

	* dired.el (dired-unmark-all-files): Read arg as just a character.
	Use non-regexp search to find a specific mark.
	Use subst-char-in-region to make the change.
	Improve the message at the end.

	* vip.el (vip-ctl-key-equivalent): Use vip-escape-to-emacs.
	(vip-escape-to-emacs): Use read-key-sequence and key-binding.
	Arg EVENTS replaces arg CHAR.  
	(vip-ESC, vip-ctl-c, vip-ctl-x, vip-ctl-h): These callers changed.

	* compile.el (compile-internal): Alter current buffer only temporarily.

Sat Jun  5 13:08:08 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* sendmail.el (mail-do-fcc): Replace the code for appending to buffer.

	* rmailsum.el (rmail-summary-next-msg): Fix number of dots in regexp.

	* scroll-bar.el (scroll-bar-drag-1):
	Calculate position relative to the accessible part of the buffer.

	* menu-bar.el (menu-bar-help-menu): Add defvar.
	(menu-bar-edit-menu, menu-bar-file-menu): Likewise.

	* dired.el (dired-flag-backup-files): Handle `*' made by `ls -F'.

	* ange-ftp.el (internal-ange-ftp-mode): Renamed from ange-ftp-mode.
	Callers changed.

	* menu-bar.el (window-system): Enable menu bars only if
	window-system is non-nil.

	* add-log.el (add-log-current-defun): Fix typos in last change.

Sat Jun  5 04:39:08 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* term/x-win.el (x-selection-timeout): Set it, using x-get-resource.

Fri Jun  4 07:14:44 1993  Paul Eggert  (eggert@twinsun.com)

	* timezone.el: (timezone-make-date-arpa-standard,
	timezone-make-date-sortable): Move common code into timezone-fix-time.
	(timezone-fix-time): Merge common code from above two functions.
	Yield time zone at end of result vector.
	Set time zone offset correctly as of the given time,
	instead of guessing from the current offset.
	(timezone-make-arpa-date, timezone-zone-to-minute): Convert
	current-time-zone style timezones into RFC-822 style timezones.

	(timezone-time-from-absolute, timezone-time-zone-from-absolute,
	timezone-day-number, timezone-absolute-from-gregorian):
	More functions borrowed from Reingold's calendar package.

	(timezone-make-arpa-date, timezone-make-sortable-date): Can safely
	assume that year includes century, since timezone-fix-time guarantees
	this.

	* gnuspost.el (gnus-current-time-zone):	New function, which tries
	current-time-zone, and if that fails falls back on gnus-local-timezone.
	(gnus-inews-date): Use it.
	(gnus-inews-valid-date): New optional args TIME (default now) and ZONE
		(default GMT).
	(gnus-inews-buggy-date): New optional arg TIME (default now).

	* gnus.el (gnus-local-timezone): Now used only if current-time-zone
	does not work.

Fri Jun  4 01:16:48 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* mh-e.el (mh-yank-cur-msg): Use (mark t).

	* simple.el (mark): Doc fix.

	* add-log.el (add-log-current-defun): Handle Fortran.

	* rmail.el (rmail-resend): Require sendmail and mailalias.

	* time.el (display-time-24hr-format): Make it a user option.

	* edt.el (GOLD-prefix): Define *after* GOLD-map.

	* dired.el (dired-change-marks): Just ding if one arg is RET.
	Search for strings, not regexps.  Use subst-char-in-region.

	* isearch.el (isearch-mode): Set isearch-window-configuration
	only if in slow mode.
	(isearch-done): Use isearch-window-configuration only if non-nil.
	(isearch-other-control-char): For mouse event, call isearch-done
	in the buffer whose keymap was used.

	* flow-ctrl.el (enable-flow-control): Doc fix.

Thu Jun  3 20:01:19 1993  Edward M. Reingold  (reingold@emr.cs.uiuc.edu)

        * calendar.el (calendar-holidays): Quote it to delay evaluation
        until it's needed.

        * holidays.el (calendar-holiday-list): Eval calendar-holidays.

Thu Jun  3 00:47:23 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* sendmail.el (mail-do-fcc): Omit first 2 lines when appending
	to an RMAIL buffer.

	* simple.el (kill-ring-save): Doc fix.

	* rmailsum.el (rmail-summary-expunge-and-save): Do save-buffer last.
	Use two separate save-excursion calls.
	(rmail-summary-input): Use pop-to-buffer.
	(rmail-summary-get-new-mail): Gobble rmail-current-message;
	later go to that message.
	(rmail-summary-next-msg): Start at end of line, if moving forward.
	Move to beginning of line, after the loop.
	(rmail-new-summary): Fix format of elt in minor-mode-alist.

	* rmail.el (rmail-select-summary): Add a save-excursion.

	* rmailsum.el (rmail-summary-expunge-and-save):
	Call set-buffer again after rmail-only-expunge.
	(rmail-summary-add-label, rmail-summary-kill-label):
	Fix reading the label.
	(rmail-summary-rmail-update): Bind window locally.
	Use unwind-protect, not save-window-excursion.

	* vc-hooks.el (vc-find-file-hook): Check buffer-file-name is non-nil.

	* hideif.el (define-hide-ifdef-mode-map): Don't bind C-c LETTER.
	Use C-c ESC LETTER instead.
	Handle case where where-is-internal returns nil.

	* texinfmt.el: Provide texinfmt.

	* bytecomp.el (byte-compile-insert-header): Fix backwards test
	of byte-compile-compatibility.

	* info.el (Info-mode-map): Bind mouse-2, not mouse-3.

	* view.el (View-scroll-lines-forward): If we exit, do nothing else.

	* calendar.el (calendar-mode): Doc fix.
	(calendar-mark-ring): New defvar.

	* frame.el (frame-initialize): Set cursor-color last.

	* vip.el (vip-escape-to-emacs): Temporarily restore local map
	and use read-key-sequence.

	* rmailsum.el (rmail-summary-by-senders): New function.
	(rmail-message-senders-p): New function.

Thu Jun  3 17:58:59 1993  Dave Gillespie  (daveg@synaptics.com)

	* complete.el (PC-lisp-complete-symbol): Added.
	(PC-look-for-include-file): Recognize some Lisp notations.
	(PC-include-file-all-completions): Fixed uppercase variable names.

Wed Jun  2 12:56:57 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* info.el (Info-suffix-list): Handle .gz suffix.
	* ange-ftp.el (ange-ftp-binary-file-name-regexp): Handle .gz.

	* ehelp.el (electric-help-command-loop): Use equal to compare
	lists of events.

	* electric.el (Electric-command-loop): Use eq to compare events.

	* diff.el (diff): Really do use arg SWITCHES.

	* frame.el (frame-initialize): Delete geometry parms
	from initial-frame-alist.

Wed Jun  2 09:59:02 1993  Edward M. Reingold  (reingold@emr.cs.uiuc.edu)

        * calendar.el (calendar-daylight-savings-starts): Mention use of
        nil value in documentation string.
        (calendar-daylight-time-offset): New variable.
        (calendar-daylight-savings-switchover-time):  New variable.
        (calendar-mode): Mention them.
        (calendar-time-zone, calendar-print-astro-day-number,
        calendar-time-display-form): Change Universal Time (UT) to
        Coordinated Universal Time (UTC). 

        *solar.el (solar-setup, solar-ephemeris-time, sunrise-sunset): Change
        Universal Time (UT) to Coordinated Universal Time (UTC).
        (solar-time-string): Use calendar-daylight-time-offset instead of
        1 hr, and use calendar-daylight-savings-switchover-time instead of
        midnight.  Add an optional parameter to allow forcing the use of
        standard or daylight savings time.  Fix code so it works in
        southern hemisphere (start of dst precedes end of dst in a
        calendar year) and when dst either starts or ends in a calendar
        year, but not both.

Tue Jun  1 17:40:30 1993  Ken  Manheimer  (klm@coil.nist.gov)

	* allout.el (outlineify-sticky): Reconciled provisions for
	non-standard and standard prefix leaders.

Tue Jun  1 16:09:26 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* Version 19.12 released.

	* reporter.el: New file.

	* mouse.el (mouse-buffer-menu): Don't select the event's window,
	if event has frame instead.

	* tar-mode.el: Typo in autoload cookie.

	* shell.el (shell-prompt-pattern): Use defvar.

	* ange-ftp.el (ange-ftp-make-backup-files): Doc fix.

	* sendmail.el (mail-signature): Do not insert a line with `--'.

	* menu-bar.el (mouse-menu-bar-buffers): Renamed from mouse-buffer-menu.

	* subr.el (posn-timestamp): Doc fix.

	* sort.el (sort-fold-case): New variable.
	(sort-subr): Bind case-fold-search from sort-fold-case.

	* simple.el (undo):
	Pass proper arg to delete-auto-save-file-if-necessary.

	* desktop.el: New file.

	* c++-mode-1.el: New file.

Tue Jun  1 16:03:30 1993  Ken  Manheimer  (klm@coil.nist.gov)

	* allout.el (move-to-column): Pass zero instead of negative arg.
	Added some free variables defvars, so byte-comple doesn't complain.
	Included some stub code, eventually will be proper use of Emacs 19
	minor-mode-sensitive keymaps.

Tue Jun  1 14:01:25 1993  Stephen A. Wood  (saw@cebaf.gov)

	* fortran.el (fortran-mode): Replace comment-indent-hook with
	comment-indent-function.

	* fortran.el (fortran-is-in-string-p): Replaced with new version
	that uses the syntax table.

	* fortran.el (calculate-fortran-indent): Lines that have a # after
	whitespace are interpreted as cpp directives and outdented back to
	column zero.

Tue Jun  1 00:27:03 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* lucid.el (map-keymap): Doc fix.

	* dired-aux.el (dired-compress-file): Use gzip when proper/possible.

	* sc.el: Fix installation instructions.
	(sc-cite-original): Add autoload cookie.

	* sendmail.el (mail-yank-hooks): New hook variable.
	(mail-yank-original): Run the hook.
	(mail-indent-citation): New function.

	* cl.el (cl-mod): Renamed from mod.

	* Version 19.11 released.

	* lucid.el (copy-tree): Use let* to bind new before i.

	* terminal.el (te-pass-through): Delete debugging code left by mistake.

	* comint.el (comint-filter): Put window-start before the input.

	* isearch.el (isearch-mode): If enter recursive-edit,
	also bind isearch-recursive-edit.

	* cookie1.el: Renamed from cookie.el.
	Provide cookie1.
	* yow.el, spook.el: Changed accordingly.

Mon May 31 23:21:41 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* outline.el (outline-flag-region): Pass t as NOUNDO arg
	to subst-char-in-region.  No need to restore buffer-modified-p by hand.

Mon May 31 20:29:00 1993  Richard Stallman  (rms@wookumz.gnu.ai.mit.edu)

	* term/x-win.el (x-invocation-args): Add defvar.

Mon May 31 19:59:12 1993  Junio Hamano  (junio@twinsun.com)

	* window.el (count-windows): PROC argument of
	walk-windows takes an argument.

Mon May 31 00:20:50 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gnus.el (gnus-summary-isearch-article): Call isearch-forward
	in ordinary fashion with no args.
	(gnus-inews-article-hook, gnus-prepare-article-hook):
	Initialize to a list.
	(gnus-read-newsrc-file): If timestamps are equal, reload .newsrc. 

	* bibtex.el (bibtex-mode): Add autoload.

	* files.el (inhibit-local-variables-regexps): New variable.
	(set-auto-mode): Handle inhibit-local-variables-regexps.

	* tar-mode.el: Don't initialize write-file-hooks.
	Don't change auto-mode-alist.
	(tar-regexp): Deleted.
	(tar-normal-mode): Deleted.
	(tar-mode): Add autoload.

	* faces.el (x-resolve-font-name): Clean up error messages.

	* timer.el (run-at-time): Pass args to start-process in right order.

	* info.el (Info-get-token): Check that thesecond search succeeded.

	* edebug.el: Provide edebug.

	* rmailsum.el (rmail-message-subject-p): Fix typo in string constant.

	* cl.el (mod): Use cl-floor.
	(rem): Use cl-truncate.

	* gud.el (gud-def): Don't use gud-key-prefix at compile time.

	* window.el (shrink-window-if-larger-than-buffer): Add `interactive'.
	Do nothing if window contents not entirely visible.

	* sendmail.el (mail-do-fcc): Put back the newline at the start
	of the fcc temp buffer.  It got lost somewhere.

Sun May 30 15:14:40 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)

	* gnus.el (gnus-nntp-server): Use gnus-default-nntp-server.

	* info.el (Info-mode-map): Correct Info-top to Info-top-node.

	* man.el (Man-notify-when-ready): Correct previous change.

Sun May 30 18:28:43 1993  Stephen Gildea  (gildea@alex.lcs.mit.edu)

	* mh-e.el (mh-signature-file-name): New variable.
	mh-e version 3.8.2.

Sun May 30 13:21:04 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)

	 * faces.el (x-resolve-font-name): Fix args to error; the format
	 string was changed, but not the arguments to be substituted.

	 * faces.el (x-resolve-font-name): Give correct error message
	 depending on whether or not FACE was non-nil.
