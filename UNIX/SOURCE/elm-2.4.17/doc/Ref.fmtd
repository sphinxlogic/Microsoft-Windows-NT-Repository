

















                               TTTThhhheeee EEEEllllmmmm RRRReeeeffffeeeerrrreeeennnncccceeee GGGGuuuuiiiiddddeeee




                       _A _c_o_m_p_r_e_h_e_n_s_i_v_e _l_i_s_t _o_f _a_l_l _c_o_m_m_a_n_d_s,
                       _o_p_t_i_o_n_s _a_n_d _s_u_c_h _t_o _t_h_e EEEEllllmmmm _m_a_i_l _s_y_s_t_e_m



                                 The Elm Mail System
                                    (Version 2.4)


                           Syd Weinstein, Elm Coordinator
                               Datacomp Systems, Inc.
                                   3837 Byron Road
                          Huntingdon Valley, PA 19006-2320

                          email: elm@DSI.COM  or  dsinc!elm
















                        cccc Copyright 1986,1987 by Dave Taylor
                 cccc Copyright 1988-1992 by The USENET Community Trust





















                               TTTThhhheeee EEEEllllmmmm RRRReeeeffffeeeerrrreeeennnncccceeee GGGGuuuuiiiiddddeeee

                         (The Elm Mail System, Version 2.4)

                                   October 1, 1992


                                    Syd Weinstein
                               Datacomp Systems, Inc.
                                   3837 Byron Road
                          Huntingdon Valley, PA 19006-2320

                          email: elm@DSI.COM  or  dsinc!elm


                                    Derived from
                         "The Elm Mail System, Version 2.0"
                                         by
                                     Dave Taylor
                                  Intuitive Systems
                              Mountain View, California
                    email: taylor@intuitive.com  or  limbo!taylor






          1111....  IIIInnnnttttrrrroooodddduuuuccccttttiiiioooonnnn

          There are many parts to a complex software  system  and  TTTThhhheeee  EEEEllllmmmm
          MMMMaaaaiiiillll  SSSSyyyysssstttteeeemmmm  is no different.  This document describes fully all
          the options available in the mailer, including the  command  line
          options,  the  commands  (in considerably more detail than in _T_h_e
          _E_l_m _U_s_e_r_s _G_u_i_d_e) and the ._e_l_m/_e_l_m_r_c file.

          To be more explicit, this document covers:  a discussion  of  the
          ._e_l_m/_e_l_m_r_c  file, command line options of _e_l_m, outgoing mail pro-
          cessing, responses of various commands, mail archive folders, the
          Alias  system, system aliases etc, more on the EEEEllllmmmm utilities, and
          a section for expert mail users.

          Without any further ado, then, let's get this show on the road!!







          Elm Reference Guide                                   Version 2.4





          Elm Reference Guide                                   Version 2.4


          2222....  TTTThhhheeee ....eeeellllmmmm////eeeellllmmmmrrrrcccc FFFFiiiilllleeee

          Elm, like lots of other software on the UNIX(R) system,  has  the
          ability to automatically read in a configuration file at each in-
          vocation.  The file must be called _e_l_m_r_c and reside in  the  ._e_l_m
          directory located in your home directory.  It can have any of the
          entries below, in any order.  If you are missing any entries,  or
          if  you don't have an ._e_l_m/_e_l_m_r_c file, the default values (listed
          below for each option) or those values specified by your  systems
          administrator  in  a  system wide _e_l_m._r_c file will be used.  Note
          that those options below designated with * can be  altered  using
          elm  via  the o)ptions screen while those designated with a + can
          be placed on the options screen using the _c_o_n_f_i_g_o_p_t_i_o_n_s variable.
          Also  note  that  when you save a new ._e_l_m/_e_l_m_r_c file via the `>'
          command of the options screen, it will be  (re)created  only  in-
          cluding  those  options  that  you have changed via your original
          ._e_l_m/_e_l_m_r_c file or via the o)ptions screen.


          SSSSttttrrrriiiinnnngggg VVVVaaaarrrriiiiaaaabbbblllleeeessss


          aliassortby*
                    You can have your alias display sorted by  any  of  the
                    following ways:

                    alias     This will sort  according  to  _a_l_i_a_s_n_a_m_e  for
                    each address.

                    name      This will sort according to _u_s_e_r_n_a_m_e for each
                    address.

                    text      This will present the aliases  in  the  order
                    found in the _a_l_i_a_s_e_s._t_e_x_t file.

                    Each of these fields can also optionally  be  prepended
                    with  the sequence ``reverse-'' to reverse the order of
                    the sort.  This doesn't imply anything about the  order
                    of  the message in the _a_l_i_a_s_e_s._t_e_x_t file itself and af-
                    fects only their order on the display screen.  (The de-
                    fault is _n_a_m_e order.)


          alteditor+
                    The editor to use when mailing to a  message  that  al-
                    ready  includes  text,  as  the "builtin" editor cannot
                    handle that situation.  Messages that  already  include
                    text  are forwarded messages and replies where the ori-
                    ginal message is included in the reply.  This value  is
                    not needed if the _e_d_i_t_o_r is not "builtin".

          __________
          (R)UNIX is  a  registered  trademark  of  UNIX  Systems
          Laboratories.


          October 1, 1992                                            Page 2





          Elm Reference Guide                                   Version 2.4


          alternatives
                    This is a list of other  machine/username  combinations
                    that  you  receive mail from (forwarded).  This is used
                    when the _g_r_o_u_p _r_e_p_l_y feature is invoked to ensure  that
                    you don't send yourself a copy of the outbound message.
                    (The default is a list of no alternatives.)


          attribution
                    When you _f_o_r_w_a_r_d a message or _r_e_p_l_y to it, you can  op-
                    tionally  attribute the quoted text to its original au-
                    thor.  Defining the attribution string here allows  you
                    to  indicate the form that the attribution should take.
                    The sequence `%s' in the attribution will  be  replaced
                    by the name of the original author.  Examples are:
                              attribution = According to %s:
                              attribution = %s writes:


          calendar* This is used in conjunction with the `<'  _s_c_a_n  _m_e_s_s_a_g_e
                    _f_o_r _c_a_l_e_n_d_a_r _e_n_t_r_i_e_s command, as the file to append any
                    found calendar entries to.  (The default is _c_a_l_e_n_d_a_r in
                    your home directory.)


          charset   This is  the  Character  Set  used  for  Messages  with
                    Content-Type:  text/plain.  The default depends on your
                    site's installation, but is usually  _U_S-_A_S_C_I_I.  _c_h_a_r_s_e_t
                    is  only  recognized if _M_I_M_E support is configured. You
                    could set charset to your preferred national  Character
                    Set.  But  be  aware, that there is currently no way to
                    change it online. Also you must be aware that Elm prob-
                    ably   needs   metamail   to   display   messages  with
                    charset=US-ASCII, if you change charset. Elm  tries  to
                    know  which charset could display _U_S-_A_S_C_I_I too, but its
                    list of compatible charsets is probably not complete.


          displaycharset
                    This is the Character Set which is  supported  by  your
                    terminal.   The default depends on your sites installa-
                    tion but is usually _U_S-_A_S_C_I_I. For Sites with  X-Windows
                    support, _I_S_O-_8_8_5_9-_1 would be a reasonable default.


          compatcharsets
                    This is the list of Character Sets, which are  more  or
                    less  a  superset  of  US-ASCII.  This  enables  Elm to
                    display messages with charset=US-ASCII with the builtin
                    pager,  or  your  preferred  pager  instead  of calling
                    metamail. _c_o_m_p_a_t_c_h_a_r_s_e_t_s is  only  recognized  if  MIME
                    support is configured. Currently the ISO-8859-X charac-
                    ter sets are default.



          October 1, 1992                                            Page 3





          Elm Reference Guide                                   Version 2.4


          configoptions
                    This is a list of letters that indicate  which  of  the
                    run-time  configurable options you desire placed on the
                    o)ptions screen.  There are  22  run-time  configurable
                    options,  but  only  room  for  15  on the normal sized
                    screen.  The default list  is  ^__c_d_e_f_s_o_p_y_v__a_m__u_n.   Two
                    additional  characters can be specified for formatting.
                    Those are '_', which adds a blank line, and '^',  which
                    places  the  title  message on that line instead of the
                    bottom of the screen.  The letters 'i',  'q',  and  'x'
                    are  reserved for "return to index", "quit," and "exit"
                    respectively and are not listed as part of  the  confi-
                    goptions  list.   The options controlled by each letter
                    are:

                    a    A)rrow cursor (_a_r_r_o_w)
                    b    B)order on copy (_p_r_e_f_i_x)
                    c    C)alendar file (_c_a_l_e_n_d_a_r)
                    d    D)isplay mail using (_p_a_g_e_r)
                    e    E)ditor (primary) (_e_d_i_t_o_r)
                    f    F)older directory (_m_a_i_l_d_i_r)
                    h    H)old sent message (_c_o_p_y)
                    j    J) reply editor (_a_l_t_e_d_i_t_o_r)
                    k    K) pause after pager (_p_r_o_m_p_t_a_f_t_e_r)
                    l    A(l)ias Sorting (_a_l_i_a_s_s_o_r_t_b_y)
                    m    M)enu display (_m_e_n_u)
                    n    N)ames only (_n_a_m_e_s)
                    o    O)utbound mail saved (_s_e_n_t_m_a_i_l)
                    p    P)rint mail using (_p_r_i_n_t)
                    r    R)eply copies msg (_a_u_t_o_c_o_p_y)
                    s    S)orting criteria (_s_o_r_t_b_y)
                    t    T)ext editor (~e) (_e_a_s_y_e_d_i_t_o_r)
                    u    U)ser level (_u_s_e_r_l_e_v_e_l)
                    v    V)isual Editor (~v) (_v_i_s_u_a_l_e_d_i_t_o_r)
                    w    W)ant Cc: prompt (_a_s_k_c_c)
                    y    Y)our full name (_f_u_l_l_n_a_m_e)
                    z    Z) signature dashes (_s_i_g_d_a_s_h_e_s)


          easyeditor+
                    The editor to be used  by  the  ~e  escape  within  the
                    "builtin"  editor.   The  default value is the value of
                    the configuration option emacs_editor.


          editor*   The editor to use when typing  in  new  mail.   If  you
                    select  ``none''  or  ``builtin'' you'll get a Berkeley
                    Mail style interface for all mail that doesn't  already
                    have  text  in  the  buffer  (e.g. a reply, mail with a
                    ``signature'', etc).  There are  two  possible  formats
                    for  it,  either a command that can have a filename af-
                    fixed to (as a suffix)  before  being  executed,  or  a
                    string  that contains the meta-sequence `%s' which will
                    be replaced by  the  name  of  the  file  before  being


          October 1, 1992                                            Page 4





          Elm Reference Guide                                   Version 2.4


                    executed.  Examples of each are:
                          editor = emacs -nw
                          editor = emacs -nw %s -f text-mode -f turn-on-auto-fill
                    (The default is to use the value  of  $EDITOR  in  your
                    current environment, and if not set, an editor selected
                    by the person who configured _e_l_m for your system.)


          escape    The character used with  the  ``builtin''  editor  (see
                    above)  to  escape  from text entry to input a command.
                    When a line begins with this character, the editor  in-
                    terprets  it  as  a command rather than as text to add.
                    (The default is ``~''.)


          fullname* This is the name the mailer will use  in  messages  you
                    send.   It is highly recommended that you use your full
                    name and nothing strange or unusual, as that can appear
                    extremely rude to people receiving your mail.  (The de-
                    fault is to use the ``gcos'' field from the /_e_t_c/_p_a_s_s_w_d
                    file  on  systems  that  use  this  field to store full
                    names, and to use the contents  of  ._f_u_l_l_n_a_m_e  in  your
                    home directory on other systems.)


          hostdomain
                    This is the domain name of your system.  This  variable
                    is  only  valid  in the system wide _e_l_m._r_c file.  It is
                    only necessary if the value returned by the  getdomain-
                    name  system  call is incorrect for your mail use or if
                    that system call is unavailable  on  your  system.   If
                    this variable is specified, then the hostfullname vari-
                    able must also be specified.


          hostfullname
                    This is the full "Fully Qualified Domain Name" of  your
                    system.  This variable is only valid in the system wide
                    _e_l_m._r_c file.  It is only necessary  if  the  value  re-
                    turned  by  the  getdomainname  and  gethostname system
                    calls are incorrect for your mail use or if those  sys-
                    tem  calls  are unavailable on your system.  It is also
                    required if either  hostdomain  or  hostname  are  used
                    within the system wide _e_l_m._r_c file.


          hostname  This is the local node name of your system.  This vari-
                    able  is only valid in the system wide _e_l_m._r_c file.  It
                    is only necessary if the value returned by the gethost-
                    name  system  call is incorrect for your mail use or if
                    that system call is unavailable  on  your  system.   If
                    this variable is specified, then the hostfullname vari-
                    able must also be specified.



          October 1, 1992                                            Page 5





          Elm Reference Guide                                   Version 2.4


          localsignature
                    See signature.


          maildir*  This is your folder  directory.   When  you  specify  a
                    folder name beginning with the `='  metacharacter1,  it
                    stands for this directory name.  That is, if you save a
                    message to folder =_s_t_u_f_f the `=' will  be  expanded  to
                    the  current  value  of  _m_a_i_l_d_i_r.   (The default is the
                    directory _M_a_i_l in your home directory.)


          pager*    This is the program to be  used  to  display  messages.
                    You can specify ``builtin'' or the name of any standard
                    pager.  If you use  ``builtin+'',  each  screenfull  of
                    displayed  message  is  ``paged''  from the top of your
                    screen with a  title  line,  while  ``builtin''  simply
                    ``scrolls  up''  subsequent  screenfulls  once  it  has
                    ``paged'' the first screenfull.  (The default is to use
                    the value of $PAGER in your current environment, and if
                    not set, a pager selected by the person who  configured
                    _e_l_m for your system, quite likely ``builtin+''.)


          precedences
                    Some mail transports  will  look  at  a  ``Precedence''
                    header  in  outbound  mail messages to determine how to
                    deliver the message.  The Elm header editing  menu  al-
                    lows  you  to place a precedence on your mail messages.
                    By default, Elm will allow any value to be specified as
                    the  message  precedence.   This  option may be used to
                    restrict the allowed precedences to a particular  list.
                    For example, you might say:

                    precedences = special-delivery air-mail first-class bulk junk

                    Exactly what precedences your mail  transport  supports
                    and  what  they do (if anything at all!) will vary from
                    site to site.

                    The distinction between the ``Precedence'' and ``Prior-
                    ity'' headers is subtle:  the precedence tells the mail
                    system how to handle the message and the priority tells
                    the  recipient  how important the message is.  Although
                    these are quite different things, they are often relat-
                    ed.   This option will also allow you to associate mes-
                    sage priorities with  precedences.   For  example,  you
                    might say:

                    precedences = special-delivery:urgent air-mail:urgent first-class bulk junk

          __________
          1. Note that  `%'  and  `+'  are  synonymous  with  `='
          throughout _e_l_m


          October 1, 1992                                            Page 6





          Elm Reference Guide                                   Version 2.4


                    In this example, if you  select  an  ``air-mail''  pre-
                    cedence then the message priority will default to ``ur-
                    gent''.  If you  select  a  ``first-class''  precedence
                    then  no  special  priority is implied.  The priorities
                    given in this field will be used only if you  have  not
                    already  assigned  a priority to your message, and even
                    if one is assigned you can always go  back  and  change
                    it.


          prefix+   When you _r_e_p_l_y to a message or  _f_o_r_w_a_r_d  a  message  to
                    another person, you can optionally include the original
                    message.  Defining the prefix value here allows you  to
                    indicate  what  the prefix of each included line should
                    be.  (The default is ``> '' and is standard in the Unix
                    community.)


          print*    This is the command used for  printing  mail  messages.
                    There are two possible formats for the command, depend-
                    ing whether or not the command  contains  the  sequence
                    `%s'.   In  the  first  form  the mail message(s) to be
                    printed are fed into the specified command.  An example
                    of this form is:

                              print = print -formfeed

                    In the second form the mail message(s)  to  be  printed
                    are  dumped  into  a  temporary file, and a `%s' in the
                    command string is replaced with the name  of  the  tem-
                    porary file.  An example of this form is:

                              print = pr %s | lpr

                    Another significant difference between the two forms is
                    that  in the second form all output from the command is
                    discarded, but in the first form the command all output
                    will be displayed on the terminal.  For example, if you
                    wish to use the ``pass-through'' feature  to  print  on
                    the  aux  port  of  a  terminal, you must use the first
                    form.  The second form is provided for backward  compa-
                    tibility  with  old versions of Elm.  It is depreciated
                    and might be removed in a future release.  (The default
                    is  set  by the person who configured _e_l_m for your sys-
                    tem.)


          receivedmail
                    This is the folder to  which  incoming  mail  is  saved
                    after  you've read it.  When you answer _n_o (`n') to the
                    ``keep unread  messages  in  your  incoming  mailbox?''
                    prompt  or  _y_e_s  (`y')  to the ``store read messages in
                    your "received" folder?'', this is where  the  messages
                    go.   (The  default  is  "=received", that is, a folder


          October 1, 1992                                            Page 7





          Elm Reference Guide                                   Version 2.4


                    called _r_e_c_e_i_v_e_d in your _m_a_i_l_d_i_r directory).


          remotesignature
                    See signature.


          sentmail* This is the folder to which a copy of outgoing mail  is
                    automatically  saved.   This  will  only be done if the
                    _c_o_p_y flag is turned on (see below).  Also note that  if
                    the  _s_a_v_e_n_a_m_e  feature (see below) is enabled then this
                    folder may be ignored since the program may save  to  a
                    folder  that has the same name as the login of the per-
                    son you're sending to.  Whether or not a copy is saved,
                    and  to what folder, can be changed just prior to send-
                    ing a message, see below.   (The  default  is  "=sent",
                    that  is, a folder called _s_e_n_t in your _m_a_i_l_d_i_r directo-
                    ry).


          shell     This defines the shell to use when doing ``!''  escapes
                    and  such.   (The default is to use the value of $SHELL
                    in your current environment, and if not  set,  a  shell
                    selected by the person who configured _e_l_m for your sys-
                    tem.)  Note: the ``!'' escape is optional and  may  not
                    be enabled in your version of Elm.


          signature This file, if defined, will be  automatically  appended
                    to  all  outbound  mail  before  the editor is invoked.
                    Furthermore, if you'd like a  different  ``.signature''
                    file  for  _l_o_c_a_l mail and _r_e_m_o_t_e mail (remote being via
                    other hosts), you can alternatively  define  two  vari-
                    ables,  _l_o_c_a_l_s_i_g_n_a_t_u_r_e and _r_e_m_o_t_e_s_i_g_n_a_t_u_r_e, to have the
                    same functionality.  (The default is to not have signa-
                    tures appended to your message.)


          sortby*   You can have your folder sorted by any of the following
                    ways:

                    from      This will sort according to whom each message
                    is _f_r_o_m.

                    lines     This will sort _s_h_o_r_t_e_s_t to  _l_o_n_g_e_s_t  by  mes-
                    sage.

                    mailbox   This will leave the  messages  in  the  order
                    found in the folder.

                    received  This will sort  _l_e_a_s_t  _r_e_c_e_n_t_l_y  _r_e_c_e_i_v_e_d  to
                    _m_o_s_t _r_e_c_e_n_t_l_y _r_e_c_e_i_v_e_d.

                    sent      This will sort _l_e_a_s_t _r_e_c_e_n_t_l_y  _s_e_n_t  to  _m_o_s_t


          October 1, 1992                                            Page 8





          Elm Reference Guide                                   Version 2.4


                    _r_e_c_e_n_t_l_y _s_e_n_t.

                    status    This will  sort  by  priority,  action,  new,
                    tagged, then deleted.

                    subject   This will sort according to  the  _s_u_b_j_e_c_t  of
                    each message.

                    Each of these fields can also optionally  be  prepended
                    with  the sequence ``reverse-'' to reverse the order of
                    the sort.  This doesn't imply anything about the  order
                    of  the  message  in the folder itself and affects only
                    their order on the index screen.  (The default is _m_a_i_l_-
                    _b_o_x order.)


          tmpdir    Use this if you want to define your own  directory  for
                    the  temporary file Elm creates while running.  This is
                    only necessary if using the system temporary  directory
                    could  cause problems, such as when not all NFS clients
                    mount the common temporary directory, or when the  tem-
                    porary  directory is prone to being cleared periodical-
                    ly.  The default entry of the system temporary directo-
                    ry is normally ok.


          visualeditor+
                    The editor to be used  by  the  ~v  escape  within  the
                    "builtin"  editor.   The  default value is the value of
                    the configuration option vi_editor.


          weedout   When specifying this option, you can list headers  that
                    you  _d_o_n'_t  want  to see when you are displaying a mes-
                    sage.  This list can continue  for  as  many  lines  as
                    desired,  as long as the continued lines all have lead-
                    ing indentation.  All headers in this entry  append  to
                    the default weedout list.  There are two special header
                    flags. The first, *clear-weed-list*, will clear the de-
                    fault  list.   The  second, *end-of-user-headers*, will
                    terminate the entry, in case the following  lines  look
                    like they might be more headers for the list.  (The de-
                    fault is ``Received:'' and others.)

          NNNNuuuummmmeeeerrrriiiicccc VVVVaaaarrrriiiiaaaabbbblllleeeessss


          bounceback
                    This is a hop count threshold value and allows  you  to
                    set  up the mailer so that when you send mail more than
                    _n machines away, it'll automatically include a  ``Cc:''
                    to  you  through  the remote machine.  In practice this
                    should be very rarely used.   (Note:  this  refuses  to
                    bounce mail off an Internet address.  The default is to


          October 1, 1992                                            Page 9





          Elm Reference Guide                                   Version 2.4


                    have it set to zero, which disables the function)


          timeout   On more advanced systems, it's nice  to  start  up  the
                    mailer  in a window and let it sit in background unless
                    new mail arrives (see _w_n_e_w_m_a_i_l for another window based
                    program)  at  which  point  it can be brought up to the
                    forefront of the system and read.   In  this  case,  it
                    would be quite convenient to have the mailer internally
                    resynchronize every so often.   This  option  specifies
                    the number of seconds that this occurs.

                    This is also useful for normal terminals,  for  example
                    you  can  leave _e_l_m running at night (I usually do) and
                    when you come in in the morning it'll be all  ready  to
                    read your mail!

                    (The  default  is  a  300  second  (5  minute)  timeout
                    period).


          userlevel*
                    This is what the program uses to determine the relative
                    level  of sophistication of the user - the values are 0
                    for a new user (the default), 1  for  someone  familiar
                    with  _e_l_m  user,  and  2  for  experts.   Some advanced
                    features are hidden from novice  users,  while  experts
                    get less verbose prompt messages.

          BBBBoooooooolllleeeeaaaannnn VVVVaaaarrrriiiiaaaabbbblllleeeessss


          alwaysdelete
                    When set, this changes the default answer of the prompt
                    ``Delete messages?'' to the indicated value.  The value
                    for _a_l_w_a_y_s_d_e_l_e_t_e also applies  to  deletions  from  the
                    alias  system. (The default is to have the answer be _N_o
                    (i.e. alwaysdelete = OFF).)


          alwayskeep
                    This sets the default answer on the ``keep unread  mail
                    in  incoming  mailbox''  However, if you answered _N_o to
                    the ``store read mail  in  "received"  folder''  it  is
                    presumed  that you'd also want to keep your unread mail
                    in the incoming mailbox, too, and the value of  always-
                    keep  is  ignored.  (The default is to have the default
                    answer be _Y_e_s (i.e., alwayskeep = ON).)


          alwaysstore
                    This sets the default answer on the ``store  read  mail
                    in  "received"  folder'' prompt to the value indicated.
                    (The default is to have the default answer be _N_o (i.e.,


          October 1, 1992                                           Page 10





          Elm Reference Guide                                   Version 2.4


                    alwaysstore = OFF).)


          arrow*    Sometimes you are forced to use  a  slow,  or  ``dumb''
                    terminal.  In this case, you can force the current mes-
                    sage pointer to be the ``->'' sequence rather than  the
                    inverse  bar.   (Note  that  this  is overridden by the
                    similar `-a' command line option, see below.)  (The de-
                    fault is OFF.)


          ask       This allows you to tell the _e_l_m system that you'd rath-
                    er not be asked ``Delete Mail?'' and such each time you
                    quit, resynchronize a folder or change folders, and in-
                    stead  it  should  just  use  the  values  of ``always-
                    delete'', ``alwaysstore'', and  ``alwayskeep''  without
                    prompting.   (Note  that  when you quit _e_l_m, if you use
                    `Q' instead of `q', you will never be  questioned,  re-
                    gardless of how you have _a_s_k set.)  (The default is ON,
                    i.e. to ask the questions.)


          askcc+    If turned off, this will allow you to send mail without
                    being presented the ``Copies to:'' prompt for each mes-
                    sage. This still allows you to explicitly  include  ad-
                    dresses  in  the  ``cc''  list via either ``~c'' in the
                    builtin editor, or via using the header  editor.   (The
                    default is ON, i.e. to ask about copies.)


          autocopy+ If turned on, this will automatically copy the text  of
                    each  message  being  replied  to into the edit buffer.
                    Otherwise you will be prompted as to whether  you  want
                    the  message  included in yours. (See the _p_r_e_f_i_x option
                    above.)  (The default is OFF.)


          confirmappend
                    When set to ON this will force elm to ask  for  permis-
                    sion to append messages to the end of any file that al-
                    ready exists.  If the file is  a  mail  folder  in  the
                    user's  mail  directory  or  an  ordinary file makes no
                    difference.  (The default is OFF.)


          confirmcreate
                    When set to ON elm will ask for  permission  before  it
                    creates  a  new  file  to store any messages in it.  It
                    makes no difference whether the new  file  would  be  a
                    mail folder in the user's mail directory or an ordinary
                    file.  (The default is OFF.)





          October 1, 1992                                           Page 11





          Elm Reference Guide                                   Version 2.4


          confirmfiles
                    This will allow you to have some  last  resort  control
                    over  elm when a message would be appended (by copying,
                    saving or auto-cc) to an existing file which is  not  a
                    folder  in  your  mail directory.  (See maildir above.)
                    When set to ON elm will ask you for permission  to  ap-
                    pend  a  message  to the end of an ordinary file.  When
                    set to OFF elm will operate just as before and silently
                    add  your  message  to  the  end  of the specified file
                    whether it is a folder or not.  (The default is OFF.)


          confirmfolders
                    When set to ON this will allow you to  be  asked  about
                    creation  of  new  mail folders in your mail directory.
                    (See maildir above.)  When set to OFF elm will silently
                    create new mail folders whenever a copy of a message is
                    going to be stored in a folder that  does  not  already
                    exist.  (The default is OFF.)


          copy+     This, in combination with the _s_e_n_t_m_a_i_l folder, will al-
                    low you to have silent copies of all outgoing mail made
                    on the outbound step. Whether a copy is  saved  and  to
                    which folder can be set prior to sending a message, see
                    below.  (The default is OFF.)


          forcename This, in combination with the _s_a_v_e_n_a_m_e option,  governs
                    how  a copy of an outgoing message will be saved.  (See
                    _s_a_v_e_n_a_m_e below for details.)  (The default is OFF.)


          forms     Enables the generation of and  replies  to  forms  type
                    messages.  See the _E_l_m _F_o_r_m_s _M_o_d_e _G_u_i_d_e for further in-
                    formation about mail forms.


          keepempty The mail system has a habit of  deleting  folders  when
                    you've  removed everything from them.  With this option
                    turned on, it will instead preserve them  as  zero-byte
                    files.   This  option  does  not apply to your incoming
                    mailbox.  (The default is OFF.)


          keypad    If on, this tells _e_l_m that you have an HP terminal  and
                    enables  the  <NEXT>,  <PREV>,  <HOME> and <SHIFT-HOME>
                    keys.  (The default is OFF.)


          menu*     If turned off, this will inhibit the  Menu  display  on
                    all  of  the  screen  displays  within the _e_l_m program.
                    (Note that this is overridden by the similar `-m'  com-
                    mand line option, see below.)  (The default is ON.)


          October 1, 1992                                           Page 12





          Elm Reference Guide                                   Version 2.4


          metoo     If turned on, a user will get a copy of  a  message  he
                    sends  to  a mailing list he is on.  Otherwise the user
                    will not get a copy of message sent to a  mailing  list
                    he is on. (The default is OFF.)


          names*    If turned  off,  the  primary  recipients'  address  is
                    displayed on your screen with their full names when you
                    send a message.  Otherwise, only  the  full  names  are
                    given.  (The default is ON.)


          movepage  If this is enabled then commands that move through  the
                    folder  by  pages  (the  `+',  `-',  <right-arrow>, and
                    <left-arrow> keys) will also move the  current  message
                    pointer  to  the top of that page of messages.  If this
                    is turned off then moving  through  the  pages  doesn't
                    alter  the  current message pointer location.  (The de-
                    fault is OFF.)


          noheader  This boolean flag tells the mailer not to  include  the
                    headers  of messages when copying a message into a file
                    buffer for replying to or forwarding.  (The default  is
                    ON.)


          pointnew  If this is turned on, the mailer will be  automatically
                    pointing  to  the first new message in your folder when
                    started, instead of at message #1.  This will  only  be
                    effective  for the incoming mailbox since other folders
                    are not expected to have `new' mail.  (The  default  is
                    ON.)


          promptafter+
                    If this flag is ON and you use an external pager,  when
                    the  pager  exits,  you  will be prompted for a command
                    rather than returned directly to the index screen.   If
                    the  external pager you are using exits when it reaches
                    end of file (i.e. end of the message), you should  have
                    this   flag  ON,  otherwise  the  last  screen  of  the
                    displayed message will not be held but instead  be  im-
                    mediately  replaced by the index screen.  If the exter-
                    nal pager you are using does not exit until you command
                    it  to exit, you have a choice.  If you usually want to
                    see the index screen before issuing a  command,  having
                    the  flag  OFF  will  cut  down out the extra keystroke
                    needed to return to the index screen.  If  you  usually
                    don't  need  to  see the index screen to before issuing
                    the next command, having the flag ON will allow you  to
                    proceed  with  your next command without having to wait
                    for the redrawing of the index screen.  (The default is
                    ON.)


          October 1, 1992                                           Page 13





          Elm Reference Guide                                   Version 2.4


          resolve   This is a boolean flag that defines the behavior of the
                    program  for such actions as deletion, saving a message
                    and so on.   Specifically, with this option enabled, as
                    soon  as  mail is `dealt with' the program moves you to
                    the next message in the folder, with deletion,  undele-
                    tion, saving a message and forwarding a message all be-
                    ing treated as dealing with email in this manner.  (The
                    default is ON.)


          savename  One of the problems with  electronic  mail  systems  is
                    that  one  tends  to  get  very  large, one-dimensional
                    (flat) files that contain lots of completely  unrelated
                    mail.  If this option is turned on, _e_l_m will use a more
                    intelligent algorithm - on incoming mail, when you _s_a_v_e
                    or  _c_o_p_y it, the default mailbox to save to (changeable
                    by pressing anything other than <return> of course)  is
                    a  folder that is the _l_o_g_i_n _n_a_m_e of the person who sent
                    you the message.  Similarly, when sending mail out, in-
                    stead of just blindly saving it to the _s_e_n_t_m_a_i_l folder,
                    _e_l_m will save it to a folder that is the login name  of
                    the person who is to receive the mail2.

                    If _f_o_r_c_e_n_a_m_e is off (see above), the copy will be saved
                    to  that  folder only if the folder already exists.  In
                    practice, this means that  important  people  that  you
                    communicate  with  (those  that  you  tend to save mail
                    from) have folders that are actually _a _r_e_c_o_r_d_e_d _l_o_g  _o_f
                    _t_h_e  _d_i_s_c_u_s_s_i_o_n  _i_n  _b_o_t_h  _d_i_r_e_c_t_i_o_n_s  and those others
                    (random mailings) are all stuffed in the _s_e_n_t_m_a_i_l fold-
                    er for easy perusal and removal.

                    Otherwise, if you always want to save copies of  outgo-
                    ing  messages  in  separate  folders by recipient login
                    name, you'll want to set _f_o_r_c_e_n_a_m_e to on.  (The default
                    for _s_a_v_e_n_a_m_e is ON.)


          sigdashes+
                    If on, this tells _e_l_m that you wish to follow the  con-
                    vention  of  prefixing your signature with newline dash
                    dash blank newline.  This will be placed in  your  mes-
                    sage before your signature file.  If off, the signature
                    file is placed at the end of the  message  without  any
                    prefix.


          softkeys  If on, this tells _e_l_m that you have an HP terminal with
                    the  HP  2622 function key protocol and that you'd like
                    to have them available  while  in  the  program.   (The

          __________
          2. When sending to a group, it's  saved  to  the  first
          person in the list only.


          October 1, 1992                                           Page 14





          Elm Reference Guide                                   Version 2.4


                    default is OFF.)


          titles    This flag allows you to have the first line of  a  mes-
                    sage titled with:

                     Message _N_/_M from _u_s_e_r_n_a_m_e           _d_a_t_e at _t_i_m_e

                    where all the information has been previously extracted
                    from  the  message.   This  is especially useful if you
                    weed out all the headers of each message with  a  large
                    `weedout' list.  (The default is ON.)


          usetite   This flag allows  you  to  enable/disable  use  of  the
                    _t_e_r_m_c_a_p/_t_e_r_m_i_n_f_o  ttttiiii////tttteeee  capabilities.   Many  terminal
                    emulators require it (not the least  of  which  is  the
                    OpenLook  _c_m_d_t_o_o_l).   Some terminal emulators clear the
                    screen on tttteeee (some _x_t_e_r_ms).  (Note that this  is  over-
                    ridden  by  the  similar  `-t' command line option, see
                    below.)  (The default is ON.)


          weed      This is a boolean flag that, in  combination  with  the
                    ``weedout''  list,  allows you to custom define the set
                    of headers you would like to not have  displayed  while
                    reading messages. (The default is ON.)

          One more thing: the format for each of the lines is:
               variable = value
          and for boolean variables, _v_a_l_u_e can be `ON' or `OFF' only.

          For a better idea of how this all  works,  here's  my  ._e_l_m/_e_l_m_r_c
          file.  While looking through it, notice that you can have lots of
          comments and blank lines for readability and that  you  can  also
          use  `shell  variables'  and  the `~' metacharacter for your home
          directory, and they are expanded accordingly when read in by  the
          mailer.   (Note that this was automatically saved by the _e_l_m pro-
          gram on the fly from the o)ptions screen)
            #
            # .elm/elmrc - options file for the ELM mail system
            #
            # Saved automatically by ELM 2.4 for Dave Taylor
            #

            # For yes/no settings with ?, ON means yes, OFF means no

            # where to save calendar entries
            calendar = ~/.Agenda

            # what editor to use ("none" means simulate Berkeley Mail)
            editor = none

            # the character to use in the builtin editor for entering commands


          October 1, 1992                                           Page 15





          Elm Reference Guide                                   Version 2.4


            escape = ~

            # the full user name for outbound mail
            fullname = Dave Taylor

            # where to save received messages to, default file is "=received"
            receivedmail = $HOME/Mail/received

            # where to save my mail to, default directory is "Mail"
            maildir = /users/taylor/Mail

            # program to use for displaying messages ('builtin' is recommended)
            pager = builtin

            # prefix sequence for indenting included message text in outgoing messages...
            prefix = >_

            # how to print a message ('%s' is the filename)
            print = lpr -Plw2 %s

            # where to save copies of outgoing mail to, default file is "=sent"
            sentmail = /users/taylor/Mail/mail.sent

            # the shell to use for shell escapes
            shell = /bin/csh

            # local ".signature" file to append to appropriate messages...
            localsignature = localsig

            # remote ".signature" file to append to appropriate messages...
            remotesignature =  remotesig

            # do we want dashes above signatures? (News 2.11 compatibility and convention)
            sigdashes = ON

            # how to sort folders, "Mailbox" by default
            sortby = Reverse-Received

            # how to sort the alias list, "Name" by default
            aliassortby = Name

            # should the default be to delete messages we've marked for deletion?
            alwaysdelete = ON

            # should the default be to store read messages to the "received" folder?
            alwaysstore = ON

            # should the default be to keep unread messages in the incoming mailbox?
            alwayskeep = ON

            # should we use the "->" rather than the inverse video bar?
            arrow = OFF

            # should the message disposition questions be displayed(ON) or


          October 1, 1992                                           Page 16





          Elm Reference Guide                                   Version 2.4


            # auto-answered(OFF) with the default answers when we resync or change folders?
            ask = ON

            # would you like to be asked for Carbon-Copies information each msg?
            askcc = ON

            # automatically copy message being replied to into buffer?
            autocopy = OFF

            # threshold for bouncing copies of remote uucp messages...
            # zero = disable function.
            bounceback = 0

            # save a copy of all outbound messages?
            copy = ON

            # do we want to be able to mail out AT&T Mail Forms?
            forms = OFF

            # should we keep folders from which all messages are deleted?
            keepempty = OFF

            # we're running on an HP terminal and want HOME, PREV, NEXT, etc...
            keypad = OFF

            # should we display the three-line 'mini' menu?
            menu = ON
            # would you like a copy of a message you send to an alias you are on???
            metoo = OFF

            # when using the page commands (+ - <NEXT> <PREV>) change the current
            # message pointer...?
            movepage = ON

            # just show the names when expanding aliases?
            names = ON

            # when messages are copied into the outbound buffer, don't include headers?
            noheader = ON

            # start up by pointing to the first new message received, if possible?
            pointnew = ON

            # prompt for a command after the external pager exits?
            promptafter = ON

            # emulate the mailx message increment mode (only increment after something
            # has been 'done' to a message, either saved or deleted, as opposed to
            # simply each time something is touched)?
            resolve = ON

            # save messages, incoming and outbound, by login name of sender/recipient?
            savename = ON



          October 1, 1992                                           Page 17





          Elm Reference Guide                                   Version 2.4


            # save outbound messages by login name of sender/recipient even if the
            # associated folder doesn't already exist?
            forcename = OFF

            # are we running on an HP terminal and want HOME, PREV, NEXT, etc...?
            # (this implies "keypad=ON" too)
            softkeys = OFF

            # set the main prompt timeout for resynching...
            timeout = 60

            # display message title when displaying pages of message?
            titles = ON

            # are we good at it?  0=beginner, 1=intermediate, 2+ = expert!
            userlevel = 2

            # enable the weedout list to be read?
            weed = ON

            # what headers I DON'T want to see, ever.
            weedout = "Path:" "Via:" "Sent:" "Date" "Status:" "Original" "Phase"
                      "Subject:" "Fruit" "Sun" "Lat" "Buzzword" "Return" "Posted"
                      "Telephone" "Postal-Address" "Origin" "X-Sent-By-Nmail-V" "Resent"
                      "X-Location" "Source" "Mood" "Neuron" "Libido" "To:" "X-Mailer:"
                      "Full-Name:" "X-HPMAIL" "Cc:" "cc:" "Mmdf" "Network-" "Really-"
                      "Sender:" "Post" "Message-" "Relay-" "Article-" "Lines:"
                      "Approved:" "Xref:" "Organization:" "*end-of-user-headers*"

            # alternative addresses that I could receive mail from (usually a
            # forwarding mailbox) and don't want to have listed...
            alternatives = hplabs!taylor  hpldat!taylor  taylor@hplabs  taylor%hpldat


          3333....  TTTThhhheeee CCCCoooommmmmmmmaaaannnndddd LLLLiiiinnnneeee OOOOppppttttiiiioooonnnnssss

          There are a number of command line options to  the  _e_l_m  program,
          with  only  one  that needs to be remembered: ``-?''or ``-h'' for
          help.

          The flags are:


             -a    Arrow.  This allows you to have the ``->'' arrow pointer
                   rather  than  the  inverse bar.  This can also be set in
                   the ._e_l_m/_e_l_m_r_c file - check the boolean variable _a_r_r_o_w).


             -c    Check  only.   This  is  useful  for  expanding  aliases
                   without  sending any mail.  The invocation is similar to
                   invoking _e_l_m in send-only mode:  elm -c  _l_i_s_t-_o_f-_a_l_i_a_s_e_s





          October 1, 1992                                           Page 18





          Elm Reference Guide                                   Version 2.4


             -d _n  Set debug level to _n.  Useful for debugging the _e_l_m pro-
                   gram, this option will create a file in your home direc-
                   tory called _E_L_M:_d_e_b_u_g._i_n_f_o, then output a running log of
                   what  is  going  on  with the program.  Level _n can be 1
                   through 11, where the higher numbers generate more  out-
                   put.   This  option  might be disabled by the the person
                   who configured _e_l_m for your system.


             -f _f_o_l_d_e_r
                   Folder.  Read specified folder rather than  the  default
                   incoming  mailbox.  Note that you can use the same meta-
                   characters (e.g. `=') as when you  _c_h_a_n_g_e  _f_o_l_d_e_r_s  from
                   within the program.  You can also use the same abbrevia-
                   tory symbols (`!', `>' and `<'), but remember to  ``sin-
                   gle  quote''  them  in case they have special meaning in
                   the shell you use.


             -h or -?
                   Help.  Gives a short list of all these options  and  ex-
                   its.


             -i _f_i_l_e
                   Include.  Include prepared file in  edit  buffer  before
                   sending.  This facilitates using _e_l_m with other programs
                   that interface with mail (like news readers,  for  exam-
                   ple).   There is an example of how to set up the rrrrnnnn news
                   reading program to use _e_l_m in _T_h_e _E_l_m _U_s_e_r_s _G_u_i_d_e.   The
                   file  specified  is  copied into the temporary file just
                   before the signature file.


             -k    Keypad - This option, when used, lets  the  _e_l_m  program
                   know  that you're on an HP terminal, and it can then in-
                   terpret the  <PREV>,  <NEXT>  and  <HOME>/<SHIFT>-<HOME>
                   keys  accordingly.  If you are not on an HP terminal, it
                   is recommended that you do NOT use this option. (See the
                   _k_e_y_p_a_d option in the ._e_l_m/_e_l_m_r_c section.)


             -K    Keypad + softkeys.  The _e_l_m mailer can use the HP  soft-
                   keys  as  an  alternative form of input.  If you specify
                   this option be sure that you're on an HP  terminal  that
                   can  accept the standard 2622 terminal escape sequences!
                   (See the _s_o_f_t_k_e_y_s option in the ._e_l_m/_e_l_m_r_c  section  for
                   more information.)


             -m    Inhibit display  of  the  3-line  menu  when  using  the
                   mailer.   This,  of course, gives you three more message
                   headers per page instead.  (See also the menu option  in
                   the ._e_l_m/_e_l_m_r_c section.)


          October 1, 1992                                           Page 19





          Elm Reference Guide                                   Version 2.4


             -s _s_u_b_j_e_c_t
                   In send-only and batch mode, this is how to indicate the
                   subject  of  the resulting message.  Please see the sec-
                   tion on ``Non-Interactive Uses of Elm'' in _T_h_e _E_l_m _U_s_e_r_s
                   _G_u_i_d_e for more information.


             -t    Disable use of the _t_e_r_m_c_a_p/_t_e_r_m_i_n_f_o ttttiiii////tttteeee  capabilities.
                   Many  terminal  emulators  require  it (not the least of
                   which is the OpenLook _c_m_d_t_o_o_l).  Some terminal emulators
                   clear  the  screen  on  tttteeee (some _x_t_e_r_ms).  (See also the
                   usetite option in the ._e_l_m/_e_l_m_r_c section.)


             -z    Zero.  This causes the mailer not to be started  if  you
                   don't  have  any  mail.    This emulates the behavior of
                   programs like _B_e_r_k_e_l_e_y _M_a_i_l.

          All the above flags default to reasonable options,  so  there  is
          usually  no  need  to use them.  Furthermore, the most used flags
          are available through the ._e_l_m/_e_l_m_r_c file.  See above.


          4444....  MMMMuuuullllttttiiii----MMMMeeeeddddiiiiaaaa CCCCaaaappppaaaabbbbiiiilllliiiittttiiiieeeessss ooooffff EEEEllllmmmm

          Elm optionally provides you with some Multi-Media features, which
          are  compliant to the MIME (Multipurpose Internet Mail Extension)
          IETF draft.

          If the support is compiled into Elm, on the  receiving  side  Elm
          accesses  Metamail from Nathaniel Borenstein of Bellcore.  If you
          receive a MIME compliant Message, Elm calls Metamail automatical-
          ly  on displaying the message. Metamail asks you for each part of
          the message, if you want to display it. Metamail uses the display
          programs  available  at your site. This is controlled through the
          mailcap file.

          On the sending side, there is a simple  mechanism  integrated  in
          elm  to  compose MIME compliant messages. If you have one or more
          key lines [include file contenttype/subtype encoding] in the mes-
          sage  body, at each of these key lines, a file would be included,
          and will be a part of the message. The text lines before, between
          and  after  the _i_n_c_l_u_d_e lines go into extra Message parts of type
          Text.

          As an example, say you want to include the File foo.gif into your
          message,  which is a GIF Image, and you want to use base64 encod-
          ing, use the following line:

          [include foo.gif image/gif base64]

          Or you want to include a text file which contains plain ASCII:

          [include foo.txt text/plain]


          October 1, 1992                                           Page 20





          Elm Reference Guide                                   Version 2.4


          The _e_n_c_o_d_i_n_g parameter is optional and the default is 7bit.

          Refer to  RFC1341  for  valid  _c_o_n_t_e_n_t_t_y_p_e/_s_u_b_t_y_p_e  and  _e_n_c_o_d_i_n_g
          parameter values.


          5555....  SSSSppppeeeecccciiiiaaaallll OOOOuuuuttttggggooooiiiinnnngggg MMMMaaaaiiiillll PPPPrrrroooocccceeeessssssssiiiinnnngggg

          There are a few extra features that the mailer offers on outgoing
          mail that are worthy of mention:

          The first, and probably the most exciting feature3, is the abili-
          ty  to  send _e_n_c_r_y_p_t_e_d mail! To do this is extremely simple:  You
          need merely to have two key lines [encode]  and  [clear]  in  the
          message body.

          Consider the following outgoing message:
               Joe,
               Remember that talk we had about Amy?  Well, I talked to my manager
               about it and he said...
               uhh...better encrypt this...the usual `key'...
               [encode]
               He said that Amy was having family problems and that it had been
               affecting her work.
               Given this, I went and talked to her, and told her I was sorry for
               getting angry.  She said that she understood.
               We're friends again!!
               [clear]
               Exciting stuff, eh?
                                             Mike
          While this is obviously quite readable while being typed into the
          editor,  as  soon  as  the  message is confirmed as wanting to be
          sent, the _e_l_m mailer prompts with:
               Enter encryption key: @
          and accepts a key (a series of  8  or  less  characters)  without
          echoing  them  to  the  screen.  After entry, it will ask for the
          same key again to confirm it, then *poof*  it  will  encrypt  and
          send the mail.

          If you have the _c_o_p_y option enabled, the program will  save  your
          copy of the message encrypted too.  (This is to ensure the priva-
          cy and security of your mail archive, too.)

          If the mailer doesn't ask for the encryption  key,  it's  because
          you  don't have the [encode] entered as the first 8 characters of
          the line.  It MUST be so for this to work!!

          On the other end, a person receiving this mail (they must also be

          __________
          3. Unfortunately, at  many  non-US  sites,  it's  quite
          probable  that  you  won't  be able to use this feature
          since you won't have the _c_r_y_p_t() library available  due
          to licensing restrictions.


          October 1, 1992                                           Page 21





          Elm Reference Guide                                   Version 2.4


          using _e_l_m to receive it, since this mailer has a  unique  encryp-
          tion  program)  will  be reading the message and then suddenly be
          prompted:
               Enter decryption key: @
          and will again be asked to re-enter it to  confirm.  The  program
          will then on-the-fly decrypt the mail and display each line as it
          is decoded.  The [clear] line signifies that the block to encrypt
          is done.

          Note that it is not possible currently to _p_i_p_e or _p_r_i_n_t encrypted
          mail.


          The other option on outgoing mail is the ability to specify  what
          section  of  the message you want to have archived (assuming _c_o_p_y
          is enabled) and what section you don't.  This is most useful  for
          sending out source file listings and so on.

          To indicate the end of the section that should be  saved  in  the
          archive, you need merely to have the line
               [nosave]
          or
               [no save]
          appear by itself on a line.  This will be removed from the outgo-
          ing  mail,  and will indicate the last line of the message in the
          saved mail.  Other than this, the saved mail is identical to  the
          outgoing mail.


          6666....  CCCCuuuussssttttoooommmmiiiizzzzeeeedddd hhhheeeeaaaaddddeeeerrrr lllliiiinnnneeeessss

          The mailer provides a facility for  including  customized  header
          lines  in  the messages you send.  If you have an ._e_l_m/_e_l_m_h_e_a_d_e_r_s
          file, the mailer will include its contents immediately after  the
          regular  headers  of all outbound  mail.  The mailer supports use
          of the backquote convention  in  this  file.   Here's  a  typical
          ._e_l_m/_e_l_m_h_e_a_d_e_r_s file.
            Organization: Hewlett-Packard Laboratories
            Phone: (415)-555-1234
            Operating-System: `uname -srv`
          These lines will appear after all other header lines in the  mes-
          sage.


          7777....  CCCCoooommmmmmmmaaaannnnddddssss


          This section will discuss each command in the _e_l_m program in more
          detail than above, including the prompts the user can expect upon
          executing the command, the meaning of different options, etc.


             ?     Help.  This command used once puts you in the _h_e_l_p mode,
                   where  any  key  you  press  will  result  in a one-line


          October 1, 1992                                           Page 22





          Elm Reference Guide                                   Version 2.4


                   description of the key.  Pressed  again  at  this  point
                   will  produce  a  two  page summary listing each command
                   available.  `.' will leave the help mode and return  you
                   to the main menu level.


             <space>
                   Display the current  message.   <space>  is  useful  for
                   reading through a mail folder.  When issued from the in-
                   dex screen, it will display  the  first  screen  of  the
                   current message; and then when issued while in the buil-
                   tin pager, it will page through the message to the  end;
                   and  then  when issued at the end of a message (with ei-
                   ther the builtin pager or an external  pager),  it  will
                   display  the first screen of the next message not marked
                   for deletion.


             <return>
                   Display the current message.  <return> behaves  somewhat
                   differently  from  <space>.   When  issued  while in the
                   builtin pager, it will scroll the current  message  for-
                   ward one line, and then when issued at the end of a mes-
                   sage (with either  the  builtin  pager  or  an  external
                   pager),  it  will  redisplay the first screen of the the
                   _c_u_r_r_e_n_t message.  The latter is useful in case you  have
                   issued  a  non-pager  command while in the builtin pager
                   and want to restart the display of the current message.


             !     Shell.  This allows you to send a command to  the  shell
                   without  leaving  the program.  (Note it is possible for
                   the person who installed Elm on your system  to  disable
                   this feature.)


             |     Pipe.  This command allows you to pipe the current  mes-
                   sage or the set of _t_a_g_g_e_d messages through other filters
                   as you desire.  The shell used for  the  entire  command
                   will  be  either  the  one  specified in your ._e_l_m/_e_l_m_r_c
                   file, or the default shell (see above).


             /     Pattern match.  This command, on the top  level,  allows
                   the  user  to  search  through  all the _f_r_o_m and _s_u_b_j_e_c_t
                   lines of the current folder starting at the current mes-
                   sage and continuing through the end.  If the first char-
                   acter of the pattern is a `/', then the program will try
                   to  match  the specified pattern against _a_n_y line in the
                   folder.  Again, this works from one  after  the  current
                   message  through the end.  Both searches are case insen-
                   sitive.




          October 1, 1992                                           Page 23





          Elm Reference Guide                                   Version 2.4


             - or <left>
                   Display the previous page of the message index.


             + or <right>
                   Display the next page of the message index.


             <number><return>
                   Specify new current message.  When you type in any digit
                   key _e_l_m will prompt ``Set current to : n'', where `n' is
                   the digit entered.  Enter the full number and  terminate
                   with  <return>.   Note that changing the current message
                   to a message not on the current  page  of  headers  will
                   result in a new page being displayed.


             <     Scan message  for  calendar  entries.   A  rather  novel
                   feature of the _e_l_m mailer is the ability to automatical-
                   ly incorporate calendar/agenda information from  a  mail
                   message  into  the  users  calendar  file.  This is done
                   quite simply; any line that has the pattern

                        -> _c_a_l_e_n_d_a_r _e_n_t_r_y

                   will be automatically added to the users  _c_a_l_e_n_d_a_r  file
                   (see  the _c_a_l_e_n_d_a_r option of the ._e_l_m/_e_l_m_r_c file) if the
                   `<' command is used.

                   For example, let's say we had a message with the text:

                        Regardless of  that  meeting,  here's  the  seminar
                   stuff:
                        -> 8/03 3:00pm: AI Seminar with Ira Goldstein of HP
                   Labs

                   then using the `<' command would add the line:

                        8/03 3:00pm: AI Seminar with Ira  Goldstein  of  HP
                   Labs

                   to the users _c_a_l_e_n_d_a_r file.


             a     Alias.  The alias system is a way by which more  complex
                   mail  addresses can be shortened for the mail user.  For
                   example:
                        joe, bleu   =  Joe Bleu  =   joe@hpfcla.SSO.HP.COM
                   which allows mail to `joe' or `bleu' with the system ex-
                   panding the address properly.  As is obvious, this saves
                   remembering complex addresses.  A more detailed  discus-
                   sion  can  be  found  in either the section entitled _T_h_e
                   _A_l_i_a_s _S_y_s_t_e_m in this document or _T_h_e  _E_l_m  _A_l_i_a_s  _S_y_s_t_e_m
                   _U_s_e_r_s _G_u_i_d_e.


          October 1, 1992                                           Page 24





          Elm Reference Guide                                   Version 2.4


             b     Bounce mail.  This ``remails'' mail to someone  else  in
                   such  a  way  as to make the return address the original
                   sender rather than you.  (The _f_o_r_w_a_r_d command  is  simi-
                   lar, but it makes the return address _y_o_u rather than the
                   original sender.)


             C     Copy to folder.  This command copies the current message
                   or set of tagged messages to a folder.  If there is any-
                   thing in the folder currently the  message  or  messages
                   are appended to the end, otherwise the folder is created
                   containing only the newly copied  message.   The  prompt
                   for  this  command is `Copy to folder: '.  A response of
                   <return> cancels the command and returns the user to the
                   system  prompt.   The  usual filename metacharacters are
                   available, too.  That is, this command expands filenames
                   with  `~'  being  your home directory and `=' being your
                   _m_a_i_l_d_i_r directory, if defined.  This command also allows
                   you  to  use  `>'  for your _r_e_c_e_i_v_e_d_m_a_i_l folder, `<' for
                   your _s_e_n_t_m_a_i_l folder, `.' for the last folder you  saved
                   or  copied  a  message  to  and `@alias' for the default
                   folder for `alias'.  If you use a shell wildcard in  the
                   file  or  folder  name,  you will be given a list of all
                   files or folders which match  the  wildcard.   Elm  uses
                   your  shell to find the names, so whatever wildcards you
                   are used to can work.  Finally, you can also  enter  `?'
                   at the prompt to get some detailed help.


             c     Change folder.  Specifying this command allows the  user
                   to change the folder that is currently being read.  This
                   is intended for perusal and reply to previously archived
                   messages.   The  prompt  is  `Name  of new folder: ' and
                   entering <return> cancels the operation, while  entering
                   a  filename  causes the program to read that file as the
                   new folder, if possible.  This command expands filenames
                   with  `~'  being  your home directory and `=' being your
                   _m_a_i_l_d_i_r directory, if defined.  This command also allows
                   you to use `!' as an abbreviation for you incoming mail-
                   box, `>' for your  _r_e_c_e_i_v_e_d_m_a_i_l  folder,  `<'  for  your
                   _s_e_n_t_m_a_i_l  folder,  `.'  for the last folder you saved or
                   copied a message to and `@alias' for the default  folder
                   for `alias'.  If you use a shell wildcard in the file or
                   folder name, you will be given a list of  all  files  or
                   folders  which  match the wildcard.  Elm uses your shell
                   to find the names, so whatever wildcards you are used to
                   can work.  Finally, you can also enter `?' at the prompt


             d, u  Delete and Undelete.  Neither of these two commands have
                   any prompts and indicate their action by either adding a
                   `D' to the current message index entry (indicating dele-
                   tion  pending)  or removing the `D' (indicating that the
                   message isn't set for deletion).


          October 1, 1992                                           Page 25





          Elm Reference Guide                                   Version 2.4


             <control>-D
                   This command allows you to easily mark for deletion  all
                   messages   that   have   a   specific   pattern.   After
                   <control>-D is pressed, the program will prompt for  the
                   string  to  match  (currently it only matches either the
                   _f_r_o_m or _s_u_b_j_e_c_t lines of the message).


             <control>-U
                   This is the direct opposite command to  the  previous  -
                   all  messages  that match the specified pattern can have
                   any mark for deletion removed by using this command.


             e     Edit mailbox.  This allows you  to  modify  the  current
                   mail  file at a single keystroke.  This is mostly useful
                   for editing down messages before saving them.  Modifying
                   headers  should  be  done  with extreme caution, as they
                   contain routing information and other  vital  stuff  for
                   full functionality.


             f     Forward.  Allows the user to forward the current message
                   to  another user.  This copies the message into the edit
                   buffer and allows the user to add their own message too.
                   The  prompt is `Forward to:' and will expand an alias if
                   entered.  (See also _b_o_u_n_c_e, above.)

                   Elm will ask you if you want to edit the message  before
                   sending  it.  If you answer `yes', Elm will prepend your
                   prefix string to each line of the message, and  let  you
                   edit  the  result.  If you do not want the prefix string
                   on each line, answer `no'; you will have another  chance
                   to  edit  the  message  when you get to the `send' menu.
                   (See also the `elmrc' section, under _p_r_e_f_i_x.)


             g     Group reply.  Identical to _r_e_p_l_y below, except that  the
                   response  is  mailed  to  _a_l_l _r_e_c_i_p_i_e_n_t_s of the original
                   message (except yourself - see the  _a_l_t_e_r_n_a_t_i_v_e_s  option
                   for your ._e_l_m/_e_l_m_r_c file above).


             h     Display the current message  with  all  headers  intact.
                   When  you display a message with other commands, certain
                   header lines are formatted and others discarded (accord-
                   ing to the _w_e_e_d_l_i_s_t parameter in your ._e_l_m/_e_l_m_r_c file).


             i     Return to the index screen, when issued in  the  builtin
                   pager  or at the end of a message (with either the buil-
                   tin pager or an external pager).




          October 1, 1992                                           Page 26





          Elm Reference Guide                                   Version 2.4


             j or <down>, k or <up>
                   These four keys work similarly to what they would do  in
                   _v_i  or  any  of the other (precious few) screen oriented
                   programs.  The `j' and <down> keys move the current mes-
                   sage  pointer down to the next message skipping over any
                   marked deleted (going to the next page  if  needed)  and
                   the  `k'  and <up> keys move the current message pointer
                   back to the previous message skipping  over  any  marked
                   deleted (also changing pages if needed)


             J, K  These two keys work similarly to their lower case  coun-
                   terparts,  except that they don't skip over deleted mes-
                   sages.


             l     Limit.  This feature allows you to specify a  subset  of
                   the  existing  messages  to be dealt with.  For example,
                   let's say we had a folder with four hundred messages  in
                   it,  about  four  or  five different subjects.  We could
                   then limit what we're dealing with by  using  the  _l_i_m_i_t
                   command.  Pressing `l' would result in the prompt:
                        Criteria:
                   to which we could answer subject _s_t_r_i_n_g, from _s_t_r_i_n_g  or
                   to  _s_t_r_i_n_g.   In  our example, we could use subject pro-
                   gramming as a criteria for selection.  Once we've limit-
                   ed  our  selections  down,  the screen will be rewritten
                   with just the selected messages and the  top  line  will
                   change to have a message like:
                   Folder is "=elm" with 92 shown out of 124 [Elm 2.4]
                   We can further limit selections by entering further cri-
                   teria, each time using the _l_i_m_i_t option again.

                   To clear all the criteria and get back to the  `regular'
                   display,  simply enter _a_l_l as the limiting criteria.  It
                   should be noted that the selection based on ``to'' isn't
                   fully implemented for this version, so it is recommended
                   that users stay with ``subject''  and  ``from''  as  the
                   basis for their criteria.


             m     Mail.  Send mail to a specified user.  The  prompt  that
                   is  associated  with  this  command is `Send mail to :'.
                   Entering an alias name results in the full address being
                   rewritten  in  parenthesis  immediately.  This prompt is
                   followed by `Subject:' which allows the  user  to  title
                   their note.  The final field is `Copies to: ', which al-
                   lows other people specified to receive  "carbon  copies"
                   of the message.  (See the _a_s_k_c_c option of the ._e_l_m/_e_l_m_r_c
                   file above.)  Upon entering all three items  the  editor
                   is invoked and the message can be composed.





          October 1, 1992                                           Page 27





          Elm Reference Guide                                   Version 2.4


             n     Next message that is not  marked  deleted:   useful  for
                   displaying successive messages in a folder.  When issued
                   from the index screen, it displays the current  message,
                   and  then  when  issued while in the builtin pager or at
                   the end of a message (with either the builtin  pager  or
                   an  external pager), it will display the first screen of
                   the next message not marked for deletion.


             o     Options.  This full-screen display allows you  to  alter
                   the  settings  of  a number of parameters, including the
                   current sorting method, the method  of  printing  files,
                   the  calendar  file,  the  save  file,  and so on.  It's
                   self-documenting (where have you heard _t_h_a_t before?)  so
                   isn't explained in too much detail here.


             p     Print.  This allows you to print out the current message
                   or  the tagged messages to a previously defined printer.
                   (See the section on the ._e_l_m/_e_l_m_r_c discussing the  _p_r_i_n_t
                   variable.)


             q     Quit.  If you in the pager, you are returned to the  in-
                   dex  screen.  If  you are on the index screen, _e_l_m quits
                   altogether.  However, if you have the  option  _a_s_k  set,
                   _e_l_m  first  prompts  you for the disposition of the mes-
                   sages in the current folder.  If any messages are marked
                   for  deletion, it will ask if you want them deleted.  If
                   the current folder is your incoming  mailbox,  you  will
                   also  be asked if read messages should be stored in your
                   _r_e_c_e_i_v_e_d_m_a_i_l folder, and if unread  messages  should  be
                   kept  in  the  incoming mailbox.  The default answers to
                   these  questions  are  set  by  the  ._e_l_m/_e_l_m_r_c  options
                   _a_l_w_a_y_s_d_e_l_e_t_e,  _a_l_w_a_y_s_s_t_o_r_e, and _a_l_w_a_y_s_k_e_e_p.  However, if
                   you elect to not store your  read  messages  (i.e.  keep
                   them)  it  is presumed you want to keep your unread mes-
                   sages, too.


             Q     Quick quit.  This behaves similar to the `q' command ex-
                   cept that you are never prompted for answers to the mes-
                   sage disposition questions.  _E_l_m will  dispose  of  mes-
                   sages  according  to the values you have set for _a_l_w_a_y_s_-
                   _d_e_l_e_t_e, _a_l_w_a_y_s_s_t_o_r_e, and _a_l_w_a_y_s_k_e_e_p in  your  ._e_l_m/_e_l_m_r_c
                   file.


             r     Reply.  Reply to the sender of the current message.   If
                   the  _a_u_t_o_c_o_p_y  flag  is OFF in your ._e_l_m/_e_l_m_r_c file, the
                   program will prompt ``Copy message? (y/n)'' to which the
                   user can specify whether a copy of the source message is
                   to be copied into the edit buffer, or  not.   If  copied
                   in,  all  lines  from the message are prepended with the


          October 1, 1992                                           Page 28





          Elm Reference Guide                                   Version 2.4


                   _p_r_e_f_i_x character sequence specified in  your  ._e_l_m/_e_l_m_r_c
                   file.


             s     Save to folder.  This command is like  the  `copy'  com-
                   mand,  except  that  the  saved  messages are marked for
                   deletion, and that if you are saving  just  the  current
                   message,  the  current  message  pointer  is incremented
                   afterwards (see the _r_e_s_o_l_v_e  option  in  the  ._e_l_m/_e_l_m_r_c
                   file above).  This command expands folder names with `~'
                   being your home directory and  `='  being  your  _m_a_i_l_d_i_r
                   directory,  if defined.  This command also allows you to
                   use `>' for  your  _r_e_c_e_i_v_e_d_m_a_i_l  folder,  `<'  for  your
                   _s_e_n_t_m_a_i_l  folder,  `.'  for the last folder you saved or
                   copied a message to and `@alias' for the default  folder
                   for `alias'.


             t     Tag.  Tag the current message for a later operation4.


             <control>-T
                   Tag  all  messages  containing  the  specified  pattern.
                   Since  _t_a_g_g_i_n_g  messages can occur on screens other than
                   the one being viewed, the _e_l_m system will first check to
                   see  if any messages are currently _t_a_g_g_e_d and ask you if
                   you'd like to remove those tags.  After that,  it  will,
                   similar  to  the <_c_o_n_t_r_o_l>-_D function, prompt for a pat-
                   tern to match and then mark all  messages  that  contain
                   the  (case  insensitive)  pattern  in either the _f_r_o_m or
                   _s_u_b_j_e_c_t lines.


             x     Exit.  This leaves _e_l_m discarding  any  changes  to  the
                   mailbox.   If  changes  are  pending  (such  as messages
                   marked for deletion) a prompt is made  to  confirm  dis-
                   carding  the  changes.   If  confirmed,  no messages are
                   deleted and the  statuses  of  messages  are  unchanged.
                   That  is, any messages that were new will remain new in-
                   stead of being noted as old, and any messages that  were
                   read for the first time will be again noted as unread.


             X     Exit immediately.  This leaves _e_l_m in the quickest  pos-
                   sible manner without even prompting about discarding the
                   changes to the mailbox.  No messages are deleted and the
                   statuses  of  messages are unchanged.  That is, any mes-
                   sages that were new will remain  new  instead  of  being
                   noted  as  old,  and any messages that were read for the
                   first time will be again noted as unread.


          __________
          4. Currently only _p_i_p_e, _p_r_i_n_t, and _s_a_v_e support this.


          October 1, 1992                                           Page 29





          Elm Reference Guide                                   Version 2.4


          When you are about to send of a message under the _f_o_r_w_a_r_d,  _m_a_i_l,
          or  _r_e_p_l_y commands (see above), a small menu of the following op-
          tions appears:


             c     Specify folder for saving a copy to.  This allows you to
                   override  the  _c_o_p_y,  _f_o_r_c_e_n_a_m_e  and _s_a_v_e_n_a_m_e options of
                   your ._e_l_m/_e_l_m_r_c file.  It prompts you for  the  name  of
                   the folder where a copy of the outgoing message is to be
                   saved.  The default displayed is taken from those  three
                   ._e_l_m/_e_l_m_r_c  options  and  can  be changed.  This command
                   also allows you to use `>' for your _r_e_c_e_i_v_e_d_m_a_i_l  folder
                   and  `<'  for  your  _s_e_n_t_m_a_i_l  folder,  and `=?' to mean
                   ``conditionally save by name'' and `=' to mean  ``uncon-
                   ditionally  save  by  name''.  (See  the _s_a_v_e_n_a_m_e option
                   above for details on saving by name.)  (Since you  could
                   next enter the _e_d_i_t _h_e_a_d_e_r_s command and change the reci-
                   pients of your message, the name of the folder under the
                   two  ``save  by  name'' options is not established until
                   you enter the _s_e_n_d command.)  If you use a  shell  wild-
                   card  in  the  file  or folder name, you will be given a
                   list of all files or folders which match  the  wildcard.
                   Elm uses your shell to find the names, so whatever wild-
                   cards you are used to can work.  You can also enter  `?'
                   at the prompt to some help about saving.


             e     Edit message (or form).  Entering this command will  al-
                   low you to edit the text of your message or form.


             f     Forget.  This gets you out  of  sending  a  message  you
                   started.  If  you  are in send-only mode, the message is
                   saved to the file _C_a_n_c_e_l_e_d._m_a_i_l in your home  directory.
                   Otherwise  it can be restored at the next _f_o_r_w_a_r_d, _m_a_i_l,
                   or _r_e_p_l_y command during  the  current  session  of  _e_l_m.
                   After issuing one of those commands you will be prompted
                   with ``Recall last kept message?''


             h     Edit headers.  This puts you  into  the  _h_e_a_d_e_r  _e_d_i_t_i_n_g
                   _m_o_d_e, whereby you can edit to any of the various headers
                   of your message.  Like the options  screen,  it's  self-
                   documenting,  so  it  isn't explained in too much detail
                   here.


             i     Run ispell (or some other configured spelling correction
                   program).   The  current  message  is run through an in-
                   teractive spelling correction program if one  is  avail-
                   able.   The  default  spelling program is the GNU ispell
                   program unless changed by the person who  installed  Elm
                   on your system.



          October 1, 1992                                           Page 30





          Elm Reference Guide                                   Version 2.4


             m     Make form.  This converts the message  you  have  edited
                   into a form.  (See _T_h_e _E_l_m _F_o_r_m_s _M_o_d_e _G_u_i_d_e for more de-
                   tails.)


             s     Send.  This sends the message as is without any  further
                   ado.


          8888....  UUUUssssiiiinnnngggg EEEEllllmmmm wwwwiiiitttthhhh ````````eeeeddddiiiittttoooorrrr ==== nnnnoooonnnneeee''''''''

          The _E_l_m program also supports a builtin editor for simple message
          composition that is very (very) similar to the simple line editor
          available from the _B_e_r_k_e_l_e_y _M_a_i_l system.

          To access it, you need merely to specify ``_e_d_i_t_o_r=_n_o_n_e'' in  your
          ._e_l_m/_e_l_m_r_c  file.  With  that,  any  messages to be composed that
          don't already have text in the buffer (e.g.  no  reply  with  the
          text included, etc), will use this editor.

          From the builtin editor, the following options are available  for
          use.   Each command here is prefixed with a `~'.  You can specify
          a different ``escape'' character in your ._e_l_m/_e_l_m_r_c file, if  you
          desire (see above).



            ~? Print a brief help menu.


            ~b Change the Blind-Carbon-Copy list.


            ~c Change the Carbon-Copy list.


            ~e Invoke the Emacs editor on the message, if possible.


            ~f Add the specified message or current message.


            ~h Change all the available headers (To, Cc, Bcc, and Subject).


            ~m Same as `~f', but with the current `prefix'.


            ~o Invoke a user specified editor on the message.


            ~p Print out the message as typed in so far.




          October 1, 1992                                           Page 31





          Elm Reference Guide                                   Version 2.4


            ~r Include (read in) the contents of the specified file.


            ~s Change the Subject line.


            ~t Change the To list.


            ~v Invoke the Vi visual editor on the message.


            ~< Execute the specified UNIX command, entering the  output  of
               the  command  into  the editor buffer upon completion.  (For
               example ``~< who'' will include the output of the  _w_h_o  com-
               mand in your message.)


            ~! Execute a UNIX command if one is given (as in  ``~!ls'')  or
               give  the  user  a shell (either from their shell setting in
               their ._e_l_m/_e_l_m_r_c file or the default).


            ~~ Add a line prefixed by a single `~' character.

          A useful note is that the  `~f'  and  `~m'  commands  invoke  the
          _r_e_a_d_m_s_g command, so you can pass parameters along too.  For exam-
          ple, if we wanted to include a  message  from  Joe,  without  any
          headers, prefixed, we could use:
               ~m -n Joe
          to accomplish the task.

          To learn more about how they work, try 'em!


          9999....  TTTThhhheeee AAAAlllliiiiaaaassss SSSSyyyysssstttteeeemmmm

          As mentioned previously, there exists in the _e_l_m system a set  of
          aliases that associate an arbitrary word (such as a persons name)
          to a complex address or group. The  advantages  are  readily  ap-
          parent; rather than remembering an address of the form:
               host1!host2! ... !hostN!user
          the user merely has to remember a single word.

          Two alias tables are available for a each user within _e_l_m, namely
          the  system  alias  file  and  the user's alias file.  The system
          alias file is created and maintained (by the  system  administra-
          tor)  by  editing  the  file  _S_Y_S_T_E_M__A_L_I_A_S_E_S  as  defined  in the
          `sysdefs.h'  file  (see  _T_h_e  _E_l_m  _C_o_n_f_i_g_u_r_a_t_i_o_n  _G_u_i_d_e)  and  as
          described  in  the  documentation with the _n_e_w_a_l_i_a_s command, then
          running the _n_e_w_a_l_i_a_s program.

          An individual user can also have an alias  file  which  works  in
          conjunction with the system aliases.  To do this, he needs merely


          October 1, 1992                                           Page 32





          Elm Reference Guide                                   Version 2.4


          to enter the alias menu system and create aliases  with  the  `a'
          (_A_l_i_a_s _c_u_r_r_e_n_t _m_e_s_s_a_g_e) or `n' (_M_a_k_e _n_e_w _a_l_i_a_s) commands.  Alter-
          natively, the user can peruse the documentation for the  _n_e_w_a_l_i_a_s
          command  and create a file as indicated therein.  After executing
          the program, the aliases will be available for  use  from  within
          _e_l_m.

          Please refer to _T_h_e _E_l_m _A_l_i_a_s _U_s_e_r_s _G_u_i_d_e for more helpful  hints
          and so on.


          Within _e_l_m, however, the alias system acts as  an  entirely  dif-
          ferent  program,  with  its  own  display,  own commands, and own
          mini-menu.  The aliases are presented in a list  similar  to  the
          main screen.  The menu replaces the standard mini-menu with:


               --------------------------------------------------------------------------------

                Alias commands:  ?=help, <n>=set current to n, /=search pattern
               a)lias current message, d)elete, e)dit aliases.text, f)ully expand alias,
               l)imit display, m)ail, n)ew alias, r)eturn, t)ag, u)ndelete, or e(x)it

               Alias: @
               --------------------------------------------------------------------------------


          The commands are:


            ?  Help.  This command used once puts you  in  the  _h_e_l_p  mode,
               where  any  key you press will result in a one-line descrip-
               tion of the key.  Pressed again at this point will produce a
               two  page  summary listing each command available.  `.' will
               leave the help mode and return you to the alias menu level.


            <space> or <return> or v
               Display the current alias address.   The  alias  address  is
               displayed  below the alias menu.  This command allows you to
               verify the address for a person or the contents of  a  group
               alias.


            /  Pattern match.  This  command  allows  the  user  to  search
               through  all  the  _a_l_i_a_s  and _u_s_e_r_n_a_m_e entries for the alias
               list starting at the current alias  and  continuing  through
               the  end.  If  the  first character of the pattern is a `/',
               then the program will also include the _c_o_m_m_e_n_t and the fully
               expanded  _a_d_d_r_e_s_s  fields  in the search. The search is case
               insensitive.  This allows the user to find a specific  alias
               in the situation where there are a large number of aliases.




          October 1, 1992                                           Page 33





          Elm Reference Guide                                   Version 2.4


            a  Alias current message. This allows the  user  to  create  an
               alias  that has the return address of the current message as
               the address field of the alias.  It  prompts  for  a  unique
               alias  name.   For  further  information, please see _T_h_e _E_l_m
               _A_l_i_a_s _S_y_s_t_e_m _U_s_e_r_s _G_u_i_d_e.


            d, u
               Delete or undelete an alias.  This allows the user  to  mark
               an  alias  for  deletion  in the same fashion as on the main
               menu.  The deletions are not actually made  until  the  user
               _r)_e_t_u_r_n_s  to  the main menu or resyncs the display (with the
               `$' command).  Deletions on system aliases are not  allowed.
               These  commands  (plus  the <control>-D and <control>-U ver-
               sions) behave identically to their main menu counterparts.


            e  Edit the ._e_l_m/_a_l_i_a_s_e_s._t_e_x_t file.  The  user  alias  file  is
               edited using the editor defined in _e_d_i_t_o_r in your ._e_l_m/_e_l_m_r_c
               file.  _n_e_w_a_l_i_a_s is run after the edit.


            f  Display _f_u_l_l_y _e_x_p_a_n_d_e_d  alias.   The  currently  highlighted
               alias  is fully expanded and displayed to the user.  This is
               most useful when working with group alias in the alias data-
               base.


            l  Limit the display.  You can limit the display by alias  type
               (person/group  or  user/system) or by search pattern on name
               or alias.  Otherwise, this works exactly like the limit com-
               mand on the main menu.


            m  Send mail to the current alias.  A new mail message will  be
               sent to the person or group specified by the selected alias.
               If aliases are currently tagged the message will  be  mailed
               to  the  person(s)  and/or  group(s) specified by the tagged
               aliases.  Tags are cleared after mailing the message.


            n  Make a new user alias.  This will prompt for a unique  alias
               name  and  then  for  an address.  If aliases are tagged you
               will be asked if you want to create a group alias  from  the
               tagged  aliases.   The information provided will be added to
               your individual aliases.text file  ($_H_O_M_E/._e_l_m/_a_l_i_a_s_e_s._t_e_x_t)
               and then added to the database (upon the next alias resync).


            r or q or i
               Return.  Return to the main level of the _e_l_m  program.   Any
               pending  deletions  are processed and newalias is run to up-
               date the database.  New additions are handled at  this  time
               as well.


          October 1, 1992                                           Page 34





          Elm Reference Guide                                   Version 2.4


            R or Q
               Quick return.  This behaves like the `r' command except that
               you  are  never  prompted  for  answers to alias disposition
               questions.  _E_l_m will dispose of  aliases  according  to  the
               values  you  have  set  for  _a_l_w_a_y_s_d_e_l_e_t_e in your ._e_l_m/_e_l_m_r_c
               file.


            t  Tag.  Tag the current alias for a later operation5.


            x  Exit alias menu.  Exits the alias  menu  without  processing
               any  deletions.   Aliases  marked for deletion are unmarked.
               Additionally, newalias is not run, even if  alias  additions
               have been made.

          Additionally, the movement keys (`j', `k', `+', `-',  etc.)  work
          in  the same fashion as on the main menu.  (See the previous sec-
          tion on _C_o_m_m_a_n_d_s in this guide.)


          11110000....  EEEEllllmmmm aaaannnndddd SSSSiiiiggggnnnnaaaallllssss

          _E_l_m can handle several standard UNIX _s_i_g_n_a_l_s to do  some  special
          processing.  _S_i_g_n_a_l_s are interrupt messages sent from one program
          to another.  No detailed messages are sent, but a  properly  con-
          figured program (such as _e_l_m) can watch for and handle these sig-
          nals.

          In particular, _e_l_m watches for the following  _s_i_g_n_a_l_s  and  takes
          these  actions:   This is the alarm clock signal or time warning.
          Elm uses this to wake itself up periodically and  check  for  new
          mail.    This   is   the   hangup  notice.   It  means  that  the
          terminal/modem/whatever which you have been using  with  _e_l_m  has
          become  detached from the system where _e_l_m was running.  When _e_l_m
          gets this signal, it aborts all the pending operations and  exits
          leaving your mailbox unchanged.  This is the first user-definable
          signal.  When _e_l_m gets this signal, it recieves any pending mail,
          performs  all the pending operations (deletes), and exits leaving
          all unread mail marked as new.  This is the same as giving the  $
          and  _X commands.  This is the second user-definable signal.  When
          _e_l_m gets this signal, it recieves any pending mail, performs  all
          the  pending  operations  (deletes), and exits leaving all unread
          mail marked as old.  This is the same as giving the $ and _Q  com-
          mands.

          You would only use these signals youself under the  most  unusual
          circumstances.   For  example, suppose you were using _e_l_m to read
          mail on _h_o_s_t__1.  You have many messages, most of which have  been
          read  and  filed (and therefore deleted), or simply deleted.  You
          have not yet resynchronized your mailbox ($ command).  Now you go

          __________
          5. Currently only _m_a_i_l and _n_e_w _a_l_i_a_s support this.


          October 1, 1992                                           Page 35





          Elm Reference Guide                                   Version 2.4


          to lunch.  On your return, you're stopped at the door and told to
          take  care of an emergency.  You go to another part of the build-
          ing, and want to read your mail to see what the  emergency  is  -
          but you can't, because _e_l_m is still running at your desk.

          What you really want  is  one  of  the  scenarios  given  in  the
          description  of  _H_U_P, _U_S_R_1 or _U_S_R_2.  Use your local _p_s command to
          find out what the _p_r_o_c_e_s_s _n_u_m_b_e_r of your _e_l_m  session  is.   Then
          give the command _k_i_l_l -_X_X_X _p_r_o_c_e_s_s__n_u_m_b_e_r

          where _X_X_X is either _H_U_P, _U_S_R_1 or _U_S_R_2 and _p_r_o_c_e_s_s__n_u_m_b_e_r  is  the
          process  number for your remote _e_l_m session.  Your remote session
          will terminate with the actions noted above.


          11111111....  EEEExxxxppppeeeerrrrtttt MMMMaaaaiiiillll UUUUsssseeeerrrrssss aaaannnndddd DDDDeeeebbbbuuuuggggggggiiiinnnngggg tttthhhheeee MMMMaaaaiiiilllleeeerrrr

          There are some additional facilities available in the _e_l_m  mailer
          for  those  people who are knowledgeable about mail protocols, or
          trying to debug/track down a problem.

          The `h' _h_e_a_d_e_r_s command at the outermost level of the mailer will
          display  the  current message ignoring the current setting of the
          `weed' option.  This is most useful for  answering  questions  of
          the  form  "I  wonder what this guy put in his header?" and such.
          This command does not show up on  the  mini-menu  because  it  is
          somewhat esoteric, but it does appear on the `?' help screen (can
          you find it there, though?).

          The `@' command at the outermost level of the mailer will  output
          a  screen of debugging information, including the number of lines
          and offsets of each of the messages in the current mailbox.

          The `#' command at the outermost level of the mailer will display
          the entire stored `record structure' for the current message.

          The `%' command will display the full computed return address  of
          the current message.

          Starting up _e_l_m with the "-d" debug option  will  create  a  file
          called _E_L_M:_d_e_b_u_g._i_n_f_o in your home directory and contain a wealth
          of useful information (to me, at least!) to aid in tracking  down
          what errors are occurring and why.


          If there are any problems with the mailer,   please  try  to  re-
          create  the  error  with  the debug option enabled and set to the
          highest level (11) before sending defect reports my way.



          One final note: all error names reported by the program are docu-
          mented in the AT&T System V Interface Definition Reference Manual
          in _e_r_r_n_o(2).


          October 1, 1992                                           Page 36



