Path: uunet!zephyr.ens.tek.com!master!saab!billr
From: billr@saab.CNA.TEK.COM (Bill Randle)
Newsgroups: comp.sources.games
Subject: v14i071:  umoria4 - single player dungeon simulation (ver. 5.5), Part39/39
Message-ID: <3435@master.CNA.TEK.COM>
Date: 22 Aug 92 22:16:28 GMT
Sender: news@master.CNA.TEK.COM
Lines: 1999
Approved: billr@saab.CNA.TEK.COM

Submitted-by: grabiner@math.harvard.edu (David Grabiner)
Posting-number: Volume 14, Issue 71
Archive-name: umoria4/Part39
Supersedes: umoria3: Volume 9, Issue 55-97; Volume 10, Issue 15-17
Environment: Curses, Unix, Mac, MS-DOS, Atari-ST, Amiga, VMS



#! /bin/sh
# This is a shell archive.  Remove anything before this line, then unpack
# it by saving it into a file and typing "sh file".  To overwrite existing
# files, type "sh file -c".  You can also feed this as standard input via
# unshar, or by typing "sh <file", e.g..  If this archive is complete, you
# will see the following message at the end:
#		"End of archive 39 (of 39)."
# Contents:  amiga/amiga.c atari_st/README
#   atari_st/moria.lnk atari_st/string.h doc/README files/hours
#   files/news files/owizcmds.hlp files/welcome.hlp ibmpc/ERRORS
#   ibmpc/MAKE.BAT ibmpc/MLINK.LNK ibmpc/Makefile.tc ibmpc/README
#   ibmpc/TCPICK.TCU ibmpc/make/ccthru.bat ibmpc/make/makefile.ibm
#   ibmpc/make/makefile.src ibmpc/turbo_c.inf ibmpc/umoria.prj
#   mac/ERRORS mac/README mac/dumpres/DumpRes.h
#   mac/dumpres/MakeFile.hqx mac/scrnmgr/ERRORS mac/scrnmgr/README
#   mac/scrnmgr/ScrnTest.ro misc/funckeys.h misc/mabbrev util/README
#   util/mc/ERRORS util/mc/Makefile util/mc/attribut.txt
#   util/mc/generic.h util/printit/Makefile util/scores/Makefile
#   util/weapons/ERRORS util/weapons/Makefile util/weapons/highchar.in
#   util/weapons/lowchar.in util/weapons/medchar.in
#   util/weapons/mkallwpn vms/ERRORS vms/README vms/make.com
#   vms/scores.fdl vms/uexit.c
# Wrapped by billr@saab on Thu Aug 20 09:11:37 1992
PATH=/bin:/usr/bin:/usr/ucb ; export PATH
if test -f 'amiga/amiga.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'amiga/amiga.c'\"
else
echo shar: Extracting \"'amiga/amiga.c'\" \(579 characters\)
sed "s/^X//" >'amiga/amiga.c' <<'END_OF_FILE'
X/* amiga/amiga.c: Amiga support code
X
X   Copyright (c) 1990-92 Corey Gehman, James E. Wilson
X
X   This software may be copied and distributed for educational, research, and
X   not for profit purposes provided that this copyright and statement are
X   included in all such copies. */
X
X#include <curses.h>
X
Xsleep(secs)
Xint secs;
X{
X   sendtimer(secs*1000000);
X   waittimer();
X}
X
Xcheck_input(microsecs)
Xint microsecs;
X{
X  int ch;
X
X  sendtimer(microsecs);
X  waittimer();
X
X  nodelay(stdscr, TRUE);
X  ch = getch ();
X  nodelay(stdscr, FALSE);
X
X  if (ch == -1)
X    return 0;
X
X  return 1;
X}
END_OF_FILE
if test 579 -ne `wc -c <'amiga/amiga.c'`; then
    echo shar: \"'amiga/amiga.c'\" unpacked with wrong size!
fi
# end of 'amiga/amiga.c'
fi
if test -f 'atari_st/README' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'atari_st/README'\"
else
echo shar: Extracting \"'atari_st/README'\" \(1832 characters\)
sed "s/^X//" >'atari_st/README' <<'END_OF_FILE'
X
XFor the Mark Williams C compiler:
X
XUse the atarist.c file along with the source files in ../source.
X
XThis requires a version of curses (a screen management package) for the
XAtari ST, use the one distributed here with the sources.
X
XThe sets.c file has some #pragma lines which will have to be deleted or
Xcommented out, as the MWC preprocessor does not understand them.
X
X*****
X
XFor the Turbo C compiler:
X
XUse the atarist.c file along with the source files in ../source.
X
XThis requires a version of curses (a screen management package) for the
XAtari ST, use the one distributed here with the sources.
X
XCreate a moria.prj file (or borrow the one from the ibmpc directory).
XLink the files together to create the executable with the command
X"TLINK -C=moria.lnk".  Use the Makefile.tc file for make.
XRecommended options for the compile are "-P -G".
X
X*****
X
XFor the Gnu C Compiler:
X
XThere are two major versions of the Run Time Library for the ST.
XThere are two makefiles, Makefile.bam if you use the Bammi RTL, and use
XMakefile.roe if you use the Roede (sp?) RTL.  You do not need any system
Xdefinitions in config.h.  You will need the st-stuff.c file in this directory.
XDo not use the curses sources in this directory, use the ones that come
Xwith the GCC libraries.  The GCC port uses an environment variable
Xcalled MORIA_ROOT to find the misc files, as follows:
X      If it is not set, or contains NULL then moria looks for a directory
X   files/  - based in the CURRENT directory, for all auxillary files. If
X   this subdirectory is not found, moria prints a error message and exits.
X      If it is set, it should be a '/' terminated PATH. This PATH then has
X   'files/' appended to it, thus forming the full search path for auxillary
X   files. This allows the subdirectory 'files/' to be rooted anywhere, on
X   any file system.
X
X*****
END_OF_FILE
if test 1832 -ne `wc -c <'atari_st/README'`; then
    echo shar: \"'atari_st/README'\" unpacked with wrong size!
fi
# end of 'atari_st/README'
fi
if test -f 'atari_st/moria.lnk' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'atari_st/moria.lnk'\"
else
echo shar: Extracting \"'atari_st/moria.lnk'\" \(488 characters\)
sed "s/^X//" >'atari_st/moria.lnk' <<'END_OF_FILE'
X-S=65536
X-O=moria.ttp
X\tc\lib\tcstart.o
Xmain.o
Xmisc1.o
Xmisc2.o
Xmisc3.o
Xmisc4.o
Xstore1.o
Xfiles.o
Xio.o
Xcreate.o
Xdesc.o
Xgenerate.o
Xsets.o
Xdungeon.o
Xcreature.o
Xdeath.o
Xeat.o
Xhelp.o
Xmagic.o
Xpotions.o
Xprayer.o
Xsave.o
Xstaffs.o
Xwands.o
Xscrolls.o
Xspells.o
Xwizard.o
Xstore2.o
Xsignals.o
Xmoria1.o
Xmoria2.o
Xmoria3.o
Xmoria4.o
Xmonsters.o
Xtreasure.o
Xvariable.o
Xrnd.o
Xrecall.o
Xatarist.o
Xundef.o
Xcurses.o
Xplayer.o
Xtables.o
X\tc\lib\tcfltlib.lib
X\tc\lib\tcstdlib.lib
X\tc\lib\tcextlib.lib
X\tc\lib\tctoslib.lib
END_OF_FILE
if test 488 -ne `wc -c <'atari_st/moria.lnk'`; then
    echo shar: \"'atari_st/moria.lnk'\" unpacked with wrong size!
fi
# end of 'atari_st/moria.lnk'
fi
if test -f 'atari_st/string.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'atari_st/string.h'\"
else
echo shar: Extracting \"'atari_st/string.h'\" \(691 characters\)
sed "s/^X//" >'atari_st/string.h' <<'END_OF_FILE'
X/* atari_st/string.h: string include file for MWC
X
X   Copyright (c) 1989-92 Stephen A Jacobs, James E. Wilson
X
X   This software may be copied and distributed for educational, research, and
X   not for profit purposes provided that this copyright and statement are
X   included in all such copies. */
X
X#ifndef STRING_H
X#define STRING_H
X
Xchar *index();
Xchar *rindex();
Xchar *strcat();
Xint strcmp();
Xchar *strcpy();
Xint strlen();
Xchar *strncat();
Xint strncmp();
Xchar *strncpy();
Xchar *memchr();
Xint memcmp();
Xchar *memcpy();
Xchar *memset();
Xchar *strchr();
Xunsigned int strcspn();
Xchar *strerror();
Xchar *strpbrk();
Xchar *strrchr();
Xunsigned int strspn();
Xchar *strstr();
Xchar *strtok();
X
X#endif
END_OF_FILE
if test 691 -ne `wc -c <'atari_st/string.h'`; then
    echo shar: \"'atari_st/string.h'\" unpacked with wrong size!
fi
# end of 'atari_st/string.h'
fi
if test -f 'doc/README' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'doc/README'\"
else
echo shar: Extracting \"'doc/README'\" \(1631 characters\)
sed "s/^X//" >'doc/README' <<'END_OF_FILE'
XFEATURES.NEW
X	mentions all of the important user visible changes from
X	umoria 4.87 to umoria 5.x.
X
Xdragon.inf
X	Gives spoiler info on dragons.
X
Xexp.doc
X	Documents how experience works.  Should be part of the manual.
X
Xhistory
X	is a brief history of the program umoria.
X
Xmoria.6
X	is the nroff source for a man page for umoria.  Use the command
X	'nroff -man moria.6' to view it.  By default, it assumes that
X	umoria was compiled with the original command set.  If you
X	compiled umoria with the rogue like command set, then remove
X	the three characters defore the .ds command at the start for
X	a more appropriate man page.
X
Xmoria.man
X	is an already processed copy of the man page (with bold and underlined
X	characters removed) for those without the nroff program.
X
Xmoria1.ms, moria2.ms
X	is the document "The Dungeons of Moria".  It is a complete description
X	of the game.  You may want to adjust the margin and line length
X	values at the beginning.  To view it, use the command
X	'tbl moria1.ms moria1.ms | nroff -ms'.  It is split into two parts
X	so that it can be easily mailed.
X
Xmoria1.txt, moria2.txt
X	is an already processed copy of the document "The Dungeons of Moria"
X	(with bold and underlined characters removed) for those without
X	the nroff program.  It is split into two parts so that it can be
X	easily mailed.
X
Xpronounc
X	explains how to pronounce the name moria.
X
Xspells.doc
X	Documents how spells work.  Should be part of the manual.
X
Xspoilers
X	Answers most frequently asked questions.  Most of this info should
X	really be incorporated into the manual.
X
Xwhere.inf
X	gives info on how to obtain the various versions of moria.
X
END_OF_FILE
if test 1631 -ne `wc -c <'doc/README'`; then
    echo shar: \"'doc/README'\" unpacked with wrong size!
fi
# end of 'doc/README'
fi
if test -f 'files/hours' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'files/hours'\"
else
echo shar: Extracting \"'files/hours'\" \(350 characters\)
sed "s/^X//" >'files/hours' <<'END_OF_FILE'
X    Moria operating hours are:
X    |    AM     |    PM     |
X    1         111         111
X    2123456789012123456789012
XSUN:XXXXXXXXXXXXXXXXXXXXXXXX
XMON:XXXXXXXXXXXXXXXXXXXXXXXX
XTUE:XXXXXXXXXXXXXXXXXXXXXXXX
XWED:XXXXXXXXXXXXXXXXXXXXXXXX
XTHU:XXXXXXXXXXXXXXXXXXXXXXXX
XFRI:XXXXXXXXXXXXXXXXXXXXXXXX
XSAT:XXXXXXXXXXXXXXXXXXXXXXXX
X       (X=Open; .=Closed)
END_OF_FILE
if test 350 -ne `wc -c <'files/hours'`; then
    echo shar: \"'files/hours'\" unpacked with wrong size!
fi
# end of 'files/hours'
fi
if test -f 'files/news' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'files/news'\"
else
echo shar: Extracting \"'files/news'\" \(767 characters\)
sed "s/^X//" >'files/news' <<'END_OF_FILE'
X                         *********************
X                         **   Umoria 5.5    **
X                         *********************
X                 Copyright (c) 1985 Robert Alan Koeneke
X                   Copyright (c) 1989-92 James E. Wilson
X
XProgrammers : Robert Alan Koeneke / University of Oklahoma
X              Jimmey Wayne Todd  / University of Oklahoma
XUNIX Port : James E. Wilson    / Cygnus Support
XVersion 5.5 : David J. Grabiner / Harvard University
X
XPlease send bug reports to grabiner@math.harvard.edu or to the USENET
Xnewsgroup rec.games.moria.
X
XPlease read the file doc/FEATURES.NEW.  In particular, note the new commands
X'G' for learning spells, and '=' for setting options.  Also, to attack
Xinvisible creatures in walls, you must tunnel.
END_OF_FILE
if test 767 -ne `wc -c <'files/news'`; then
    echo shar: \"'files/news'\" unpacked with wrong size!
fi
# end of 'files/news'
fi
if test -f 'files/owizcmds.hlp' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'files/owizcmds.hlp'\"
else
echo shar: Extracting \"'files/owizcmds.hlp'\" \(376 characters\)
sed "s/^X//" >'files/owizcmds.hlp' <<'END_OF_FILE'
X:  - Map area.
X^A - Remove Curse and Cure all maladies.
X^B - Print random objects sample.
X^D - Down/Up n levels.
X^E - Change character.
X^F - Delete monsters.
X^G - Allocate treasures.
X^H - Wizard Help.
X^I - Identify.
X^J - Gain experience.
X^L - Wizard light.
X^T - Teleport player.
X^U  - Summon monster.
X^W - Wizard password on/off.
X@ - Create any object *CAN CAUSE FATAL ERROR*
END_OF_FILE
if test 376 -ne `wc -c <'files/owizcmds.hlp'`; then
    echo shar: \"'files/owizcmds.hlp'\" unpacked with wrong size!
fi
# end of 'files/owizcmds.hlp'
fi
if test -f 'files/welcome.hlp' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'files/welcome.hlp'\"
else
echo shar: Extracting \"'files/welcome.hlp'\" \(423 characters\)
sed "s/^X//" >'files/welcome.hlp' <<'END_OF_FILE'
X                       Welcome to Moria!
X
XYour first task is to generate a character. You must specify a sex,
Xa race and a class. Anytime before you have made these specifications,
Xyou can interrupt with control-C. You can also specify the race as
Xoften as you like by entering '%' to the class request. This will also
Xregenerate your attributes.
X
XIf this is your first time playing, you may want to read the manual first.
END_OF_FILE
if test 423 -ne `wc -c <'files/welcome.hlp'`; then
    echo shar: \"'files/welcome.hlp'\" unpacked with wrong size!
fi
# end of 'files/welcome.hlp'
fi
if test -f 'ibmpc/ERRORS' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'ibmpc/ERRORS'\"
else
echo shar: Extracting \"'ibmpc/ERRORS'\" \(170 characters\)
sed "s/^X//" >'ibmpc/ERRORS' <<'END_OF_FILE'
Xthe two files Makefile and Makefile.XNX are obsolete, and need to be
Xupdated
X
Xdocument the -DLINT_ARGS option for prototypes someplace
X
Xfix up the new makefiles in make/
END_OF_FILE
if test 170 -ne `wc -c <'ibmpc/ERRORS'`; then
    echo shar: \"'ibmpc/ERRORS'\" unpacked with wrong size!
fi
# end of 'ibmpc/ERRORS'
fi
if test -f 'ibmpc/MAKE.BAT' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'ibmpc/MAKE.BAT'\"
else
echo shar: Extracting \"'ibmpc/MAKE.BAT'\" \(162 characters\)
sed "s/^X//" >'ibmpc/MAKE.BAT' <<'END_OF_FILE'
Xcl -c -AL -Os -Gs -Zp -Gt32 -DPC_CURSES *.c
Xlink <mlink.lnk
Xexemod moria.exe /stack 3fff
Xrename moria.exe moria.xxx
Xexepack moria.xxx moria.exe
Xdelete moria.xxx
X
END_OF_FILE
if test 162 -ne `wc -c <'ibmpc/MAKE.BAT'`; then
    echo shar: \"'ibmpc/MAKE.BAT'\" unpacked with wrong size!
fi
# end of 'ibmpc/MAKE.BAT'
fi
if test -f 'ibmpc/MLINK.LNK' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'ibmpc/MLINK.LNK'\"
else
echo shar: Extracting \"'ibmpc/MLINK.LNK'\" \(268 characters\)
sed "s/^X//" >'ibmpc/MLINK.LNK' <<'END_OF_FILE'
XMAIN+CREATE+CREATURE+DEATH+DESC+DUNGEON+
XEAT+FILES+GENERATE+HELP+MAGIC+
XMISC1+MISC2+MONSTERS+MORIA1+MORIA2+
XPOTIONS+PRAYER+RND+SAVE+
XSCROLLS+SETS+SIGNALS+SPELLS+STAFFS+
XSTORE1+STORE2+TREASURE+VARIABLE+
XWANDS+WIZARD+IO+MS_MISC+RECALL+
XPLAYER.C+TABLES.C,moria,,pccurses
END_OF_FILE
if test 268 -ne `wc -c <'ibmpc/MLINK.LNK'`; then
    echo shar: \"'ibmpc/MLINK.LNK'\" unpacked with wrong size!
fi
# end of 'ibmpc/MLINK.LNK'
fi
if test -f 'ibmpc/Makefile.tc' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'ibmpc/Makefile.tc'\"
else
echo shar: Extracting \"'ibmpc/Makefile.tc'\" \(647 characters\)
sed "s/^X//" >'ibmpc/Makefile.tc' <<'END_OF_FILE'
XFLAGS = -1 -c -w-
XDEFS = -DUSG -DMSDOS
XCC = \tc\bin\tcc
XPROGRAM = moria.exe
XLINKER = \tc\bin\tlink
X
XOBJS		= create.obj creature.obj death.c desc.obj dungeon.obj \
X		  eat.obj files.obj generate.obj help.obj io.obj rnd.obj \
X		  magic.obj main.obj misc1.obj misc2.obj misc2.obj misc4.obj \
X		  monsters.obj moria1.obj moria2.obj moria3.obj moria4.obj \
X		  ms_ansi.obj ms_misc.obj potions.obj \
X		  prayer.obj save.obj scrolls.obj sets.obj signals.obj \
X		  spells.obj staffs.obj store1.obj store2.obj treasure.obj \
X		  variable.obj wands.obj wizard.obj
X
X.c.obj:
X	$(CC) $(FLAGS) $(DEFS) $*
X
X$(PROGRAM):   $(OBJS)
X		$(LINKER) $(OBJS), $(PROGRAM),,
END_OF_FILE
if test 647 -ne `wc -c <'ibmpc/Makefile.tc'`; then
    echo shar: \"'ibmpc/Makefile.tc'\" unpacked with wrong size!
fi
# end of 'ibmpc/Makefile.tc'
fi
if test -f 'ibmpc/README' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'ibmpc/README'\"
else
echo shar: Extracting \"'ibmpc/README'\" \(1780 characters\)
sed "s/^X//" >'ibmpc/README' <<'END_OF_FILE'
X
XTo compile this program, you need a copy of PC-Curses, a screen management
Xpackage.  Sources for this are distributed separately, since most people
Xwho need it already have a copy.
X
XOr, if you have Turbo C, you can use the tcio.c file instead of PC-Curses.
X
X*************************
X
XCONFIG.DOC
X	The MSDOS specific documentation file that came with PC-Moria 4.873.
X	Much of this is out-of-date, and needs to be updated.  The section
X	describing the MORIA.CNF configuration file is still useful.
X
XMAKE.BAT, MLINK.LNK
X	If you have MSC, you can compile the Umoria by executing this
X	MAKE.BAT commands files, which uses MLINK.LNK to specify all of the
X	files to be linked together to form the executable.
X
XMORIA.CNF
X	A sample configuration file for the MSDOS version of umoria 5.x.
X
XMakefile, Makefile.XNX
X	Obsolete Makefiles that were used for PC-Moria 4.873.  May still be
X	useful as a reference though for those who want to write their own
X	Makefiles.
X
XTERMCAP
X	A sample TERMCAP file which can be used by PC-Curses.
X
Xmake
X	A directory containing 3 makefiles for MSC.  Put the makefile.top
X	file in the top directory (which contains the CHANGES file), put
X	the makefile.src file in the source directory, and put the makefile.ibm
X	in this directory.  Note that each file must be renamed to makefile
X	when it is moved.  You can then build moria by running the MSC Make
X	program in the top directory.
X
Xms_ansi.c, ms_ansi.h, ms_misc.c
X	MSDOS specific source files for umoria 5.x.
X
Xtcio.c
X	For TC, this is an alternative io.c file.  If you use this file
X	instead of source/io.c, then you don't need PC-Curses.  This should
X	result in a smaller, faster program.
X
Xturbo_c.inf
X	Some hints on compiling Umoria with TC.
X
Xumoria.prj
X	A project file to be used when compiling Umoria with TC.
END_OF_FILE
if test 1780 -ne `wc -c <'ibmpc/README'`; then
    echo shar: \"'ibmpc/README'\" unpacked with wrong size!
fi
# end of 'ibmpc/README'
fi
if test -f 'ibmpc/TCPICK.TCU' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'ibmpc/TCPICK.TCU'\"
else
echo shar: Extracting \"'ibmpc/TCPICK.TCU'\" \(1715 characters\)
sed "s/^X//" >'ibmpc/TCPICK.TCU' <<'END_OF_FILE'
XA uuencoded copy of a TCPICK.TC file.
X
Xbegin 640 TCPICK.TC
XM5'5R8F\@0R!0:6-K($QI<W0@1FEL92 :  $-$A<!&@ " 0$ X@(S 48Z7$=!
XM34537%5-3U(U,S%<5T]22UQ534]224$N4%)*                        
XM                                        O0-&.EQ'04U%4UQ534]2
XM-3,Q7%=/4DM<4T%612Y# $4N0P                                  
XM                             %4#1CI<1T%-15-<54U/4C4S,5Q73U)+
XM7$1%051(+DD  $H                                             
XM                     $8Z7$=!34537%5-3U(U,S%<5T]22UQ&24Q%4RY#
XM "Y#                                                        
XM        GB9&.EQ'04U%4UQ534]2-3,Q7%=/4DM<5$-)3RY# $,         
XM                                                         !X(
XM1CI<1T%-15-<54U/4C4S,5Q73U)+7$U37TU)4T,N0P                  
XM                                               5-48Z7$=!3453
XM7%5-3U(U,S%<5T]22UQ465!%4RY(                                
XM                                    P%Q&.EQ'04U%4UQ534]2-3,Q
XM7%=/4DM<1$5!5$@N0P  0P                                      
XM                            1CI<1T%-15-<54U/4C4S,5Q73U)+7$-2
XM14%412Y# $H                                                 
XM               " !( !P $  8  0 #  ( !0    @  P"9  "-  <     
XM             *@#     !^4             @($ "X +@ N "X IS+> 0  
XM                     -,D     %P-            X <)            
XM-!-)$P"!-                    (]:     ,!<     ,!<P%P         
XM              0 -@   $J,E!8  -R&E!80 $"RE!8  !BVDQ8  *NXDQ8 
XM .&-E!8  +9^DQ8  #)=E18  +"ADQ9D  P "@%G            90 !  !F
XM "   U!*1P!?<V-O<F5S  !R                      !G "          
XM                                  !H %  2E5.2P N0P N5$]0    
XM                                                            
X:                          #__P( &@  
X 
Xend
END_OF_FILE
if test 1715 -ne `wc -c <'ibmpc/TCPICK.TCU'`; then
    echo shar: \"'ibmpc/TCPICK.TCU'\" unpacked with wrong size!
fi
# end of 'ibmpc/TCPICK.TCU'
fi
if test -f 'ibmpc/make/ccthru.bat' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'ibmpc/make/ccthru.bat'\"
else
echo shar: Extracting \"'ibmpc/make/ccthru.bat'\" \(78 characters\)
sed "s/^X//" >'ibmpc/make/ccthru.bat' <<'END_OF_FILE'
X@echo off
Xtouch %1.%2 > nul:
Xcopy %1.%2 ..\%2 > nul:
Xtouch ..\%2\%1.%2 > nul:
END_OF_FILE
if test 78 -ne `wc -c <'ibmpc/make/ccthru.bat'`; then
    echo shar: \"'ibmpc/make/ccthru.bat'\" unpacked with wrong size!
fi
# end of 'ibmpc/make/ccthru.bat'
fi
if test -f 'ibmpc/make/makefile.ibm' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'ibmpc/make/makefile.ibm'\"
else
echo shar: Extracting \"'ibmpc/make/makefile.ibm'\" \(185 characters\)
sed "s/^X//" >'ibmpc/make/makefile.ibm' <<'END_OF_FILE'
XCFLAG =	$(FLAG)
X
XINC =	ms_ansi.h
X
X.c.$(OBJ):
X	cl -c $(CFLAG) -Fo$*.$(OBJ) $*.c > $*.$(REDIR)
X	..\ccthru $* $(OBJ)
X
Xms_ansi.$(OBJ):		ms_ansi.c $(INC)
X
Xms_misc.$(OBJ):		ms_misc.c $(INC)
X
END_OF_FILE
if test 185 -ne `wc -c <'ibmpc/make/makefile.ibm'`; then
    echo shar: \"'ibmpc/make/makefile.ibm'\" unpacked with wrong size!
fi
# end of 'ibmpc/make/makefile.ibm'
fi
if test -f 'ibmpc/make/makefile.src' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'ibmpc/make/makefile.src'\"
else
echo shar: Extracting \"'ibmpc/make/makefile.src'\" \(1243 characters\)
sed "s/^X//" >'ibmpc/make/makefile.src' <<'END_OF_FILE'
XCFLAG =	$(FLAG)
X
XINC =	\
X	config.h\
X	constant.h\
X	externs.h\
X	types.h
X
X.c.$(OBJ):
X	cl -c $(CFLAG) -Fo$*.$(OBJ) $*.c > $*.$(REDIR)
X	..\ccthru $* $(OBJ)
X
Xcreate.$(OBJ):		create.c $(INC)
X
Xcreature.$(OBJ):	creature.c $(INC)
X
Xdeath.$(OBJ):		death.c $(INC)
X
Xdesc.$(OBJ):		desc.c $(INC)
X
Xdungeon.$(OBJ):		dungeon.c $(INC)
X
Xeat.$(OBJ):		eat.c $(INC)
X
Xfiles.$(OBJ):		files.c $(INC)
X
Xgenerate.$(OBJ):	generate.c $(INC)
X
Xhelp.$(OBJ):		help.c $(INC)
X
Xio.$(OBJ):		io.c $(INC)
X
Xmagic.$(OBJ):		magic.c $(INC)
X
Xmain.$(OBJ):		main.c $(INC)
X
Xmisc1.$(OBJ):		misc1.c $(INC)
X
Xmisc2.$(OBJ):		misc2.c $(INC)
X
Xmonsters.$(OBJ):	monsters.c $(INC)
X
Xmoria1.$(OBJ):		moria1.c $(INC)
X
Xmoria2.$(OBJ):		moria2.c $(INC)
X
Xpotions.$(OBJ):		potions.c $(INC)
X
Xprayer.$(OBJ):		prayer.c $(INC)
X
Xrecall.$(OBJ):		recall.c $(INC)
X
Xrnd.$(OBJ):		rnd.c $(INC)
X
Xsave.$(OBJ):		save.c $(INC)
X
Xscrolls.$(OBJ):		scrolls.c $(INC)
X
Xsets.$(OBJ):		sets.c $(INC)
X
Xsignals.$(OBJ):		signals.c $(INC)
X
Xspells.$(OBJ):		spells.c $(INC)
X
Xstaffs.$(OBJ):		staffs.c $(INC)
X
Xstore1.$(OBJ):		store1.c $(INC)
X
Xstore2.$(OBJ):		store2.c $(INC)
X
Xtreasure.$(OBJ):	treasure.c $(INC)
X
Xundef.$(OBJ):		undef.c $(INC)
X
Xvariable.$(OBJ):	variable.c $(INC)
X
Xwands.$(OBJ):		wands.c $(INC)
X
Xwizard.$(OBJ):		wizard.c $(INC)
X
END_OF_FILE
if test 1243 -ne `wc -c <'ibmpc/make/makefile.src'`; then
    echo shar: \"'ibmpc/make/makefile.src'\" unpacked with wrong size!
fi
# end of 'ibmpc/make/makefile.src'
fi
if test -f 'ibmpc/turbo_c.inf' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'ibmpc/turbo_c.inf'\"
else
echo shar: Extracting \"'ibmpc/turbo_c.inf'\" \(845 characters\)
sed "s/^X//" >'ibmpc/turbo_c.inf' <<'END_OF_FILE'
X
XCompiler Stats :
XTurboC on Compaq 386sx w/ 1Meg memory & 20Meg HD
XC calling convention
X80286 code generation
XHUGE model used
Xoptimized for size
XCompiler Defines : MSDOS;DEBUG
X
XWhen compiling PC-Curses, make sure the .obj code is the same model as the
Xsource code for Umoria.  Also, a size modifier letter must start the name
Xof the .lib file (HCURSES.LIB for instance).
X
XNote that reset_term() is commented out in death.c and io.c.  This is
Xbecause calling this function causes moria to die horribly when moria is
Xcompiled by Turbo C.  I do know what the problem is, so, for now, reset_term()
Xis never called for the Turbo C version.
X
XThe file tcio.c is an untested file meant to replace the source/io.c file.
XIf you use tcio.c instead of source/io.c, you do not need PC-Curses.
XThe result is a program a bit smaller, and perhaps a bit faster.
END_OF_FILE
if test 845 -ne `wc -c <'ibmpc/turbo_c.inf'`; then
    echo shar: \"'ibmpc/turbo_c.inf'\" unpacked with wrong size!
fi
# end of 'ibmpc/turbo_c.inf'
fi
if test -f 'ibmpc/umoria.prj' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'ibmpc/umoria.prj'\"
else
echo shar: Extracting \"'ibmpc/umoria.prj'\" \(269 characters\)
sed "s/^X//" >'ibmpc/umoria.prj' <<'END_OF_FILE'
XCREATE
XCREATURE
XDEATH
XDESC
XDUNGEON
XEAT
XFILES
XGENERATE
XHELP
XTCIO
XMAGIC
XMAIN
XMISC1
XMISC2
XMISC3
XMISC4
XMONSTERS
XMORIA1
XMORIA2
XMORIA3
XMORIA4
XMS_MISC
XPLAYER
XPOTIONS
XPRAYER
XRECALL
XRND
XSAVE
XSCROLLS
XSETS
XSIGNALS
XSPELLS
XSTAFFS
XSTORE1
XSTORE2
XTABLES
XTREASURE
XVARIABLE
XWANDS
XWIZARD
END_OF_FILE
if test 269 -ne `wc -c <'ibmpc/umoria.prj'`; then
    echo shar: \"'ibmpc/umoria.prj'\" unpacked with wrong size!
fi
# end of 'ibmpc/umoria.prj'
fi
if test -f 'mac/ERRORS' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'mac/ERRORS'\"
else
echo shar: Extracting \"'mac/ERRORS'\" \(560 characters\)
sed "s/^X//" >'mac/ERRORS' <<'END_OF_FILE'
Xmac.c:
Xcheck_debugger(): all code commented out for THINK_C
Xunloadsegments(): all code commented out for THINK_C
Xmain(): code for unloading the screenmanager is commented out for THINK_C
X
Xmacio.c:
Xget_check(): change x,y to short?
X
Xmacmoria.r: no SIZE resource, and no help text
Xthe help text, as a precompiled resource, is available in the file
Xmiscrsrc.hqx  This resource has incorrect version numbers, so you should
Xedit it before you use it to change the version numbers from 5.2.2 to
X5.5.
X
XThere should not be any version numbers as text in any Mac file.
END_OF_FILE
if test 560 -ne `wc -c <'mac/ERRORS'`; then
    echo shar: \"'mac/ERRORS'\" unpacked with wrong size!
fi
# end of 'mac/ERRORS'
fi
if test -f 'mac/README' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'mac/README'\"
else
echo shar: Extracting \"'mac/README'\" \(1611 characters\)
sed "s/^X//" >'mac/README' <<'END_OF_FILE'
X1.	To build Moria on the mac, you will need MPW C 3.0 or better.
X
X2.	The top directory of the source distribution is denoted "{DistDir}"
X	in the rest of this document.  It has as an immediate subdirectory
X	"mac" which contains the file you are now reading, and an MPW script
X	called "Install".
X
X3.	The "Install" script configures the files of the source distribution
X	for use with MPW.  It also creates a new directory on your disk into
X	which the files required to build the game will be moved (since they
X	are spread out across several directories as received).  Invoke this
X	script as follows --
X
X	a.	Set the directory to "{DistDir}mac"
X	b.	Execute the command "Install {DistDir} {NewDir}" where "{NewDir}"
X		is the name of the directory you want created to hold all the
X		source required to build to mac version of the game.
X
X4.	The mac version of the game uses two subroutine packages which must
X	be built first as follows --
X
X	a.	Set the directory to "{DistDir}mac:scrnmgr"
X	b.	Build (cmd-B) "Install" (or execute "BuildProgram Install").
X	c.	Set the directory to "{DistDir}mac:dumpres"
X	d.	Build (cmd-B) "Install" (or execute "BuildProgram Install").
X
X5.	Now the game can be built as follows --
X
X	a.	Set the directory to "{NewDir}"
X	b.	Build (cmd-B) "Moria" (or execute "BuildProgram Moria").
X	c.	If Moria doesn't seem to work right, it is probably because
X		the resource and text files weren't appended to the application.
X		Either delete the file Moria and rebuild, or else execute by hand
X		the commands which append the resources and text files.
X
X*********
X
XMoria can also be built with Think C now.
END_OF_FILE
if test 1611 -ne `wc -c <'mac/README'`; then
    echo shar: \"'mac/README'\" unpacked with wrong size!
fi
# end of 'mac/README'
fi
if test -f 'mac/dumpres/DumpRes.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'mac/dumpres/DumpRes.h'\"
else
echo shar: Extracting \"'mac/dumpres/DumpRes.h'\" \(672 characters\)
sed "s/^X//" >'mac/dumpres/DumpRes.h' <<'END_OF_FILE'
X/* mac/dumpres/DumpRes.h: prototypes for DumpRes.c
X
X   Copyright (c) 1989-1991 Curtis McCauley, James E. Wilson
X
X   This software may be copied and distributed for educational, research, and
X   not for profit purposes provided that this copyright and statement are
X   included in all such copies. */
X
Xvoid DumpRes(
X	char *fileName,
X	long resType, long resID, char *resName, long resAttrs,
X	char *elemPtr, unsigned long elemCnt, unsigned long elemSiz,
X	void (*strProc)(char *elem, void (*proc)(char **str))
X);
X
Xlong LoadRes(
X	char **memPtr,
X	long resType, long resID,
X	unsigned long elemCnt, unsigned long elemSiz,
X	void (*strProc)(char *elem, void (*proc)(char **str))
X);
END_OF_FILE
if test 672 -ne `wc -c <'mac/dumpres/DumpRes.h'`; then
    echo shar: \"'mac/dumpres/DumpRes.h'\" unpacked with wrong size!
fi
# end of 'mac/dumpres/DumpRes.h'
fi
if test -f 'mac/dumpres/MakeFile.hqx' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'mac/dumpres/MakeFile.hqx'\"
else
echo shar: Extracting \"'mac/dumpres/MakeFile.hqx'\" \(1515 characters\)
sed "s/^X//" >'mac/dumpres/MakeFile.hqx' <<'END_OF_FILE'
X(This file must be converted with BinHex 4.0)
X:#%eKDf9'D@aP!&4&@&408&-J!3!!!!+E!!!"IV2*3dp`G'P[ER-J25!YE@*R)'p
XZ$8a2F(4TEfjc)$d0$84eEA"5CA-ZEb$%)%4eEA"5CA-ZB`d*3b"l3dp`G'P[ER0
Xp)#e[)%4eEA"5CA-ZEb"%G@e`8Q9c,Q-0$84eEA"5CA08CA0d,Q-ZEb$%)%4eEA"
X5CA08CA0d,Q-0#8-JHd02F(4TEfjcI5"%G@e`8Q9c9'9cG#jM$3N06f*UC@0dFb!
Xp)%4eEA"5CA08CA0d,Q-ZEb"%G@e`8Q9c,Qm0$5-J5PFk)%05G@jdD@eP,QmJB@j
XN)%0*ER4PFQCKBf8ZEb"bC@e[GQ9N)(0TEQ0P)%NJGf&c)(4[E'3JG'KKG#"dD'9
Xj)'&bC5"[BR0[E'9dC3e%G@e`8Q9c9'9cG#$%a#"l6f*UC@0dFhd0#8aTEQXJHda
X2F(4TEfjcI5!YGb!YBb!R69"6)#FJ,A3J69"69##f$3N*HdpLDQ9MG(0p),B0#3N
XLHdaTBR*KFQPPFhdLFh4eBR-ZEb#f$3N*)RY-D@*bBA*TCA0p)P*eER4TE@8ZEb#
Xf$3N*)RY-D@*bBA*TCA0p)NPZG'9bCQ&MC5j[),B0#3NLHd0-D@*bBA*TCA0p)P0
XdC%0-D@)ZEb#f$3N*)RY$6'PLFQ&bD@9cI5*$8d&148aTBLj[),B0#3NLHd0-D@*
XbBA*TCA0p)NeKG'JZEb#f$3N*)RY-D@*bBA*TCA0p)P4[Efa-D@*c,QmJYJd*#5e
X[)%4eEA"5CA08CA0d$3e*ER0dB@aX)-3J4(9YF&*PFbjS)%4eEA"5CA-ZE`d*4(9
X`E'PMBA4P)#ej)%4eEA"5CA-ZD#!LHd0*EQ0XG@4PFhdL$3P%GA"XD@0KG'8J,AN
XJ4(9YF&*PFbj[)#*l3daTBR*KFQPPFhdL$6Yi!!!"!!!!!8`!!!"-!!!!-N4eEA"
X5CA08CA0d,QeKDf80)b!J)&4KFQGPG$SJ)#!J$8eKDf9'D@aP,Q4eEA!#!!!!9%9
XB9%e38b!!!!!!!!!!!&4&@&408&-J!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!SS@
X$J3!!!TX!!!&qBA*MD#!e,#!a16Jj)$%b1M)a1M3d$3e%G@e`8Q9c9'9cG#jM,Qm
XJa#"%G@e`8Q9c9'9cG#jYB@YP)%4eEA"5CA08CA0d,Q-0#8-J4(9YF&*PFe4PFh3
XZB`e%G@e`8Q9c,Q-ZEb$%)%4eEA"5CA08CA0d,QeKDf8J4(9YF&*PFbjM$3!!!%J
X!#8e[EQ&ME`##!!-!#3!+Irm!$J!*!!Trr`#(!)%!JRrr!!B!"!!q!!m"d`*c!$i
X!$`(6!R1LKBLX!!!#!J!!!J)!!!!!!3!!!!%!!!!"6!!!!%`!!!!b!#eT3!Kd!!!
X!(!!b!!"08&05!!!!#J2Yrrm!!!!!!#jV*$e,:
END_OF_FILE
if test 1515 -ne `wc -c <'mac/dumpres/MakeFile.hqx'`; then
    echo shar: \"'mac/dumpres/MakeFile.hqx'\" unpacked with wrong size!
fi
# end of 'mac/dumpres/MakeFile.hqx'
fi
if test -f 'mac/scrnmgr/ERRORS' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'mac/scrnmgr/ERRORS'\"
else
echo shar: Extracting \"'mac/scrnmgr/ERRORS'\" \(360 characters\)
sed "s/^X//" >'mac/scrnmgr/ERRORS' <<'END_OF_FILE'
XScrnMgr.c:
X
XWNETest(), the THINK C code always returns false, hence the code is not
X	multifinder friendly
XAdjustPortBounds(), the THINK C code does not work right for color and/or
X	multiple monitors
XGetScreenBounds(), the THINK C code does not handle multiple monitors
X
XScrnTest.ro:
X
Xdoesn't have the multifinder SIZE resource, hence not multifinder friendly
X
END_OF_FILE
if test 360 -ne `wc -c <'mac/scrnmgr/ERRORS'`; then
    echo shar: \"'mac/scrnmgr/ERRORS'\" unpacked with wrong size!
fi
# end of 'mac/scrnmgr/ERRORS'
fi
if test -f 'mac/scrnmgr/README' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'mac/scrnmgr/README'\"
else
echo shar: Extracting \"'mac/scrnmgr/README'\" \(187 characters\)
sed "s/^X//" >'mac/scrnmgr/README' <<'END_OF_FILE'
XThe *.r files are input files for MPW's Rez program.
XThe *.ro files are input files for the old resource compiler distributed
Xwith Think C.
X
XThe *.r files are better than the *.ro files.
END_OF_FILE
if test 187 -ne `wc -c <'mac/scrnmgr/README'`; then
    echo shar: \"'mac/scrnmgr/README'\" unpacked with wrong size!
fi
# end of 'mac/scrnmgr/README'
fi
if test -f 'mac/scrnmgr/ScrnTest.ro' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'mac/scrnmgr/ScrnTest.ro'\"
else
echo shar: Extracting \"'mac/scrnmgr/ScrnTest.ro'\" \(1139 characters\)
sed "s/^X//" >'mac/scrnmgr/ScrnTest.ro' <<'END_OF_FILE'
XScrnTest.rsrc
X????????
X
X*/*	Copyright (C) Curtis McCauley, 1989.  All rights reserved.
X*
X*	You may copy this subroutine package freely, modify it as you desire,
X*	and distribute it at will, as long as the copyright notice in the source
X*	material is not disturbed, excepting that no one may use this package or
X*	any part of it for commercial purposes of any kind without the express
X*	written consent of its author. */
X*
X*#include "Types.r"
X
X
XINCLUDE ScrnMgr.rsrc
X
X
XTYPE STR
XAbout Title, 128
XAbout ScrnTest\C9
X
X
XTYPE DITL
XDummy Alert, 1024
X2
X
Xbutton
X88 224 108 284
XOK
X
XstaticText disabled
X8 64 72 288
XThis is a dummy alert.
X
X
XTYPE ALRT
XDummy Alert, 1024
X40 42 158 352
X1024
X5555
X
XTYPE MENU
XScrnTest, 133
XScrnTest
XX Out
XDummy Alert/A
X
X
XTYPE MENU
XScrnTest (No Keys), 233
XScrnTest
XX Out
XDummy Alert
X
X
X*resource 'SIZE' (-1) {
X*	dontSaveScreen,
X*	acceptSuspendResumeEvents,
X*	enableOptionSwitch,
X*	canBackground,
X*	multiFinderAware,
X*	backgroundAndForeground,
X*	dontGetFrontClicks,
X*	ignoreChildDiedEvents,
X*	not32BitCompatible,
X*	reserved,
X*	reserved,
X*	reserved,
X*	reserved,
X*	reserved,
X*	reserved,
X*	reserved,
X*	128 * 1024,
X*	128 * 1024
X*};
END_OF_FILE
if test 1139 -ne `wc -c <'mac/scrnmgr/ScrnTest.ro'`; then
    echo shar: \"'mac/scrnmgr/ScrnTest.ro'\" unpacked with wrong size!
fi
# end of 'mac/scrnmgr/ScrnTest.ro'
fi
if test -f 'misc/funckeys.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'misc/funckeys.h'\"
else
echo shar: Extracting \"'misc/funckeys.h'\" \(1110 characters\)
sed "s/^X//" >'misc/funckeys.h' <<'END_OF_FILE'
X/* funckeys.h*/
X/* default mappings for SUN-3 function keys */
X
X#define FCHAR '['
X
Xchar keyarray[50];
Xchar rkeys[] = {
X    INPUT_ERROR,			/* nothing */
X    INPUT_ERROR,			/* r1 */
X    INPUT_ERROR,			/* r2 */
X    INPUT_ERROR,			/* r3 */
X    '7',			/* r4 */
X    '8',			/* r5 */
X    '9',			/* r6 */
X    '4',			/* r7 */
X    '5',			/* r8 */
X    '6',			/* r9 */
X    '1',			/* r10 */
X    '2',			/* r11 */
X    '3',			/* r12 */
X    INPUT_ERROR,			/* r13 */
X    INPUT_ERROR,			/* r14 */
X    '.'				/* r15 */
X};
X
Xchar lkeys[] = {
X    INPUT_ERROR,
X    INPUT_ERROR,			/* l1 */
X    INPUT_ERROR,			/* l2 */
X    INPUT_ERROR,			/* l3 */
X    INPUT_ERROR,			/* l4 */
X    INPUT_ERROR,			/* l5 */
X    INPUT_ERROR,			/* l6 */
X    INPUT_ERROR,			/* l7 */
X    INPUT_ERROR,			/* l8 */
X    INPUT_ERROR,			/* l9 */
X    INPUT_ERROR				/* l10 */
X};
X
Xchar fkeys[] = {
X    INPUT_ERROR,
X    INPUT_ERROR,			/* f1 */
X    INPUT_ERROR,			/* f2 */
X    INPUT_ERROR,			/* f3 */
X    INPUT_ERROR,			/* f4 */
X    INPUT_ERROR,			/* f5 */
X    INPUT_ERROR,			/* f6 */
X    INPUT_ERROR,			/* f7 */
X    INPUT_ERROR,			/* f8 */
X    INPUT_ERROR,			/* f9 */
X};
END_OF_FILE
if test 1110 -ne `wc -c <'misc/funckeys.h'`; then
    echo shar: \"'misc/funckeys.h'\" unpacked with wrong size!
fi
# end of 'misc/funckeys.h'
fi
if test -f 'misc/mabbrev' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'misc/mabbrev'\"
else
echo shar: Extracting \"'misc/mabbrev'\" \(1326 characters\)
sed "s/^X//" >'misc/mabbrev' <<'END_OF_FILE'
Xglobal
X ESC-[-2-1-0-z	R3
X ESC-[-2-0-2-z	L8
X ESC-[-2-3-1-z	F5
X ESC-[-2-3-6-z	F8
X ESC-[-M-A	DoubleMouseLeft
X ESC-[-M-B	DoubleMouseMiddle
X ESC-[-M-C	DoubleMouseRight
X ESC-[-2-2-0-z	R13
X ESC-[-2-1-2-z	R5
X ESC-[-2-0-4-z	L9
X ESC-[-M-^A	MouseLeft
X ESC-[-2-3-3-z	F6
X ESC-[-M-^B	MouseMiddle
X ESC-[-2-2-5-z	F2
X ESC-[-M-^C	MouseRight
X ESC-[-2-0-9-z	R2
X ESC-[-M-^E	ShiftMouseLeft
X ESC-[-M-^F	ShiftMouseMiddle
X ESC-[-M-^G	ShiftMouseRight
X ESC-[-1-9-4-z	L2
X ESC-[-M-^I	CtrlMouseLeft
X ESC-[-M-^J	CtrlMouseMiddle
X ESC-[-M-^K	CtrlMouseRight
X ESC-[-2-0-1-z	L7
X ESC-[-M-^Q	MetaMouseLeft
X ESC-[-M-^R	MetaMouseMiddle
X ESC-[-M-^S	MetaMouseRight
X ESC-[-2-2-2-z	R15
X ESC-[-2-1-4-z	R7
X ESC-[-2-0-6-z	L10
X ESC-[-2-3-5-z	F7
X ESC-[-2-2-7-z	F4
X ESC-[-1-9-6-z	L4
X ESC-[-2-1-1-z	R4
X ESC-[-2-2-4-z	F1
X ESC-[-2-1-6-z	R9
X ESC-[-2-0-8-z	R1
X ESC-[-2-3-7-z	F9
X ESC-[-2-2-9-z	F4
X ESC-[-1-9-8-z	L5
X ESC-[-M-!	ModelineMouseLeft
X ESC-[-2-0-0-z	L6
X ESC-[-M-"	ModelineMouseMiddle
X ESC-[-M-#	ModelineMouseRight
X ESC-[-2-1-3-z	R6
X ESC-[-M-'	ShiftModelineMouseRight
X ESC-[-2-2-6-z	F3
X ESC-[-M-)	CtrlModelineMouseLeft
X ESC-[-A	R8
X ESC-[-2-1-8-z	R11
X ESC-[-B	R14
X ESC-[-C	R12
X ESC-[-D	R10
X ESC-[-1-9-5-z	L3
Xnormal-mode
Xtext-mode
Xelec-c
X main	main
X default	default
X do	do
X while	while
X else	else
X if	if
X switch	switch
X argc	argc
X for	for
X #d	#define
X #i	#include
X case	case
X
END_OF_FILE
if test 1326 -ne `wc -c <'misc/mabbrev'`; then
    echo shar: \"'misc/mabbrev'\" unpacked with wrong size!
fi
# end of 'misc/mabbrev'
fi
if test -f 'util/README' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/README'\"
else
echo shar: Extracting \"'util/README'\" \(952 characters\)
sed "s/^X//" >'util/README' <<'END_OF_FILE'
Xmap.c is obsolete `print map to file' code from 4.87, superceded by
Xthe reduced map display, and the improved Where/Locate code
X
Xmc is a monster compiler by Joseph N Hall.  It would be nice if this
Xwas used to generate the monster.c file.  This would be more maintainable
Xthat the current method.
X
Xmcheck.inf: my and David J. Grabiner's ideas on monster consistency, and
Xchecks that should be added to the monster compiler
X
Xmonster.cng: a list of some of the changes to the monster.c file, is this
Xstill needed?
X
Xprintit.c: some code which will pretty print item/monster descriptions,
Xwritten by Carl Hommel
X
Xscores: two standalone programs for dealing with scorefiles, one to print
Xscorefiles, and another to delete a single record from a scorefile
X
Xshowmon.c: obsolete code from 4.87 for printing the monster dictionary,
Xsuperceded by the monster memories
X
Xweapons: a program which roughly indicates which weapons are best, written
Xby Wayne Schlitt
X
END_OF_FILE
if test 952 -ne `wc -c <'util/README'`; then
    echo shar: \"'util/README'\" unpacked with wrong size!
fi
# end of 'util/README'
fi
if test -f 'util/mc/ERRORS' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/mc/ERRORS'\"
else
echo shar: Extracting \"'util/mc/ERRORS'\" \(334 characters\)
sed "s/^X//" >'util/mc/ERRORS' <<'END_OF_FILE'
Xbefore calling writecreatures in main(), should call a subroutine
Xverifycreatures, i.e. check to make sure no conflicting bits are set
X
Xwould prefer 'a' for cchar instead of "a"
X
Xprefer exp over xp
X
Xprefer 2d4 instead of 2 d 4
X
Xshould be able to specify none/void or similar for empty slots
X
Xneed descriptions for all of the monsters
END_OF_FILE
if test 334 -ne `wc -c <'util/mc/ERRORS'`; then
    echo shar: \"'util/mc/ERRORS'\" unpacked with wrong size!
fi
# end of 'util/mc/ERRORS'
fi
if test -f 'util/mc/Makefile' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/mc/Makefile'\"
else
echo shar: Extracting \"'util/mc/Makefile'\" \(326 characters\)
sed "s/^X//" >'util/mc/Makefile' <<'END_OF_FILE'
XCFLAGS = -g
X
Xmc : creaturec.o symtab.o
X	cc creaturec.o symtab.o -o mc -lm
X
Xcreaturec.o : creaturec.y st.h generic.h
X	yacc creaturec.y
X	cc -c $(CFLAGS) y.tab.c
X	rm y.tab.c
X	mv y.tab.o creaturec.o
X
Xsymtab.o : symtab.c st.h generic.h
X	cc -c $(CFLAGS) symtab.c
X
Xlintout : symtab.c creaturec.y
X	lint symtab.c creaturec.y > lintout
END_OF_FILE
if test 326 -ne `wc -c <'util/mc/Makefile'`; then
    echo shar: \"'util/mc/Makefile'\" unpacked with wrong size!
fi
# end of 'util/mc/Makefile'
fi
if test -f 'util/mc/attribut.txt' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/mc/attribut.txt'\"
else
echo shar: Extracting \"'util/mc/attribut.txt'\" \(1179 characters\)
sed "s/^X//" >'util/mc/attribut.txt' <<'END_OF_FILE'
X
XDEFENSE attributes:
X
X	dragon
X	animal
X	evil
X	undead
X	frost
X	fire
X	poison
X	acid
X	light
X	stone
X	bit_9
X	bit_10
X	no_sleep
X	infra
X	max_hp
X	bit_15
X
XMOVE attributes:
X
X	attack_only
X	move_normal
X	bit_2
X	random_20
X	random_40
X	random_75
X
XSPECIAL attributes:
X
X	invisible
X	open_door
X	phase
X	eats_other
X	picks_up
X	multiply
X	win_creature
X
XTREASURE attributes:
X
X	carry_obj
X	carry_gold
X	has_random_60
X	has_random_90
X	has_1d2_obj
X	has_2d2_obj
X	has_4d2_obj
X
XSPELL attributes:
X
X	tel_short
X	tel_long
X	tel_to
X	lght_wnd
X	ser_wnd
X	hold_per
X	blind
X	confuse
X	fear
X	summon_mon
X	summon_und
X	slow_per
X	drain_mana
X	bit_17
X	bit_18
X
XBREATH attributes:
X
X	light
X	gas
X	acid
X	frost
X	fire
X
XATTACK TYPES:
X
X	normal_damage
X	lose_str
X	confusion
X	cause_fear
X	fire_damage
X	acid_damage
X	cold_damage
X	lightning_damage
X	corrosion
X	cause_blindness
X	cause_paralysis
X	steal_money
X	steal_obj
X	poison
X	lose_dex
X	lose_con
X	lose_int
X	lose_wis
X	lose_exp
X	aggravation
X	disenchant
X	eat_food
X	eat_light
X	eat_charges
X	blank
X
XATTACK DESCRIPTIONS:
X
X	hits
X	bites
X	claws
X	stings
X	touches
X	kicks
X	gazes
X	breathes
X	spits
X	wails
X	embraces
X	crawls_on
X	releases_spores
X	begs_for_money
X	slimes
X	crushes
X	tramples
X	drools_on
X	insults
X	is_repelled
X
END_OF_FILE
if test 1179 -ne `wc -c <'util/mc/attribut.txt'`; then
    echo shar: \"'util/mc/attribut.txt'\" unpacked with wrong size!
fi
# end of 'util/mc/attribut.txt'
fi
if test -f 'util/mc/generic.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/mc/generic.h'\"
else
echo shar: Extracting \"'util/mc/generic.h'\" \(1130 characters\)
sed "s/^X//" >'util/mc/generic.h' <<'END_OF_FILE'
X/* util/mc/generic.h: useful generic union type, used here and there
X *
X * Copyright (c) 1989 by Joseph Hall.
X * All rights reserved except as stated below.
X *
X * Jim Wilson and any other holders of copyright on substantial portions
X * of Moria are granted rights to use, modify, and distribute this program
X * as they see fit, so long as the terms of its use, modification and/or
X * distribution are no less restrictive than those applying to Moria,
X * version 5.0 or later, itself, and so long as this use is related to
X * the further development of Moria.
X *
X * Anyone having any other use in mind for this code should contact the
X * author at 4116 Brewster Dr., Raleigh NC 27606 (jnh@ecemwl.ncsu.edu).
X */
X
X#ifndef _GENERIC_H_
X#define _GENERIC_H_
X
Xtypedef union {
X	int	i;
X	long	l;
X	float	f;
X	double	d;
X	char	c;
X	char	*s;
X	char	**s_A;
X	char	*v;
X	} generic_t, *generic_Pt;
X
X#define GEN_TYPE_NONE 0
X#define GEN_TYPE_INT 1
X#define GEN_TYPE_LONG 2
X#define GEN_TYPE_FLOAT 3
X#define GEN_TYPE_DOUBLE 4
X#define GEN_TYPE_CHAR 5
X#define GEN_TYPE_STRING 6
X#define GEN_TYPE_STRING_A 7
X#define GEN_TYPE_VOID_PTR 8
X
X#endif /* _GENERIC_H_ */
END_OF_FILE
if test 1130 -ne `wc -c <'util/mc/generic.h'`; then
    echo shar: \"'util/mc/generic.h'\" unpacked with wrong size!
fi
# end of 'util/mc/generic.h'
fi
if test -f 'util/printit/Makefile' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/printit/Makefile'\"
else
echo shar: Extracting \"'util/printit/Makefile'\" \(226 characters\)
sed "s/^X//" >'util/printit/Makefile' <<'END_OF_FILE'
XCFLAGS= -c
X
Xall:    pr_items pr_monst
X
Xpr_items:    pr_items.c treasure.o
X	cc pr_items.c treasure.o -o pr_items
X	pr_items > items
X
Xpr_monst:    pr_monst.c monsters.o
X	cc pr_monst.c monsters.o -o pr_monst
X	pr_monst > monsters
X
END_OF_FILE
if test 226 -ne `wc -c <'util/printit/Makefile'`; then
    echo shar: \"'util/printit/Makefile'\" unpacked with wrong size!
fi
# end of 'util/printit/Makefile'
fi
if test -f 'util/scores/Makefile' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/scores/Makefile'\"
else
echo shar: Extracting \"'util/scores/Makefile'\" \(218 characters\)
sed "s/^X//" >'util/scores/Makefile' <<'END_OF_FILE'
Xall: prscore delscore
X
X# Use the player.c from ../../source
Xprscore: print.o player.o
X	cc -o prscore print.o player.o
X
Xdelscore: delete.o
X	cc -o delscore delete.o
X
Xclean:
X	rm delscore delete.o prscore print.o player.o
END_OF_FILE
if test 218 -ne `wc -c <'util/scores/Makefile'`; then
    echo shar: \"'util/scores/Makefile'\" unpacked with wrong size!
fi
# end of 'util/scores/Makefile'
fi
if test -f 'util/weapons/ERRORS' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/weapons/ERRORS'\"
else
echo shar: Extracting \"'util/weapons/ERRORS'\" \(371 characters\)
sed "s/^X//" >'util/weapons/ERRORS' <<'END_OF_FILE'
Xthe program is a bit simplistic, as it does not consider monster AC,
Xand does not correctly handle weapons that are too heavy to wield properly
X
Xthe README, dragon.inf, and weapons.lst files are probably out of date,
Xand need to be updated
X
Xthe README file contains info that doesn't belong here, perhaps create a
Xhints file in the doc directory that contains this info?
END_OF_FILE
if test 371 -ne `wc -c <'util/weapons/ERRORS'`; then
    echo shar: \"'util/weapons/ERRORS'\" unpacked with wrong size!
fi
# end of 'util/weapons/ERRORS'
fi
if test -f 'util/weapons/Makefile' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/weapons/Makefile'\"
else
echo shar: Extracting \"'util/weapons/Makefile'\" \(239 characters\)
sed "s/^X//" >'util/weapons/Makefile' <<'END_OF_FILE'
X
Xall:	calchits
X
X
Xcalchits:	calchits.c
X	$(CC) $(CFLAGS) $@.c $(LDFLAGS) -o $@
X
Xclean:
X	-rm -f >&/dev/null *.o
X
Xdist:
X	shar README Makefile calchits.c dragon.inf weapon.lst \
X	     mkallwpn mkallwpn.lst highchar.in lowchar.in >calchit.shr
X
X
END_OF_FILE
if test 239 -ne `wc -c <'util/weapons/Makefile'`; then
    echo shar: \"'util/weapons/Makefile'\" unpacked with wrong size!
fi
# end of 'util/weapons/Makefile'
fi
if test -f 'util/weapons/highchar.in' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/weapons/highchar.in'\"
else
echo shar: Extracting \"'util/weapons/highchar.in'\" \(858 characters\)
sed "s/^X//" >'util/weapons/highchar.in' <<'END_OF_FILE'
X36
X44
X160      1d8 10 10
X 95      1d9 10 10
X150      2d4 10 10
X140      3d4 10 10
X180      2d8 10 10
X170      3d4 10 10
X180      2d6 10 10
X160      2d6 10 10
X150      2d5 10 10
X 40      1d4 10 10
X110      1d7 10 10
X 20      1d4 10 10
X 30      1d5 10 10
X 15      1d4 10 10
X 12      1d4 10 10
X260      4d5 10 10
X170      1d10 10 10
X150      2d6 10 10
X 30      1d5 10 10
X190      2d6 10 10
X190      3d4 10 10
X 30      1d4 10 10
X120      3d4 10 10
X300      2d8 10 10
X130      1d10 10 10
X120      2d5 10 10
X120      2d4 10 10
X180      3d4 10 10
X150      2d6 10 10
X160      2d5 10 10
X 40      1d6 10 10
X 50      1d7 10 10
X 75      1d6 10 10
X 50      1d6 10 10
X100      1d7 10 10
X 80      1d6 10 10
X280      3d6 10 10
X200      3d6 10 10
X180      3d6 10 10
X240      4d5 10 10
X200      4d4 10 10
X280      4d6 10 10
X120      3d3 10 10
X100      1d3 10 10
X18/100 18/100
END_OF_FILE
if test 858 -ne `wc -c <'util/weapons/highchar.in'`; then
    echo shar: \"'util/weapons/highchar.in'\" unpacked with wrong size!
fi
# end of 'util/weapons/highchar.in'
fi
if test -f 'util/weapons/lowchar.in' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/weapons/lowchar.in'\"
else
echo shar: Extracting \"'util/weapons/lowchar.in'\" \(762 characters\)
sed "s/^X//" >'util/weapons/lowchar.in' <<'END_OF_FILE'
X10
X44
X160      1d8 3 3
X 95      1d9 3 3
X150      2d4 3 3
X140      3d4 3 3
X180      2d8 3 3
X170      3d4 3 3
X180      2d6 3 3
X160      2d6 3 3
X150      2d5 3 3
X 40      1d4 3 3
X110      1d7 3 3
X 20      1d4 3 3
X 30      1d5 3 3
X 15      1d4 3 3
X 12      1d4 3 3
X260      4d5 3 3
X170      1d10 3 3
X150      2d6 3 3
X 30      1d5 3 3
X190      2d6 3 3
X190      3d4 3 3
X 30      1d4 3 3
X120      3d4 3 3
X300      2d8 3 3
X130      1d10 3 3
X120      2d5 3 3
X120      2d4 3 3
X180      3d4 3 3
X150      2d6 3 3
X160      2d5 3 3
X 40      1d6 3 3
X 50      1d7 3 3
X 75      1d6 3 3
X 50      1d6 3 3
X100      1d7 3 3
X 80      1d6 3 3
X280      3d6 3 3
X200      3d6 3 3
X180      3d6 3 3
X240      4d5 3 3
X200      4d4 3 3
X280      4d6 3 3
X120      3d3 3 3
X100      1d3 3 3
X11 15
END_OF_FILE
if test 762 -ne `wc -c <'util/weapons/lowchar.in'`; then
    echo shar: \"'util/weapons/lowchar.in'\" unpacked with wrong size!
fi
# end of 'util/weapons/lowchar.in'
fi
if test -f 'util/weapons/medchar.in' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/weapons/medchar.in'\"
else
echo shar: Extracting \"'util/weapons/medchar.in'\" \(762 characters\)
sed "s/^X//" >'util/weapons/medchar.in' <<'END_OF_FILE'
X20
X44
X160      1d8 6 6
X 95      1d9 6 6
X150      2d4 6 6
X140      3d4 6 6
X180      2d8 6 6
X170      3d4 6 6
X180      2d6 6 6
X160      2d6 6 6
X150      2d5 6 6
X 40      1d4 6 6
X110      1d7 6 6
X 20      1d4 6 6
X 30      1d5 6 6
X 15      1d4 6 6
X 12      1d4 6 6
X260      4d5 6 6
X170      1d10 6 6
X150      2d6 6 6
X 30      1d5 6 6
X190      2d6 6 6
X190      3d4 6 6
X 30      1d4 6 6
X120      3d4 6 6
X300      2d8 6 6
X130      1d10 6 6
X120      2d5 6 6
X120      2d4 6 6
X180      3d4 6 6
X150      2d6 6 6
X160      2d5 6 6
X 40      1d6 6 6
X 50      1d7 6 6
X 75      1d6 6 6
X 50      1d6 6 6
X100      1d7 6 6
X 80      1d6 6 6
X280      3d6 6 6
X200      3d6 6 6
X180      3d6 6 6
X240      4d5 6 6
X200      4d4 6 6
X280      4d6 6 6
X120      3d3 6 6
X100      1d3 6 6
X18 18
END_OF_FILE
if test 762 -ne `wc -c <'util/weapons/medchar.in'`; then
    echo shar: \"'util/weapons/medchar.in'\" unpacked with wrong size!
fi
# end of 'util/weapons/medchar.in'
fi
if test -f 'util/weapons/mkallwpn' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'util/weapons/mkallwpn'\"
else
echo shar: Extracting \"'util/weapons/mkallwpn'\" \(383 characters\)
sed "s/^X//" >'util/weapons/mkallwpn' <<'END_OF_FILE'
X#!/bin/sh
X
X#
X# this shell script will generate a formated list of what all weapons will
X# do
X
Xin=$1
Xout=`basename $in .in`.out
X
Xecho -n "          Name                | Mblow | Blows | wt ratio |" >$out
Xecho    " dam | w/ critical |" >>$out
X
Xcalchits <$in \ |
X   sed -n -e "2,45p" | cut -c15-17,19-30,35-45,49-53,57- | \
X   paste -d" " mkallwpn.lst - | sort -t"|" -bnr +5 -6 >>$out
X
END_OF_FILE
if test 383 -ne `wc -c <'util/weapons/mkallwpn'`; then
    echo shar: \"'util/weapons/mkallwpn'\" unpacked with wrong size!
fi
chmod +x 'util/weapons/mkallwpn'
# end of 'util/weapons/mkallwpn'
fi
if test -f 'vms/ERRORS' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'vms/ERRORS'\"
else
echo shar: Extracting \"'vms/ERRORS'\" \(992 characters\)
sed "s/^X//" >'vms/ERRORS' <<'END_OF_FILE'
Xwhy does the VMS port need its own versions of the curses functions in
Xcbreak.c and getch.c?
X
Xfiles.c needs two restore_screen() calls to work properly?
X
Xclear_screen() in shell_out() after return from spawned process does
Xnot clear screen properly?
X
Xif <errno.h> is only included in files.c, and errno is defined in externs.h,
Xthen there is a 'psect' problem with errno?
X
XESCAPE is defined as Control-Z for compatibility with the VMS Moria versions,
Xbut this is not documented anywhere, note the define for ESCAPE in constant.h
X
X! and $ commands are aliases, but this is not documented
X
Xcurses puts vtxxx keypad into application mode, inkey() has some code
Xto convert keypad escape sequences back into numbers, this code may
Xcause strange behaviour if someone types a real ESCAPE character,
Xwhy does curses put the keypad in application mode in the first place?
X
Xrefresh() and clear() do not seem to work right, note the contorted code
Xin inkey() and clear_screen() to make these work right
END_OF_FILE
if test 992 -ne `wc -c <'vms/ERRORS'`; then
    echo shar: \"'vms/ERRORS'\" unpacked with wrong size!
fi
# end of 'vms/ERRORS'
fi
if test -f 'vms/README' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'vms/README'\"
else
echo shar: Extracting \"'vms/README'\" \(1613 characters\)
sed "s/^X//" >'vms/README' <<'END_OF_FILE'
XNOTE: ESCAPE is defined as Control-Z in constant.h to be more like the
Xoriginal VMS moria, this is not documented anyplace, so whenever the
Xdoc/program says escape type control_Z instead.   If you don't like this,
Xdelete the define for escape in constant.h (but you will probably have to
Xhit escape twice for it to work).
X
XIf you're building Moria on a VAX/VMS system, you'll need a C compiler
Xthat understands the 'defined()' macro.
X
X	Notes on VMS files:
X
X	getch.c - single character terminal input and related routines.
X
X	uexit.c	- shell for the exit() call, to prevent -NOMSG messages
X		from appearing when exiting the Moria program.
X
X	makefile. - for use if you have a Make utility.  I use Todd
X		Aven's VMSMAKE (with the unix options)
X
X	moria.opt - the options file for linking Moria.  (You do a
X		'link moria/opt' command to link the program)
X
X	descrip.mms - builds moria if you have the mms utility. (You do a
X		'mms/description=descrip.mms' to build it.)
X
X	debug.mms - builds moria to run under debug if you have the mms
X		utility. (You do a 'mms/description=debug.mms' to build
X		the debugger version.)
X
X	make.com - for those without make or mms, does all the compiles
X		and the final link of the program.
X
X        scores.fdl - file intended for use with CONVERT/FDL; the score
X                file needs to be created empty, then converted using
X                scores.fdl.  This is because moria expects it to be
X                stream/LF format.
X
XIn the config.h file, the files that moria uses are defined to be
Xon the logical device 'moria:'.  This will need to be defined before
Xyou can run Moria.
END_OF_FILE
if test 1613 -ne `wc -c <'vms/README'`; then
    echo shar: \"'vms/README'\" unpacked with wrong size!
fi
# end of 'vms/README'
fi
if test -f 'vms/make.com' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'vms/make.com'\"
else
echo shar: Extracting \"'vms/make.com'\" \(1228 characters\)
sed "s/^X//" >'vms/make.com' <<'END_OF_FILE'
X$ set verify
X$ cc create.c /obj=create.obj
X$ cc creature.c /obj=creature.obj
X$ cc death.c /obj=death.obj
X$ cc desc.c /obj=desc.obj
X$ cc dungeon.c /obj=dungeon.obj
X$ cc eat.c /obj=eat.obj
X$ cc files.c /obj=files.obj
X$ cc generate.c /obj=generate.obj
X$ cc help.c /obj=help.obj
X$ cc io.c /obj=io.obj
X$ cc magic.c /obj=magic.obj
X$ cc main.c /obj=main.obj
X$ cc misc1.c /obj=misc1.obj
X$ cc misc2.c /obj=misc2.obj
X$ cc misc3.c /obj=misc3.obj
X$ cc misc4.c /obj=misc4.obj
X$ cc monsters.c /obj=monsters.obj
X$ cc moria1.c /obj=moria1.obj
X$ cc moria2.c /obj=moria2.obj
X$ cc moria3.c /obj=moria3.obj
X$ cc moria4.c /obj=moria4.obj
X$ cc potions.c /obj=potions.obj
X$ cc player.c /obj=player.obj
X$ cc prayer.c /obj=prayer.obj
X$ cc recall.c /obj=recall.obj
X$ cc rnd.c /obj=rnd.obj
X$ cc save.c /obj=save.obj
X$ cc scrolls.c /obj=scrolls.obj
X$ cc sets.c /obj=sets.obj
X$ cc signals.c /obj=signals.obj
X$ cc spells.c /obj=spells.obj
X$ cc staffs.c /obj=staffs.obj
X$ cc store1.c /obj=store1.obj
X$ cc store2.c /obj=store2.obj
X$ cc tables.c /obj=tables.obj
X$ cc treasure.c /obj=treasure.obj
X$ cc variable.c /obj=variable.obj
X$ cc wands.c /obj=wands.obj
X$ cc wizard.c /obj=wizard.obj
X$ cc getch.c /obj=getch.obj
X$ cc uexit.c /obj=uexit.obj
X$ link moria/opt
END_OF_FILE
if test 1228 -ne `wc -c <'vms/make.com'`; then
    echo shar: \"'vms/make.com'\" unpacked with wrong size!
fi
# end of 'vms/make.com'
fi
if test -f 'vms/scores.fdl' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'vms/scores.fdl'\"
else
echo shar: Extracting \"'vms/scores.fdl'\" \(567 characters\)
sed "s/^X//" >'vms/scores.fdl' <<'END_OF_FILE'
XIDENT   "12-JUL-1990 11:05:15   VAX-11 FDL Editor"
X
XSYSTEM
X        SOURCE                  "VAX/VMS"
X
XFILE
X        BEST_TRY_CONTIGUOUS     no
X        CLUSTER_SIZE            3
X        CONTIGUOUS              no
X        EXTENSION               0
X        FILE_MONITORING         no
X        GLOBAL_BUFFER_COUNT     0
X        ORGANIZATION            sequential
X        PROTECTION              (system:RWED, owner:RWED, group:, world:RW)
X
XRECORD
X        BLOCK_SPAN              yes
X        CARRIAGE_CONTROL        carriage_return
X        FORMAT                  stream_LF
END_OF_FILE
if test 567 -ne `wc -c <'vms/scores.fdl'`; then
    echo shar: \"'vms/scores.fdl'\" unpacked with wrong size!
fi
# end of 'vms/scores.fdl'
fi
if test -f 'vms/uexit.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'vms/uexit.c'\"
else
echo shar: Extracting \"'vms/uexit.c'\" \(806 characters\)
sed "s/^X//" >'vms/uexit.c' <<'END_OF_FILE'
X/* vms/uexit.c: special exit command, to exit cleanly from VMS program.
X
X   Copyright (c) 1990-92 Joshua Delahunty, James E. Wilson
X
X   This software may be copied and distributed for educational, research, and
X   not for profit purposes provided that this copyright and statement are
X   included in all such copies. */
X
X/*	Unix programs usually return 0 for "good execution",
X	and 1 for "some problem occured."  In VMS, we WANT the
X	program to return a 1, or else we get an ugly
X	"%NONAME-W-NOMSG, Message number 00000000"
X	message upon image exit (yeech!).
X
X	So, we convert 0 exit codes to 1's, leaving all others alone.  */
X
Xvoid uexit(exitcode)
Xint exitcode;
X{
X	if (exitcode == 0)	/* On Unix, clean, on VMS, yeech! */
X		exit(1);	/* converted... */
X	else
X		exit(exitcode); /* returned unscathed... */
X}
END_OF_FILE
if test 806 -ne `wc -c <'vms/uexit.c'`; then
    echo shar: \"'vms/uexit.c'\" unpacked with wrong size!
fi
# end of 'vms/uexit.c'
fi
echo shar: End of archive 39 \(of 39\).
cp /dev/null ark39isdone
MISSING=""
for I in 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 ; do
    if test ! -f ark${I}isdone ; then
	MISSING="${MISSING} ${I}"
    fi
done
if test "${MISSING}" = "" ; then
    echo You have unpacked all 39 archives.
    echo "Now run "bldfiles.sh" to build split files"
    rm -f ark[1-9]isdone ark[1-9][0-9]isdone
else
    echo You still need to unpack the following archives:
    echo "        " ${MISSING}
fi
##  End of shell archive.
exit 0
