Path: uunet!zephyr.ens.tek.com!master!saab!billr
From: billr@saab.CNA.TEK.COM (Bill Randle)
Newsgroups: comp.sources.games
Subject: v14i080:  okbridge2 - computer-mediated bridge game, Part02/14
Message-ID: <3519@master.CNA.TEK.COM>
Date: 7 Sep 92 21:41:07 GMT
Sender: news@master.CNA.TEK.COM
Lines: 1311
Approved: billr@saab.CNA.TEK.COM

Submitted-by: mclegg@cs.UCSD.EDU (Matthew Clegg)
Posting-number: Volume 14, Issue 80
Archive-name: okbridge2/Part02
Supersedes: okbridge: Volume 13, Issue 16-22
Environment: BSD-derived Unix, NeXT, curses, sockets



#! /bin/sh
# This is a shell archive.  Remove anything before this line, then unpack
# it by saving it into a file and typing "sh file".  To overwrite existing
# files, type "sh file -c".  You can also feed this as standard input via
# unshar, or by typing "sh <file", e.g..  If this archive is complete, you
# will see the following message at the end:
#		"End of archive 2 (of 14)."
# Contents:  README MANIFEST help.h okbridge.man
# Wrapped by billr@saab on Mon Sep  7 14:33:35 1992
PATH=/bin:/usr/bin:/usr/ucb ; export PATH
if test -f 'README' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'README'\"
else
echo shar: Extracting \"'README'\" \(3922 characters\)
sed "s/^X//" >'README' <<'END_OF_FILE'
X
Xintro -- introduction to the okbridge program
XMatthew Clegg.  August 1990.
X
X
XGeneral Description
X------- -----------
X
XThe okbridge program is an interactive computer-mediated bridge game.
XIt allows four players at (not necessarily) different locations on the
Xinternet to participate in a game of rubber or Chicago (duplicate)
Xbridge.  The program handles the dealing, scoring and communication of
Xbids and plays.  It is screen oriented, although the screen display is
Xrather simplistic.
X
X
XCopyright Notice
X--------- ------
X
XCopyright (C) 1990-1992 by Matthew Clegg.  All Rights Reserved
X
XOKbridge is made available as a free service to the Internet.
XAccordingly, the following restrictions are placed on its use:
X
X1.  OKbridge may not be modified in any way without the explicit 
X    permission of Matthew Clegg.  
X
X2.  OKbridge may not be used in any way for commercial advantage.
X    It may not be placed on for-profit networks or on for-profit
X    computer systems.  It may not be bundled as part of a package
X    or service provided by a for-profit organization.
X
XIf you have questions about restrictions on the use of OKbridge,
Xwrite to mclegg@cs.ucsd.edu.
X
XDISCLAIMER:  The user of OKbridge accepts full responsibility for any
Xdamage which may be caused by OKbridge.
X
X
X
X
XSystem Requirements
X------ ------------
X
XThe program has been compiled and tested on a few SUN and VAX systems
Xrunning derivatives of BSD UNIX.  The okbridge program uses the
X"curses" library, which is available at most sites.  It also requires
Xthat the machine on which it is running be an internet site.  If you
Xobtained this software through the use of the 'ftp' program, then your
Xmachine is probably an internet site.  The source code is written in
Xthe C programming language.
X
X
XHistory
X-------
X
XMy interest in bridge began as an undergraduate at the University of
XCalifornia, Riverside, where I learned the game.  After some time, I
Xended up in Berkeley :-), while one of my best bridge-playing friends
Xsomehow wound up stuck in Oklahoma :-(.  But then a bridge program was
Xdiscovered archived somewhere on the net, and we happily continued
Xplaying.  When I later moved to Finland (my wife is Finnish :-), it
Xbecame impossible to use this program anymore.  So, I set out to write
Xa new bridge program which would correct the deficiencies of the old one.
X
XThe old bridge program was quite inspirational, but it was also rather
Xidiosyncratic.  Perhaps the difficulties with it can best be described
Xby the authors themselves:
X
X        This program provides communication between different
X        machines so that people can play bridge even they are
X        on different machine.  It is written by Shyan-Ming
X        Yuan and Jiang-Hsing Chu at University of Maryland,
X        College Park.  It was tested on Vaxes and Sun 3/50
X        running BSD 4.2 and BSD 4.3.  Since we don't have the
X        previlege to create a 'bridge daemon' as a normal
X        user, we decided to use 'talk daemon' instead.  The
X        underlying communication program is modified from the
X        'talk' program.  You will have confusion in trying to
X        connect to the others...
X
XIn particular, we found that the talk daemons on various systems were
Xoften incompatible.  So it was only possible for us to play when all
Xfour of us logged onto a single machine via telnet.  In writing the
Xnew program, I have abandoned the use of the 'talk daemon' in favor of
Xestablishing the network connections directly through operating system
Xcalls.  This has the advantage that it is universally standardized and
Xperhaps faster and more reliable.  Also, the user interface for the
Xold program was very unforgiving.  I have tried to correct this
Xdeficiency too.
X
X
X
XFurther Documentation
X------- -------------
X
XREADME.Install 
X  Instructions about how to compile and install the program on your system.
X
XREADME.Playing
X  Instructions about how to operate the program.
END_OF_FILE
if test 3922 -ne `wc -c <'README'`; then
    echo shar: \"'README'\" unpacked with wrong size!
fi
# end of 'README'
fi
if test -f 'MANIFEST' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'MANIFEST'\"
else
echo shar: Extracting \"'MANIFEST'\" \(1881 characters\)
sed "s/^X//" >'MANIFEST' <<'END_OF_FILE'
X   File Name		Archive #	Description
X-----------------------------------------------------------
X COPYRIGHT                 14	
X MANIFEST                   2	This shipping list
X Makefile                  12	
X MkDistrib                  7	
X README                     2	
X README.Install             1	
X README.Playing             1	
X Revisions                 14	
X WhatsNew                  10	
X boards.c                   5	
X boards.h                  11	
X bridge.c                   3	
X ccdef.c                   12	
X cipher.c                  12	
X cipher.h                  14	
X commands.c                 4	
X commands.h                 9	
X conversation.c            10	
X conversation.h            14	
X cs.c                       6	
X cs.h                      14	
X display.c                  6	
X display.h                 12	
X fds.h                     14	
X gps.c                      8	
X gps.h                     13	
X gps_info.h                13	
X help.c                    12	
X help.h                     2	
X input.c                    8	
X input.h                   13	
X log.c                     10	
X log.h                     14	
X network.c                  7	
X network.h                  5	
X nonstd.c                  14	
X okbridge.help              9	
X okbridge.man               2	
X okbridgerc                13	
X okshuffle.c               13	
X okshuffle.man             14	
X oktally.c                 10	
X oktally.man                1	
X parser.c                  11	
X parser.h                  11	
X protocol.c                 9	
X protocol.h                 7	
X rc.c                      11	
X rc.h                       4	
X scoring.c                 12	
X scoring.h                 13	
X socket.c                  13	
X socket.h                  13	
X state.h                   13	
X terminal.c                13	
X terminal.h                13	
X types.h                   11	
END_OF_FILE
if test 1881 -ne `wc -c <'MANIFEST'`; then
    echo shar: \"'MANIFEST'\" unpacked with wrong size!
fi
# end of 'MANIFEST'
fi
if test -f 'help.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'help.h'\"
else
echo shar: Extracting \"'help.h'\" \(3186 characters\)
sed "s/^X//" >'help.h' <<'END_OF_FILE'
X/* help.h -- help functions for the bridge program.
X *
X ! Copyright (C) 1990-1992 by Matthew Clegg.  All Rights Reserved
X ! 
X ! OKbridge is made available as a free service to the Internet.
X ! Accordingly, the following restrictions are placed on its use:
X ! 
X ! 1.  OKbridge may not be modified in any way without the explicit 
X !     permission of Matthew Clegg.  
X ! 
X ! 2.  OKbridge may not be used in any way for commercial advantage.
X !     It may not be placed on for-profit networks or on for-profit
X !     computer systems.  It may not be bundled as part of a package
X !     or service provided by a for-profit organization.
X ! 
X ! If you have questions about restrictions on the use of OKbridge,
X ! write to mclegg@cs.ucsd.edu.
X ! 
X ! DISCLAIMER:  The user of OKbridge accepts full responsibility for any
X ! damage which may be caused by OKbridge.
X *
X * This file contains the interface for a help procedure for the
X * bridge program.  The help function is organized as a series of topics,
X * headed by a main topic.  All of the help information is stored in a
X * single file, organized as a list of topics.  The first entry in the
X * file is interpreted to be the main topic, i.e., it is the entry which
X * is displayed if no particular keyword is given.  Each topic entry
X * has a header line which contains an identifying keyword and a 
X * descriptive phrase.  This is followed by the body of the entry
X * and is terminated by an end-of-entry line.  The format of the header
X * line is simply
X *  <keyword> <phrase>
X * where <keyword> is any text string not containing white space characters.
X * The body of the entry consists simply of a series of text lines.
X * These are displayed in order on the screen.  However, a line beginning
X * with the circumflex '^' character is displayed at the beginning of a
X * new page.  A help entry is terminated by a line containing just the
X * two characters '--'.  The last entry in the file need not have this
X * terminator.  The help file may also contain comment lines.  These
X * begin with the pound sign '#' character.
X */
X 
Xextern initialize_help_system ();
X/* Called once at the beginning of the program to read the file of help
X * topics.
X */
X 
Xextern int display_help ();
X/* void display_help (char *topic); */
X/* Displays help on the given topic.  This consists of looking up the
X * help file associated to this topic and displaying the contents of this
X * file on the screen.  If the topic string is empty, then displays first
X * the contents of the main topic file.  Returns 0 if the requested topic
X * was found, and 1 otherwise.
X */
X 
Xextern void browse_help ();
X/* void browse_help (char *name); */
X/* Displays help on the given topic.  Afterwards, displays a list of
X * topics along with a request to enter the name of a new topic.
X */
X
Xextern void display_topics ();
X/* void display_topics (char *header_message); */
X/* Displays the list of help topics. */
X
Xextern void Refresh_Help_Display ();
X/* void Refresh_Help_Display (void); */
X/* Redisplays the current screen of help information. */
X
Xextern void Clear_Help_Display ();
X/* void Clear_Help_Display (void); */
X/* Returns the help system to its initial state. */
END_OF_FILE
if test 3186 -ne `wc -c <'help.h'`; then
    echo shar: \"'help.h'\" unpacked with wrong size!
fi
# end of 'help.h'
fi
if test -f 'okbridge.man' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'okbridge.man'\"
else
echo shar: Extracting \"'okbridge.man'\" \(42256 characters\)
sed "s/^X//" >'okbridge.man' <<'END_OF_FILE'
X.\"
X.\" Adapted from README.Playing -- how to operate the okbridge program
X.\" Matthew Clegg.  September 1990.  Updated May 1991, March 1992, May 1992.
X.\"
X.TH "OKBRIDGE" 6 "4 Aug 1992"
X.SH NAME
Xokbridge \- multi-player networked bridge game
X.SH SYNPOSIS
X.na
X.in +9n
X.ti -9n
Xokbridge
X.I position name server
X[\fB\-dimR\fP]
X[\fB\-p\fP\ \fIportno\fP]
X[\fB\-G\fP]
X[\fB\-r\fP\ \fIreplay\-file\fP]
X[\fB\-b\fP\ \fIboards\-file\fP]
X[\fB\-L\fP\ \fIlogfile\fP]
X[\fB\-pn, -pe, -ps, -pw\fP]
X[\fB\-n\fP\ \fIplayer-name\fP]
X[\fB\-s\fP\ \fIserver-name\fP]
X.in -9n
X.ad
X.SH OPTIONS
X.IP "\fIposition\fP"
XA position-dependent parameter which specifies the seat 
X(north, south, east or west) which the local player wishes to occupy.
XThe \fIposition\fP should be specified as the first letter of the
Xname of the seat (n, s, e or w).
X.IP "\fIname\fP"
XA position-dependent parameter which specifies the name by which 
Xthe local player would like to be identified
Xto other bridge players.  This name may be up to eight characters long.
XIf it is omitted, then the login name is used.
X.IP "\fIserver\fP"
XA position-dependent parameter which specifies the Internet name 
Xor number where the server will be running.
XIf the local player wishes to be the server, then the word "me" may be
Xused as the server name.
X.IP "\fB-d\fP, \fB-i\fP, \fB-m\fP, \fB-R\fP"
XIndicate that the playing and scoring conventions respectively for
XDuplicate, IMP, Match point or Rubber bridge should be used.  
XThese parameters are only relevant for the player
Xwho is the server.  In other words, the server makes the decision
Xfor everyone about the scoring convention that will be used.
XIf this parameter is omitted, then the playing and scoring conventions
Xwill default to those of rubber bridge.  The -R parameter is suppplied
Xfor the sake of overriding any default which may appear in the .okbridgerc 
Xfile.
X.IP "\fB-p\fP \fIportno\fP"
XSpecifies the port number which will be used for establishing the
Xnetwork connections.  It is only in unusual circumstances that this
Xparameter need be specified.
X.IP "\fB-G\fP"
XSpecifies that the Global Player Service (GPS) should \fInot\fP be contacted.
XSee below for a description of the Global Player Service.
X.IP "\fB-b\fP \fIboards-file\fP"
XSpecifies that the file \fIboards-file\fP contains a sequence of
Xduplicate deals which should be played.  This is equivalent to the LOAD 
Xcommand in the .okbridgerc file.  See the description of email duplicate
Xbridge below.
X.IP "\fB-L\fP \fIlogfile\fP"
XSpecifies the name of the file to which the results of play will be
Xwritten.  This is equivalent to the LOG command in the .okbridgerc file.
X.IP "\fB-z#\fP \fI[zhang-logfile]\fP"
XSpecifes an alternate log file which will be recorded in the format
Xdeveloped by Shangyou Zhang.  The character '#' should be replaced by
Xa table number.  If the name of the file is omitted, then the name
X"okb_#_rec" will be used.
X.IP "\fB-pn, -pe, -ps, -pw\fP"
XA position-independent parameter for specifying the player's position.
X.IP "\fB-n\fP \fIplayer-name\fP"
XA position-independent parameter for specifying the player's name.
X.IP "\fB-s\fP \fIserver-name\fP"
XA position-independent parameter for specifying the location of
Xthe server.  If the server-name is given as "me", then the local
Xplayer will be the server.
X.SH "PLAYING"
X.PP
X.SH "The Okbridge Milieu"
X.PP
XOkbridge allows people to play bridge together using the Internet.
XIt is a distributed program, which means that each player runs a
Xseparate instance of the program, and these instances communicate
Xwith each other through the Internet to cooperatively provide the
Xillusion of a bridge game.  
X.PP
XAt any given moment, there may be many bridge tables currently open,
Xwith players at these tables playing bridge together.  Each table
Xallows four people to play bridge together.  There may be a number of
Xadditional people at a table who are observing the play.  Each table
Xhas a host, who is called the \fIserver\fP.  While the server is hosting the
Xtable, the table is said to be \fIopen\fP.  The server can be either
Xobserving or playing.  A player who is not a server is said to
Xbe a \fIclient\fP.
X.PP
XA list of currently open bridge tables is maintained in a worldwide
Xdatabase called the Global Player Service (GPS).  When a new player
Xstarts the okbridge program, the GPS is contacted and the list of
Xcurrently open bridge tables is displayed.  The player then has a
Xchoice of either joining one of the currently open tables or hosting a
Xnew table.
X.PP
XWhen four players have joined a table, they must choose \fIseats\fP before
Xthey can begin play.  The seats are labeled north, south, east and
Xwest, and a player chooses a seat by using one of the commands:
X/NORTH, /SOUTH, /EAST or /WEST (see the list of commands below).
XAlso, the server may choose one of several scoring modes (see below).
XPlay can begin once the seats are all occupied.
X.PP
XIn addition to playing bridge together, the players at a table may
Xtalk with each other and find out a limited amount of information
Xabout each other (see the /WHO and /WHOIS commands below).  There are
Xa number of options for controlling the format of the display and
Xinput, see e.g., the /BELL, /DEFAULT, /FORMAL, /PROMPT, and /SPEC
Xcommands.  Okbridge provides for very elementary convention
Xcards (see the /CC and /CCDEF commands below), and it provides some
Xsupport for duplicate play (also discussed below).
X
X.SH "Invoking the okbridge Program"
XUsually, it is sufficient to start okbridge simply
Xby typing one of the following two commands:
X.IP okbridge
X.IP "okbridge -n your-name"
X.PP
XThis will contact the Global Player Service for a list of the currently
Xplaying tables.  The /JOIN (or /CONNECT) command can the be used to join
Xan open table, or the /SERVE command can be used to begin serving a
Xnew table.
X.PP
XHowever, if a game has been arranged in advance, then it is possible
Xto specify explicitly the name of the server and the seat arrangement.
XSuppose that the names of the players are Alex,
XBob, Cathy and Dot.  Alex and Cathy will be one team, while Bob and Dot
Xwill be the other.  They decide that Alex will be north, and Bob will be
Xeast.  Further, they decide that Bob will be the server.  Here is a
Xlist of the commands that each might use to invoke the okbridge program
Xon their respective (hypothetical) machines:
X
X.nf
X.na
X Name    Position  Machine         Command to invoke okbridge
X ----    --------  -------         --------------------------
X Alex    north     a.alaska.edu    okbridge n Alex b.berkeley.edu
X Bob     east      b.berkeley.edu  okbridge e Bob me
X Cathy   south     c.florida.edu   okbridge s Cathy b.berkeley.edu
X Dot     west      d.maine.edu     okbridge w Dot b.berkeley.edu
X.ad
X.fi
X
XThe server (in this case, Bob) should initiate his copy of the program
Xfirst.  When a client starts her copy of the program, an initial
Xdisplay will be presented and the program will attempt to establish a
Xconnection to the server.  During this time, the keyboard will be
Xunresponsive.  If the client is unable to establish the connection
Xwithin 15-30 seconds, then it will give up and display an error
Xmessage.  After the connection is established, the program will enter
Xa talk mode where messages can be exchanged with the other players.
X.PP
XWhen the server deals the first hand, each player's screen will be
Xredrawn, showing his or her cards.  The program prompts each player
Xfor bids and broadcasts the bids to the other players.  After the
Xbidding is complete, playing mode is entered.  The screen is redrawn
Xin preparation for play.  Again, the program prompts each player for
Xplays and broadcasts the plays to the others.  After the playing is
Xcomplete, a review of the hand is presented to all of the players and
Xthe scores are updated.  During this time, the players may freely
Xdiscuss the hand.  Pressing RETURN twice in succession proceeds to the
Xnext hand.  The program continues in this cycle indefinitely until a
Xplayer leaves or until the server gives instructions which alter the
Xbehavior of the program.
X.PP
XOther clients may join the table at any time.  A client who joins
Xwhile a hand is in progress will be able to observe the play and so
Xthe client is said to be an \fIobserver\fP.  The observer may choose
Xto see the cards of the players by becoming a \fIspectator\fP (see the
X/SPEC command below).  Spectators are not allowed to talk to the
Xplayers, though.  If one of the players vacates his or her position,
Xthen an observer may take the position.
X
X.SH "The Display and Entering Input"
X.PP
XHere we give an example of the screen display during bidding.  The numbers
Xin the left column do not actually appear on the screen -- they are given
Xfor reference purposes only.
X
X.nf
X.na
X   =======================================================================
X 1 OKBRIDGE 1.6A WEST                                         THEY      WE
X 2 HAND 1    (0:42)                                          -----   -----
X 3 (S) Cathy's BID                                   TRICKS      0       0
X 4                                                   VUL        NO      NO
X 5      Alex     Bob      Cathy    Dot    |Cathy     ABOVE       0       0
X 6      ----     ---      -----    ---    |-----     BELOW       0       0
X 7   1  1S       --                       |S A652
X 8                                        |H K754
X 9                                        |D JT8
X10                                        |C J3
X11  
X12  
X13 
X14 
X15 
X16 BID    2s
X17 TALK
X18  
X19 -----------------------------------------------------------------------
X20 |MODERATOR: TYPE /HELP FOR INSTRUCTIONS ABOUT THIS PROGRAM            |
X21 |NETWORK- YOU ARE NOW SITTING AS WEST.                                |
X22 |NETWORK- Alex HAS JOINED THE GAME AS NORTH                           |
X23 |NETWORK- Cathy HAS JOINED THE GAME AS SOUTH                          |
X24 |NETWORK- Bob HAS JOINED THE GAME AS EAST                             |
X   =======================================================================
X.ad
X.fi
X
XIn the upper right corner of the screen (lines 1-6), the scores are
Xdisplayed.  The number of tricks taken by each side is displayed on
Xline 3.  The points above and below the line for each side are displayed
Xon lines 5 and 6, respectively.  And an indication of which sides are
Xvulnerable is displayed on line 4.  It has been pointed out to me that
Xduring ordinary bridge play, the scores are only available to the players
Xbetween hands and not during the bidding and playing.  I apologize that
Xthe okbridge program is not faithful to the real game in this respect.
X.PP
XAt the beginning of line 2, we can see that this is the first hand
Xbeing played at that so far 42 seconds have elapsed in the play of the
Xhand.  On line 3, we can see that it is now Cathy's turn to bid.  On
Xlines 5-9, we can see the bids that have been made up to this point.
XThe display shows that Alex has bid 1 spade, while Bob has passed.
XCathy's cards are displayed to the right of this table of bids.
X.PP
XLine 16 is the place where the local player's input to the program is
Xentered.  The word `BID' at the lefthand margin is printed by the program
Xand indicates that the program is expecting Cathy to type her bid.
XThe characters `2s' were entered by Cathy, and they indicate that she
Xintends to bid 2 Spades.  At the time this screen was copied, the
Xcursor was located just to the right of the letter `s' in `2s'.
XIf Cathy now presses the return key, then the bid 2 Spades will be
Xtransmitted to the other players.
X.PP
XLine 17 is the line where the local player may type messages which will
Xbe transmitted to the other players.  When the cursor is on line 17,
Xany input that the user types will be transmitted to the other players
Xas a conversational message.
XThe user may switch between playing and talking by pressing the tab key.
X.PP
XLines 20 through 24 display messages from the program and from other
Xplayers.  Each message is of the form `source: text', where `source'
Xis either MODERATOR or the name of one of the players.  Messages from
Xthe MODERATOR give information about the internal state of the program.
X.PP
XWhen entering input, the backspace and delete keys will erase the last
Xcharacter typed.  The escape key erases the entire input line.  And
Xpressing control-R causes the entire screen to be redrawn from scratch.
XAlways press return to have your input transmitted to the other players.
X.PP
XThere is a `default' input option embedded in the input processor.
XWhen the input line is empty, pressing return results in the display
Xof a `default' input.  When in bidding mode, the default input is
Xalways `pass'.  When in playing mode, the default input is the lowest
Xranked card which follows suit.  If there are two or more suits from
Xwhich a card may be played, then no default is made available.
XPressing return a second time (i.e., after
Xthe default input has been displayed) causes the default input to be
Xtransmitted to the other players.  Sometimes in playing mode there is
Xonly one legal input.  In this case, this input is displayed
Xautomatically -- you need only press return to transmit it to the
Xother players.
X.PP
XIn addition, there are a number of control keys which have been
Xprogrammed to provide abbreviations for commands:
X
X.nf
X.na
X ^A   Alerts partner's last bid.
X ^B   When used during the play of a hand, the bidding is displayed
X      for review.
X ^C   Quits the program.  (Confirmation is first requested.)
X ^D   Toggles the default input mode.  See the /DEFAULT command.
X ^G   Toggles the bell.  See the /BELL command.
X ^P   Toggles the prompt.  See the /PROMPT command.
X ^R   Refreshes the screen.
X ^T   Switches between talking and playing.
X ^U   Erases the current input.
X ^W   Sends a wakeup signal to your partner.
X ^X   Exits the program immediately (only if compiled in debug mode).
X
X TAB  Switches between talking and playing (same as ^T).
X.ad
X.fi
X
X.SH "Bidding"
X.PP
XA contract bid is specified by giving the level and the trump suit.
XThe level is given as an integer in the range 1-7, while the trump
Xsuits are of course clubs, diamonds, hearts, spades and no trump. 
XHowever, the name of the trump suit is abbreviated to its initial
Xletter.  Thus, here are some examples of legal contract bids:
X.IP  "1c, 1d, 1h, 1s, 1n, 2c, 2d, 2h, 2s, 2n, 3c, 3d, 3h, 3s, 3n, ..."
X.IP  "A passing bid is given by entering `pass' or just `p'."
X.IP  "A doubling bid is given by entering `double' or `X'."
X.IP  "A redoubling bid is given by entering `redouble' or `XX'."
X.PP
XA bidder may alert his or her bid by typing an exclamation point
Xafter the bid (e.g., 1c!).  This alert is broadcast to the opponents
Xbut not to the partner of the alerting bidder.  Alternatively, the
Xpartner of the bidder may alert the bid by using the /ALERT command
Xor the control-A key.  See the /ALERT command below.
X
X.SH "Playing"
X.PP
XThe name of a card is specified by giving its suit and then its rank.
XThe honor cards `ten', `jack', `queen', `king' and `ace' are
Xabbreviated respectively to T, J, Q, K and A.  Thus, the cards in
Xthe deck are enumerated as
X
X.nf
X.na
X    C2, C3, C4, C5, C6, C7, C8, C9, CT, CJ, CQ, CK, CA
X    D2, D3, D4, D5, D6, D7, D8, D9, DT, DJ, DQ, DK, DA
X    H2, H3, H4, H5, H6, H7, H8, H9, HT, HJ, HQ, HK, HA
X    S2, S3, S4, S5, S6, S7, S8, S9, ST, SJ, SQ, SK, SA
X.ad
X.fi
X
XIt is allowable to write the rank first and then the suit, e.g., TC
Xinstead of CT.
X
X.SH Commands
X.PP
XThere are a number of special commands that are available in the okbridge
Xprogram.  These special commands are invoked by entering at the beginning
Xof a line a slash `/', the name of the command, and perhaps some
Xparameters.  Here is a brief list of the available commands:
X
X.IP "/ALERT"
XAlerts your partner's last bid.  If you are playing in FORMAL mode,
Xthe alert is displayed to your opponents only.  Otherwise, the alert
Xwill be displayed to everyone.  Same as ^A.
X
X.IP "/AUTOPASS [ON|OFF]"
XDuring \fIPractice\fP mode, this command controls whether or not PASS bids
Xare automatically supplied by the moderator for absent players.  See the
Xdescription of \fIPractice\fP mode below.
X
X.IP "/BELL [ON|OFF]"
XBy default, the okbridge program rings the terminal's bell whenever
Xit requests input from you.  However, this can be disabled by
Xtyping /BELL OFF.  The state of the bell can be toggled with ^G.
X
X.IP "/CC [NS|EW|MY|BOTH]"
XDisplays the convention card of the specified team(s).
XBy default, displays the convention card of the opponents.
X
X.IP "/CCDEF [<Convention Card Name>] [<Convention-Card>]"
XStores or displays a named convention card in the internal database.
XIf both parameters are omitted, then displays all of the named 
Xconvention cards.  If only the name of the convention card is
Xspecified, then displays that convention card.  Otherwise,
Xenters a new definition for a named convention card.
X
X.IP "/CLAIM [\fIn\fP]"
XThis command claims \fIn\fP additional tricks for the declarer.
XIf \fIn\fP is omitted, then all remaining tricks are claimed.
XIf \fIn\fP is negative, then this many -\fIn\fP tricks are conceded.
XAll hands are revealed to the defenders, and they are asked whether
Xor not they agree to the declarer's request.
XIf both agree, then the hand is ended early.  This command can
Xbe used only by the declarer.
X
X.IP "/CLS"
XClears all of the messages from the talk area of the display.
X
X.IP "/DEFAULT [ON | OFF]"
XThis command controls whether or not defaults will be provided
Xfor bids, plays and questions.  This mode can be toggled with ^D.
X
X.IP "/EMAIL <your-email-address>"
XSpecifies your email address.  Other players will then be able to
Xfind out your email address by using the /WHOIS command.
X
X.IP "/FULLNAME <your-full-name>"
XSpecifies your full name.  Other players will then be able to find
Xout your name by using the /WHOIS command.  This name is also displayed
Xby the GPS.
X
X.IP "/HELP [topic]"
XProvides help about how to use Okbridge.
XType /HELP alone to obtain general help.
X
X.IP "/LHB <message>"
XSends a message to the person who appears to the left of you in the
Xbidding display.  Same as the /RHO command.
X
X.IP "/LHO <message>"
XSends a message to the person who will play or bid immediately
Xafter you.  Same as the /RHB command.
X
X.IP "/LOG [\fIfilename\fP]"
XTyping /LOG \fIfilename\fP causes this hand and subsequent hands
Xto be written to the file with name \fIfilename\fP.  Omitting
X\fIfilename\fP causes the current log file to be closed.
XAdding a plus sign '+' to the beginning of \fIfilename\fP causes
Xthe playing record to be appended to the end of the file.
X
X.IP "/NAME <new-name>"
XChanges your name to <new-name>.
X
X.IP "/OPP <message>"
XSends a message which will be seen only by the opponents.
X
X.IP "/PAUSE"
XDuring bidding or play, this restores the entire screen to a talk
Xdisplay.  This is useful for seeing messages which have scrolled out
Xof the small conversation area which appears during bidding and play.
X
X.IP "/PING"
XSends an invisible message to each of the other players, which is
Xautomatically echoed.  Reports the round-trip communication time.
X
X.IP "/PRACTICE [ON|OFF]"
XTurns on or off the \fIPractice\fP mode of play.  This mode allows
Xa partnership to practice bidding and the planning of play.  See the
Xdescription of \fIPractice\fP mode below.
X
X.IP "/PROMPT [ON|OFF]"
XBy default, the dummy is asked to press RETURN after the end
Xof each trick.  This allows the dummy to see each trick as
Xit is played.  This prompting can be disabled by typing
X/PROMPT OFF.  The prompt mode can be toggled with ^P.
X
X.IP "/QUIT"
XTerminates the program.
X
X.IP "/REVEAL [<player-name> | NORTH | EAST | SOUTH | WEST"
X| NE | NS | NW | SE | SW | EW]
X.IP
XThis command can only be used by an observer or the dummy.  In this
Xcase, the player enters \fIspectator\fP mode and the named hands are
Xrevealed.  In spectator mode, the observer can have complete
Xinformation about the game.  Spectators may talk to each other, but
Xthey may not talk to the players or to other observers who are not
Xspectators.  Spectator mode is not available in formal play.  If the
Xname of the player is omitted, then all hands are revealed.  (This
Xcommand is actually the same as the /SPEC command.)
X
X.IP "/REVIEW"
XDisplays the bidding for review.  This is intended to be used
Xduring the playing mode.  This command can be abbreviated with ^B.
X
X.IP "/RHB <message>"
XSends a message to the person who appears to the right of you in
Xthe bidding display.  Same as the /LHO command.
X
X.IP "/RHO <message>"
XSends a message to the person who bids or plays immediately before
Xyou.  Same as the /LHB command.
X
X.IP "/SEAT NORTH|EAST|SOUTH|WEST|OBS"
X.IP "/EAST, /NORTH, /OBS, /OBSERVER, /SOUTH, /WEST"
X.IP
XSelects a seat.  Can only be used before the first hand or between
Xhands.  Only one person may sit in the seats north, east, south, west,
Xbut there may be many observers.
X
X.IP "/SETCC [<your-convention-card>]"
XEnters one line of text as your convention card.  This card will
Xthen be announced to your partner and the opponents as the convention
Xcard for your team.  Omitting convention card from this command will
Xcause your current convention card to be announced to your partner
Xand opponents.  If the convention card is just a single word, then
Xthe list of convention cards specified in the .okbridgerc file with
Xthe CCDEF command is searched for a matching entry.  If a matching
Xentry is found, then the corresponding convention card is used.
X
X.IP "/SPEC [<player-name> | NORTH | EAST | SOUTH | WEST"
X| NE | NS | NW | SE | SW | EW]
X.IP
XThis command can only be used by an observer or the dummy.  In this
Xcase, the player enters \fIspectator\fP mode and the named hands are
Xrevealed.  In spectator mode, the observer can have complete
Xinformation about the game.  Spectators may talk to each other, but
Xthey may not talk to the players or to other observers who are not
Xspectators.  Spectator mode is not available in formal play.  If the
Xname of the player is omitted, then all hands are revealed.  (This
Xcommand is actually the same as the /REVEAL command.)
X
X.IP "/WAKEUP [<player-name> | ALL]"
XSends a wakeup signal to the named player, or to all players if
XALL is specified.  The wakeup signal rings the terminal bell and
Xprints the words "WAKE UP" in the conversation area.  If the name of the
Xplayer is omitted, then the signal is sent to your partner.
XPressing ^W is the same as typing /WAKEUP.
X
X.IP "/WHO"
XGives a short list of the other players and their respective seats.
X
X.IP "/WHOIS [<player-name>]"
XInquires about a specific player.  If the player has listed his/her
Xfull name and email address in the .okbridgerc file, then this
Xinformation is given.  If <player-name> is omitted, then inquires
Xabout both of the opponents.
X
X.IP "/ZLOG [filename]"
XThis command is similar to the /LOG command in that it also opens
Xa log file, but the format of the log file is more compact.
X
X
X.PP
X.SH Server Commands
X
XIn addition, there are a number of commands which can be used only
Xby the server.  
X
X.IP "/ASSIGN <player-name> NORTH|EAST|SOUTH|WEST|OBS"
XAssigns a player to a given seat.  Can only be used before the
Xfirst hand has been dealt or between hands.
X
X.IP "/DISCONNECT <player-name>"
XCloses the connection to the named player.  
X<player-name> can either be the name of a player (e.g., Worf)
Xor the name of a position (e.g., SOUTH).
X
X.IP "/FORMAL [OFF|ON]"
XSpecifies whether formal playing rules will be used or queries which
Xplaying rules are currently use.  In formal play, talk messages
Xare displayed only to the opponents, alerts are not displayed to the
Xpartner of the alerter, and the dummy is not revealed to anyone
Xuntil the opening lead has been made.
X
X.IP "/RESET"
XResets the program to its initial state. 
X
X.IP "/SCORE RUBBER|DUPLICATE|MP|IMP|CLEAR"
XSelects a scoring mode.  If the selected scoring mode is different from
Xthe current scoring mode, then skips the current hand.  Using '/SCORE CLEAR'
Xwill clear the scoreboard.
X
X.IP "/SKIP [\fIn\fP]"
XEnds the current hand immediately, without recording a score for it.
XIf we are the server, then the parameter \fIn\fP specifies the number 
Xof hands to skip (including the current one).
XThis command is useful in case the connection to one of the players is lost.
X
X
X.PP
X.SH The Global Player Service
X
XThe Global Player Service is a worldwide database of currently playing
Xbridge tables.  Using the GPS, it is possible to quickly locate other
Xpeople wishing to play bridge.  The following commands are for
Xaccessing the GPS:
X
X.IP "/TABLES"
XLists the currently playing tables.
X
X.IP "/JOIN [<name>]"
XJoins the table being served by <name>.  If <name> is omitted,
Xthen the first table in the list provided by the /TABLES command
Xis joined.
X
X.IP "/SERVE [<port-number>]"
XBegins serving a table.  The table will be advertised to the GPS
Xautomatically, so that other players may join.  If <port-number>
Xis omitted, then 1729 will be chosen by default.
X
X.PP
XThe Global Player Service also supports a form of duplicate play.
XIt maintains a database of boards which have been played by other
Xfoursomes.  These boards can be downloaded and played again, 
Xand match point scores will then be computed.  The following commands
Xare relevant to GPS duplicate:
X
X.IP "/DUP [MP|IMP|END]"
XUsed by the server to initiate (or end) GPS duplicate play.  The MP
Xparameter is specified to play match point boards, while the IMP parameter
Xis given to play IMP boards.  The default is IMP play.  After each
Xboard is downloaded and played, you will be able to see the results
Xof play by other foursomes.
X
X.IP "/RESULTS [<results-file>]"
XDownloads all of the GPS duplicate boards which have been played by
Xthe local player.  The results of play for each board are then displayed.
XIf <results-file> is specified, then the results are saved to the given
Xfile in email duplicate format.  A more verbose record of the play can
Xthen be produced with the oktally command.  WARNING:  If you play often,
Xthen you should specify the <results-file> and examine it using oktally.
X
X.IP "/SCOREBOARD"
XDisplays the GPS duplicate scoreboard.  The top ten players in match point
Xplay and in IMP play are listed.
X
X.PP
XIn addition, there are the following GPS-related commands:
X
X.IP "/PLAYERS [<name>]"
XLists the names of all of the players currently at the table
Xserved by <name>.  If <name> is omitted, then lists all of the
Xplayers at all tables.
X
X.IP "/CONNECT <host_name> [<port_number>]"
XConnects to the table being served at <host_name> with port <port_number>.
XIf <port_number> is omitted, then 1729 is assumed.
X
X.IP "/PERISH"
XDisconnects from the GPS.  If we are serving a table, this table
Xis deleted from the GPS database.
X
X.IP "/PUBLISH"
XReconnects to the GPS.  If we are serving a table, this table is
Xre-advertised to the GPS.
X
X.SH Partnership Practice Mode
X
XThe \fIPractice\fP mode is based on a suggestion of Alan Truscott.  In
Xthis mode, two (or more) players may practice their bidding.  The
Xmoderator (OKbridge) supplies PASS bids for players which are absent.
XAfter the hand has been bid, it is revealed to all of the players.
XThe players may then discuss and play it.
X
XTo enter \fIPractice\fP mode, the server uses the command '/PRACTICE ON'.
XThis will deal a new hand and allow the players to bid it.  During the
Xbidding, OKbridge will supply "PASS" bids for absent players.  Thus, if
XNorth-South is practicing and East-West are absent, then a "PASS" will
Xbe supplied by OKbridge automatically each time it is East or West's turn
Xto bid.
X
XThis is usually the preferred behavior.  However, for three-player practice,
Xit may be preferable to allow the third player to bid both hands for one side, 
Xsay East-West.  In this case, the server should use the '/AUTOPASS OFF'
Xcommand.  This command will disable PASS bids from being supplied by
Xthe moderator.  The third player can then bid for both East and West by
Xswitching seats with the /EAST and /WEST commands.
X
XAfter a contract has been reached, all four hands will be revealed to
Xeach of the players.  The players will be able to discuss the bidding
Xtogether.  They can also play out the hand.  Each player is allowed to
Xplay from anyone's hand.  That is to say, if it is West's turn to
Xplay, anyone may select which one of West's cards to play.
X
XThe /CLAIM (or /SKIP) command can be used to end the hand early.
XDuring \fIPractice\fP mode, any player may use the /CLAIM command to
Xspecify the number of tricks to be claimed \fIfor the declarer.\fP
XNo confirmation is requested for claims made during \fIPractice\fP mode.
XAfter the hand ends, the score is computed and displayed.
X
X
X.SH Scoring
X.PP
XThe following tables give a basic outline of how okbridge computes
Xthe scores.  It is partially derived from the documentation supplied with
Xthe bridge program written by Yuan and Chu.
X.IP "Trick Score (below the line)"
XIf the contracting team succeeds in making their contract,
Xthen the base score for the hand is computed according to
Xthe following chart.  
X
X.na
X.nf
X  Spades or Hearts     30 per trick | If doubled:
X  Diamonds or Clubs    20 per trick |    multiply by 2
X  Notrump        40 for first trick | If redoubled:
X       30 for each additional trick |    multiply by 4
X.fi
X.ad
X
X.IP
XFor rubber bridge, the score is computed
Xaccording to the number of tricks bid.  For other scoring
Xmethods, the score is computed according to how many tricks
Xwere actually made.
X
X.IP
XIn a doubled contract in rubber bridge, overtricks are
Xscored at 100 points each if not vulnerable and 200 points
Xeach if vulnerable.  In a redoubled contract in rubber bridge,
Xovertricks are scored at 200 and 400 respectively.
X
X.IP
XIn rubber bridge, a game is scored if 100 points or more are
Xaccumulated below the line.  The scoring side then becomes
Xvulnerable and wins the rubber if they win a second game.
XIn other forms of bridge, the vulnerability proceeds according
Xto a rotation which cycles every 16 hands.  
X
X.IP Bonuses
XFor rubber bridge, there is a bonus for winning the rubber,
Xwhich is scored as follows: 
X
X.nf
X.na
X  Rubber bonus:   500 if you win two games out of three
X                  700 if you win the only two games
X.ad
X.fi
X.IP
XFor all forms of bridge, there is a bonus for making a slam:
X
X.nf
X.na
X                        Not Vulnerable   Vulnerable
X  Slam Bonus:  Small Slam      500           750
X               Grand Slam     1000          1500
X.ad
X.fi
X.IP
XIn rubber, there is a bonus if the contracting
Xside has enough honor cards in the trump suit:
X
X.nf
X.na
X  Honors:  4 trump honors in one hand          100
X           5 trump honors in one hand          150
X           4 aces in one hand at notrump       150
X.ad
X.fi
X.IP
XIn non-rubber bridge, there is a 300 point bonus for bidding
Xand making a game when not vulnerable.  The bonus is 500 points
Xif vulnerable.
X.IP
XMaking Doubled (or redoubled) Contract:	 50 points
X.IP
XPenalties (above the line):
X
X.nf
X.na
X                Undoubled              Doubled
X             Not Vul.   Vul.      Not Vul.   Vul.
X  Down 1        50      100         100      200
X  Down 2       100      200         300      500
X  Down 3       150      300         500      800
X  Down 4       200      400         700     1100
X  Down 5       250      500         900     1400
X  Down 6       300      600        1100     1700
X  Down 7       350      700        1300     2100
X  Down 8       400      800        1500     2500
X   ...         ...      ...         ...      ...
X.ad
X.fi
X
XNote that for non-rubber bridge, the penalty sequence for doubled
Xnot vulnerable is 100, 300, 500, 800, 1100, etc.
XIf redoubled: multiply the doubled penalty by two.
X
X.IP "IMP scoring"
XThe IMP (International Match Point) scoring system is based on
Xcomparing the results of play for exactly two tables.  In this system,
Xthe difference between the score of your team and the other team who
Xplayed the same cards as you is computed and then converted to a
Xnumber of IMPs according to a table.
X
X.nf
X.na
X  Duplicate score  IMP pts     Duplicate score  IMP pts
X  ---------------  -------     ---------------  -------
X    <  20             0             750            12 
X       50             1             900            13
X       90             2            1100            14
X      130             3            1300            15
X      170             4            1500            16
X      220             5            1750            17
X      270             6            2000            18
X      320             7            2250            19
X      370             8            2500            20
X      430             9            3000            21
X      500             10           3500            22
X      600             11           4000            23
X                                   above           24
X.ad
X.fi
XIf more than two tables have played a board, then the IMP score
Xassigned to a team for the play of a board is the average of all of the
Xpairwise IMP scores.  If only one table has played a board, then the
XIMP score assigned for the play of the board is determined using the
XMono IMP system described by Gary Greene in the May/June 1990 issue
Xof \fIBridge Today.\fP  Greene describes the Mono IMP system as follows:
X
X"Mono-IMP scoring is based on an average expected score for each side's
Xhigh-card-point holding.  The table below shows the average score that
Xa given number of high-card points will produce in the long run.  I
Xhave compiled statistics from over 10000 hands from a lunchtime game
Xplayed over the last five years, and they indicate that these values
Xare a realistic long-term average."
X
X.nf
X.na
X     HCP   Vul   NV          HCP   Vul   NV
X     ---   ---   ---         ---   ---   ---
X     20    0     0      |    29    750   550  
X     21    50    50     |    30    800   600  
X     22    100   100    |    31    950   700  
X     23    150   150    |    32    1100  800  
X     24    300   200    |    33    1400  950  
X     25    450   300    |    34    1500  1050 
X     26    600   400    |    35    1650  1150 
X     27    650   450    |    36    1850  1300 
X     28    700   500    |    37+   2100  1500 
X.ad
X.fi
X
XThe number of Mono-IMPs awarded is determined by taking the difference between
Xthe score actually made and the predicted score as given in the above table.
XIf the difference is less than 600 (in either direction), then the number
Xof Mono-IMPs awarded is equal to the difference divided by 50 and rounded
Xto the nearest half point.  If the difference is greater than 600, then the
Xnumber of Mono_IMPs awarded is equal to 12 plus 1 point for each 100
Xbeyond 600, again rounded to the nearest half point.
X
X.IP "Match Point Scoring"
XThe Match Point scoring system compares the results of many tables of
Xplay.  A partnership receives one match point for each pair who played
Xthe same hands and did worse than them and a half point for each pair
Xwho scored exactly the same.  In OKbridge, match point scores are
Xnormalized to lie between 0 and 1.  The number of match points which a
Xteam receives is divided by the total number of match points which
Xcould have been won.  Thus, normalized match points represent a per
Xcent ranking among the other teams who played the board.  If a board
Xhas been played by only one table, then a simulated match point score
Xis assigned.  The simulated match point score is 1 if the Mono-IMP
Xscore is 1 or greater, 0 if the Mono-IMP score is -1 or less, and 0.5
Xotherwise.
X
X.SH "Playing Duplicate Bridge"
X.PP
XIn addition to the GPS duplicate mode described above, okbridge allows
Xboards to be read from and written to files.  These files can be mailed
Xto other foursomes for play, allowing for 'email duplicate' matches.
X.PP
XTo begin email duplicate play, the server at the first table uses the
X/SAVE command to save a set of boards after they have been played.
XThe /SAVE command creates a record of the boards along with a complete
Xrecord of how they were played.  This file can then be mailed to others
Xfor play.
X.PP
XTo replay a set of boards which have been saved, the server
Xuses the /LOAD command to load the boards.  This loads the boards
Xfrom the file into memory and immediately begins playing them.
XAfter the boards have been played, the server can /SAVE the boards
Xback to a file.  This will save the previous results of play along
Xwith the new results.
X.PP
XAlternatively, a sequence of boards can be replayed by using the
X/REPLAY command.  This first causes the boards to be read into the
Xprogram for play.  After they have been played, they are then
Xautomatically saved along with the results back to the file from
Xwhich they were read.
X.PP
XTo create a unplayed set of shuffled boards, use the
X.IR okshuffle (6)
Xprogram.  Also, to merge a number of boards that have already been
Xplayed, you can use the
X.IR oktally (6)
Xprogram. See their man pages for more details.
X
X.SH "The .okbridgerc initialization file"
X.PP
XIt is possible to store a number of default settings into a
Xfile which will be read at initialization.  When the
Xprogram starts, the current working directory is first searched for a
Xfile named ".okbridgerc".  If no file is found, then the home
Xdirectory is searched for the same file.  For an example of an .okbridgerc
Xfile, see the file in this distribution named
X"okbridgerc".  (Note that it is incorrectly named -- to be read by the
Xokbridge program, it should be named ".okbridgerc").
X
XAfter the ".okbridgerc" file is read, the program then searches for
Xa file named ".okdefaults".  This file is of the same format as 
Xthe ".okbridgerc", and any settings file override those found in
Xthe ".okbridgerc" file.  When okbridge terminates, it may rewrite
Xthe ".okdefaults" file, saving any settings which may have been
Xchanged during the play of the program.
X
X.PP
XEach line in the ".okbridgerc" file is either a comment line or 
Xa (field, value) pair.  Comment lines begin with the pound sign '#' character.
XField, value pairs are of the format:
X
X.nf
X.na
X          <Field-name>  <value>
X.ad
X.fi
X
XThe fields which are currently recognized are as follows:
X
X.IP AUTOSAVE
XThis field specifies that the ".okdefaults" file should be rewritten
Xwhen okbridge terminates.  If this field is not present, then 
Xthe ".okdefaults" file will not be changed.
X
X.IP "BELL ON | OFF"
XWhen requesting input (a bid or a play), the terminal's bell is rung
Xby default.  However, this can be disabled by specifying 'BELL OFF'.
XThis has the same effect as the '/BELL OFF' command.
X
X.IP "CC \fIconvention-card\fP"
XThis is a one line description of the conventions which you like to use. 
X
X.IP  "CCDEF \fIConvention-Card-Name\fP \fIConvention-Card\fP"
XStores a named convention card in the internal database.
XThis convention card can then be called up during the play of the
Xprogram with the command '/CC <card-name>'.
X
X.IP  "DEFAULT ON | OFF"
XThis controls whether or not default inputs will be provided
Xfor bids, plays and questions.
X
X.IP  "EMAIL \fIemail-address\fP"
XThis should be your email address.  It is currently used only for
Xidentification purposes.
X
X.IP  "FULLNAME \fIyour-full-name\fP"
XThis field is used only for identification purposes, and should
Xcontain your full name as you would wish it to be displayed to others.
X
X.IP "GPS  ON | OFF"
XControls whether or not we will contact the Global Player Service
Xautomatically when the program starts up.
X
X.IP "GPS_IP \fIip-name-or-number-of-GPS\fP [\fIGPS-port\fP]"
XSpecifies the Internet number and port of the GPS.
X
X.IP "HELPFILE \fIdirectory-name\fP"
XThis field specifies the location of the okbridge help file.
X
X.IP "LOAD \fIemail-duplicate-filename\fP"
XThis field is only valid if the position is north and the scoring mode
Xis email duplicate.  In this case, okbridge will automatically read a
Xset of email duplicate boards from the named file.
X
X.IP "LOG \fIfilename\fP"
XIf this statement is present in the startup file, then the hands will
Xautomatically be logged to the given filename.  If the first character
Xof \fIfilename\fP is a plus sign '+', then the log is appended to
X\fIfilename\fP.  Otherwise, \fIfilename\fP is overwritten.
X
X.IP "MY_IP  \fIlocal-IP-number\fP"
XThis field specifies the IP number of the local player.
XUsually, okbridge can determine the IP number correctly,
Xbut on some systems, this field must be used.
X
X.IP "NAME \fIlocal-player-name\fP"
XThis field specifies the name that will be used to identify the local
Xplayer to the other players.  If both the NAME field and the POSITION
Xfield are present in the .okbridgerc startup file, then the
Xcorresponding parameters can be omitted from the okbridge command
Xline.  In this case, the SERVER field should also be specified in 
Xthe .okbridgerc file.
X
X.IP "PORT \fIpositive-integer\fP"
XThis field specifies the internet port number that will be
Xused for communications with the server.  It is usually not
Xnecessary to specify a port number.
X
X.IP "PROMPT NO | YES"
XThe value of this field is only relevant in hands where the local
Xplayer is the dummy.  In this case, the dummy is ordinarily prompted
Xto press RETURN at the end of each trick.  This allows the dummy to
Xsee the cards that are played as they are played.  However, if 'PROMPT
XNO' is specified, then the dummy will not be prompted.
X
X.IP "SCORING RUBBER | CHICAGO | DUPLICATE | EMAIL | IMP"
XThis field is only relevant if the local player is north.  In this
Xcase, the SCORING field determines the type of scoring that will be
Xused by default in the game.
X
X.IP "SEAT NORTH | EAST | SOUTH | WEST"
XThis field specifies the local player's position.  If both the NAME
Xfield and the POSITION field are present in the .okbridgerc startup
Xfile, then the corresponding parameters can be omitted from the
Xokbridge command line.  In this case, the SERVER field should also be
Xspecified in the .okbridgerc file.
X
X.IP "SERVER ME | \fIinternet-name-or-number\fP"
XIf the value of this field is 'ME', then the local player will assume
Xthe role of server.  If the value of this field is anything else, then
Xit is interpreted as an internet name or number of the machine where
Xthe server is running.
X
X.IP  "ZLOG \fIfilename\fP"
XThis command is similar to the LOG command, in that it opens
Xa file for recording play, but the format of the file is more concise.
X
X.SH "FILES"
X".okbridgerc"	- user defaults file
X.SH "SEE ALSO"
Xokshuffle(6),
Xoktally(6)
X.SH AUTHOR
X.PP
XMatthew Clegg, mclegg@cs.ucsd.edu.
X.PP
XMan pages adapted by George Ferguson,
X.br
Xferguson@cs.rochester.edu.
END_OF_FILE
if test 42256 -ne `wc -c <'okbridge.man'`; then
    echo shar: \"'okbridge.man'\" unpacked with wrong size!
fi
# end of 'okbridge.man'
fi
echo shar: End of archive 2 \(of 14\).
cp /dev/null ark2isdone
MISSING=""
for I in 1 2 3 4 5 6 7 8 9 10 11 12 13 14 ; do
    if test ! -f ark${I}isdone ; then
	MISSING="${MISSING} ${I}"
    fi
done
if test "${MISSING}" = "" ; then
    echo You have unpacked all 14 archives.
    rm -f ark[1-9]isdone ark[1-9][0-9]isdone
else
    echo You still need to unpack the following archives:
    echo "        " ${MISSING}
fi
##  End of shell archive.
exit 0
