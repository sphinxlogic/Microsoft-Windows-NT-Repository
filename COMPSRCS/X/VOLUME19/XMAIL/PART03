Newsgroups: comp.sources.x
From: markham@cadence.com (Jeff Markham)
Subject: v19i028:  xmail - X Window System interface to the mail program, Part03/10
Message-ID: <1993Mar10.202538.10196@sparky.imd.sterling.com>
X-Md4-Signature: d6d5a1a21381750b1847c818f468aae6
Date: Wed, 10 Mar 1993 20:25:38 GMT
Approved: chris@sparky.imd.sterling.com

Submitted-by: markham@cadence.com (Jeff Markham)
Posting-number: Volume 19, Issue 28
Archive-name: xmail/part03
Environment: X11
Supersedes: xmail: Volume 15, Issue 18-26

#! /bin/sh
# This is a shell archive.  Remove anything before this line, then feed it
# into a shell via "sh file" or similar.  To overwrite existing files,
# type "sh file -c".
# Contents:  Imakefile xmail.man
# Wrapped by chris@sparky on Wed Mar 10 14:17:45 1993
PATH=/bin:/usr/bin:/usr/ucb:/usr/local/bin:/usr/lbin ; export PATH
echo If this archive is complete, you will see the following message:
echo '          "shar: End of archive 3 (of 10)."'
if test -f 'Imakefile' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'Imakefile'\"
else
  echo shar: Extracting \"'Imakefile'\" \(2662 characters\)
  sed "s/^X//" >'Imakefile' <<'END_OF_FILE'
X/* */#
X/* */# @(#)Imakefile - for xmail version 1 patchlevel 5
X/* */#
X/* */# Uncomment USE_DIRENT if readdir() uses <dirent.h> instead of <sys/dir.h>
X/* */#
X     USE_DIRENT = -DUSE_DIRENT
X/* */#
X/* */# Uncomment X_FACE and COMPFACE if you have the compface library installed
X/* */# and you want xmail to automatically display the X-Face: header, if found
X/* */# in a message.
X/* */#
X/* */#         X_FACE = -DX_FACE
X/* */#       COMPFACE = -lcompface
X/* */#
X/* */# Uncomment XPM if you have the Xpm version 3 library and want color icons
X/* */#
X/* */#            XPM = -DXPM
X/* */#         LIBXPM = -lXpm
X/* */#
X/* */# Uncomment LPT if you require att environment support for pseudo ports.
X/* */#
X/* */#            LPT = -lpt
X/* */#
X/* */# Uncomment REGEXP if your system supplies the regexp.h include file.
X/* */# Otherwise, xmail will use the regex procedures re_comp and re_exec.
X/* */#
X/* */#   REGEXP = -DUSE_REGEXP
X/* */#
X/* */# Define MAILBOX_DIRECTORY if your mail spool is located in other than the
X/* */# default /usr/spool/mail.  (If not specified, the default will be used.)
X/* */#
X/* */#    MAILBOX_DIR = -DMAILBOX_DIRECTORY=\"/usr/spool/mail\"
X/* */#
X/* */# Define DEFAULT_VISUAL if your copy of vi lies in some place other than
X/* */# /usr/ucb.  (If not specified, /usr/ucb/vi will be the default editor.)
X/* */#
X/* */#     DEF_VISUAL = -DDEFAULT_VISUAL=\"/usr/ucb/vi\"
X/* */#
X/* */# Define DEFAULT_MAILER if your mail program is not the standard
X/* */# /usr/ucb/Mail.  CAUTION - Operation is NOT guaranteed with other mailers.
X/* */#
X/* */#     DEF_MAILER = -DDEFAULT_MAILER=\"/usr/ucb/Mail\"
X/* */#
X/* */# Define SIGACTION if your system utilizes the sigaction() call rather
X/* */# than the sigvec() call (true on most SYSV and POSIX compilant systems)
X/* */# You may also need to add the following BSD define (true on SGI systems)
X/* */#
X/* */#         SIGDEF = -D_BSD_SIGNALS
X/* */#
X/* */#         SIGACT = -DSIGACTION
X/* */#
X
X  XMAIL_DEFINES = $(MAILBOX_DIR) $(DEF_VISUAL) $(DEF_MAILER) $(SIGACT) $(SIGDEF)
X        DEFINES = $(USE_DIRENT) $(X_FACE) $(XPM) $(REGEXP) $(XMAIL_DEFINES)
X
X        DEPLIBS = $(DEPXAWLIB) $(DEPXMULIB) $(DEPXTOOLLIB) $(DEPXLIB)
XLOCAL_LIBRARIES = $(LIBXPM) $(XAWLIB) $(XMULIB) $(XTOOLLIB) $(XLIB) $(COMPFACE) $(LPT)
X
X           SRCS = Mailwatch.c HelpText.c actions.c callMail.c callbacks.c \
X		  confirm.c directory.c environs.c handler.c mail.c parser.c \
X		  utils.c windows.c xmail.c
X
X           OBJS = Mailwatch.o HelpText.o actions.o callMail.o callbacks.o \
X		  confirm.o directory.o environs.o handler.o mail.o parser.o \
X		  utils.o windows.o xmail.o
X
XComplexProgramTarget(xmail)
X
XInstallAppDefaults(XMail)
X
END_OF_FILE
  if test 2662 -ne `wc -c <'Imakefile'`; then
    echo shar: \"'Imakefile'\" unpacked with wrong size!
  fi
  # end of 'Imakefile'
fi
if test -f 'xmail.man' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'xmail.man'\"
else
  echo shar: Extracting \"'xmail.man'\" \(53609 characters\)
  sed "s/^X//" >'xmail.man' <<'END_OF_FILE'
X.\"
X.\" @(#)xmail.l 1.5 92/02/20 NSC;
X.\"
X.\" Copyright 1990,1991,1992 by National Semiconductor Corporation.
X.\"
X.\" Permission to use, copy, modify, and distribute this software and its
X.\" documentation for any purpose is hereby granted without fee, provided that
X.\" the above copyright notice appear in all copies and that both that
X.\" copyright notice and this permission notice appear in supporting
X.\" documentation, and that the name of National Semiconductor Corporation not
X.\" be used in advertising or publicity pertaining to distribution of the
X.\" software without specific, written prior permission.  National Semiconductor
X.\" Corporation makes no representations about the suitability of this software
X.\" for any purpose. It is provided "as is" without express or implied warranty.
X.\"
X.\" NATIONAL SEMICONDUCTOR CORPORATION DISCLAIMS ALL WARRANTIES WITH REGARD TO
X.\" THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
X.\" FITNESS, IN NO EVENT SHALL NATIONAL SEMICONDUCTOR CORPORATION BE LIABLE FOR
X.\" ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER
X.\" RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF
X.\" CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN
X.\" CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
X.\"
X.\" Author:  Michael C. Wagnitz - National Semiconductor Corporation
X.\"
X.ds nS National Semiconductor Corporation
X.ds xM xmail
X.if n .ds Q \&"
X.if n .ds U \&"
X.if t .ds Q ``
X.if t .ds U ''
X..
X.\"
X.TH XMAIL 1 "February 20, 1992" "NSC"
X.SH NAME
Xxmail \- X11 visual interface to the mail program
X.SH SYNOPSIS
X.B \*(xM
X.RB "[\|" \-\fItoolkitoptions\fP "\|]"
X.RB "[\|" \-\fIxmailoptions\fP "\|]"
X.SH DESCRIPTION
X.B \*(xM
Xis an X11 window based visual interface to the standard Berkeley
X.B Mail
Xprogram.  \*(xM offers functionality similar to the Sunview mailtool, but with
Xsome differences.
X
XUsers may use mouse button actions in the (\fItop\fP) index window to select a
Xmessage for
Xfurther processing (\fIby pressing the left mouse button\fP), or automatically
Xread the selected message (\fIby pressing the right mouse button\fP).
X
XFolder specification is aided by a selection menu which can walk down through
Xthe user's folder directory hierarchy (\fIby pressing the right mouse button in
Xthe \fBFolder\fP command button window\fR). 
X
XA short description of each command button's function is presented in the
Xstatus window whenever the mouse cursor enters any of the xmail command button
Xwindows.  Additional help information is presented for any command button or
Xother part of xmail by pressing the middle mouse button while the mouse cursor
Xis within the window or
Xcommand button. In the case of windows which normally accept the pasting
Xof text via the middle mouse button, help is available while also holding
Xdown either \fIShift\fR key.  Those special case windows are so indicated by the
Xmessage displayed in the status window while the mouse cursor is within those
Xparticular windows.
X
XMessage composition and modification are provided by the user's preferred
Xeditor (\fB/usr/ucb/vi \fIby default\fR).  Editor preference may be specified
Xusing either the user's process or Mail environment variable
X.SB VISUAL, 
Xor the xmail command line or application resource \fBeditorCommand\fR.
X
XSupport can also be provided for displaying the content of an X-Face mail
Xheader, should such a header string be present in the received message,
Xand for adding your own X-Face header to outgoing mail, if available.
X
XAlmost all of the xmail functionality depends upon the existence and
Xproper installation of the XMail default resources file (\fItypically
Xin the directory \fB/usr/lib/X11/app-defaults\fR).  Functionality may be
Xmodified to some extent by the user's specification of some or all of those
Xresources.
X
X.SH OPTIONS
XAn unrecognized or illegal command line option specification will cause
Xdisplay of a usage statement and termination of \*(xM.
X.TP
X\fB\-toolkitoptions\fR
XAll standard X11 toolkit options are accepted on the command line.
X.TP
X\fB\-xmailoptions\fR
X\*(xM also accepts the following additional options:
X.RS
X.TP
X\fB\-buttonfont \fIfontname\fR
Xspecifies the font to use when creating command buttons.  This option overrides
Xthe \*(xM resource specification \*Q\fB*buttonFont: \fIfontname\fR\*U.
X.TP
X\fB\-e\fR
XSets the \*(xM resource specification \*Q\fB*expert: \fITrue\fR\*U.  This
Xresource determines whether \*Q\fBconfirm\fR\*U popups will be presented
Xwhen committing changes to a folder or deleting a new message composition.
XBy default the resource is False, which means confirm popups will be used.
XThis resource may be toggled while running xmail, using the \fIset\fP menu
Xprovided with the \*Qpreserve\*U command button.  See the section on
X.SB CHANGING VARIABLES
Xfurther down in this document, or the on-line help information for the
Xpreserve button, for additional details.
X.TP
X\fB\-editorCommand \fI<quoted command string>\fR
XSpecifies the editor resource that \*(xM should use when editing a message
Xcomposition.  The quoted command must be an \fIsprintf\fR\-able format string
Xcontaining two string declarations.  The first of these declarations will be
Xreplaced with the name of the display connection for the xmail process, to
Xallow the edit window to appear on the correct display screen.  The second
Xdeclaration will be replaced with the name of the file to be edited.
XIf \*(xM cannot locate the two separate string declarations in the command,
Xthe command will be rejected and processing will default to the older
X.SM VISUAL
Xmethodology.  See the additional description of this feature in the
X.SB SENDING MESSAGES
Xsection of this document.
X.TP
X\fB\-f\ \fI[+]foldername\fR
Xtells Mail to start by processing the specified folder.
XThis is actually a Mail program option, passed to it during startup.
XUnlike the regular Mail program, there is \fIno default\fP file for this option,
Xand a foldername \fBmust\fP be included in the specification.  The leading
X\fIplus\fP sign identifies the folder file as existing within the folder
Xdirectory and is a shorthand notation for the full folder directory path name.
XThis feature can also be specified as an \*(xM resource
Xusing the specification \*Q\fB*MFileName: \fI[+]foldername\fR\*U.
X.TP
X\fB\-fn\ \fIfontname\fR
X\- or \-
X.TP
X\fB\-font\ \fIfontname\fR
Xtells \*(xM to use the indicated font for \fBall\fR windows and buttons.
XDifferent fonts can be specified for buttons, text and help, if desired, using
Xthe other appropriate designations.
XThis feature can also be specified as an \*(xM resource
Xusing the specification \*Q\fB*Font: \fIfontname\fR\*U.
X.TP
X\fB\-h\fR
Xtells \*(xM to include the host name in the icon window when displaying
Xthe icon.  The option can also be specified as an \*(xM resource
Xusing the specification \*Q\fB*icon*useHost: \fITrue\fR\*U.
X.TP
X\fB\-helpfont \fIfontname\fR
Xspecifies the font to use when displaying help text.  This option overrides
Xthe \*(xM resource specification \*Q\fB*helpFont: \fIfontname\fR\*U.
X.TP
X\fB-iconGeometry \fI[+-]XOff[+-]YOff\fR
Xprovides a command line option for specifying the preferred geometry
Xlocation for the \*(xM icon window.  This overrides any \*(xM resource
Xspecification for \*Q\fB*iconGeometry: \fI[+-]XOff[+-]YOff\fR\*U.
X.TP
X\fB\-ls\fR
Xtells \*(xM to \fBnot\fR show the last message of a folder by default.  This
Xoption is equivalent to setting the \*(xM resource \fB*Show_Last\fR to
X\fIFalse\fR.  If disabled, \*(xM (\fIactually Mail\fP) will display the default
X(\fIusually first\fP) message of a folder when switching to or re-reading a
Xfolder.
XBy default, \*(xM attempts to read the latest (or last) message of a folder.
X.TP
X\fB\-n\fR
Xtells Mail to \fBnot\fR initialize from the system default Mail.rc file.
XThis option is also a Mail program option, passed on to it during
Xstartup from \*(xM.
XThe option can also be specified as an \*(xM resource
Xusing the specification \*Q\fB*mailopt_n: \fITrue\fR\*U.
X.TP
X\fB\-nb\fR
Xtells \*(xM to \fBnot\fR ring the terminal bell when issuing status and
Xerror messages.  This is equivalent to setting the \*(xM resource
Xspecification \*Q\fB*bellRing: \fIFalse\fR\*U.  The default will be to
Xring the bell for error and appropriate status messages.
X.TP
X\fB\-noinfo\fR
Xtells \*(xM to \fBnot\fR display the info messages in the status window
Xnormally generated whenever the mouse cursor is moved into or out of any \*(xM
Xcommand button window.  By default, text would be displayed to provide specific
Xinformation about the particular command button currently under the mouse
Xcursor.  This option allows you to disable this feature, if desired.
XThis is equivalent to setting the \*(xM resource specification
X\*Q\fB*show_Info: \fIFalse\fR\*U.
X.TP
X\fB\-nx\fR
Xtells \*(xM to \fBnot\fR include any X-Face header strings when displaying the
Xtext of an incoming message.  This is equivalent to setting the \*(xM resource
Xspecification \*Q\fB*No_X_Hdr: \fITrue\fR\*U.  The default will be to include
Xall text of the incoming message, including any X-Face header strings.  Either
Xsetting will not deter the display of the X-Face bitmap if it exists in the
Xmessage headers (\fIprovided the X_FACE option was specified during compilation\fP).
X.TP
X\fB\-rv\fR
Xtells \*(xM to reverse the foreground and background colors of the icon
Xwindow when displaying the icon.  The option can also be specified as an
X\*(xM resource using the specification \*Q\fB*icon*reverseVideo: \fITrue\fR\*U.
XThis option or resource has no effect if the program is utilizing the
X.SB XPM
Xfull-colored pixmap icons.
X.TP
X\fB\-textfont \fIfontname\fR
Xspecifies the font to use when writing information in text windows.  This
Xoption overrides
Xthe \*(xM resource specification \*Q\fB*textFont: \fIfontname\fR\*U.
X.TP
X\fB\-u\fR
Xtells \*(xM to include the user's login name in the icon window when displaying
Xthe icon.  The option can also be specified as an \*(xM resource
Xusing the specification \*Q\fB*icon*useName: \fITrue\fR\*U.
X.TP
X\fB\-U\fR
Xtells Mail to convert internet style addresses into uucp format.
XThis option also is a Mail option, passed on to it during startup.
XThe option can also be specified as an \*(xM resource
Xusing the specification \*Q\fB*mailopt_U: \fITrue\fR\*U.
X.RE
X.SH USAGE
XThe \*(xM shell appearance is similar in layout to mailtool.
XA \fItitle bar\fR decorates the top of the shell, and carries the name and
Xversion of the program, as well as information about the current mail folder
Xand its content.
X
XImmediately below the title bar, an \fIindex window\fR displays header
Xinformation for the current mail folder.
XMessage selection is indicated by a \fBgreater-than \*Q>\*U\fR symbol located
Xat the beginning of the header line for the particular message.
XNew and unread messages are indicated by \*Q\fBN\fR\*U and \*Q\fBU\fR\*U
Xcharacters respectively, preceding the message number.
XDeleted messages not yet removed from the index list have the letter
X\*Q\fBD\fR\*U preceding the message number.
XSaved messages are now marked with the letter \*Q\fBS\fR\*U, to denote the fact
Xthat such messages in your system folder would normally disappear from that
Xfolder
Xwhen you finally commit the changes.  (\fIAlthough messages in other folders
Xthat are saved will also be marked with an \*Q\fBS\fR\*U, they do not by
Xdefault get removed from that
Xfolder when the changes are committed.  Such messages must be explicitly
Xdeleted if so desired.\fR)
XMessages that are marked for preservation in the system folder are now marked
Xwith the letter \*Q\fBP\fR\*U until the folder changes are committed.
XKeyboard keys can be used to scroll the index window in much the fashion of
Xtext display programs such as \fBmore\fP or \fBless\fP,
Xin addition to the more traditional mouse on scrollbar mechanism.
X
XJust below the index
Xwindow, a \fIstatus\fR window displays information, status, and error messages.
XAs the mouse cursor is moved between the various command button windows in
Xthe xmail
Xprogram, a short description of the particular button's function(s) is
Xdisplayed
Xin the status window.  Moving the mouse cursor out of that command button's
Xwindow restores the default
Xinformation about obtaining help on any part of xmail.
XError and status messages are also displayed in this same status window.
XThe terminal bell is usually rung to draw attention to these messages.
XThe status bell can be disabled using a command line option or resource
Xspecification.
X
XImmediately below the status window and attached to it, the xmail
Xshell displays a panel with a selection of commonly used Mail commands.
XPressing and then releasing (\fIalso known as \*Q\fBclicking\fP\*U\fR)
Xthe \fBleft\fR mouse button while the mouse cursor is within a
Xparticular command button box invokes that Mail command.
X
XA grip at the top right corner of the command panel permits the user to slide
Xthe status window/command panel combination up and down in the \*(xM shell, to
Xaccommodate those times when the user is reviewing a short list of longer than
Xaverage messages, or a longer list of relatively short messages.
X
XEach button in the command panel also offers an expanded menu of choices related
Xto that particular command.
XPressing the \fBright\fR mouse button presents the user with the
Xexpanded menu.  \fBDragging\fR the cursor over one of these selections
X\fIwhile still holding down the right mouse button\fR causes the particular menu
Xselection to highlight.  A description of the highlighted command's function is
Xalso displayed in the status window.  \fBReleasing\fR the right mouse button
Xwhile a selection is highlighted invokes that particular command.
X
XKeyboard accelerators for these actions are indicated by appropriate entries
Xin the command menus.  Users may take advantage of these accelerators by
Xholding down the Shift and/or Control key(s) prior to clicking the left mouse
Xbutton on the desired command, in lieu of raising the command popup menu.
X
XMessages are displayed in the bottom text window of the \*(xM shell.
XLike the index window above, scroll bars provide easy access to any portion of
Xthe text.  Keyboard keys can also be used to scroll the text window.  If the
Xdisplayed message contains an X-Face header string, the content of that string
Xis displayed as a bitmap in the upper right-hand corner of the text window.
X(\fIThis feature is a compile time option, and requires the existence of the
X\fBcompface\fP library routines, which are not supplied with the xmail sources.
XSee the section on \s-1X-FACE HEADERS\s+1 for details on acquiring
Xthis library.\fR)
X
XIn addition, both the text window and index window have duplicate keyboard
Xdefinitions to augment using the
Xmouse on the command buttons for normal \*(xM command operation.  Like many of
Xthe resources for xmail, these key bindings are now declared in the application
Xresource file, to allow the user to modify them as desired.
X
XUpon completion of the editing phase of a send/reply operation, the user is
Xpresented with a \fIcompletion\fR popup window which contains areas for
Xspecifying the
Xmessage header addressees, subject, and carbon and blind carbon copy
Xrecipients.  This information can now also be modified directly within the
Xmessage
Xcomposition, by specifying the \fIeditheaders\fP Mail program option.  This
Xoption is normally declared within the user's \fI\&.mailrc\fP file, but can be
X\fItoggled\fP on and off using the special \fBSet\fP option menu provided with
Xthe \fIpreserve\fP command button.  (\fISee the section on
X.SB CHANGING VARIABLES
X\fIor the on-line help
Xinformation for the preserve button for additional details.\fR)  Also present
Xin the
Xcompletion popup are command buttons to add one of two forms of user signature,
XRe-Edit the message composition, Cancel and save, Abort, or Deliver the
Xmessage to the
Xindicated recipients.  The pressing of these command buttons using the mouse
Xmay also be simulated by using the keyboard \fBmeta\fP keys and the first
Xletter of the particular command, with
Xthe exception that the adding of autograph signatures is denoted by the use of
Xeither the \*Q\fBS\fP\*U (\fIfor upper-case Autograph Signature\fP) or
X\*Q\fBX\fP\*U
X(\fIfor the lower-case version\fP) keys, since the \*Q\fBA\fP\*U key
Xis used for effecting the \fBAbort\fP function.  When either the Cancel, Abort,
Xor Deliver function is executed, the composition popup is automatically
Xremoved from the display.
X
XA modified mailWatch widget (\fIala xwatch\fP) is used as the \*(xM icon window.
XThe mailbox flag in the icon window will be raised and mail shown inside the
Xbox, whenever new mail arrives while the application is in its iconic state.
XIn the non-iconic state, the \fBNewmail\fR command button is highlighted
Xto signal new mail arrival.  Clicking on the Newmail button will
Xreset the flag and highlighting, and deliver the new mail to your display.
X
XPressing the \fBmiddle\fR mouse button while the mouse cursor is within any
Xwindow or command button of
Xthe \*(xM shell (\fIin some cases while also holding down either \fBShift\fP
Xkey\fR)
Xwill cause help
Xinformation relating to that window (\fIor button\fP) to be displayed in
Xthe (\fIbottom\fP) text window.
XReleasing the mouse button will cause that help information to be removed.
XPressing the \*Q\fB?\fR\*U key in the text window will cause a second page
Xof help information, relating to the default bindings for the keyboard keys,
Xto appear.
XPressing the \*Q\fBLineFeed\fR\*U or Control_J key will cause that second help
Xwindow to be removed.
X
XDuring command execution, the cursor is changed to a watch face
Xto indicate that \*(xM is busy.  Upon completion of the activity, the
Xcursor is restored to its previous value.
X.\"
X.SH "ENVIRONMENT"
XSeveral process environment variables are of a special interest to \*(xM.
X.sp
X.RS
X.TP 3
X.SB DEAD
XNormally specified in the user's \&.mailrc file,
Xthis variable indicates the name of the file to use when storing dead or
Xcanceled letters.
XIf unspecified, it defaults to \*Qdead.letter\*U in the user's HOME directory.
X.TP 3
X.SB HOME
XDefines the path to the user's home directory, and is used in determining
Xthe complete path for mail folder and dead letter files.  If unspecified,
Xthis information will be extracted from the user's entry in the password file.
X.TP 3
X.SB MAILRC
XIf defined, denotes the full name of the user preferred Mail program startup
Xfile, used to define various mail state variables.  By default, Mail (\fIand
X\*(xM\fP) will look for the file \fI\&.mailrc\fP, in the user's home directory.
X.TP 3
X.SB MBOX
XNormally specified in the user's \&.mailrc file, this variable denotes the
Xpreferred file to use when storing letters that are
Xno longer to be preserved in the system mail folder, and letters copied or
Xsaved to no other specific file.
X.TP 3
X.SB VISUAL
XNormally specified in the user's \&.mailrc file,
Xthis variable denotes the preferred editor to use when composing messages in
X\*(xM.  This information can be overridden by specifying a value for the
X\fIeditorCommand\fP command line or resource declaration.
X.TP 3
X.SB XMAILER
XIf defined, points to the particular executable to be used as the Mail
Xprogram.  Normally, \*(xM establishes connections with Mail in the default
Xpath of the process (\fIassumed to be at least \*Q/bin /usr/bin /usr/ucb\*U\fP).
XIf need be, this
Xenvironment variable can be used to provide a specific path to the Mail or
Xother named
Xprogram.  Note: \*(xM may not work correctly with any mail program
Xother than the intended Berkeley Mail program.
X.RE
X.\"
X.SH FOLDERS
XIf the \fBright\fR mouse button is pressed while the cursor is within the
Xcommand panel \fBFolder\fR button, \*(xM will display a menu of available
Xmail folders.  (\fIIf the user has not set their mail \fRfolders\fP variable,
Xa message so indicating will be displayed instead.\fR)
XDragging the cursor while still holding the right mouse button down will allow
Xthe user to highlight a particular folder name.  Releasing the right button
Xwhile a name is highlighted causes a copy of that name to be written in
Xthe command panel \fIFile\fP window.  The menu list is then unmapped.
XReleasing the right button while outside
Xany folder selection causes the folder menu list to disappear.
X
XFolders which are actually directories (\fIthat might possibly contain
Xadditional folder files\fP)
Xare displayed with a trailing slash (/) character.  Clicking the \fBleft\fR
Xmouse
Xbutton within a directory folder while still holding down the right
Xmouse button (\fIalso known as \*Q\fBexpanding\fR\*U) causes \*(xM to expand
Xthat directory and display (\fIon a new menu level\fP) any files found there.
XDragging the cursor over
Xone of these selections and releasing the right mouse button copies the
Xcomplete folder path name to the file window.  This nesting of folder names
Xmay be repeated as often as there are legitimate folder directories.  Clicking
Xthe left mouse button on an empty folder directory rings the terminal bell.
XDragging the cursor beyond one of these nested menu levels causes that menu to
Xdisappear, without making a selection.  Re-clicking the left mouse button on
Xthe directory folder redisplays the nested menu.
X
XBecause of the methodology utilized in determining the folder list menu widget
Xhierarchy, certain restrictions must apply when declaring folder directories.
XNo folder directory name may contain an embedded period (.) or asterisk (*),
Xsince these
Xitems are utilized by the resource manager (\fIand toolkit function
XXtNameToWidget\fP) to indicate the potential widget hierarchy.  If a folder
Xdirectory name
Xexists at any level with one or more of these characters embedded in its name,
Xattempts to access that folder directory will result in a beep and no further
Xexpansion.
X
XThe first request for the folder menu extracts (\fIfrom Mail or the system\fP)
Xthe
Xnecessary information to create the menu.  Subsequent requests simply redisplay
Xthat menu.  To force \*(xM to recalculate the folder menu content, use the
X\fBNewmail\fR button option which causes \*(xM to destroy all current folder
Xmenus.  This mechanism provides access to folders created since the startup
Xof \*(xM.
XPressing the right mouse button
Xon the Newmail command box will present the Newmail command menu, which has a
Xchoice to drop the current folder list.  This same option is also available
Xusing the designated accelerator key and left mouse button on the Newmail
Xcommand button box.
X
XAs message are stored or otherwise delivered to one of the folder files, the
X\fIaccessed\fP and \fImodified\fP time stamps for that folder file are updated
Xby the system.  \*(xM uses that information to indicate (\fIvia the addition of
Xa hatching pattern to the background of a particular folder button label\fP)
Xwhen a
Xfolder has been modified since the last time it was accessed.  This feature
Xpresents a method of indicating when new messages exists in a particular folder
Xfile.  Reading the particular folder automatically resets this indicator,
Xalthough
Xin some instances remotely accessed folder files (\fIsuch as those on an NFS
Xmounted file system\fP) may not properly or consistently update this time
Xinformation.
X.\"
X.SH FONTS
XSeparate fonts may now be specified for mail message (\fIand index\fP) text,
Xhelp
Xmessage text, and for the command buttons.  (\fISee the options descriptions
Xfor a list of the command line options to use.\fP)  You may also declare all
Xfonts using the resource declaration \fB*Font: <fontname>\fP, or the command
Xline option \fB-fn\fP <\fIfontname\fP> or \fB-font\fP <\fIfontname\fP>, which
Xcause all three fonts specifications to utilize the same font.
XPrevious restrictions against the use of proportional width fonts have now
Xbeen hopefully resolved.  Although the result of choosing such a font may still
Xproduce less than optimal results, the window shell should be of a reasonable
Xsize, and the support menu entries should now be readable.  Of course, no
Xamount of coding can overcome inappropriate font selections.
X.\"
X.SH ICONIFICATION
X\*(xM establishes access to a dummy mail folder whenever the application is
Xin the iconified state.
XThis is done to prevent potential corruption of a real mail folder, should the
Xuser choose to read their mail from another process while \*(xM is running.
XBecause of this action, iconifying \*(xM \fBalways\fR
X.SB COMMITS
Xchanges made to the current folder, prior to switching to the dummy folder.  No
Xconfirmation for committing folder changes will occur when iconifying \*(xM.
X
XThe original folder being read by the user will be 
Xautomatically reinstated as current whenever \*(xM is again deiconified.
XThis action will flush any deleted messages from the index headers and renumber
Xthe remaining messages in the folder.  The last message in the folder will then
Xbecome the current message displayed (\fIunless \*(xM was started with the
X\fB*Show_Last\fP resource option disabled, in which case the first message
Xwould be made current\fR).
X
XIf the \*Qcurrent\*U folder was the user's system folder, any new mail
Xreceived since the iconification would be automatically included by the
Xre-access.  If some other folder were current (\fIor no folder, due to initial
Xconditions of no mail for the user\fR), deiconification would not cause the
Xreading of any new mail.  Under those circumstances the user must press the
X\fBNewmail\fR command button to change to the system mail folder (\fIand read
Xthe new mail\fR).
X
XThe icon window also supports an auxiliary identification mechanism,
Xfor users that might have more than one account, possibly on more than
Xone machine, and that wish to be able to identify otherwise duplicate \*(xM
Xicons.  Pressing the \*Q\fBh\fR\*U key while the mouse cursor is within the icon
Xwindow will cause the icon to be tagged with the machine's hostname.
XPressing the \*Q\fBu\fR\*U key will cause the user's login name to be displayed.
XPressing the \*Q\fBspace\fR\*U bar will clear the icon window of either name.
XChanging the tag space content of the icon will also change the title of the
Xapplication for window managers.  This allows the user to distinguish between
Xseveral xmail invocations from the window (or icon) selection menus of the
Xvarious window managers.
XThe hostname or login name addition may also be pre-selected using either
Xcommand line options or resource declarations if desired.
X
XIconification is typically promoted by user definable button events which are
Xparticular to the window manager in use at the time.  Pressing the \*(nS logo
Xdisplayed at the left of the title bar will also cause xmail to issue a window
Xmanager request for iconification.  ICCCM compliant window managers should
Xhonor that request by iconifying the xmail application.
X
XPressing the \*Q\fBq\fR\*U key while the mouse cursor is within the \*(xM icon
Xwindow will cause \*(xM to terminate.  \*(xM also honors the
X.SB ICCCM
XWindow Manager protocol request
X.SB WM_DELETE_WINDOW
Xto terminate the \*(xM application.
X.\"
X.SH "KEYBOARD ACCELERATORS"
XThe index and text windows support two methods of scrolling displayable
Xtext.  The use of the mouse buttons in the scrollbar region is standard.
XIn addition, keyboard keys have been defined in keeping with conventions
Xused in text display programs such as \*Qmore\*U and \*Qless\*U.
X
XThese keyboard accelerators will \fBonly\fP be available if the resources are
Xdeclared either in the application defaults file (\fIwhich must be properly
Xinstalled\fP) or the
Xuser adds the necessary declarations to their local default resources.
X
XThe following table lists the key definitions and their respective actions.
XThe abbreviation \*QCtrl\*U means to press down and hold the \fBControl\fR
Xkey while pressing the specified letter key.  \*QMeta\*U likewise refers
Xto the \fBmeta\fR keys (\fIlabeled \*QLeft\*U and \*QRight\*U or with a
Xdiamond symbol on Sun type-4 keyboards\fR).
X.sp
X.RS
X.nf
XKey Name 		Action Taken
X--------		-----------------------------
X Ctrl V 		move to the next page
X space  		move to the next page
X Meta V 		move to the previous page
X   b    		move to the previous page
X Ctrl Z 		scroll one line up
X Return 		scroll one line up
X   j    		scroll one line up
X Meta Z 		scroll one line down
X   k    		scroll one line down
X   -    		scroll one line down
X   \'    		move to the beginning of file
X Meta < 		move to the beginning of file
X Meta > 		move to the end of file
XShift G 		move to the end of file
X.fi
X.RE
X.sp
X.LP
XIn addition to the scroll key definitions, both windows also support
Xkeyboard accelerators for most of the command buttons.  Where possible,
Xthese keyboard keys replicate the actual commands that would be typed
Xif the user were running the native mail program directly.  Thus, to begin
Xsending a mail message to some recipient, the user could press the
X\*Q\fBm\fR\*U key, and to delete a current message, the user could press the
X\*Q\fBd\fR\*U key.
XCertain exceptions and additions have been made, in order to avoid conflicts
Xwithin the \*(xM program.
X.sp
X.RS
X.nf
XKey Name 		Command Action Taken
X--------		-----------------------------
XShift A 		reply to all, include the current message
XShift C 		copy the message to the author's name
XShift F 		forward the current mail message
XShift M 		reply to a mail message
XShift N 		bring new mail into your system folder
XShift P 		send the current message to the printer
XShift R 		include the current message in a reply
XShift S 		save the message to the author's name
X   a    		reply to all recipients of a message
X   c    		copy the message to the indicated folder
X   d    		delete the current message
X   f    		read the full header of the message
X   i    		incorporate new mail without commit
X   m    		mail (compose) a new mail message
X   n    		read the next mail message
X   p    		read the previous mail message
X   q    		quit xmail, committing any changes
X   r    		read the current mail message
X   s    		save current message in specified folder
X   u    		undelete the most recently deleted message
X   w    		writes the message to the indicated file
X   x    		exit xmail, without committing changes
X   ?    		displays help for these key definitions
X <LF>   		removes help for these key definitions
X.fi
X.RE
X.\"
X.SH RESOURCES
XMost of the options and features of this version of \*(xM depend heavily on
Xthe installation of the application default resources file in the proper
Xlocation (\fItypically /usr/lib/X11/app-defaults/XMail\fP).  If this file is
Xnot installed, xmail will still run, but only in a severely restricted manner,
Xand with almost none of the features mentioned in this man page.
XThe resource declarations were moved from the program sources to the defaults
Xfile to allow for a greater degree of flexibility in the appearance and actions
Xof \*(xM at the discretion of the user.
X
X\*(xM recognizes resource definitions for each of its component windows and
Xcommand buttons.  Wherever possible, button resources have been named for the
Xlabel (or first word in the label) of the command button.  (\fIThe exception
Xis the preserve \*Qset\*U menu, whose resources are identified by the second
Xword in each label.\fR)
XThus :
X.RS
X.TP 3
X\fB*read\fR
Xspecifies resources for the \fIread\fR command button
X.TP 3
X\fB*save\fR
Xspecifies resources for the \fIsave\fR command button
X.TP 3
X\fB*autoprint\fR
Xspecifies resources for the \fIset autoprint\fR command button, and
X.TP 3
X\fB*noautoprint\fR
Xspecifies resources for the \fIset noautoprint\fR command button.
X.RE
X.LP
XColor may be added (on a color display device) to enhance
Xthe appearance of \*(xM.  Example resources in the application defaults file
Xhave been left in a commented condition.  They may be implemented by
Xuncommenting the appropriate lines in the defaults file, or
Xoverridden by designations in the user's \&.Xdefaults file, or (\fIin some
Xcases\fR) by command line options.
XResources specified in the user's \&.Xdefaults file should be preceded with
Xeither the \fB\*(xM\fR application or \fBXMail\fR Class resource identifier.
X
XIn addition to those resources named for a particular \*(xM command button,
Xthe following additional resource names are recognized:
X.sp
X.RS
X.TP 3
X\fB*buttonFont: \fI<fontname>\fR
Xdenotes a preferred font to use when creating the command buttons.  The width
Xof the \*(xM shell, and thus its general appearance is controlled by the
Xfont specified for buttons.  If different fonts are specified for buttons and
Xtext, and the font for text is of a larger point size than that specified for
Xbuttons, then text in the index and text windows will most likely wrap during
Xdisplay.
X.TP 3
X\fB*Bcc\fR
Xcontrols resources for the \fIBcc:\fR entry window
X.TP 3
X\fB*bellRing: \fI<boolean>\fR
XNormally true, this boolean enables ringing of the terminal bell during
Xstatus and error message display.
X.TP 3
X\fB*Cc\fR
Xcontrols resources for the \fICc:\fR entry window
X.TP 3
X\fB*commandPanel\fR
Xcontrols resources for the \fIcommand panel\fR
X.TP 3
X\fB*customHeader\fR
XThis resource can be used to specify additional mail headers to be included
Xin the headers of all outgoing messages created by the user.  The information
Xcontained in this resource
X.SB MUST
Xconform to the format of mail headers, namely a keyword, such as
X\fBOrganization:\fP (\fIwhich must include the trailing colon character\fP),
Xfollowed by a space character, and the text of the information.  An example
Xcustom header resource declaration would be:
X.RS
X.nf
X
Xxmail*customHeader: Organization: Your_Company_Name
X.fi
X.RE
X.TP 3
X\fB*editorCommand: \fI<quoted command string>\fR
XSpecifies the editor resource that \*(xM should use when editing a message
Xcomposition.  The quoted command must be an \fIsprintf\fR\-able format
Xcontaining two string declarations.  The first of these declarations will be
Xreplaced with the name of the display connection for the xmail process, to
Xallow the edit window to appear on the correct display screen.  The second
Xdeclaration will be replaced with the name of the file to be edited.
XIf \*(xM cannot locate the two separate string declarations in the command,
Xthe command will be rejected and processing will default to the older
X.SM VISUAL
Xmethodology.  See the section on
X.SB SENDING MESSAGES
Xfor additional details.
X.TP 3
X\fB*expert: \fI<boolean>\fR
XThis boolean defines whether the \*(xM user requires confirmation of
Xfolder commits or composed message deletions.  Whenever an action
Xwould make a permanent un-recoverable change to the \*(xM environment, a
Xpopup confirmation window will be presented for the user, to assure that
Xthe action should take place.  These confirmations include changing a
Xfolder when deletions have occurred, or deleting the text of a newly
Xcomposed message instead of sending it.  Setting this resource to True
Xeliminates those confirmation popups.
X.TP 3
X\fB*fileWindow\fR
Xcontrols resources for the \fIfile window\fR within the command panel
X.TP 3
X\fB*Font\fR
Xprovides font specifications for the three optionally separate fonts used in
X\*(xM, buttonFont, helpFont, and textFont.
X.TP 3
X\fB\&.geometry: \fI[+-]XOff[+-]YOff\fR
XThis resource defines the initial startup location for the \*(xM window.
XNote the dot (.) just in front of the geometry resource name.
XUsers are cautioned to \fBnot\fR specify this resource with the
Xwildcard (*) designation, as this would force all popup windows (help, menus,
Xand send/reply) to orient to that same starting location, rather than be
Xanchored to the intended window.
X.TP 3
X\fB*helpFont: \fI<fontname>\fR
Xdenotes a preferred font to use when displaying help information.
X.TP 3
X\fB*icon\fR
Xcontrols resources for the \fIicon\fR window.  In addition to 
Xspecifications of foreground and background colors, it is also possible
Xto specify the following mailWatch widget resources :
X.RS
X.TP 3
X\fB*icon*useHost: \fI<Boolean>\fR
XIf set to true, tells \*(xM to include the mail host name in the icon window
Xwhen displaying the icon.  This option is now alterable at runtime by keypress
Xin the icon window.  \*Q\fBh\fR\*U sets the host name, \*Q\fBu\fR\*U sets the
Xuser name, and \*Q\fBspace\fR\*U clears either entry.
X.TP 3
X\fB*icon*useName: \fI<Boolean>\fR
XIf set to true, tells \*(xM to include the user login name in the icon window
Xwhen displaying the icon.
X.TP 3
X\fB*icon*reverseVideo: \fI<boolean>\fR
XIf set to true, reverses the foreground and background colors for the icon.
XSetting this resource has no effect if the \*(xM program is utilizing the
X.SB XPM
Xfull-colored pixmap icons.
X.TP 3
X\fB*icon*update: \fI<seconds>\fR
XSpecifies the update interval for checking new mail (default is 30 seconds).
X.TP 3
X\fB*icon*bell: \fI<boolean>\fR
XIf set to False, prevents the mailWatch widget from ringing the bell when
Xnew mail arrives.  See also the \&.mailrc variable setting for \fIbell\fR.
X.RE
X.TP 3
X\fB*iconic: \fI<boolean>\fR
XThis boolean defines whether the \*(xM application should be started in
Xiconic state or not.  It is highly recommended that only the application
Xresource identifier be used if specifying this resource.
XUse of the \fBXMail\fR Class identifier would also constrain any
Xmessage entry windows to be started iconic, which could prove confusing
Xto the unaware user.
X.TP 3
X\fB*iconGeometry: \fI[+-]XOff[+-]YOff\fR
XThis resource defines an initial location for the icon, whenever the
X\*(xM application is iconified.
X.TP 3
X\fB*indexWindow\fR
Xcontrols resources for the \fIindex\fR window
X.TP 3
X\fB*list\fR
Xcontrols resources for the \fIfolder list\fR popup window
X.TP 3
X\fB*mailFlag:\fP \fI<string>\fP
Xis the resource which defines the icon bitmap (\fIor
X.SB XPM
X\fIpixmap\fR) to use when
Xindicating new mail.  If the XPixMap compile time option was not
Xspecified, a string
Xto bitmap resource converter is supplied which automatically converts
Xthe specified string to a bitmap.  If the
X.SM XPM
Xoption \fBwas\fR declared at compile
Xtime, an internal conversion of string to pixmap is performed.  If the
Xstring does not define an
X.SM XPM
Xpixmap, an attempt is made to convert the
Xstring to a bitmap.  Thus, with the
X.SM XPM compile time option, either an
X.SM XPM
Xpixmap or
Xa standard bitmap may be declared.  Without the
X.SM XPM
Xoption, only a standard
Xbitmap file may be specified.  In either case, if the conversion should fail,
Xthe program would default to an appropriate internal representation.
X.TP 3
X\fB*mailopt_n: \fI<boolean>\fR
XNormally false, this resource
Xduplicates the effect of the \fI-n\fR command line option.
X.TP 3
X\fB*mailopt_U: \fI<boolean>\fR
XNormally false, this resource
Xduplicates the effect of the \fI-U\fR command line option.
X.TP 3
X\fB*menu\fR
Xcontrols resources for all of the command button popup menus
X.TP 3
X\fB*MFileName: \fI<foldername>\fR
XNormally null, this resource
Xduplicates the effect of the \fI-f folder\fR command line option.
X.TP 3
X\fB*noMailFlag:\fP \fI<string>\fP
Xis the resource which defines the icon bitmap to use when indicating that new
Xmail is not available.
X.TP 3
X\fB*No_X_Hdr:\fP \fI<boolean>\fP
XNormally False, if set to True this resource
Xtells \*(xM to \fBnot\fP include any X-Face header strings when displaying the
Xtext of an incoming message.  This is equivalent to specifying the \*(xM
Xcommand line option \fB-nx\fP.  Either setting will not deter the display of
Xthe X-Face bitmap if it exists in the message headers.
X.TP 3
X\fB*Show_Info: \fI<boolean>\fR
XNormally true, this boolean enables display of command button information
Xmessages in the status window, whenever the mouse cursor enters or leaves one of
Xthe command button windows.  Information messages are also displayed for each
Xof the popup sub-menus as well.  Setting this resource to false prevents these
Xinformation messages from being displayed.
X.TP 3
X\fB*Show_Last: \fI<boolean>\fR
XNormally true, this boolean enables display of the last message in a folder,
Xproviding no other is newer or unread.  Setting this resource to false causes
Xfolder displays to start with the first (or new or unread) message.
X.TP 3
X\fB*statusWindow\fR
Xcontrols resources for the \fIstatus\fR window
X.TP 3
X\fB*Subject\fR
Xcontrols resources for the \fISubject:\fR entry window
X.TP 3
X\fB*textFont: \fI<fontname>\fR
Xdenotes a preferred font to use when creating text and index windows.
X.TP 3
X\fB*textWindow\fR
Xcontrols resources for the \fItext\fR window
X.TP 3
X\fB*titleBar\fR
Xcontrols resources for the \fItitleBar\fR window
X.TP 3
X\fB*To\fR
Xcontrols resources for the \fITo:\fR entry window
X.RE
X
XA set of default resource definitions are provided in the
Xfile \fB/usr/lib/X11/app-defaults/XMail\fR.  User's may wish to include
Xappropriate alternate definitions in their 
X.SB $HOME/.Xdefaults
Xfile, to tailor preferences for colors and/or fonts.
X.\"
X.SH "SENDING MESSAGES"
XAll send and reply operations invoke the user's preferred editor to create or
Xmodify the message.  The editor preference may be specified using either the
X.SB VISUAL
X\&.mailrc environment specification, or the newer \fBeditorCommand\fR resource
Xspecification (\fIor \-editorCommand command line option\fR).
X
XThe editorCommand resource must define a string with two \fBsprintf\fR\-able
Xformat declarations, one for the name of the X11 server display connection,
Xand one for the name of the file to be edited.  The editorCommand specification
Xmust also ensure the proper creation of an appropriate X11 window for
Xcompleting the desired editing session.
X
XThe resource may be specified on the command line, either as an option, or as
Xa resource manager string.  It may also be specified in the user's applications
Xdefault file as an xmail resource.  Examples of editorCommand specification
Xstrings include:
X
X.RS
X.nf
X\fBxmail\ \-editorCommand\ 'emacs\ \-display\ %s\ \-name\ XMail\ %s'
X.sp
X\fBxmail\ \-xrm\ '*editorCommand:\ xterm\ \-display\ %s\ \-e\ vi\ %s'
X.sp
Xxmail.editorCommand:\ \ xedit\ -name XMail_Edits \-display\ %s\ %s
X.sp
Xxmail.editorCommand:\ \ emacs\ \-display\ %s\ %s
X.sp
Xxmail.editorCommand:\ \ xterm\ \-display\ %s\ -name XMail -e vi %s
X.fi
X.RE
X
XIf the editorCommand resource fails to provide the required string declarations
Xfor the display and file names, or it is not defined, \*(xM will default to
Xthe older method of utilizing the information in the user or Mail process
X.SB VISUAL
Xenvironment variable.
XThe \fIdefault\fR editor will be \fBvi\fR, if no
X.SM VISUAL
X(\fImailrc or process\fR) environment variable definition exists.
X
XUpon completion of the send/reply editing session, a popup window will be
Xdisplayed containing \fITo:\fR, \fISubject:\fR, \fICc:\fR, and \fIBcc:\fR
Xfields for the current message composition.  Help is available for each of
Xthese fields, as it is for all of \*(xM.
X
XA menu of mail aliases (\fIextracted from the user's .mailrc file\fR) is
Xavailable for access from any of the To:, Cc:, or Bcc: windows.  Pressing the
Xright mouse button while the mouse
Xcursor is in any of these input fields causes the alias names menu to be
Xdisplayed.  If the user has not defined any mail aliases, the terminal bell
Xwill be rung instead, to indicate that no alias names menu is available.
X
XLike the \fIFile:\fR window used to enter file and mail folder names, the
Xcontent of the send window popup fields may be modified by the user as needed.  
XBackspace and delete keys remove the previous character, control_W
Xdeletes the previous word, and control_U deletes the entire
Xline of information.  Pressing the Return key in any of these four
Xfields causes the cursor to automatically warp to the next field.
X
XUsers may append their \fISign\fP or \fIsign\fP autograph (see \fBMail(1)\fR)
Xonce only to the end of the composed message text.  If the user does not set
Xa [Ss]ign value in their .mailrc file, this version of xmail will also look in
Xtheir home directory for either a .signature or .Signature file (\fIdepending
Xon which of the two [Aa]utograph buttons was pressed\fP) to append to the
Xmessage text.
X
XPressing the \fIRe-Edit\fR button allows the message to be re-edited,
Xwhile the \fICancel\fR button terminates delivery but saves any partial
Xcomposition in your dead.letter file.
XPressing the \fIAbort\fR button cancels delivery but does not save the
Xcomposition, while the
X\fIDeliver\fR button causes the message to be delivered to the sendmail daemon.
X
XThe pressing of any of these command buttons may also be simulated while the
Xmouse cursor is anywhere within the popup window,
Xby using the keyboard \fBmeta\fP keys and the first letter of the command, with
Xthe exception that the adding of autograph signatures is denoted by the use of
Xeither the \*Q\fBS\fP\*U (\fIfor upper-case Autograph Signature\fP) or
X\*Q\fBX\fP\*U
X(\fIfor the lower-case version\fP) keys, since the \*Q\fBA\fP\*U key
Xis used for effecting the \fBAbort\fP function.
X
XWhen either the Cancel, Abort,
Xor Deliver function is selected, the composition popup is automatically
Xremoved from the display.
X
XIf the user attempts to deliver a message with no designated recipient or
Xno message body and no message Subject line specified, \*(xM will re-display
Xthe completion popup, to permit the user to Re-Edit the message body,
Xadd a Subject designation and/or recipient, or specifically Abort the
Xmessage delivery.
X
XMail forwarded to another user will be bracketed by a \*Q\fIBegin Forwarded
XMessage/End Forwarded Message\fR\*U string
Xpair when using the \*Q\fIforward message\fR\*U Send command menu option.  Also 
Xincluded will be a \*Q\fIForwarded: Mail from ...\fR\*U line in the mail header.
X
XReply messages will include a \*Q\fIIn-Reply-To: Mail from ...\fR\*U string
Xin the mail
Xheader.  Like the \*Q\fIForwarded:\fR\*U header described above, it will include
Xthe name of the original sender, as well as the date the original message was
Xreceived.
X
XIf an X-Face header exists for the user, it will be inserted in the mail header
Xsection of the outgoing message.  This header must be stored in the file
X\fB\&.face\fR located in the user's home directory.
X
XUsers may provide additional custom header information to be applied to all
Xoutgoing message compositions, by using the \fB*customHeader\fP \*(xM resource
Xdesignation.  Specified information must conform to the format of mail
Xheaders as noted elsewhere in this documentation.
X.\"
X.SS "X-FACE HEADERS"
XX-Face headers are compressed bitmap images, typically of the face of the
Xperson owning such a header.  The compressed header contains only printable
Xcharacters, which allows it to be included in a mail message.
XThe \s-1USENIX\s+1 (\fI\s-1UNIX\s+1 Users Association\fR)
XFaceSaver project is the typical
Xsource for these bitmaps, which are compressed into X-Face header
Xformat using the \fBcompface\fR software tools written and distributed by
XJames Ashton <jaa@cs.su.oz.au>.  The compface library is also included with the
Xdistribution of the \fBfaces\fR software, written and distributed by Rich
XBurridge, and is available from the
XRich Burridge Archive Service <rb-archive-server@Aus.Sun.COM>.
X.\"
X.SS "EDITING RESOURCES"
XThe editing session invoked within \*(xM runs as a child process of the
X\*(xM application.  As such, it does not use those resources that were declared
Xfor the \*(xm process.  Resources for the editing session should be tied to the
Xuse of the \fB\-name\fR toolkit option in the editorCommand specification.
X
XThe default
X.SM VISUAL
Xmechanism invokes the vi editor in an xterm window, using the \*(xM Class
Xresource as it's name identifier.  This allows message composition window
Xresources to be declared
Xusing the \*(xM Class resource name followed by the xterm terminal resources
Xidentifier \*Qvt100\*U, as in \*Q\fBXMail*vt100.\fI<resource: value>\fR\*U.
X
XFor example, the author uses the following resource definitions in his
X\&.Xdefaults file, to control the size and placement of message composition
Xwindows.
X.sp
X.RS
X.nf
XXMail*vt100.geometry:           80x27+30+100
XXMail*vt100.font:               fg-22
XXMail*vt100.foreground:         white
XXMail*vt100.background:         blue
XXMail*vt100.mouse:              white
X.fi
X.RE
X.\"
X.SH "VARIABLES"
X\*(xM also uses the existence and value of several Mail environment
Xvariables (\fIdefined in the user's \&.mailrc file\fP) to aid in controlling
Xit's operation.
X.sp
X.RS
X.TP 3
X\fBalwaysignore\fR
XIf set, causes \*(xM to ignore those header fields specified with the
X\fIignore\fR \&.mailrc environment variable, when printing messages 
Xor when including message text in a send/reply composition.  This variable
Xcan be altered during the execution of \*(xM.  (See the section below
Xon \fIChanging Variables\fR.)
X.TP 3
X\fBautoprint\fR
XIf enabled, causes the current message text to be displayed when deleting or
Xundeleting messages.  If \fInot\fR enabled, users must select or read the
Xdesired
Xmessage.  This variable can also be altered within the current \*(xM execution.
X.TP 3
X\fBbell=\fIvalue\fR
XIf defined, determines the number of times the terminal bell would be rung to
Xindicate the arrival of new mail.  A minimum of once and a maximum of five
Xtimes is the permissible range.  Whether the terminal bell rings at all when
Xnew mail arrives is controlled by the \*Q\fB*icon*bell: \fI<boolean>\fR\*U
Xresource (\fIor \fB\-nb\fP command line option\fR) described above.
X.TP 3
X\fBeditheaders\fR
XLike Mail and mailtool, \*(xM permits the user to set and modify the outgoing
Xmessages mail headers while composing the message, if this variable is set.
XThis variable can be toggled during \*(xM execution, using the capabilities
Xof the \fBSet\fR menu provided under the \fBpreserve\fR command button.
X.TP 3
X\fBhold\fR
XLike mailtool, \*(xM sets \*Qhold\*U on the user's system mail folder,
Xunless \*Qnohold\*U has been \fIexplicitly\fR specified in the user's
X\&.mailrc file.  This variable can also be altered during \*(xM execution.
X.TP 3
X\fBprintmail=\fIprinter command\fR
XThis variable, originally created for the Sunview mailtool, allows the user
Xto specify a preferred command to use when printing messages.  The default
Xcommand is \*Qlpr -p\*U.  If the user is not using Sun's version of the mail
Xhandler, then the print mechanism will first copy the selected message to a
Xtemporary file before printing it.  This implies that the printmail command
Xmust also remove this temporary file when the print job has been completed.
XThis is typically accomplished by including the \fB\-r\fP (\fIremove\fP) option
Xwhen specifying the printmail command.  This is the default for non-Sun
Xspecific printing in the xmail program.
X.TP 3
X\fBsendmail=\fIshell-command\fR
XIf set, specifies an alternate procedure to use in lieu of the default
X\&/usr/lib/sendmail for delivering mail. User supplied procedures must be
Xprepared to search the message file for recipients and ignore or process
Xunexpected options (which ultimately must be passed on to the real sendmail
Xprogram).
X.RE
X.LP
XSome Mail variables have no effect on \*(xM operation, and are in fact ignored
Xif found to be set.
X.RS
X.TP 3
X\fBreplyall\fR
Xhas no effect on the meaning of commands within \*(xM.  This prevents confusion
Xdue to a difference between how a command is labeled, and how it reacts in use.
X.TP 3
X\fBcmd=\fI<value>\fR
Xis ignored, and is always defeated.  This provides a mechanism to determine if
Xthe pipe command is supported in the user's mail environment, and determines
Xthe method to use when printing a message on the system printer (\fIusing the
Xdefault or user specified\fP \fBprintmail\fP \fIcommand\fP).
X.TP 3
X\fBcrt=\fI<value>\fR
Xis ignored, and always defaults to \fBnocrt\fR.  This prevents user specified
Xpaging mechanisms from interfering with full message delivery to \*(xM.
X.TP 3
X\fBscreen=\fI<value>\fR
XThe current release of \*(xM can safely handle up to a
Xmaximum of 10,000 mail message in any one mail folder.  Users with more than
X10,000 messages in any one folder should seriously consider either creating
Xsome additional sub-folders, or at least deleting older messages.
X.\"
X.SS "CHANGING VARIABLES"
X\*(xM provides a mechanism for altering the state of four of the Mail (\fIand
Xone \*(xM specific\fP)
Xenvironment variables used to control \*(xM (and Mail) operations.
XThe states of \fBalwaysignore, autoprint, editheaders, hold,\fR and
X\fBexpert\fR can now be \*Qtoggled\*U from a special menu attached to the
X\fBpreserve\fR command button.
X.LP
XPressing the right mouse button while the
Xmouse pointer is within the preserve command button box presents a
Xmenu of \*Qset\*U
Xcommands which indicate the state the variables would be changed to
Xif the mouse button were released while one of these commands was highlighted.
X.LP
XChanging the state of the variable alters the next presentation of the menu,
Xsuch that the opposite state will always be presented as the command option.
X.RE
X.\"
X.SH "SEE ALSO"
XMail(1)
X.\"
X.SH BUGS
XUsers finding a problem in
Xthis xmail application are encouraged to notify the author at the
Xindicated address.  A complete (as possible) description of the problem, and
Xa context diff of the changes needed to fix the flaw, if available, would be
Xgreatly appreciated.  I will make every effort to fix any such bugs reported.
X
XSend any bug reports or other requested changes to:
X
X.RS
X.nf
XMichael C. Wagnitz                        M/S D3-677
XNational Semiconductor Corporation
X2900 Semiconductor Drive  Santa Clara, CA 95052-8090
X
XDomain: michael@berlioz.nsc.com  Phone: 408/721-3266
XUUCP: {apple|decwrl|hplabs|sun}!nsc!berlioz.nsc.com!michael
X.fi
X.RE
X.\"
X.SH AUTHOR
X.ce 3
XCopyright 1989, 1990, 1991, 1992 - \*(nS
XALL RIGHTS RESERVED
X
XMichael Wagnitz, \*(nS, Santa Clara, CA
X.LP
XMuch of the original design and insight for the development of \*(xM
Xwas provided by contributions from the following authors:
X
XThe xdbx contribution by Po Cheung (po@volta.ece.utexas.edu)
X.RS
XCopyright 1989 The University of Texas at Austin
X.RE
X
XThe mailWatch widget by Dan Heller (argv@sun.com)
Xwas used as the source for the \*(xM icon window.
END_OF_FILE
  if test 53609 -ne `wc -c <'xmail.man'`; then
    echo shar: \"'xmail.man'\" unpacked with wrong size!
  fi
  # end of 'xmail.man'
fi
echo shar: End of archive 3 \(of 10\).
cp /dev/null ark3isdone
MISSING=""
for I in 1 2 3 4 5 6 7 8 9 10 ; do
    if test ! -f ark${I}isdone ; then
	MISSING="${MISSING} ${I}"
    fi
done
if test "${MISSING}" = "" ; then
    echo You have unpacked all 10 archives.
    rm -f ark[1-9]isdone ark[1-9][0-9]isdone
else
    echo You still must unpack the following archives:
    echo "        " ${MISSING}
fi
exit 0
exit 0 # Just in case...
-- 
  // chris@IMD.Sterling.COM            | Send comp.sources.x submissions to:
\X/  Amiga - The only way to fly!      |
 "It's intuitively obvious to the most |    sources-x@imd.sterling.com
  casual observer..."                  |
