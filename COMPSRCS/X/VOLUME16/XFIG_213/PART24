Path: uunet!zaphod.mps.ohio-state.edu!mips!msi!dcmartin
From: envbvs@bea.lbl.gov (Brian V. Smith)
Newsgroups: comp.sources.x
Subject: v16i029: Xfig 2.1.3, Part24/25
Message-ID: <1992Feb4.150400.1615@msi.com>
Date: 4 Feb 92 15:04:00 GMT
References: <csx-16i006-xfig-2.1.3@uunet.UU.NET>
Sender: dcmartin@msi.com (David C. Martin - Moderator)
Organization: Molecular Simulations, Inc.
Lines: 1662
Approved: dcmartin@msi.com
Originator: dcmartin@fascet

Submitted-by: envbvs@bea.lbl.gov (Brian V. Smith)
Posting-number: Volume 16, Issue 29
Archive-name: xfig-2.1.3/part24

# This is a shell archive.  Remove anything before this line, then feed it
# into a shell via "sh file" or similar.  To overwrite existing files,
# type "sh file -c".
# The tool that generated this appeared in the comp.sources.unix newsgroup;
# send mail to comp-sources-unix@uunet.uu.net if you want that tool.
# If this archive is complete, you will see the following message at the end:
#		"End of archive 24 (of 25)."
# Contents:  Doc/FORMAT1.3 Examples/bath.fig.uu
#   Examples/bedroom1.fig.uu Examples/dresser.fig.uu
#   Examples/shades.fig.uu Examples/thermal.fig.uu Imakefile
#   d_arcbox.c f_load.c fig.h object.c u_elastic.h u_error.c w_icons.h
#   w_indpanel.h w_msgpanel.c w_setup.c w_setup.h w_util.h w_zoom.h
# Wrapped by dcmartin@fascet on Tue Feb  4 06:42:33 1992
PATH=/bin:/usr/bin:/usr/ucb ; export PATH
if test -f 'Doc/FORMAT1.3' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'Doc/FORMAT1.3'\"
else
echo shar: Extracting \"'Doc/FORMAT1.3'\" \(2274 characters\)
sed "s/^X//" >'Doc/FORMAT1.3' <<'END_OF_FILE'
XThe following is the format of fig output (fig 1.3).
X
XThe first line consists of four number:
X	screen resolution (pixels/inch),
X	screen origin (1 : upper rigth, 2 : upper left, 3 : lower left,
X			4 : lower right),
X	canvas width (pixels),
X	canvas height (pixels)
X
XThe first integer of the rest of the lines represents the followings;
X
X	ELLIPSE		1
X	POLYLINE	2
X	SPLINE		3	(quadratic spline)
X	TEXT		4
X	ARC		5
X	BEGIN_COMPOUND	6
X	END_COMPOUND	-BEGIN_COMPOUND
X
XThe detail of each object is:
X
XARC
X	type (3 : circle by radius, 4 : circle by diameter, 5 : circular arc),
X	line_style,
X	thickness (pixels),
X	dash_length (pixels),
X	direction (0 : clockwise, 1 : counterclokwise),
X	forward_arrow (0: off, 1: on),
X	backward_arrow (0: off, 1: on),
X	arrow_ht (pixels), arrow_wid (pixels), 
X	center.x, center.y,
X	point[0].x, point[0].y, (the 1st point the user entered)
X	point[1].x, point[1].y, (the 2nd point or the last for type 3 or 4)
X	point[2].x, point[2].y  (the last point if type is 5)
X
XBEGIN_COMPOUND
X	upperright_corner.x, upperright_corner.y,
X	lowerleft_corner.x, lowerleft_corner.y
X
XELLIPSE
X	type (1 : defined by radiuses, 2 : defined by diameters),
X	line_style,
X	thickness (pixels),
X	dash_length (pixels),
X	direction (is always 1),
X	center.x, center.y,
X	radius.x, radius.y,
X	start.x, start.y, (the 1st point the user entered)
X	end.x, end.y
X
XLINE
X	type (6 : polyline, 7 : box, 8 : polygon),
X	line_style,
X	thickness (pixels),
X	dash_length (pixels),
X	forward_arrow (0: off, 1: on),
X	backward_arrow (0: off, 1: on),
X	arrow_ht (pixels), arrow_wid (pixels),
X	x1, y1,
X	x2, y2,
X	  .
X	  .
X	xn, yn,	(this will be the same as the 1st point for type 7 or 8)
X	9999, 9999
X
XSPLINE (quadratic spline)
X	type (10: open spline, 11: closed spline),
X	line_style,
X	thickness (pixels),
X	dash_length (pixels),
X	forward_arrow (0: off, 1: on),
X	backward_arrow (0: off, 1: on),
X	arrow_ht (pixels), arrow_wid (pixels),
X	x1, y1,
X	x2, y2,
X	  .
X	  .
X	xn, yn,	(this will be the same as the 1st point for type 11)
X	9999, 9999
X
XTEXT
X	font,  (not used)
X	size,  (not used)
X	style, (not used)
X	height (pixels), length (pixels),
X	lowerleft_corner.x (pixels), lowerleft_corner.y (pixels),
X	string (end at newline, \n)
X
XThere are only three line styles defined
X
X	SOLID_LINE	0
X	DASH_LINE	1
X	DOTTED_LINE	2 (not implement)
END_OF_FILE
if test 2274 -ne `wc -c <'Doc/FORMAT1.3'`; then
    echo shar: \"'Doc/FORMAT1.3'\" unpacked with wrong size!
fi
# end of 'Doc/FORMAT1.3'
fi
if test -f 'Examples/bath.fig.uu' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'Examples/bath.fig.uu'\"
else
echo shar: Extracting \"'Examples/bath.fig.uu'\" \(1865 characters\)
sed "s/^X//" >'Examples/bath.fig.uu' <<'END_OF_FILE'
Xbegin 664 bath.fig
XM(T9)1R`R+C`*.#`@,@HU(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`P(#`@,SDP
XM+C$V-R`R,#4N,38W(#,Y-"`R,#0@,SDS(#(P."`S.#D@,C`Y"C$@,B`P(#$@
XM,"`P(#`@,"`P+C`P,"`Q(#`N,#`P(#0R,R`S-S@@,S`@,C(@-#4X(#,V,"`S
XM.3$@-#`R"C(@,2`P(#$@,"`P(#`@,"`P+C`P,"`P(#`*"2`T,#0@,SDT(#,X
XM-2`S.30@.3DY.2`Y.3DY"C(@,2`P(#$@,"`P(#`@,"`P+C`P,"`P(#`*"2`T
XM,#4@,S8P(#,X-2`S-C`@.3DY.2`Y.3DY"C(@-"`P(#$@,"`P(#`@,"`P+C`P
XM,"`S(#`@,`H)(#,X-2`S-3$@,S8S(#,U,2`S-C,@-#`V(#,X-2`T,#8@,S@U
XM(#,U,2`Y.3DY(#DY.3D*,B`S(#`@,2`P(#`@,"`U(#`N,#`P(#`@,`H)(#0P
XM-"`Y.2`S,SD@.3D@,S,Y(#0S.2`S-SD@-#,Y(#,W.2`T,3D@,S4Y(#0Q.2`S
XM-3D@,3$Y(#0P-"`Q,3D@-#`T(#DY(#DY.3D@.3DY.0HR(#,@,"`Q(#`@,"`P
XM(#4@,"XP,#`@,"`P"@D@-#DT(#$Q.2`T.30@.3D@-3(Y(#DY(#4R.2`Q.3D@
XM-C0T(#$Y.2`V-#0@-#,Y(#0X.2`T,SD@-#@Y(#0Q.2`V,C0@-#$Y(#8R-"`R
XM,3D@-3`Y(#(Q.2`U,#D@,3$Y(#0Y-"`Q,3D@.3DY.2`Y.3DY"C(@,2`P(#$@
XM,"`P(#`@,"`P+C`P,"`P(#`*"2`U,#D@,C$Y(#4P.2`T,3D@.3DY.2`Y.3DY
XM"C(@-"`P(#$@,"`P(#`@,"`P+C`P,"`W(#`@,`H)(#4R-"`R,S0@-3(T(#0P
XM-"`V,#D@-#`T(#8P.2`R,S0@-3(T(#(S-"`Y.3DY(#DY.3D*,B`R(#`@,2`P
XM(#`@,"`P(#`N,#`P(#`@,`H)(#,W.2`T,3D@,S<Y(#0S.2`T.#D@-#,Y(#0X
XM.2`T,3D@,S<Y(#0Q.2`Y.3DY(#DY.3D*,B`Q(#`@,2`P(#`@,"`P(#`N,#`P
XM(#`@,`H)(#,W.2`T,CD@-#@Y(#0R.2`Y.3DY(#DY.3D*,B`T(#`@,2`P(#`@
XM,"`P(#`N,#`P(#8@,"`P"@D@,S8T(#(T.2`S-C0@,S$Y(#0Q.2`S,3D@-#$Y
XM(#(T.2`S-C0@,C0Y(#DY.3D@.3DY.0HR(#0@,"`Q(#`@,"`P(#`@,"XP,#`@
XM."`P(#`*"2`S-S0@,C4Y(#,W-"`S,#D@-#`Y(#,P.2`T,#D@,C4Y(#,W-"`R
XM-3D@.3DY.2`Y.3DY"C(@,2`P(#$@,"`P(#`@,"`P+C`P,"`P(#`*"2`S.30@
XM,3$Y(#,Y-"`R,#0@.3DY.2`Y.3DY"C(@,2`P(#$@,"`P(#`@,"`P+C`P,"`P
XM(#`*"2`S-3D@,C`Y(#,X.2`R,#D@.3DY.2`Y.3DY"C(@,2`P(#$@,"`P(#`@
XM,"`P+C`P,"`P(#`*"2`T,30@,30Y(#0Y-"`Q,#D@.3DY.2`Y.3DY"C0@,"`P
XM(#$R(#`@,"`P(#`N,#`P(#$@.2`S,B`Q,S,@-#<T($]U=&QE=`$*-"`Q(#,T
XM(#$X(#`@,"`P(#`N,#`P(#$@,3@@,C`@,3$R(#0X,2!H`0HT(#$@,S0@,3@@
XM,"`P(#`@,"XP,#`@,2`Q."`R,"`S-CD@,C0Q(&@!"C0@,2`P(#$T(#`@,"`P
X=(#`N,#`P(#$@,3`@,C<@-#,X(#(Q-"!"871H`0H!
X`
Xend
END_OF_FILE
if test 1865 -ne `wc -c <'Examples/bath.fig.uu'`; then
    echo shar: \"'Examples/bath.fig.uu'\" unpacked with wrong size!
fi
# end of 'Examples/bath.fig.uu'
fi
if test -f 'Examples/bedroom1.fig.uu' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'Examples/bedroom1.fig.uu'\"
else
echo shar: Extracting \"'Examples/bedroom1.fig.uu'\" \(2039 characters\)
sed "s/^X//" >'Examples/bedroom1.fig.uu' <<'END_OF_FILE'
Xbegin 664 bedroom1.fig
XM(T9)1R`R+C`*.#`@,@HR(#,@,"`Q(#`@,"`P(#4@,"XP,#`@,"`P"@D@-C$T
XM(#$Y.2`V,30@,S<Y(#8S-"`S-SD@-C,T(#,R-"`W-CD@,S(T(#<V.2`R,#D@
XM-S$T(#(P.2`W,30@,C(Y(#<T.2`R,CD@-S0Y(#,P-"`V,S0@,S`T(#8S-"`R
XM,CD@-C8T(#(R.2`V-C0@,C`Y(#8S-"`R,#D@-C,T(#$Y.2`V,30@,3DY(#DY
XM.3D@.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@-C(T(#0W.2`U
XM.#D@,S@Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`Q"@DP
XM(#`@,2XP,#`@-"XP,#`@."XP,#`*"2`T-"`U,C0@-#0@,S(T(#DY.3D@.3DY
XM.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`Q"@DP(#`@,2XP,#`@-"XP,#`@
XM."XP,#`*"2`T-"`X-"`T-"`R.#0@.3DY.2`Y.3DY"C(@,2`P(#$@,"`P(#`@
XM,"`P+C`P,"`P(#`*"2`U-"`U,CD@,S0@-3(Y(#DY.3D@.3DY.0HR(#$@,"`Q
XM(#`@,"`P(#`@,"XP,#`@,"`P"@D@-30@-SD@,S0@-SD@.3DY.2`Y.3DY"C(@
XM,2`P(#$@,"`P(#`@,"`P+C`P,"`P(#$*"3`@,"`Q+C`P,"`T+C`P,"`X+C`P
XM,`H)(#8P.2`T-"`S-S0@-#0@.3DY.2`Y.3DY"C(@,2`P(#$@,"`P(#`@,"`P
XM+C`P,"`P(#$*"3`@,"`Q+C`P,"`T+C`P,"`X+C`P,`H)(#@T(#0T(#,Q.2`T
XM-"`Y.3DY(#DY.3D*,B`Q(#`@,2`P(#`@,"`P(#`N,#`P(#`@,`H)(#8Q-"`S
XM-"`V,30@-30@.3DY.2`Y.3DY"C(@,2`P(#$@,"`P(#`@,"`P+C`P,"`P(#`*
XM"2`W.2`S-"`W.2`U-"`Y.3DY(#DY.3D*,B`Q(#`@,2`P(#`@,"`P(#`N,#`P
XM(#`@,`H)(#4Y(#0Q-"`W.2`T,30@.3DY.2`Y.3DY"C(@,2`P(#$@,"`P(#`@
XM,"`P+C`P,"`P(#`*"2`V.2`S,#0@-CD@-3(T(#DY.3D@.3DY.0HR(#(@,"`Q
XM(#`@,"`P(#`@,"XP,#`@,"`P"@D@-3D@,S`T(#<Y(#,P-"`W.2`U,C0@-3D@
XM-3(T(#4Y(#,P-"`Y.3DY(#DY.3D*,B`S(#`@,2`P(#`@,"`U(#`N,#`P(#`@
XM,`H)(#8S-"`U-#D@-S8Y(#4T.2`W-CD@,S(T(#<T.2`S,C0@-S0Y(#4R.2`V
XM,S0@-3(Y(#8S-"`T-SD@-C$T(#0W.2`V,30@-3(Y(#<Y(#4R.2`W.2`U,C0@
XM-3D@-3(T(#4Y(#4T.2`V,S0@-30Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P
XM(#`@,"XP,#`@,"`P"@D@-C(T(#$P.2`U.#0@,3@T(#DY.3D@.3DY.0HR(#,@
XM,"`Q(#`@,"`P(#4@,"XP,#`@,"`P"@D@-SD@-SD@-SD@,S`T(#4Y(#,P-"`U
XM.2`U.2`V-#0@-3D@-C0T(#<Y(#8S-"`W.2`V,S0@,3`Y(#8Q-"`Q,#D@-C$T
XM(#<Y(#<Y(#<Y(#DY.3D@.3DY.0HT(#$@,"`Q,B`P(#`@,"`P+C`P,"`Q(#D@
XM,S,@-C@T(#0S-"!#;&]S970!"C0@,2`P(#$R(#`@,"`P(#`N,#`P(#$@.2`R
XM."`V.30@,C<T($QI;F5N`0HT(#$@,"`Q-"`P(#`@,"`P+C`P,"`Q(#$P(#8S
XM(#,S-"`R-SD@0F5D<F]O;2`Q`0HT(#$@,"`Q-"`P(#`@,"`P+C`P,"`Q(#$P
XM(#,Q(#,T(#,P.2`Q,2<S(@$*-"`Q(#`@,30@,"`P(#`@,"XP,#`@,2`Q,"`S
X0,2`S-#D@-#D@,3,G-"(!"@$*
X`
Xend
END_OF_FILE
if test 2039 -ne `wc -c <'Examples/bedroom1.fig.uu'`; then
    echo shar: \"'Examples/bedroom1.fig.uu'\" unpacked with wrong size!
fi
# end of 'Examples/bedroom1.fig.uu'
fi
if test -f 'Examples/dresser.fig.uu' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'Examples/dresser.fig.uu'\"
else
echo shar: Extracting \"'Examples/dresser.fig.uu'\" \(2488 characters\)
sed "s/^X//" >'Examples/dresser.fig.uu' <<'END_OF_FILE'
Xbegin 664 dresser.fig
XM(T9)1R`R+C`*.#`@,@HR(#0@,"`Q(#`@,"`P(#(@,"XP,#`@-2`P(#`*"2`R
XM,2`S,B`R,2`R-C@@,SDQ(#(V."`S.3$@,S(@,C$@,S(@.3DY.2`Y.3DY"C(@
XM-"`P(#$@,"`P(#`@-2`P+C`P,"`S(#`@,`H)(#,X.2`R-#(@,S@Y(#(P,B`R
XM,C0@,C`R(#(R-"`R-#(@,S@Y(#(T,B`Y.3DY(#DY.3D*,B`T(#`@,2`P(#`@
XM,"`U(#`N,#`P(#,@,"`P"@D@,S@Y(#(P,"`S.#D@,38P(#(R-"`Q-C`@,C(T
XM(#(P,"`S.#D@,C`P(#DY.3D@.3DY.0HR(#0@,"`Q(#`@,"`P(#4@,"XP,#`@
XM,R`P(#`*"2`S.#D@,34X(#,X.2`Q,3@@,C(T(#$Q."`R,C0@,34X(#,X.2`Q
XM-3@@.3DY.2`Y.3DY"C(@-"`P(#$@,"`P(#`@-2`P+C`P,"`S(#`@,`H)(#,X
XM.2`Q,38@,S@Y(#<V(#(R-"`W-B`R,C0@,3$V(#,X.2`Q,38@.3DY.2`Y.3DY
XM"C(@-"`P(#$@,"`P(#`@-2`P+C`P,"`S(#`@,`H)(#,X.2`W-"`S.#D@,S0@
XM,C(T(#,T(#(R-"`W-"`S.#D@-S0@.3DY.2`Y.3DY"C(@-"`P(#$@,"`P(#`@
XM-2`P+C`P,"`S(#`@,`H)(#$R-"`W-"`Q,C0@,S0@,C,@,S0@,C,@-S0@,3(T
XM(#<T(#DY.3D@.3DY.0HR(#0@,"`Q(#`@,"`P(#4@,"XP,#`@,R`P(#`*"2`Q
XM,C0@,3$V(#$R-"`W-B`R,R`W-B`R,R`Q,38@,3(T(#$Q-B`Y.3DY(#DY.3D*
XM,B`T(#`@,2`P(#`@,"`U(#`N,#`P(#,@,"`P"@D@,3(T(#$U."`Q,C0@,3$X
XM(#(S(#$Q."`R,R`Q-3@@,3(T(#$U."`Y.3DY(#DY.3D*,B`T(#`@,2`P(#`@
XM,"`U(#`N,#`P(#,@,"`P"@D@,3(T(#(P,"`Q,C0@,38P(#(S(#$V,"`R,R`R
XM,#`@,3(T(#(P,"`Y.3DY(#DY.3D*,B`T(#`@,2`P(#`@,"`U(#`N,#`P(#,@
XM,"`P"@D@,3(T(#(T,B`Q,C0@,C`R(#(S(#(P,B`R,R`R-#(@,3(T(#(T,B`Y
XM.3DY(#DY.3D*,B`T(#`@,2`P(#`@,"`U(#`N,#`P(#,@,"`P"@D@,3(V(#,T
XM(#$R-B`R-#(@,C(R(#(T,B`R,C(@,S0@,3(V(#,T(#DY.3D@.3DY.0HR(#0@
XM,"`Q(#`@,"`P(#(@,"XP,#`@,R`P(#`*"2`Q,S@@,3,P(#$S."`U-"`Q,S(@
XM-30@,3,R(#$S,"`Q,S@@,3,P(#DY.3D@.3DY.0HR(#0@,"`Q(#`@,"`P(#(@
XM,"XP,#`@,R`P(#`*"2`S-"`S."`S-"`T,R`Q,34@-#,@,3$U(#,X(#,T(#,X
XM(#DY.3D@.3DY.0HR(#0@,"`Q(#`@,"`P(#(@,"XP,#`@,R`P(#`*"2`S-"`X
XM,"`S-"`X-2`Q,34@.#4@,3$U(#@P(#,T(#@P(#DY.3D@.3DY.0HR(#0@,"`Q
XM(#`@,"`P(#(@,"XP,#`@,R`P(#`*"2`S-"`Q,C(@,S0@,3(W(#$Q-2`Q,C<@
XM,3$U(#$R,B`S-"`Q,C(@.3DY.2`Y.3DY"C(@-"`P(#$@,"`P(#`@,B`P+C`P
XM,"`S(#`@,`H)(#,T(#$V-"`S-"`Q-CD@,3$U(#$V.2`Q,34@,38T(#,T(#$V
XM-"`Y.3DY(#DY.3D*,B`T(#`@,2`P(#`@,"`R(#`N,#`P(#,@,"`P"@D@,S0@
XM,C`V(#,T(#(Q,2`Q,34@,C$Q(#$Q-2`R,#8@,S0@,C`V(#DY.3D@.3DY.0HR
XM(#0@,"`Q(#`@,"`P(#(@,"XP,#`@,R`P(#`*"2`R-#$@,C`V(#(T,2`R,3$@
XM,S<T(#(Q,2`S-S0@,C`V(#(T,2`R,#8@.3DY.2`Y.3DY"C(@-"`P(#$@,"`P
XM(#`@,B`P+C`P,"`S(#`@,`H)(#(T,2`Q-C0@,C0Q(#$V.2`S-S0@,38Y(#,W
XM-"`Q-C0@,C0Q(#$V-"`Y.3DY(#DY.3D*,B`T(#`@,2`P(#`@,"`R(#`N,#`P
XM(#,@,"`P"@D@,C0Q(#@P(#(T,2`X-2`S-S0@.#4@,S<T(#@P(#(T,2`X,"`Y
XM.3DY(#DY.3D*,B`T(#`@,2`P(#`@,"`R(#`N,#`P(#,@,"`P"@D@,C0Q(#,X
XM(#(T,2`T,R`S-S0@-#,@,S<T(#,X(#(T,2`S."`Y.3DY(#DY.3D*,B`T(#`@
XM,2`P(#`@,"`R(#`N,#`P(#,@,"`P"@D@,C0Q(#$R,B`R-#$@,3(W(#,W-"`Q
X=,C<@,S<T(#$R,B`R-#$@,3(R(#DY.3D@.3DY.0HR
X`
Xend
END_OF_FILE
if test 2488 -ne `wc -c <'Examples/dresser.fig.uu'`; then
    echo shar: \"'Examples/dresser.fig.uu'\" unpacked with wrong size!
fi
# end of 'Examples/dresser.fig.uu'
fi
if test -f 'Examples/shades.fig.uu' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'Examples/shades.fig.uu'\"
else
echo shar: Extracting \"'Examples/shades.fig.uu'\" \(2335 characters\)
sed "s/^X//" >'Examples/shades.fig.uu' <<'END_OF_FILE'
Xbegin 664 shades.fig
XM(T9)1R`R+C`*.#`@,@HR(#(@,"`Q(#`@,"`P(#(Q(#`N,#`P(#`@,`H)(#$Q
XM,"`U."`X,B`U."`X,B`R,#0@,3$P(#(P-"`Q,3`@-3@@.3DY.2`Y.3DY"C(@
XM,B`P(#$@,"`P(#`@,C`@,"XP,#`@,"`P"@D@,3$P(#4X(#$S-R`U."`Q,S<@
XM,C`T(#$Q,"`R,#0@,3$P(#4X(#DY.3D@.3DY.0HR(#(@,"`Q(#`@,"`P(#$Y
XM(#`N,#`P(#`@,`H)(#$V-"`U."`Q,S<@-3@@,3,W(#(P-"`Q-C0@,C`T(#$V
XM-"`U."`Y.3DY(#DY.3D*,B`R(#`@,2`P(#`@,"`Q."`P+C`P,"`P(#`*"2`Q
XM-C0@-3@@,3@Y(#4X(#$X.2`R,#0@,38T(#(P-"`Q-C0@-3@@.3DY.2`Y.3DY
XM"C(@,B`P(#$@,"`P(#`@,3<@,"XP,#`@,"`P"@D@,C$V(#4X(#$X.2`U."`Q
XM.#D@,C`T(#(Q-B`R,#0@,C$V(#4X(#DY.3D@.3DY.0HR(#(@,"`Q(#`@,"`P
XM(#$V(#`N,#`P(#`@,`H)(#(Q-B`U."`R-#0@-3@@,C0T(#(P-"`R,38@,C`T
XM(#(Q-B`U."`Y.3DY(#DY.3D*,B`R(#`@,2`P(#`@,"`Q-2`P+C`P,"`P(#`*
XM"2`R-S$@-3@@,C0T(#4X(#(T-"`R,#0@,C<Q(#(P-"`R-S$@-3@@.3DY.2`Y
XM.3DY"C(@,B`P(#$@,"`P(#`@,30@,"XP,#`@,"`P"@D@,C<Q(#4X(#(Y."`U
XM."`R.3@@,C`T(#(W,2`R,#0@,C<Q(#4X(#DY.3D@.3DY.0HR(#(@,"`Q(#`@
XM,"`P(#$S(#`N,#`P(#`@,`H)(#,R-2`U."`R.3@@-3@@,CDX(#(P-"`S,C4@
XM,C`T(#,R-2`U."`Y.3DY(#DY.3D*,B`R(#`@,2`P(#`@,"`Q,B`P+C`P,"`P
XM(#`*"2`S,C4@-3@@,S4R(#4X(#,U,B`R,#0@,S(U(#(P-"`S,C4@-3@@.3DY
XM.2`Y.3DY"C(@,B`P(#$@,"`P(#`@,3$@,"XP,#`@,"`P"@D@,S<Y(#4X(#,U
XM,B`U."`S-3(@,C`T(#,W.2`R,#0@,S<Y(#4X(#DY.3D@.3DY.0HR(#(@,"`Q
XM(#`@,"`P(#$P(#`N,#`P(#`@,`H)(#,W.2`U."`T,#@@-3@@-#`X(#(P-"`S
XM-SD@,C`T(#,W.2`U."`Y.3DY(#DY.3D*,B`R(#`@,2`P(#`@,"`Y(#`N,#`P
XM(#`@,`H)(#0S-"`U."`T,#@@-3@@-#`X(#(P-"`T,S0@,C`T(#0S-"`U."`Y
XM.3DY(#DY.3D*,B`R(#`@,2`P(#`@,"`X(#`N,#`P(#`@,`H)(#0S-"`U."`T
XM-C$@-3@@-#8Q(#(P-"`T,S0@,C`T(#0S-"`U."`Y.3DY(#DY.3D*,B`R(#`@
XM,2`P(#`@,"`W(#`N,#`P(#`@,`H)(#0X."`U."`T-C$@-3@@-#8Q(#(P-"`T
XM.#@@,C`T(#0X."`U."`Y.3DY(#DY.3D*,B`R(#`@,2`P(#`@,"`V(#`N,#`P
XM(#`@,`H)(#0X."`U."`U,34@-3@@-3$U(#(P-"`T.#@@,C`T(#0X."`U."`Y
XM.3DY(#DY.3D*,B`R(#`@,2`P(#`@,"`U(#`N,#`P(#`@,`H)(#4T,B`U."`U
XM,34@-3@@-3$U(#(P-"`U-#(@,C`T(#4T,B`U."`Y.3DY(#DY.3D*,B`R(#`@
XM,2`P(#`@,"`T(#`N,#`P(#`@,`H)(#4T,B`U."`U-C@@-3@@-38X(#(P-"`U
XM-#(@,C`T(#4T,B`U."`Y.3DY(#DY.3D*,B`R(#`@,2`P(#`@,"`S(#`N,#`P
XM(#`@,`H)(#4Y-2`U."`U-C@@-3@@-38X(#(P-"`U.34@,C`T(#4Y-2`U."`Y
XM.3DY(#DY.3D*,B`R(#`@,2`P(#`@,"`R(#`N,#`P(#`@,`H)(#4Y-2`U."`V
XM,C,@-3@@-C(S(#(P-"`U.34@,C`T(#4Y-2`U."`Y.3DY(#DY.3D*,B`R(#`@
XM,2`P(#`@,"`Q(#`N,#`P(#`@,`H)(#8T.2`U."`V,C,@-3@@-C(S(#(P-"`V
XM-#D@,C`T(#8T.2`U."`Y.3DY(#DY.3D*,B`R(#`@,2`P(#`@,"`P(#`N,#`P
XM(#`@,`H)(#8T.2`U."`V-S8@-3@@-C<V(#(P-"`V-#D@,C`T(#8T.2`U."`Y
X).3DY(#DY.3D*
X`
Xend
END_OF_FILE
if test 2335 -ne `wc -c <'Examples/shades.fig.uu'`; then
    echo shar: \"'Examples/shades.fig.uu'\" unpacked with wrong size!
fi
# end of 'Examples/shades.fig.uu'
fi
if test -f 'Examples/thermal.fig.uu' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'Examples/thermal.fig.uu'\"
else
echo shar: Extracting \"'Examples/thermal.fig.uu'\" \(2984 characters\)
sed "s/^X//" >'Examples/thermal.fig.uu' <<'END_OF_FILE'
Xbegin 664 thermal.fig
XM(T9)1R`R+C`*.#`@,@HQ(#,@,"`Q(#`@,"`P(#(Q(#`N,#`P(#$@,"XP,#`@
XM-#,Y(#,S.2`U(#4@-#,Y(#,S.2`T-#0@,S,Y"C$@,R`P(#$@,"`P(#`@,C$@
XM,"XP,#`@,2`P+C`P,"`Q.3D@,S,Y(#4@-2`Q.3D@,S,Y(#(P-"`S,SD*,2`S
XM(#`@,2`P(#`@,"`R,2`P+C`P,"`Q(#`N,#`P(#,U.2`R-3D@-2`U(#,U.2`R
XM-3D@,S8T(#(U.0HQ(#,@,"`Q(#`@,"`P(#(Q(#`N,#`P(#$@,"XP,#`@,C<Y
XM(#(U.2`U(#4@,C<Y(#(U.2`R.#0@,C4Y"C$@,R`P(#$@,"`P(#`@,"`P+C`P
XM,"`Q(#`N,#`P(#,U.2`S,SD@-2`U(#,U.2`S,SD@,S8T(#,S.0HQ(#,@,"`Q
XM(#`@,"`P(#`@,"XP,#`@,2`P+C`P,"`R-SD@,S,Y(#4@-2`R-SD@,S,Y(#(X
XM-"`S,SD*,B`Q(#$@,2`P(#`@,"`P(#0N,#`P(#`@,`H)(#,Q.2`R.3D@,SDY
XM(#(Y.2`S.3D@,S<Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@
XM,"`P"@D@,S8T(#,S.2`T,S0@,S,Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P
XM(#`@,"XP,#`@,"`P"@D@,C@T(#,S.2`S-30@,S,Y(#DY.3D@.3DY.0HR(#$@
XM,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,S4Y(#(V-"`S-3D@,S,T(#DY.3D@
XM.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,C<Y(#(V-"`R-SD@
XM,S,T(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,C`T
XM(#,S.2`R-S0@,S,Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@
XM,"`P"@D@-#(T(#,W.2`T,S0@,S@Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P
XM(#`@,"XP,#`@,"`P"@D@-#`Y(#,W.2`T,3D@,S@Y(#DY.3D@.3DY.0HR(#$@
XM,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,SDT(#,W.2`T,#0@,S@Y(#DY.3D@
XM.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,S<Y(#,W.2`S.#D@
XM,S@Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,S8T
XM(#,W.2`S-S0@,S@Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@
XM,"`P"@D@,S0Y(#,W.2`S-3D@,S@Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P
XM(#`@,"XP,#`@,"`P"@D@,S,T(#,W.2`S-#0@,S@Y(#DY.3D@.3DY.0HR(#$@
XM,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,S`T(#,W.2`S,30@,S@Y(#DY.3D@
XM.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,C@Y(#,W.2`R.3D@
XM,S@Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,C<T
XM(#,W.2`R.#0@,S@Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@
XM,"`P"@D@,S$Y(#,W.2`S,CD@,S@Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P
XM(#`@,"XP,#`@,"`P"@D@,C4Y(#,W.2`R-CD@,S@Y(#DY.3D@.3DY.0HR(#$@
XM,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,C0T(#,W.2`R-30@,S@Y(#DY.3D@
XM.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,C(Y(#,W.2`R,SD@
XM,S@Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@,"`P"@D@,C$T
XM(#,W.2`R,C0@,S@Y(#DY.3D@.3DY.0HR(#$@,"`Q(#`@,"`P(#`@,"XP,#`@
XM,"`P"@D@,C`Y(#,W.2`T,S0@,S<Y(#DY.3D@.3DY.0HR(#(@,2`Q(#`@,"`P
XM(#`@-"XP,#`@,"`P"@D@,C,Y(#(Y.2`S,3D@,CDY(#,Q.2`S-SD@,C,Y(#,W
XM.2`R,SD@,CDY(#DY.3D@.3DY.0HT(#`@,"`Q,B`P(#`@,"`P+C`P,"`Q(#$Q
XM(#4T(#(W.2`T-3D@1FEG=7)E(#$N`0HT(#`@,"`Q,B`P(#`@,"`P+C`P,"`Q
XM(#D@-B`Q.3D@,S(T(#$!"C0@,"`P(#$R(#`@,"`P(#`N,#`P(#$@.2`V(#$Y
XM-"`S,3D@4`$*-"`P(#`@,3(@,"`P(#`@,"XP,#`@,2`Y(#8@,C<T(#(S.2!0
XM`0HT(#`@,"`Q,B`P(#`@,"`P+C`P,"`Q(#D@-B`R-SD@,C0T(#(!"C0@,"`P
XM(#$R(#`@,"`P(#`N,#`P(#$@.2`V(#,U.2`R-#0@-`$*-"`P(#`@,3(@,"`P
XM(#`@,"XP,#`@,2`Y(#8@,S4T(#(S.2!0`0HT(#`@,"`Q,B`P(#`@,"`P+C`P
XM,"`Q(#D@-B`T,SD@,S(T(#4!"C0@,"`P(#$R(#`@,"`P(#`N,#`P(#$@.2`V
XM(#0S-"`S,3D@4`$*-"`P(#`@,3(@,"`P(#`@,"XP,#`@,2`Y(#8@,S8Q(#,V
XM-2!B`0HT(#`@,"`Q,B`P(#`@,"`P+C`P,"`Q(#D@-B`S-30@,S4Y(%`!"C0@
XM,"`P(#$R(#`@,"`P(#`N,#`P(#$@-B`V(#(X,"`S-C4@80$*-"`P(#`@,3(@
X=,"`P(#`@,"XP,#`@,2`Y(#8@,C<T(#,U.2!0`0HS
X`
Xend
END_OF_FILE
if test 2984 -ne `wc -c <'Examples/thermal.fig.uu'`; then
    echo shar: \"'Examples/thermal.fig.uu'\" unpacked with wrong size!
fi
# end of 'Examples/thermal.fig.uu'
fi
if test -f 'Imakefile' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'Imakefile'\"
else
echo shar: Extracting \"'Imakefile'\" \(2152 characters\)
sed "s/^X//" >'Imakefile' <<'END_OF_FILE'
X#ifdef InstallManPage
X#undef InstallManPage
X#endif
X#define InstallManPage(file,dest)                                       @@\
XInstallManPageLong(Doc/file,dest,file)
X
XSYS_LIBRARIES= 		-lm
XDEPLIBS = 		XawClientDepLibs
XLOCAL_LIBRARIES = 	XawClientLibs
XCDEBUGFLAGS =		-O
XXFIGLIBDIR =		/usr/local/lib/xfig
XDEFINES =		-DXFIGLIBDIR=\"$(XFIGLIBDIR)\"
X
XXFIGSRC =	d_arc.c d_arcbox.c d_box.c d_ellipse.c d_epsobj.c\
X		d_intspline.c d_line.c d_regpoly.c d_spline.c d_text.c\
X		e_addpt.c e_align.c e_arrow.c e_break.c \
X		e_convert.c e_copy.c e_delete.c e_deletept.c\
X		e_edit.c e_flip.c e_glue.c e_move.c\
X		e_movept.c e_rotate.c e_scale.c e_update.c\
X		f_load.c f_read.c f_epsobj.c\
X		f_readold.c f_save.c f_util.c f_xbitmap.c\
X		main.c mode.c object.c resources.c\
X		u_bound.c u_create.c u_drag.c u_draw.c\
X		u_elastic.c u_error.c u_fonts.c u_free.c u_geom.c\
X		u_list.c u_markers.c u_pan.c u_print.c\
X		u_redraw.c u_search.c u_translate.c u_undo.c\
X		w_canvas.c w_cmdpanel.c w_cursor.c w_dir.c w_drawprim.c w_export.c\
X		w_file.c w_fontbits.c w_fontpanel.c w_grid.c w_icons.c\
X		w_indpanel.c w_modepanel.c w_mousefun.c w_msgpanel.c\
X		w_print.c w_rulers.c w_setup.c w_util.c w_zoom.c
X
XXFIGOBJ =	d_arc.o d_arcbox.o d_box.o d_ellipse.o d_epsobj.o\
X		d_intspline.o d_line.o d_regpoly.o d_spline.o d_text.o\
X		e_addpt.o e_align.o e_arrow.o e_break.o \
X		e_convert.o e_copy.o e_delete.o e_deletept.o\
X		e_edit.o e_flip.o e_glue.o e_move.o\
X		e_movept.o e_rotate.o e_scale.o e_update.o\
X		f_load.o f_read.o f_epsobj.o\
X		f_readold.o f_save.o f_util.o f_xbitmap.o\
X		main.o mode.o object.o resources.o\
X		u_bound.o u_create.o u_drag.o u_draw.o\
X		u_elastic.o u_error.o u_fonts.o u_free.o u_geom.o\
X		u_list.o u_markers.o u_pan.o u_print.o\
X		u_redraw.o u_search.o u_translate.o u_undo.o\
X		w_canvas.o w_cmdpanel.o w_cursor.o w_dir.o w_drawprim.o w_export.o\
X		w_file.o w_fontbits.o w_fontpanel.o w_grid.o w_icons.o\
X		w_indpanel.o w_modepanel.o w_mousefun.o w_msgpanel.o\
X		w_print.o w_rulers.o w_setup.o w_util.o w_zoom.o
X
XSRCS = $(XFIGSRC)
XOBJS = $(XFIGOBJ)
X
XComplexProgramTarget(xfig)
XMakeDirectories(install,$(XFIGLIBDIR))
XInstallNonExec(CompKeyDB,$(XFIGLIBDIR))
END_OF_FILE
if test 2152 -ne `wc -c <'Imakefile'`; then
    echo shar: \"'Imakefile'\" unpacked with wrong size!
fi
# end of 'Imakefile'
fi
if test -f 'd_arcbox.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'d_arcbox.c'\"
else
echo shar: Extracting \"'d_arcbox.c'\" \(3041 characters\)
sed "s/^X//" >'d_arcbox.c' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X * Adapted by Brian V. Smith
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
X#include "fig.h"
X#include "resources.h"
X#include "mode.h"
X#include "object.h"
X#include "paintop.h"
X#include "u_create.h"
X#include "u_elastic.h"
X#include "u_list.h"
X#include "w_canvas.h"
X#include "w_mousefun.h"
X
X/*************************** local procedures *********************/
X
Xstatic int	create_arc_boxobject(), cancel_arc_boxobject();
Xstatic int	init_arc_box_drawing();
X
Xarcbox_drawing_selected()
X{
X    set_mousefun("corner point", "", "");
X    canvas_kbd_proc = null_proc;
X    canvas_locmove_proc = null_proc;
X    canvas_leftbut_proc = init_arc_box_drawing;
X    canvas_middlebut_proc = null_proc;
X    canvas_rightbut_proc = null_proc;
X    set_cursor(arrow_cursor);
X    reset_action_on();
X}
X
Xstatic
Xinit_arc_box_drawing(x, y)
X    int		    x, y;
X{
X    cur_x = fix_x = x;
X    cur_y = fix_y = y;
X    set_mousefun("final point", "", "cancel");
X    draw_mousefun_canvas();
X    canvas_locmove_proc = resizing_box;
X    canvas_leftbut_proc = create_arc_boxobject;
X    canvas_middlebut_proc = null_proc;
X    canvas_rightbut_proc = cancel_arc_boxobject;
X    elastic_box(fix_x, fix_y, cur_x, cur_y);
X    set_temp_cursor(null_cursor);
X    set_action_on();
X}
X
Xstatic
Xcancel_arc_boxobject()
X{
X    elastic_box(fix_x, fix_y, cur_x, cur_y);
X    arcbox_drawing_selected();
X    draw_mousefun_canvas();
X}
X
Xstatic
Xcreate_arc_boxobject(x, y)
X    int		    x, y;
X{
X    F_line	   *box;
X    F_point	   *point;
X
X    elastic_box(fix_x, fix_y, cur_x, cur_y);
X
X    if ((point = create_point()) == NULL)
X	return;
X
X    point->x = x;
X    point->y = y;
X    point->next = NULL;
X
X    if ((box = create_line()) == NULL) {
X	free((char *) point);
X	return;
X    }
X    box->type = T_ARC_BOX;
X    box->style = cur_linestyle;
X    box->thickness = cur_linewidth;
X    box->color = cur_color;
X    box->depth = 0;
X    box->pen = 0;
X    box->fill_style = cur_fillstyle;
X    /* multiply	 dash length by line thickness */
X    box->style_val = cur_styleval * (cur_linewidth + 1) / 2;
X    box->radius = cur_boxradius;/* corner radius */
X    box->points = point;
X    append_point(x, fix_y, &point);
X    append_point(fix_x, fix_y, &point);
X    append_point(fix_x, y, &point);
X    append_point(x, y, &point);
X    draw_line(box, PAINT);
X    add_line(box);
X    arcbox_drawing_selected();
X    draw_mousefun_canvas();
X}
END_OF_FILE
if test 3041 -ne `wc -c <'d_arcbox.c'`; then
    echo shar: \"'d_arcbox.c'\" unpacked with wrong size!
fi
# end of 'd_arcbox.c'
fi
if test -f 'f_load.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'f_load.c'\"
else
echo shar: Extracting \"'f_load.c'\" \(2744 characters\)
sed "s/^X//" >'f_load.c' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
X#include "fig.h"
X#include "resources.h"
X#include "mode.h"
X#include "object.h"
X#include "u_undo.h"
X#include "w_setup.h"
X
Xextern int	num_object;
X
Xint
Xload_file(file)
X    char	   *file;
X{
X    int		    s;
X    F_compound	    c;
X
X    c.arcs = NULL;
X    c.compounds = NULL;
X    c.ellipses = NULL;
X    c.lines = NULL;
X    c.splines = NULL;
X    c.texts = NULL;
X    c.next = NULL;
X    set_temp_cursor(wait_cursor);
X    s = read_fig(file, &c);
X    if (s == 0) {		/* Successful read */
X	clean_up();
X	(void) strcpy(save_filename, cur_filename);
X	(void) strcpy(cur_filename, file);
X	saved_objects = objects;
X	objects = c;
X	redisplay_canvas();
X	put_msg("Current figure \"%s\" (%d objects)", file, num_object);
X	set_action(F_LOAD);
X	reset_cursor();
X	reset_modifiedflag();
X	return (0);
X    } else if (s == ENOENT) {
X	clean_up();
X	saved_objects = objects;
X	objects = c;
X	redisplay_canvas();
X	put_msg("Current figure \"%s\" (new file)", file);
X	(void) strcpy(save_filename, cur_filename);
X	(void) strcpy(cur_filename, file);
X	set_action(F_LOAD);
X	reset_cursor();
X	reset_modifiedflag();
X	return (0);
X    }
X    read_fail_message(file, s);
X    reset_modifiedflag();
X    reset_cursor();
X    return (1);
X}
X
Xint
Xmerge_file(file)
X    char	   *file;
X{
X    F_compound	    c;
X    int		    s;
X
X    c.arcs = NULL;
X    c.compounds = NULL;
X    c.ellipses = NULL;
X    c.lines = NULL;
X    c.splines = NULL;
X    c.texts = NULL;
X    c.next = NULL;
X    set_temp_cursor(wait_cursor);
X
X    s = read_fig(file, &c);
X    if (s == 0) {		/* Successful read */
X	int		xmin, ymin, xmax, ymax;
X
X	compound_bound(&c, &xmin, &ymin, &xmax, &ymax);
X	clean_up();
X	saved_objects = c;
X	tail(&objects, &object_tails);
X	append_objects(&objects, &saved_objects, &object_tails);
X	redisplay_zoomed_region(xmin, ymin, xmax, ymax);
X	put_msg("%d object(s) read from \"%s\"", num_object, file);
X	set_action_object(F_ADD, O_ALL_OBJECT);
X	reset_cursor();
X	set_modifiedflag();
X	return (0);
X    }
X    read_fail_message(file, s);
X    reset_cursor();
X    return (1);
X}
END_OF_FILE
if test 2744 -ne `wc -c <'f_load.c'`; then
    echo shar: \"'f_load.c'\" unpacked with wrong size!
fi
# end of 'f_load.c'
fi
if test -f 'fig.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'fig.h'\"
else
echo shar: Extracting \"'fig.h'\" \(2310 characters\)
sed "s/^X//" >'fig.h' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
X#include <X11/Xos.h>
X
X#include <sys/stat.h>
X
X#if defined(__convex__) && defined(__STDC__)
X#define S_IFDIR _S_IFDIR
X#define S_IWRITE _S_IWRITE
X#endif
X
X#ifndef SYSV
X#ifndef SVR4
X#include <fcntl.h>
X#endif
X#endif
X#include <pwd.h>
X#include <signal.h>
X
X#include <stdio.h>
X#include <ctype.h>
X#include <errno.h>
X
Xextern int	errno;
Xextern int	sys_nerr;
Xextern char    *sys_errlist[];
X
X#include <math.h>
X
X#if defined(SYSV) || defined(SVR4)
X#define u_int uint
X#define USE_DIRENT
X#define DIRSTRUCT	struct dirent
X#else
X#define DIRSTRUCT	struct direct
X#endif
X
X#ifndef M_PI
X#define M_PI	3.14159265358979323846
X#define M_PI_2	1.57079632679489661923
X#endif
X
X#define		min2(a, b)	(((a) < (b)) ? (a) : (b))
X#define		max2(a, b)	(((a) > (b)) ? (a) : (b))
X#define		min3(a,b,c)	((((a<b)?a:b)<c)?((a<b)?a:b):c)
X#define		max3(a,b,c)	((((a>b)?a:b)>c)?((a>b)?a:b):c)
X#define		round(a)	(int)(((a)<0)?(a)-.5:(a)+.5)
X#define		signof(a)	(((a) < 0) ? -1 : 1)
X
X#define		DEF_NAME	"unnamed.fig"
X
X#include <X11/Xlib.h>
X#include <X11/cursorfont.h>
X#include <X11/Intrinsic.h>
X#include <X11/StringDefs.h>
X#include <X11/Shell.h>
X#include <X11/Xatom.h>
X
X#include <X11/Xaw/Command.h>
X#include <X11/Xaw/Label.h>
X#include <X11/Xaw/Dialog.h>
X#include <X11/Xaw/Box.h>
X#include <X11/Xaw/Form.h>
X#include <X11/Xaw/Cardinals.h>
X#include <X11/Xaw/Text.h>
X#include <X11/Xaw/AsciiText.h>
X#include <X11/Xaw/MenuButton.h>
X#include <X11/Xaw/SimpleMenu.h>
X#include <X11/Xaw/Sme.h>
X#include <X11/Xaw/SmeBSB.h>
X#include <X11/Xaw/Toggle.h>
X#include <X11/Xaw/Paned.h>
X#include <X11/Xaw/Viewport.h>
X#include <X11/Xaw/List.h>
END_OF_FILE
if test 2310 -ne `wc -c <'fig.h'`; then
    echo shar: \"'fig.h'\" unpacked with wrong size!
fi
# end of 'fig.h'
fi
if test -f 'object.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'object.c'\"
else
echo shar: Extracting \"'object.c'\" \(1929 characters\)
sed "s/^X//" >'object.c' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
X#include "fig.h"
X#include "mode.h"
X#include "object.h"
X#include "paintop.h"
X
X/************************  Objects  **********************/
X
XF_compound	objects = {NULL, NULL, NULL, NULL, NULL, NULL, NULL};
X
X/************  global object pointers ************/
X
XF_line	       *cur_l, *new_l, *old_l;
XF_arc	       *cur_a, *new_a, *old_a;
XF_ellipse      *cur_e, *new_e, *old_e;
XF_text	       *cur_t, *new_t, *old_t;
XF_spline       *cur_s, *new_s, *old_s;
XF_compound     *cur_c, *new_c, *old_c;
XF_point	       *first_point, *cur_point;
XF_linkinfo     *cur_links;
X
X/*************** object attribute settings ***********/
X
X/*  Lines  */
Xint		cur_linewidth = 1;
Xint		cur_linestyle = SOLID_LINE;
Xfloat		cur_dashlength = DEF_DASHLENGTH;
Xfloat		cur_dotgap = DEF_DOTGAP;
Xfloat		cur_styleval = 0.0;
Xint		pen_size = 0;
Xint		pen_type = 0;
XColor		cur_color = DEFAULT_COLOR;
Xint		cur_boxradius = DEF_BOXRADIUS;
Xint		cur_fillstyle = 0;
Xint		cur_arrowmode = L_NOARROWS;
Xchar		EMPTY_EPS[8] = "<empty>";
X
X/* Text */
Xint		cur_fontsize;	/* font size */
Xint		cur_latex_font = 0;
Xint		cur_ps_font = 0;
Xint		cur_textjust = T_LEFT_JUSTIFIED;
Xint		cur_textflags = PSFONT_TEXT;
X
X/* Misc */
Xfloat		cur_angle = 0.0;
END_OF_FILE
if test 1929 -ne `wc -c <'object.c'`; then
    echo shar: \"'object.c'\" unpacked with wrong size!
fi
# end of 'object.c'
fi
if test -f 'u_elastic.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'u_elastic.h'\"
else
echo shar: Extracting \"'u_elastic.h'\" \(2348 characters\)
sed "s/^X//" >'u_elastic.h' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
X#define		MOVE_ARB	0
X#define		MOVE_HORIZ_VERT 1
X#define		BOX_SCALE	2
X#define		BOX_HSTRETCH	3
X#define		BOX_VSTRETCH	4
X
Xextern int	constrained;
Xextern int	fix_x, fix_y, work_numsides;
Xextern int	x1off, x2off, y1off, y2off;
Xextern Cursor	cur_latexcursor;
Xextern int	from_x, from_y;
Xextern double	cosa, sina;
Xextern int	movedpoint_num;
Xextern int	latex_fix_x, latex_fix_y;
Xextern F_point *left_point, *right_point;
X
Xextern		elastic_box();
Xextern		elastic_movebox();
Xextern		resizing_box();
Xextern		elastic_box_constrained();
Xextern		constrained_resizing_box();
Xextern		moving_box();
Xextern		elastic_poly();
Xextern		resizing_poly();
Xextern		scaling_compound();
Xextern		elastic_scalecompound();
X
Xextern		resizing_ebr(), resizing_ebd();
Xextern		constrained_resizing_ebr(), constrained_resizing_ebd();
Xextern		constrained_resizing_cbd(), resizing_cbr(), resizing_cbd();
Xextern		elastic_moveellipse();
Xextern		moving_ellipse();
Xextern		elastic_scaleellipse();
Xextern		scaling_ellipse();
X
Xextern		freehand_line();
Xextern		latex_line();
Xextern		constrainedangle_line();
Xextern		elastic_moveline();
Xextern		elastic_line();
Xextern		moving_line();
Xextern		reshaping_line();
Xextern		reshaping_latexline();
Xextern		extending_line();
Xextern		elastic_linelink();
Xextern		elastic_scalepts();
Xextern		scaling_line();
X
Xextern		moving_arc();
Xextern		elastic_movearc();
Xextern		reshaping_arc();
Xextern		elastic_arclink();
Xextern		scaling_arc();
Xextern		elastic_scalearc();
X
Xextern		moving_text();
Xextern		draw_movingtext();
X
Xextern		moving_spline();
Xextern		scaling_spline();
X
Xextern		adjust_box_pos();
Xextern		adjust_pos();
END_OF_FILE
if test 2348 -ne `wc -c <'u_elastic.h'`; then
    echo shar: \"'u_elastic.h'\" unpacked with wrong size!
fi
# end of 'u_elastic.h'
fi
if test -f 'u_error.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'u_error.c'\"
else
echo shar: Extracting \"'u_error.c'\" \(2519 characters\)
sed "s/^X//" >'u_error.c' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
X#include "fig.h"
X#include "mode.h"
X#include "resources.h"
X
X#define MAXERRORS 6
X#define MAXERRMSGLEN 512
X
Xstatic int	error_cnt = 0;
X
X/* VARARGS1 */
Xput_err(format, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8)
X    char	   *format, *arg1, *arg2, *arg3, *arg4, *arg5, *arg6, *arg7,
X		   *arg8;
X{
X    fprintf(stderr, format, arg1, arg2, arg3, arg4, arg5,
X	    arg6, arg7, arg8);
X    put_msg(format, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8);
X}
X
Xerror_handler(err_sig)
X    int		    err_sig;
X{
X    switch (err_sig) {
X    case SIGHUP:
X	fprintf(stderr, "xfig: SIGHUP signal trapped\n");
X	break;
X    case SIGFPE:
X	fprintf(stderr, "xfig: SIGFPE signal trapped\n");
X	break;
X    case SIGBUS:
X	fprintf(stderr, "xfig: SIGBUS signal trapped\n");
X	break;
X    case SIGSEGV:
X	fprintf(stderr, "xfig: SIGSEGV signal trapped\n");
X	break;
X    }
X    emergency_quit();
X}
X
XX_error_handler(d, err_ev)
X    Display	   *d;
X    XErrorEvent	   *err_ev;
X{
X    char	    err_msg[MAXERRMSGLEN];
X
X    XGetErrorText(tool_d, (int) (err_ev->error_code), err_msg, MAXERRMSGLEN - 1);
X    (void) fprintf(stderr,
X	   "xfig: X error trapped - error message follows:\n%s\n", err_msg);
X    emergency_quit();
X}
X
Xemergency_quit()
X{
X    if (++error_cnt > MAXERRORS) {
X	fprintf(stderr, "xfig: too many errors - giving up.\n");
X	exit(-1);
X    }
X    signal(SIGHUP, SIG_DFL);
X    signal(SIGFPE, SIG_DFL);
X    signal(SIGBUS, SIG_DFL);
X    signal(SIGSEGV, SIG_DFL);
X
X    aborting = 1;
X    if (figure_modified && !emptyfigure()) {
X	fprintf(stderr, "xfig: attempting to save figure\n");
X	if (emergency_save("xfig.SAVE") == -1)
X	    if (emergency_save("/tmp/xfig.SAVE") == -1)
X		fprintf(stderr, "xfig: unable to save figure\n");
X    } else
X	fprintf(stderr, "xfig: figure empty or not modified - exiting\n");
X    quit();
X}
END_OF_FILE
if test 2519 -ne `wc -c <'u_error.c'`; then
    echo shar: \"'u_error.c'\" unpacked with wrong size!
fi
# end of 'u_error.c'
fi
if test -f 'w_icons.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'w_icons.h'\"
else
echo shar: Extracting \"'w_icons.h'\" \(2598 characters\)
sed "s/^X//" >'w_icons.h' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
Xextern XImage	addpt_ic;
X
X#ifdef notdef			/* not used yet */
Xextern XImage	raise_ic;
Xextern XImage	kbd_ic;
X
X#endif
Xextern XImage	smartoff_ic;
Xextern XImage	smartmove_ic;
Xextern XImage	smartslide_ic;
Xextern XImage	arc_ic;
Xextern XImage	autoarrow_ic;
Xextern XImage	backarrow_ic;
Xextern XImage	box_ic;
Xextern XImage	regpoly_ic;
Xextern XImage	epsobj_ic;
Xextern XImage	arc_box_ic;
Xextern XImage	break_ic;
Xextern XImage	cirrad_ic;
Xextern XImage	cirdia_ic;
Xextern XImage	c_spl_ic;
Xextern XImage	copy_ic;
Xextern XImage	glue_ic;
Xextern XImage	solidline_ic;
Xextern XImage	dashline_ic;
Xextern XImage	dottedline_ic;
Xextern XImage	deletept_ic;
Xextern XImage	ellrad_ic;
Xextern XImage	elldia_ic;
Xextern XImage	flip_x_ic;
Xextern XImage	flip_y_ic;
Xextern XImage	forarrow_ic;
Xextern XImage	grid1_ic;
Xextern XImage	grid2_ic;
Xextern XImage	intspl_ic;
Xextern XImage	c_intspl_ic;
Xextern XImage	line_ic;
Xextern XImage	fine_grid_ic;
Xextern XImage	unconstrained_ic;
Xextern XImage	latexline_ic;
Xextern XImage	latexarrow_ic;
Xextern XImage	mounthattan_ic;
Xextern XImage	manhattan_ic;
Xextern XImage	mountain_ic;
Xextern XImage	move_ic;
Xextern XImage	movept_ic;
Xextern XImage	polygon_ic;
Xextern XImage	delete_ic;
Xextern XImage	rotCW_ic;
Xextern XImage	rotCCW_ic;
Xextern XImage	scale_ic;
Xextern XImage	convert_ic;
Xextern XImage	spl_ic;
Xextern XImage	text_ic;
Xextern XImage	update_ic;
Xextern XImage	change_ic;
Xextern XImage	halignl_ic;
Xextern XImage	halignr_ic;
Xextern XImage	halignc_ic;
Xextern XImage	valignt_ic;
Xextern XImage	valignb_ic;
Xextern XImage	valignc_ic;
Xextern XImage	align_ic;
Xextern XImage	any_ic;
Xextern XImage	none_ic;
Xextern XImage	fill_ic;
Xextern XImage	blank_ic;
Xextern XImage	textL_ic;
Xextern XImage	textC_ic;
Xextern XImage	textR_ic;
Xextern XImage	printer_ic;
Xextern XImage	noarrows_ic;
Xextern XImage	farrows_ic;
Xextern XImage	barrows_ic;
Xextern XImage	fbarrows_ic;
END_OF_FILE
if test 2598 -ne `wc -c <'w_icons.h'`; then
    echo shar: \"'w_icons.h'\" unpacked with wrong size!
fi
# end of 'w_icons.h'
fi
if test -f 'w_indpanel.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'w_indpanel.h'\"
else
echo shar: Extracting \"'w_indpanel.h'\" \(2735 characters\)
sed "s/^X//" >'w_indpanel.h' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
X#define I_ANGLEGEOM	0x000001
X#define I_VALIGN	0x000002
X#define I_HALIGN	0x000004
X#define I_GRIDMODE	0x000008
X#define I_POINTPOSN	0x000010
X#define I_FILLSTYLE	0x000020
X#define I_BOXRADIUS	0x000040
X#define I_LINEWIDTH	0x000080
X#define I_LINESTYLE	0x000100
X#define I_ARROWMODE	0x000200
X#define I_TEXTJUST	0x000400
X#define I_FONTSIZE	0x000800
X#define I_FONT		0x001000
X#define I_TEXTSTEP	0x002000
X#define I_ZOOM		0x004000
X#define I_ROTNANGLE	0x008000
X#define I_NUMSIDES	0x010000
X#define I_COLOR		0x020000
X#define I_LINKMODE	0x040000
X
X#define I_NONE		0x000000
X#define I_ALL		0x07ffff
X#define I_MIN1		(I_GRIDMODE | I_ZOOM)
X#define I_MIN2		(I_MIN1 | I_POINTPOSN)
X#define I_MIN3		(I_MIN2 | I_LINKMODE)
X#define I_TEXT0		(I_TEXTJUST | I_FONT | I_FONTSIZE | I_COLOR)
X#define I_TEXT		(I_MIN2 | I_TEXTSTEP | I_TEXT0)
X#define I_LINE0		(I_FILLSTYLE | I_LINESTYLE | I_LINEWIDTH | I_COLOR)
X#define I_BOX		(I_MIN2 | I_LINE0)
X#define I_ARC		(I_BOX | I_ARROWMODE)
X#define I_REGPOLY	(I_BOX | I_NUMSIDES)
X#define I_CLOSED	(I_BOX | I_ANGLEGEOM)
X#define I_OPEN		(I_CLOSED | I_ARROWMODE)
X#define I_ARCBOX	(I_BOX | I_BOXRADIUS)
X#define I_OBJECT	(I_MIN1 | I_TEXT0 | I_LINE0 | I_ARROWMODE | I_BOXRADIUS)
X#define I_ALIGN		(I_MIN1 | I_HALIGN | I_VALIGN)
X#define I_ROTATE	(I_MIN1 | I_ROTNANGLE)
X
Xtypedef struct choice_struct {
X    int		    value;
X    PIXRECT	    icon;
X    Pixmap	    normalPM,blackPM;
X}		choice_info;
X
Xtypedef struct ind_sw_struct {
X    int		    type;	/* one of I_CHOICE .. I_FVAL */
X    int		    func;
X    char	    line1[6], line2[6];
X    int		    sw_width;
X    int		   *i_varadr;
X    float	   *f_varadr;
X    int		    (*inc_func) ();
X    int		    (*dec_func) ();
X    int		    (*show_func) ();
X    choice_info	   *choices;	/* specific to I_CHOICE */
X    int		    numchoices; /* specific to I_CHOICE */
X    int		    sw_per_row; /* specific to I_CHOICE */
X    TOOL	    widget;
X    Pixmap	    normalPM;
X}		ind_sw_info;
X
X#define ZOOM_SWITCH_INDEX	0	/* used by w_zoom.c */
Xextern ind_sw_info ind_switches[];
END_OF_FILE
if test 2735 -ne `wc -c <'w_indpanel.h'`; then
    echo shar: \"'w_indpanel.h'\" unpacked with wrong size!
fi
# end of 'w_indpanel.h'
fi
if test -f 'w_msgpanel.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'w_msgpanel.c'\"
else
echo shar: Extracting \"'w_msgpanel.c'\" \(2617 characters\)
sed "s/^X//" >'w_msgpanel.c' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
X/********************* IMPORTS *******************/
X
X#include "fig.h"
X#include "resources.h"
X#include "paintop.h"
X#include "w_canvas.h"
X#include "w_drawprim.h"
X#include "w_util.h"
X#include "w_setup.h"
X
X/********************* EXPORTS *******************/
X
Xint		put_msg();
Xint		put_fmsg();
Xint		init_msgreceiving();
X
X/************************  LOCAL ******************/
X
X#define		BUF_SIZE		128
Xstatic char	prompt[BUF_SIZE];
X
XDeclareStaticArgs(8);
X
Xint
Xinit_msg(tool)
X    TOOL	    tool;
X{
X    /* width */
X    FirstArg(XtNwidth, MSGPANEL_WD);
X    NextArg(XtNheight, MSGPANEL_HT);
X    NextArg(XtNlabel, " ");
X    NextArg(XtNfromVert, cmd_panel);
X    NextArg(XtNvertDistance, -INTERNAL_BW);
X    NextArg(XtNtop, XtChainTop);
X    NextArg(XtNbottom, XtChainTop);
X    NextArg(XtNborderWidth, INTERNAL_BW);
X    msg_panel = XtCreateManagedWidget("message", labelWidgetClass, tool,
X				      Args, ArgCount);
X    return (1);
X}
X
X/*
X * We have to do this after realizing the widget otherwise the
X * width is computed wrong and you get a tiny text box.
X */
Xsetup_msg()
X{
X    FirstArg(XtNfont, roman_font);
X    SetValues(msg_panel);
X    msg_win = XtWindow(msg_panel);
X    XDefineCursor(tool_d, msg_win, arrow_cursor);
X}
X
X/* VARARGS1 */
Xput_msg(format, arg1, arg2, arg3, arg4, arg5)
X    char	   *format;
X    int		    arg1, arg2, arg3, arg4, arg5;
X{
X    sprintf(prompt, format, arg1, arg2, arg3, arg4, arg5);
X    FirstArg(XtNlabel, prompt);
X    SetValues(msg_panel);
X}
X
X/*
X * floating point version - MIPS (DEC3100) doesn't like ints where floats are
X * used
X */
X
X/* VARARGS1 */
Xput_fmsg(format, arg1, arg2, arg3, arg4, arg5)
X    char	   *format;
X    double	    arg1, arg2, arg3, arg4, arg5;
X{
X    sprintf(prompt, format, arg1, arg2, arg3, arg4, arg5);
X    FirstArg(XtNlabel, prompt);
X    SetValues(msg_panel);
X}
X
Xclear_message()
X{
X    FirstArg(XtNlabel, "");
X    SetValues(msg_panel);
X}
X
END_OF_FILE
if test 2617 -ne `wc -c <'w_msgpanel.c'`; then
    echo shar: \"'w_msgpanel.c'\" unpacked with wrong size!
fi
# end of 'w_msgpanel.c'
fi
if test -f 'w_setup.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'w_setup.c'\"
else
echo shar: Extracting \"'w_setup.c'\" \(2697 characters\)
sed "s/^X//" >'w_setup.c' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
X#include "fig.h"
X#include "resources.h"
X#include "w_setup.h"
X#include "w_util.h"
X
Xint		TOOL_WD, TOOL_HT;
Xint		CMDPANEL_WD, CMDPANEL_HT = 22;
Xint		MODEPANEL_WD, MODEPANEL_HT;
Xint		MODEPANEL_SPACE;
Xint		MSGPANEL_WD, MSGPANEL_HT = 18;
Xint		MOUSEFUN_WD, MOUSEFUN_HT;
Xint		INDPANEL_WD;
Xint		CANVAS_WD, CANVAS_HT;
Xint		INTERNAL_BW;
Xint		TOPRULER_WD, TOPRULER_HT;
Xint		SIDERULER_WD, SIDERULER_HT;
Xint		SW_PER_ROW, SW_PER_COL;
X
Xsetup_sizes(new_canv_wd, new_canv_ht)
X    int		    new_canv_wd, new_canv_ht;
X{
X    int		    NUM_CMD_SW;
X
X    /*
X     * make the width of the mousefun panel about 1/3 of the size of the
X     * canvas width and the cmdpanel the remaining width. Be sure to set it
X     * up so that cmdpanel buttons can be allocated a size which divides
X     * evenly into the remaining space.
X     */
X    CANVAS_WD = new_canv_wd;
X    if (CANVAS_WD < 10)
X	CANVAS_WD = 10;
X    CANVAS_HT = new_canv_ht;
X    if (CANVAS_HT < 10)
X	CANVAS_HT = 10;
X    MODEPANEL_WD = (MODE_SW_WD + INTERNAL_BW) * SW_PER_ROW + INTERNAL_BW;
X    NUM_CMD_SW = num_cmd_sw();	/* kludge - NUM_CMD_SW local to w_cmdpanel.c */
X    CMDPANEL_WD = (((2 * CANVAS_WD) / 3 + MODEPANEL_WD +
X		    RULER_WD) / NUM_CMD_SW) * NUM_CMD_SW;
X    MOUSEFUN_WD = (MODEPANEL_WD + CANVAS_WD + RULER_WD - CMDPANEL_WD);
X    while (MOUSEFUN_WD < MIN_MOUSEFUN_WD) {
X	MOUSEFUN_WD += NUM_CMD_SW;
X	CMDPANEL_WD -= NUM_CMD_SW;
X    }
X    if (CMDPANEL_WD < 5 * NUM_CMD_SW)
X	CMDPANEL_WD = 5 * NUM_CMD_SW;
X    MSGPANEL_WD = CMDPANEL_WD - INTERNAL_BW;
X    MOUSEFUN_HT = MSGPANEL_HT + CMDPANEL_HT - INTERNAL_BW;
X    INDPANEL_WD = MODEPANEL_WD + CANVAS_WD + SIDERULER_WD;
X    TOPRULER_WD = CANVAS_WD;
X    if (TOPRULER_WD > MAX_TOPRULER_WD)
X	TOPRULER_WD = MAX_TOPRULER_WD;
X    SIDERULER_HT = CANVAS_HT;
X    if (SIDERULER_HT > MAX_SIDERULER_HT)
X	SIDERULER_HT = MAX_SIDERULER_HT;
X    MODEPANEL_SPACE = CANVAS_HT + RULER_WD -
X	SW_PER_COL * (MODE_SW_HT + INTERNAL_BW);
X    if (MODEPANEL_SPACE < 2)
X	MODEPANEL_SPACE = 2;
X}
END_OF_FILE
if test 2697 -ne `wc -c <'w_setup.c'`; then
    echo shar: \"'w_setup.c'\" unpacked with wrong size!
fi
# end of 'w_setup.c'
fi
if test -f 'w_setup.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'w_setup.h'\"
else
echo shar: Extracting \"'w_setup.h'\" \(1969 characters\)
sed "s/^X//" >'w_setup.h' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X#define		PIX_PER_INCH		80
X#define		PIX_PER_CM		30	/* ((int)(PIX_PER_INCH / 2.54
X						 * + (5.0/2))) */
X
X/* Portrait dimensions */
X#define		DEF_CANVAS_HT_PORT	9*PIX_PER_INCH
X#define		DEF_CANVAS_WD_PORT	8*PIX_PER_INCH
X
X/* Landscape dimensions */
X#define		DEF_CANVAS_HT_LAND	8*PIX_PER_INCH
X#define		DEF_CANVAS_WD_LAND	10*PIX_PER_INCH
X
X#define		RULER_WD		24
X#define		MAX_TOPRULER_WD		1.1*DEF_CANVAS_WD_LAND
X#define		MAX_SIDERULER_HT	1.1*DEF_CANVAS_HT_PORT
X#define		MIN_MOUSEFUN_WD		240
X
X#define		SW_PER_ROW_PORT 2	/* switches/row in mode panel */
X#define		SW_PER_ROW_LAND 2	/* same for landscape mode */
X#define		SW_PER_COL_PORT 17
X#define		SW_PER_COL_LAND 17
X
X#define		MODE_SW_HT	32	/* height of a mode switch icon */
X#define		MODE_SW_WD	36	/* width of a mode switch icon */
X
X#define		DEF_INTERNAL_BW		1
X#define		POPUP_BW		2
X
Xextern int	TOOL_WD, TOOL_HT;
Xextern int	CMDPANEL_WD, CMDPANEL_HT;
Xextern int	MODEPANEL_WD, MODEPANEL_HT;
Xextern int	MODEPANEL_SPACE;
Xextern int	MSGPANEL_WD, MSGPANEL_HT;
Xextern int	MOUSEFUN_WD, MOUSEFUN_HT;
Xextern int	INDPANEL_WD;
Xextern int	CANVAS_WD, CANVAS_HT;
Xextern int	INTERNAL_BW;
Xextern int	TOPRULER_WD, TOPRULER_HT;
Xextern int	SIDERULER_WD, SIDERULER_HT;
Xextern int	SW_PER_ROW, SW_PER_COL;
END_OF_FILE
if test 1969 -ne `wc -c <'w_setup.h'`; then
    echo shar: \"'w_setup.h'\" unpacked with wrong size!
fi
# end of 'w_setup.h'
fi
if test -f 'w_util.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'w_util.h'\"
else
echo shar: Extracting \"'w_util.h'\" \(1919 characters\)
sed "s/^X//" >'w_util.h' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
X/* constant values used for popup_query */
X
X#define QUERY_YES	0
X#define QUERY_YESNO	1
X#define RESULT_NO	-1
X#define RESULT_YES	1
X#define RESULT_CANCEL	0
X
X/*
X * Author:	Doyle C. Davidson
X *		Intergraph Corporation
X *		One Madison Industrial Park
X *		Huntsville, Al.	 35894-0001
X *
X * Modification history:
X *		11 May 91 - added SetValues and GetValues - Paul King
X *
X * My macros for using XtSetArg easily:
X * Usage:
X *
X *	blah()
X *	{
X *	DeclareArgs(2);
X *		...
X *		FirstArg(XmNx, 100);
X *		NextArg(XmNy, 80);
X *		button = XmCreatePushButton(parent, name, Args, ArgCount);
X *	}
X */
X
X#include "assert.h"
X
X#define ArgCount	_fooArgCount
X#define Args		_fooArgList
X#define ArgCountMax	_fooArgCountMax
X
X#define DeclareArgs(n)	Arg Args[n]; int ArgCountMax = n; int ArgCount
X
X#define DeclareStaticArgs(n)  static Arg Args[n]; static int ArgCountMax = n; static int ArgCount
X
X#define FirstArg(name, val) \
X	{ XtSetArg(Args[0], (name), (val)); ArgCount=1;}
X#define NextArg(name, val) \
X	{ assert(ArgCount < ArgCountMax); \
X	  XtSetArg(Args[ArgCount], (name), (val)); ArgCount++;}
X#define GetValues(n)	XtGetValues(n, Args, ArgCount)
X#define SetValues(n)	XtSetValues(n, Args, ArgCount)
END_OF_FILE
if test 1919 -ne `wc -c <'w_util.h'`; then
    echo shar: \"'w_util.h'\" unpacked with wrong size!
fi
# end of 'w_util.h'
fi
if test -f 'w_zoom.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'w_zoom.h'\"
else
echo shar: Extracting \"'w_zoom.h'\" \(2217 characters\)
sed "s/^X//" >'w_zoom.h' <<'END_OF_FILE'
X/*
X * FIG : Facility for Interactive Generation of figures
X * Copyright (c) 1985 by Supoj Sutanthavibul
X *
X * "Permission to use, copy, modify, distribute, and sell this software and its
X * documentation for any purpose is hereby granted without fee, provided that
X * the above copyright notice appear in all copies and that both that
X * copyright notice and this permission notice appear in supporting
X * documentation, and that the name of M.I.T. not be used in advertising or
X * publicity pertaining to distribution of the software without specific,
X * written prior permission.  M.I.T. makes no representations about the
X * suitability of this software for any purpose.  It is provided "as is"
X * without express or implied warranty."
X *
X */
X
Xextern int	zoomscale;
Xextern int	zoomxoff;
Xextern int	zoomyoff;
X
X#define ZOOMX(x) (zoomscale*(x-zoomxoff))
X#define ZOOMY(y) (zoomscale*(y-zoomyoff))
X#define BACKX(x) ((int) (x/(float)zoomscale+zoomxoff+0.5))
X#define BACKY(y) ((int) (y/(float)zoomscale+zoomyoff+0.5))
X
X#define zXDrawPoint(d,w,gc,x,y) XDrawPoint(d,w,gc,ZOOMX(x),ZOOMY(y))
X#define zXDrawArc(d,w,gc,x,y,d1,d2,a1,a2)\
X    XDrawArc(d,w,gc,ZOOMX(x),ZOOMY(y),zoomscale*(d1),zoomscale*(d2),\
X	      a1,a2)
X#define zXFillArc(d,w,gc,x,y,d1,d2,a1,a2)\
X    XFillArc(d,w,gc,ZOOMX(x),ZOOMY(y),zoomscale*(d1),zoomscale*(d2),\
X	      a1,a2)
X#define zXDrawLine(d,w,gc,x1,y1,x2,y2)\
X    XDrawLine(d,w,gc,ZOOMX(x1),ZOOMY(y1),ZOOMX(x2),ZOOMY(y2))
X#define zXDrawString(d,w,gc,x,y,s,l)\
X    XDrawString(d,w,gc,ZOOMX(x),ZOOMY(y),s,l)
X#define zXFillRectangle(d,w,gc,x1,y1,x2,y2)\
X    XFillRectangle(d,w,gc,ZOOMX(x1),ZOOMY(y1),zoomscale*(x2),zoomscale*(y2))
X#define zXDrawRectangle(d,w,gc,x1,y1,x2,y2)\
X    XDrawRectangle(d,w,gc,ZOOMX(x1),ZOOMY(y1),zoomscale*(x2),zoomscale*(y2))
X#define zXDrawLines(d,w,gc,p,n,m)\
X    {int i;\
X     for(i=0;i<n;i++){p[i].x=ZOOMX(p[i].x);p[i].y=ZOOMY(p[i].y);}\
X     XDrawLines(d,w,gc,p,n,m);\
X     for(i=0;i<n;i++){p[i].x=BACKX(p[i].x);p[i].y=BACKY(p[i].y);}\
X    }
X
X#define zXFillPolygon(d,w,gc,p,n,m,o)\
X    {int i;\
X     for(i=0;i<n;i++){p[i].x=ZOOMX(p[i].x);p[i].y=ZOOMY(p[i].y);}\
X     XFillPolygon(d,w,gc,p,n,m,o);\
X     for(i=0;i<n;i++){p[i].x=BACKX(p[i].x);p[i].y=BACKY(p[i].y);}\
X    }
END_OF_FILE
if test 2217 -ne `wc -c <'w_zoom.h'`; then
    echo shar: \"'w_zoom.h'\" unpacked with wrong size!
fi
# end of 'w_zoom.h'
fi
echo shar: End of archive 24 \(of 25\).
cp /dev/null ark24isdone
MISSING=""
for I in 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 ; do
    if test ! -f ark${I}isdone ; then
	MISSING="${MISSING} ${I}"
    fi
done
if test "${MISSING}" = "" ; then
    echo You have unpacked all 25 archives.
    rm -f ark[1-9]isdone ark[1-9][0-9]isdone
else
    echo You still need to unpack the following archives:
    echo "        " ${MISSING}
fi
##  End of shell archive.
exit 0
-- 
Molecular Simulations, Inc.             mail: dcmartin@msi.com
796 N. Pastoria Avenue                  uucp: uunet!dcmartin
Sunnyvale, California 94086             at&t: 408/522-9236
