Newsgroups: comp.sources.x
From: demaree@imec.be (Antoon Demaree)
Subject: v21i052:  xvig - XviG Graphics Library, Part05/10
Message-ID: <1993Nov23.172801.17161@sparky.sterling.com>
X-Md4-Signature: 151e0e61504f44c4ab43176fcac6c0eb
Sender: chris@sparky.sterling.com (Chris Olson)
Organization: Sterling Software
Date: Tue, 23 Nov 1993 17:28:01 GMT
Approved: chris@sterling.com

Submitted-by: demaree@imec.be (Antoon Demaree)
Posting-number: Volume 21, Issue 52
Archive-name: xvig/part05
Environment: X11

#! /bin/sh
# This is a shell archive.  Remove anything before this line, then feed it
# into a shell via "sh file" or similar.  To overwrite existing files,
# type "sh file -c".
# Contents:  version_1.1/examples/cursortest.c
#   version_1.1/man/xvig.ps.8 version_1.1/src/draw.c
#   version_1.1/src/pattern.c
# Wrapped by chris@sparky on Tue Nov 23 11:17:58 1993
PATH=/bin:/usr/bin:/usr/ucb:/usr/local/bin:/usr/lbin:$PATH ; export PATH
echo If this archive is complete, you will see the following message:
echo '          "shar: End of archive 5 (of 10)."'
if test -f 'version_1.1/examples/cursortest.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'version_1.1/examples/cursortest.c'\"
else
  echo shar: Extracting \"'version_1.1/examples/cursortest.c'\" \(1958 characters\)
  sed "s/^X//" >'version_1.1/examples/cursortest.c' <<'END_OF_FILE'
X#include <stdlib.h>
X#include <stdio.h>
X#include "xvig.h"
X
X#define COLOR_BLACK   0
X#define COLOR_WHITE   1
X#define COLOR_RED     2
X#define COLOR_GREEN   3
X#define COLOR_BLUE    4
X#define NUMBER_OF_COLORS  5
X
Xstatic int colmap[NUMBER_OF_COLORS][3] = { {   0,   0,   0 },     /* Black */
X                                           { 255, 255, 255 },     /* White */
X                                           { 255,   0,   0 },     /* Red   */
X                                           {   0, 255,   0 },     /* Green */
X                                           {   0,   0, 255 } };   /* Blue  */
X
Xmain()
X{
X  unsigned int ww = 600, hh = 600;
X  int x1, y1, x2, y2, chr;
X  int arrow_coords[] = { 0,40,20,20,10,10,50,0,40,40,30,30,10,50 };
X  long cursor;
X
X  /* -- Initialize -- */
X
X  if (!XviG_Init("CursorTest", colmap, NUMBER_OF_COLORS))
X    exit(1);
X
X  /* -- Create a BIG red arrow cursor -- */
X
X  XviG_OpenCursor(51, 51, 50, 0);
X  XviG_SetColor(COLOR_RED);
X  XviG_SetFillStyle(0);
X  XviG_FillPolygon(arrow_coords, 7);
X  XviG_SetColor(COLOR_WHITE);
X  XviG_SetLineStyle(0, 0);
X  XviG_DrawPolygon(arrow_coords, 7);
X  cursor = XviG_CloseCursor();
X
X  /* -- Open a window and set the new arrow cursor -- */
X
X  if (!XviG_OpenWindow("Cursor", -1, -1, &ww, &hh))
X  {
X    XviG_Exit();
X    exit(1);
X  }
X
X  XviG_SetCursor(cursor);
X
X  /* -- Draw a rectangle between two indicated cursor position -- */
X
X  chr = XviG_GetCursor(XviG_BUTTON, &x1, &y1);
X  chr = XviG_GetCursor(XviG_BUTTON, &x2, &y2);
X
X  XviG_SetColor(COLOR_BLUE);
X  XviG_SetFillStyle(17);
X  XviG_FillRectangle(x1, y1, x2, y2);
X  XviG_SetColor(COLOR_GREEN);
X  XviG_SetLineStyle(0, 5);
X  XviG_DrawRectangle(x1, y1, x2, y2);
X
X  /* -- Hit any key to exit -- */
X
X  XviG_SetCursor(XviG_CURSOR_ARROW);
X
X  chr = XviG_GetCursor(XviG_KEY, &x1, &y1);
X
X  /* -- Cleanup and exit -- */
X
X  XviG_DeleteCursor(cursor);
X
X  if (!XviG_CloseWindow("Cursor"))
X  {
X    XviG_Exit();
X    exit(1);
X  }
X
X  XviG_Exit();
X
X  return 0;
X}
END_OF_FILE
  if test 1958 -ne `wc -c <'version_1.1/examples/cursortest.c'`; then
    echo shar: \"'version_1.1/examples/cursortest.c'\" unpacked with wrong size!
  fi
  # end of 'version_1.1/examples/cursortest.c'
fi
if test -f 'version_1.1/man/xvig.ps.8' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'version_1.1/man/xvig.ps.8'\"
else
  echo shar: Extracting \"'version_1.1/man/xvig.ps.8'\" \(33805 characters\)
  sed "s/^X//" >'version_1.1/man/xvig.ps.8' <<'END_OF_FILE'
X2740 y(ab)q(out)12 b(the)h(resource)f(manager)g(for)g(more)g(info)h(on)f(ho)o
X(w)g(to)g(do)g(that.)18 b(The)13 b(X)f(Windo)o(w)h(system)f(command)g
XFh(xlsfonts)-45 2796 y Fn(giv)o(es)k(a)e(list)i(of)f(X)g(fon)o(ts)g(that)f
X(are)h(a)o(v)m(ailable)i(on)e(y)o(our)g(system.)932 2932 y(13)p
Xeop
X%%Page: 14 15
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1135 b Fj(The)16
Xb(XviG)f(F)l(unctions)p -45 -28 1999 2 v -45 116 a Fn(Before)g(the)h(text)e
X(can)i(b)q(e)g(dra)o(wn,)e(a)h(fon)o(t)f(m)o(ust)h(ha)o(v)o(e)g(b)q(een)h
X(successfully)h(selected.)-45 172 y(The)f(color)f(of)g(the)g(text)g(can)g(b)q
X(e)h(set)f(with)g(the)h Ff(XviG)p 882 172 15 2 v 16 w(SetColor)e
XFn(function)i(call.)-45 229 y(As)f(opp)q(osed)h(to)f(text)f(comp)q(osed)i(of)
Xf(p)q(olylines,)i(fon)o(t)d(text)h(can)g(only)h(b)q(e)g(dra)o(wn)f(in)h
X(horizon)o(tal)f(direction.)11 335 y(1.)22 b Fl(Setting)d(a)e(F)l(on)o(t)69
X410 y Fn(T)l(o)e(select)h(a)f(fon)o(t,)f(use)h(the)g(follo)o(wing)h
X(function.)69 506 y(Syn)o(tax)f(:)140 618 y Ff(int)24 b(XviG_SetFont\(int)e
X(nr\))69 731 y Fn(Input)16 b(parameter)e(:)123 825 y Fm(\017)23
Xb Ff(nr)15 b Fn(:)169 881 y(The)g(n)o(um)o(b)q(er)h(of)f(the)g(fon)o(t)f(to)h
X(select)h(from)e(the)i(ordered)f(list)h(of)f(fon)o(ts.)69 975
Xy(Return)h(v)m(alue)g(:)123 1069 y Fm(\017)23 b Ff(1)15 b Fn(if)g(the)h(fon)o
X(t)e(has)h(b)q(een)i(selected.)123 1142 y Fm(\017)23 b Ff(0)15
Xb Fn(if)g(the)h(system)f(w)o(as)f(unable)i(to)f(load)g(and/or)g(select)h(the)
Xf(fon)o(t.)11 1236 y(2.)22 b Fl(Dra)o(wing)17 b(T)l(ext)69
X1311 y Fn(T)l(o)e(dra)o(w)f(the)i(text)e(string)h(with)h(the)f(curren)o(tly)h
X(selected)g(fon)o(t,)e(use)i(the)f(follo)o(wing)h(function.)69
X1406 y(Syn)o(tax)f(:)140 1519 y Ff(void)24 b(XviG_FontText\(char)d
X(*contents,)594 1575 y(int)i(x,)594 1632 y(int)g(y\))69 1744
Xy Fn(Input)16 b(parameters)e(:)123 1838 y Fm(\017)23 b Ff(contents)14
Xb Fn(:)169 1894 y(A)h(non-NULL)g(string)g(con)o(taining)h(the)e(text)g(to)g
X(b)q(e)i(dra)o(wn.)j(An)o(y)c(c)o(haracter)f(a)o(v)m(ailable)i(in)f(the)g
X(fon)o(t)f(is)169 1951 y(v)m(alid.)21 b(Other)16 b(c)o(haracters)e(are)h(not)
Xg(prin)o(ted.)123 2024 y Fm(\017)23 b Ff(x)15 b Fn(and)g Ff(y)g
XFn(:)169 2080 y(The)e(co)q(ordinate)g(of)f(the)h(p)q(oin)o(t)h(where)f(the)g
X(text)f(string)h(is)g(to)f(b)q(e)i(started.)k(The)13 b(text)f(string)h(is)g
X(b)q(ottom)169 2137 y(left)i(adjusted)h(to)e(this)i(co)q(ordinate.)11
X2231 y(3.)22 b Fl(The)c(Size)g(of)f(a)h(T)l(ext)f(String)69
X2306 y Fn(T)l(o)d(get)g(a)h(measure)f(of)h(the)f(size)i(of)e(the)h(text)f
X(string)h(with)g(the)f(curren)o(tly)i(selected)f(fon)o(t,)f(use)h(the)g
X(follo)o(wing)69 2362 y(function.)21 b(Notice)15 b(that)g(an)g(x-)g(and)g
X(y-o\013set)g(are)g(p)q(ossible.)69 2458 y(Syn)o(tax)g(:)140
X2570 y Ff(void)24 b(XviG_FontTextSize\(char)d(*contents,)689
X2627 y(int)j(*x_offset,)689 2683 y(int)g(*y_offset,)689 2740
Xy(unsigned)f(int)g(*width,)689 2796 y(unsigned)g(int)g(*height\))932
X2932 y Fn(14)p eop
X%%Page: 15 16
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1135 b Fj(The)16
Xb(XviG)f(F)l(unctions)p -45 -28 1999 2 v 69 116 a Fn(Input)h(parameter)e(:)
X123 210 y Fm(\017)23 b Ff(contents)14 b Fn(:)169 266 y(A)h(non-NULL)i(string)
Xe(con)o(taining)h(the)f(text)g(to)f(get)h(the)g(size)h(of.)69
X360 y(Output)f(parameters)g(:)123 454 y Fm(\017)23 b Ff(x)p
X196 454 15 2 v 17 w(offset)14 b Fn(and)i Ff(y)p 484 454 V 17
Xw(offset)e Fn(:)169 510 y(The)h(o\013set)f(of)h(the)g(string)h(in)g(X-)f(and)
Xg(Y-direction.)123 583 y Fm(\017)23 b Ff(width)14 b Fn(and)i
XFf(height)e Fn(:)169 640 y(The)h(o)o(v)o(erall)h(width)f(and)h(heigh)o(t)f
X(of)g(the)g(string.)69 734 y(Th)o(us,)j(for)f(a)g(string)h(dra)o(wn)f(at)g(p)
Xq(osition)i Ff([x,y])p Fn(,)e(the)h(b)q(ounding)h(b)q(o)o(x)f(of)f(that)g
X(string)h(\(i.e.)27 b(the)18 b(smallest)69 790 y(rectangle)13
Xb(that)f(encloses)i(the)e(shap)q(e)i(of)e(all)i(c)o(haracters\))d(describ)q
X(ed)k(in)f(terms)e(of)g(these)h(output)f(parameters)69 846
Xy(is)k(de\014ned)g(b)o(y)f(the)g(follo)o(wing)h(lo)o(w)o(er)f(left)h(and)f
X(upp)q(er)h(righ)o(t)f(co)q(ordinates)h(:)188 959 y Ff([x)24
Xb(+)f(x_offset,)g(y)h(+)g(y_offset])188 1015 y([x)g(+)f(x_offset)g(+)h
X(width,)f(y)h(+)f(y_offset)g(-)h(height])-45 1137 y Fg(3.7)56
Xb(Flushing)18 b(the)h(Graphics)f(Output)-45 1223 y Fn(Due)e(to)f(the)h(async)
Xo(hronous)f(nature)h(of)f(the)h(X)g(Windo)o(w)f(system,)g(graphics)i(calls)f
X(are)g(bu\013ered)g(un)o(til)h(the)f(bu\013er)-45 1279 y(is)f(full)g(or)f(un)
Xo(til)h(the)f(user)g(program)f(asks)g(for)h(the)g(bu\013er)g(to)f(b)q(e)i
X(\015ushed.)21 b(The)14 b(latter)f(is)i(done)f(with)h(the)f(follo)o(wing)-45
X1336 y(function)i(call.)21 b(It)15 b(\015ushes)h(the)g(output)f(to)f(all)i
X(op)q(en)g(windo)o(ws.)-45 1431 y(Syn)o(tax)f(:)27 1525 y Ff(void)23
Xb(XviG_Flush\(void\))-45 1647 y Fg(3.8)56 b(Sensing)18 b(the)g(Keyb)r(oard)
X-45 1733 y Fn(The)d Fk(XviG)e Fn(pac)o(k)m(age)h(allo)o(ws)h(to)e(ask)h(if)h
X(the)f(k)o(eyb)q(oard)g(has)g(b)q(een)h(touc)o(hed.)20 b(This)15
Xb(can)f(b)q(e)h(used)g(e.g.)k(to)13 b(in)o(terrupt)-45 1789
Xy(a)i(large)g(sequence)i(of)d(dra)o(w)h(commands.)-45 1846
Xy(The)j(w)o(a)o(y)e(this)i(is)f(done)h(is)g(b)o(y)f(setting)g(a)g(sense)h(c)o
X(haracter)e(\(a)h(prin)o(table)h(c)o(haracter)f(on)g(the)h(k)o(eyb)q(oard\).)
X25 b(When)-45 1902 y(this)16 b(c)o(haracter)f(is)h(touc)o(hed,)g(it)g(is)g
X(remem)o(b)q(ered)g(b)o(y)g(the)f Fk(XviG)g Fn(system)h(un)o(til)g(the)g
X(user)g(program)e(asks)h(whether)-45 1959 y(there)g(has)h(actually)f(b)q(een)
Xi(a)e('sense)g(k)o(eyb)q(oard')g(since)h(the)f(sense)h(c)o(haracter)f(w)o(as)
Xf(set.)-45 2015 y(Setting)g(a)f(sense)h(c)o(haracter)f(and)h(asking)g(for)f
X(a)g('sense)h(k)o(eyb)q(oard')f(is)h(related)g(to)f(the)h(curren)o(tly)g
X(selected)h(windo)o(w.)-45 2135 y Fl(3.8.1)52 b(Setting)19
Xb(a)e(Keyb)q(oard)h(Sense)f(Character)-45 2221 y Fn(Syn)o(tax)e(:)27
X2315 y Ff(void)23 b(XviG_SetSenseKbd\(int)e(sense_char\))-45
X2409 y Fn(Input)16 b(parameter)f(:)23 2502 y Fm(\017)23 b Ff(sense)p
X192 2502 V 16 w(char)15 b Fn(:)69 2559 y(When)20 b(a)f(prin)o(table)h(c)o
X(haracter)f(is)h(sp)q(eci\014ed,)i(the)e('sense)f(k)o(eyb)q(oard')g(mec)o
X(hanism)h(is)g(activ)m(ated)g(and)f(the)69 2615 y(sense)c(c)o(haracter)g(is)h
X(set)f(to)f(the)h(sp)q(eci\014ed)j(one.)69 2672 y(When)d(0)g(is)h(sp)q
X(eci\014ed,)h(the)e('sense)h(k)o(eyb)q(oard')e(mec)o(hanism)i(is)g(disabled.)
X932 2932 y(15)p eop
X%%Page: 16 17
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1135 b Fj(The)16
Xb(XviG)f(F)l(unctions)p -45 -28 1999 2 v -45 116 a Fl(3.8.2)52
Xb(Asking)17 b(for)g(a)h('Sense)e(Keyb)q(oard')-45 202 y Fn(Syn)o(tax)f(:)27
X296 y Ff(int)23 b(XviG_SenseKbd\(void\))-45 389 y Fn(Return)16
Xb(v)m(alue)g(:)23 483 y Fm(\017)23 b Ff(1)15 b Fn(if)g(the)h(sense)f(c)o
X(haracter)g(on)g(the)g(k)o(eyb)q(oard)g(has)g(b)q(een)i(touc)o(hed.)23
X577 y Fm(\017)23 b Ff(0)15 b Fn(if)g(the)h(sense)f(c)o(haracter)g(has)g(not)g
X(b)q(een)h(touc)o(hed.)-45 699 y Fg(3.9)56 b(Ab)r(out)18 b(the)h(Cursor)-45
X784 y Fn(With)d(the)f Fk(XviG)f Fn(pac)o(k)m(age,)h(three)g(t)o(yp)q(es)h(of)
Xe(cursors)h(can)h(b)q(e)f(used)h(:)23 878 y Fm(\017)23 b Fn(a)15
Xb(standard)f(X)i(blac)o(k)f(&)h(white)g(arro)o(w)d(cursor.)23
X972 y Fm(\017)23 b Fn(a)15 b(crosshair)g(cursor)g(with)g(an)o(y)g(of)g(the)g
X(de\014ned)i(colors.)23 1066 y Fm(\017)23 b Fn(a)15 b(user)g(de\014ned)i
X(cursor.)-45 1160 y(A)g(user)g(cursor)f(ma)o(y)g(con)o(tain)h(an)o(y)f(of)g
X(the)h(dra)o(w)f(ob)s(jects)g(as)g(describ)q(ed)j(in)e(section)g(3.5,)f(with)
Xh(an)o(y)f(of)h(the)f(dra)o(w)-45 1216 y(attributes)f(as)g(describ)q(ed)i(in)
Xf(section)g(3.4.)-45 1273 y(An)g(arbitrary)e(n)o(um)o(b)q(er)i(of)f(user)g
X(cursors)g(can)g(b)q(e)h(de\014ned)g(sim)o(ultaneously)l(.)-45
X1329 y(Notice)h(that)e(the)i(creation)f(of)g(a)g(user)g(cursor)g(is)h(not)f
X(related)g(to)g(a)g(windo)o(w.)23 b(The)16 b(cursor)g(can)h(b)q(e)g(set)f
X(and)g(used)-45 1386 y(in)g(an)o(y)f Fk(XviG)g Fn(windo)o(w.)-45
X1506 y Fl(3.9.1)52 b(Creating)18 b(a)g(New)f(User)g(Cursor)-45
X1591 y Fn(The)i(follo)o(wing)g(function)g(creates)g(the)f(pixmap)h(for)f(a)g
X(new)h(user)g(cursor.)29 b(When)19 b(this)g(function)g(is)g(called,)h(the)-45
X1648 y(output)d(to)f(a)g(windo)o(w)h(is)g(temp)q(orarily)h(disabled)g(and)f
X(all)h(subsequen)o(t)f(dra)o(w)f(calls)i(are)f(directed)h(to)e(this)h(cursor)
X-45 1704 y(pixmap)f(un)o(til)g(the)g(cursor)f(is)g(\014nished)i(and)f
X(closed.)-45 1761 y(Only)h(one)e(cursor)g(can)g(b)q(e)h(op)q(en)g(at)e(a)h
X(same)g(time.)-45 1817 y(No)g(windo)o(ws)g(can)h(b)q(e)g(op)q(ened,)g
X(selected)g(or)f(closed)h(while)h(a)d(cursor)h(is)h(op)q(en.)-45
X1913 y(Syn)o(tax)f(:)27 2007 y Ff(void)23 b(XviG_OpenCursor\(unsigned)e(int)i
X(width,)528 2063 y(unsigned)g(int)g(height,)528 2120 y(int)g(hot_x,)528
X2176 y(int)g(hot_y\))-45 2270 y Fn(Input)16 b(parameters)f(:)23
X2364 y Fm(\017)23 b Ff(width)14 b Fn(and)i Ff(height)e Fn(:)69
X2420 y(The)h(dimensions)i(of)e(the)g(user)g(cursor)g(pixmap.)69
X2477 y(The)e(user)g(can)g(dra)o(w)f(in)h(this)g(pixmap)h(from)e(the)h(co)q
X(ordinate)g(\(0,0\))e(to)h(the)h(co)q(ordinate)g(\(width-1,heigh)o(t-1\).)23
X2570 y Fm(\017)23 b Ff(hot)p 144 2570 15 2 v 17 w(x)15 b Fn(and)g
XFf(hot)p 360 2570 V 17 w(y)g Fn(:)69 2627 y(The)g(hot-sp)q(ot)g(of)g(the)g
X(new)h(user)f(cursor,)f(the)i(so-called)g('zero)f(p)q(oin)o(t'.)69
X2683 y(This)h(co)q(ordinate)f(should)h(b)q(e)g(a)f(p)q(oin)o(t)h(inside)h
X(the)e(cursor)g(pixmap.)932 2932 y(16)p eop
X%%Page: 17 18
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1135 b Fj(The)16
Xb(XviG)f(F)l(unctions)p -45 -28 1999 2 v -45 116 a Fl(3.9.2)52
Xb(Closing)18 b(a)g(User)f(Cursor)-45 202 y Fn(When)h(the)f(con)o(ten)o(ts)g
X(of)f(a)h(user)g(cursor)g(is)h(completely)h(\014nished,)g(it)e(m)o(ust)g(b)q
X(e)h(closed.)26 b(This)18 b(mak)o(es)f(the)g(cursor)-45 258
Xy(a)o(v)m(ailable)g(for)e(getting)g(input)h(from)e(a)h(windo)o(w.)-45
X315 y(When)i(the)f(cursor)f(is)i(closed,)g(the)f(previously)h(activ)o(e)f
X(windo)o(w,)h(if)f(an)o(y)l(,)g(is)g(set)g(again)g(to)g(the)g(curren)o(tly)g
X(selected)-45 371 y(windo)o(w.)-45 467 y(Syn)o(tax)f(:)27 545
Xy Ff(long)23 b(XviG_CloseCursor\(void\))-45 623 y Fn(Return)16
Xb(v)m(alue)g(:)23 701 y Fm(\017)23 b Fn(A)15 b(unique)i(cursor)e(iden)o
X(ti\014er.)23 789 y Fm(\017)23 b Ff(0)15 b Fn(if)g(no)h(cursor)e(w)o(as)h(op)
Xq(en.)-45 906 y Fl(3.9.3)52 b(Setting)19 b(a)e(Cursor)g(T)o(yp)q(e)-45
X992 y Fn(The)d(follo)o(wing)f(function)h(sets)f(one)g(of)g(the)g(three)h
X(cursor)e(t)o(yp)q(es)h(for)g(the)g(curren)o(tly)h(selected)g(windo)o(w.)20
Xb(The)13 b(cursor)-45 1048 y(t)o(yp)q(e)i(remains)h(activ)o(e)f(for)g(the)g
X(windo)o(w)h(un)o(til)g(another)f(cursor)g(t)o(yp)q(e)g(is)h(set.)-45
X1105 y(The)g(default)g(cursor)e(t)o(yp)q(e)i(is)g(the)f(arro)o(w)f(cursor.)19
Xb(The)d(crosshair)f(cursor)g(and)h(the)f(user)g(de\014ned)i(cursor)e(b)q
X(ecome)-45 1161 y(visible)22 b(only)e(when)g(cursor)f(input)h(is)g
X(requested.)33 b(When)20 b(no)g(cursor)f(input)h(is)g(requested)g(and)g(the)f
X(p)q(oin)o(ter)h(is)-45 1218 y(en)o(tering)c(an)f Fk(XviG)f
XFn(graphics)i(windo)o(w,)f(y)o(ou)g(simply)h(get)f(the)g(arro)o(w)f(cursor.)
X-45 1313 y(Syn)o(tax)h(:)27 1392 y Ff(void)23 b(XviG_SetCursor\(long)e
X(cursor\))-45 1470 y Fn(Input)16 b(parameter)f(:)23 1548 y
XFm(\017)23 b Ff(cursor)14 b Fn(:)69 1605 y(This)i(v)m(alue)g(can)f(b)q(e)h
X(one)g(of)e(the)i(prede\014ned)g(sym)o(b)q(ols)331 1698 y Ff
X(XviG_CURSOR_ARROW)331 1755 y(XviG_CURSOR_XHAIR)69 1905 y Fn(or)e(the)i(iden)
Xo(ti\014er)h(of)d(a)h(user)h(de\014ned)g(cursor)f(as)g(returned)g(b)o(y)h
X(the)f(function)h Ff(XviG)p 1532 1905 15 2 v 16 w(CloseCursor)p
XFn(.)-45 1983 y(If)g(a)f(crosshair)g(cursor)g(is)g(w)o(an)o(ted,)g(the)g
X(color)g(of)g(the)g(crosshair)g(can)h(b)q(e)g(set)f(b)o(y)g(preceding)i(this)
Xe(function)h(call)h(b)o(y)-45 2040 y(a)g Ff(XviG)p 94 2040
XV 17 w(SetColor)f Fn(call,)i(i.e.)27 b(the)17 b(curren)o(t)g(color)h(at)e
X(the)h(momen)o(t)g(of)g(the)g Ff(XviG)p 1401 2040 V 17 w(SetCursor)f
XFn(call)i(will)h(b)q(e)f(used)-45 2096 y(for)d(the)g(crosshair)g(color.)-45
X2213 y Fl(3.9.4)52 b(Deleting)19 b(a)f(User)e(Cursor)-45 2299
Xy Fn(When)h(a)f(user)h(de\014ned)h(cursor)e(is)i(no)e(longer)h(needed,)h(is)f
X(ma)o(y)f(b)q(e)h(deleted)h(to)e(sa)o(v)o(e)g(resources)h(in)g(the)g(X)f
X(serv)o(er.)-45 2356 y(Ho)o(w)o(ev)o(er,)e(b)q(efore)h(deleting,)h(the)f
X(user)g(m)o(ust)f(mak)o(e)h(sure)g(that)f(this)h(cursor)g(is)g(no)g(longer)g
X(set)g(in)h(an)o(y)e(of)h(the)g(op)q(en)-45 2412 y(windo)o(ws.)-45
X2508 y(Syn)o(tax)g(:)27 2586 y Ff(void)23 b(XviG_DeleteCursor\(long)e
X(cursor\))-45 2664 y Fn(Input)16 b(parameter)f(:)23 2743 y
XFm(\017)23 b Ff(cursor)14 b Fn(:)69 2799 y(The)c(unique)i(iden)o(ti\014er)g
X(of)d(the)i(cursor)e(to)h(delete,)i(as)e(it)g(w)o(as)f(returned)i(b)o(y)f
X(the)g(function)h Ff(XviG)p 1684 2799 V 17 w(CloseCursor)p
XFn(.)932 2932 y(17)p eop
X%%Page: 18 19
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1135 b Fj(The)16
Xb(XviG)f(F)l(unctions)p -45 -28 1999 2 v -45 116 a Fl(3.9.5)52
Xb(Asking)17 b(for)g(Cursor)f(Input)-45 202 y Fn(T)l(o)11 b(ask)h(for)f(the)g
X(co)q(ordinate)h(of)f(the)h(cursor)f(and/or)g(a)h(k)o(eypress)f(or)g(mouse)h
X(buttonpress)f(in)i(the)e(curren)o(tly)h(selected)-45 258 y(windo)o(w,)j(use)
Xh(the)f(follo)o(wing)h(function.)-45 354 y(Syn)o(tax)f(:)27
X448 y Ff(int)23 b(XviG_GetCursor\(int)f(type,)480 504 y(int)i(*x_pos,)480
X560 y(int)g(*y_pos\))-45 654 y Fn(Input)16 b(parameter)f(:)23
X748 y Fm(\017)23 b Ff(type)14 b Fn(:)69 805 y(The)j(input)h(t)o(yp)q(e)f(to)g
X(b)q(e)g(enabled)i(to)d(get)h(cursor)g(input)h(from.)24 b(Only)19
Xb(the)e(k)o(eyb)q(oard)g(can)g(b)q(e)g(enabled,)i(or)69 861
Xy(only)d(the)f(mouse)g(buttons,)g(or)f(b)q(oth)i(can)f(b)q(e)h(enabled.)69
X917 y(The)f(follo)o(wing)h(prede\014ned)h(sym)o(b)q(ols)e(m)o(ust)g(b)q(e)h
X(used)g(to)e(set)h(this)h(parameter)e(:)331 1030 y Ff(XviG_KEY)331
X1086 y(XviG_BUTTON)331 1143 y(XviG_KEY_BUTTON)-45 1312 y Fn(Output)i
X(parameters)e(:)23 1406 y Fm(\017)23 b Ff(x)p 96 1406 15 2
Xv 17 w(pos)15 b Fn(and)g Ff(y)p 312 1406 V 17 w(pos)g Fn(:)69
X1462 y(The)g(p)q(osition)h(of)f(the)h(cursor)e(in)i(the)g(windo)o(w)f(when)h
X(a)f(k)o(ey)g(or)f(mouse)i(button)f(w)o(as)f(pressed.)-45 1556
Xy(Return)i(v)m(alue)g(:)23 1650 y Fm(\017)23 b Fn(The)c(ASCI)q(I)g(v)m(alue)h
X(of)e(the)h(prin)o(table)g(c)o(haracter)f(or)g(con)o(trol)g(c)o(haracter)g
X(that)g(has)g(b)q(een)i(pressed)f(on)f(the)69 1706 y(k)o(eyb)q(oard.)i(A)15
Xb(distinction)i(b)q(et)o(w)o(een)e(upp)q(ercase)i(and)e(lo)o(w)o(ercase)g(c)o
X(haracters)f(is)i(made.)23 1800 y Fm(\017)23 b Ff(0)15 b Fn(when)h(a)e
X(non-prin)o(table)j(c)o(haracter)e(\(e.g.)k(a)c(function)h(k)o(ey\))e(has)h
X(b)q(een)i(pressed.)23 1894 y Fm(\017)23 b Fn(One)16 b(of)f(the)g(follo)o
X(wing)h(prede\014ned)h(v)m(alues)f(when)g(a)e(mouse)i(button)f(has)g(b)q(een)
Xh(pressed)g(:)331 2006 y Ff(XviG_BUTTON1)331 2063 y(XviG_BUTTON2)331
X2119 y(XviG_BUTTON3)331 2176 y(XviG_BUTTON4)331 2232 y(XviG_BUTTON5)-45
X2401 y Fn(When)k(asking)g(for)g(cursor)f(input,)j(the)e(graphics)g(output)g
X(to)f(all)h(windo)o(ws)g(is)h(automatically)f(\015ushed.)35
Xb(So)20 b(no)-45 2458 y Ff(XviG)p 54 2458 V 17 w(Flush)14 b
XFn(function)i(call)h(is)e(needed)i(b)q(efore)e(this)h(call.)-45
X2553 y(If)f(the)g('sense)g(k)o(eyb)q(oard')f(mec)o(hanism)h(is)g(activ)o(e)g
X(for)f(the)h(curren)o(tly)g(selected)h(windo)o(w,)e(this)i(function)f(call)h
X(resets)-45 2610 y(to)f(the)g(status)f(that)h(the)g(sense)h(c)o(haracter)e
X(has)h(not)g(b)q(een)h(touc)o(hed)g(y)o(et.)932 2932 y(18)p
Xeop
X%%Page: 19 20
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1309 b Fj(Using)16
Xb(XviG)p -45 -28 1999 2 v -45 116 a Fq(4)69 b(Using)23 b(XviG)-45
X219 y Fg(4.1)56 b(En)n(vironmen)n(t)-45 305 y Fn(T)l(o)15 b(b)q(e)h(able)g
X(to)e(dev)o(elop)j(or)d(run)i(an)f Fk(XviG)f Fn(program)g(the)i(follo)o(wing)
Xg(en)o(vironmen)o(t)f(v)m(ariables)i(m)o(ust)d(b)q(e)i(set)f(:)69
X399 y Fh(XVIGDIR)39 b Fn(:)20 b(The)c(pathname)f(of)f(the)i(ro)q(ot)e
X(directory)i(of)e(the)i Fk(XviG)e Fn(system)h(installation)h(:)347
X455 y Fh(~c)n(ad/xvig/r)n(ele)n(ase)69 526 y(XVIG)124 b Fn(:)20
Xb(The)c(complete)g(pathname)f(for)f(the)h Fk(XviG)g Fn(c)o(hild)i(program)d
X(:)347 582 y Fj($)p Fh(XVIGDIR/bin/)p Fj($)p Fm(f)p Fh(HT)p
XFm(g)p Fh(bin/xvig)-45 666 y Fn(The)24 b(en)o(vironmen)o(t)f(v)m(ariable)i
XFh(XVIGDIR)e Fn(can)g(b)q(e)h(used)g(in)g(Mak)o(e\014les)g(to)e(refer)h(to)g
X(the)g Fk(XviG)g Fn(link)i(library)-45 723 y(')p Fj($)p Fh(XVIGDIR/lib/)p
XFj($)p Fm(f)p Fh(HT)p Fm(g)p Fh(lib/xvig.a)p Fn(')12 b(and)j(to)g(the)g
XFk(XviG)f Fn(include)k(\014le)e(')p Fj($)p Fh(XVIGDIR/include/xvig.h)p
XFn('.)-45 779 y(The)g(en)o(vironmen)o(t)f(v)m(ariable)i Fh(XVIG)e
XFn(m)o(ust)g(b)q(e)h(set)f(for)f(the)i(system)f(to)f(\014nd)j(the)e
XFk(XviG)g Fn(c)o(hild)i(program)d(whic)o(h)i(is)-45 836 y(started)f(eac)o(h)g
X(time)g(a)g(new)h(windo)o(w)f(is)h(op)q(ened.)-45 931 y(F)l(urthermore,)e
X(the)i(standard)e(X)i(feature)f(of)f(setting)i(the)f(en)o(vironmen)o(t)g(v)m
X(ariable)i Fh(DISPLA)m(Y)c Fn(is)j(also)f(v)m(alid.)-45 1053
Xy Fg(4.2)56 b(W)-5 b(riting)18 b(C)h(Programs)f(with)g(XviG)-45
X1139 y Fn(User)f(programs)e(m)o(ust)h(include)j(the)d(header)h(\014le)g(')p
XFh(xvig.h)p Fn(')f(from)g(the)g(directory)h(')p Fj($)p Fh(XVIGDIR/include)p
XFn(')d(and)j(link)-45 1195 y(with)f(the)f(library)h(')p Fh(xvig.a)p
XFn(')e(from)h(the)g(directory)h(')p Fj($)p Fh(XVIGDIR/lib/)p
XFj($)p Fm(f)p Fh(HT)p Fm(g)p Fh(l)o(ib)p Fn(')c(and)j(the)h
XFh(Xlib)e Fn(library)1755 1179 y Fe(1)1775 1195 y Fn(.)-45
X1252 y(When)i(the)f(function)h Ff(XviG)p 443 1252 15 2 v 17
Xw(PolyText)e Fn(is)h(used,)h(the)f Fh(math)h Fn(library)g(m)o(ust)f(also)g(b)
Xq(e)h(included.)-45 1347 y(A)f(simple)i(Mak)o(e\014le)f(ma)o(y)e(lo)q(ok)i
X(lik)o(e)g(this)g(:)122 1441 y Ff(IDIR)24 b(=)f($\(XVIGDIR\)/include)122
X1498 y(LIB)48 b(=)23 b($\(XVIGDIR\)/lib/$\(HT\)lib/xvig)o(.a)122
X1611 y(my_program:)g(my_program.c)313 1667 y($\(CC\))g(my_program.c)g
X(-I$\(IDIR\))f($\(LIB\))h(-lX11)g(-lm)h(-o)f(my_program)-45
X1761 y Fn(The)16 b(header)f(\014le)h(is)g(ANSI-C)g(st)o(yle,)f(so)g(protot)o
X(yping)f(for)h(the)g(functions)h(is)g(pro)o(vided.)-45 1883
Xy Fg(4.3)56 b(The)18 b(Resource)g(Manager)h(Database)-45 1968
Xy Fn(T)l(o)d(set)g(some)g(of)g(the)g(c)o(haracteristics)h(for)e(the)h
X(application)i(lik)o(e)g(the)e(geometry)f(of)h(graphics)h(windo)o(ws,)f(and)g
X(the)-45 2025 y(fon)o(ts)e(to)g(use)h(in)h(the)f(windo)o(ws,)f(the)h(user)g
X(can)g(use)g(the)g(Resource)g(Manager)f(database,)g(i.e.)20
Xb(the)15 b(\014le)h(')p Fh(.Xdefaults)p Fn(')-45 2081 y(in)e(his)f(home)g
X(directory)l(.)19 b(Therefore)13 b(a)f Fh(ClassName)g Fn(is)h(needed.)20
Xb(This)14 b Fh(ClassName)d Fn(is)i(the)g(string)g(that)f(is)h(pro)o(vided)-45
X2138 y(as)j(the)g(\014rst)g(parameter)f(to)g(the)i Ff(XviG)p
X639 2138 V 16 w(Init)f Fn(function)h(call.)23 b(When)17 b(the)f
XFf(classname)f Fn(parameter)g(to)h Ff(XviG)p 1864 2138 V 16
Xw(Init)-45 2194 y Fn(is)g(NULL,)g(then)f(the)g(Resource)h(Manager)f(database)
Xf(is)i(not)f(used)h(and)f(no)g(c)o(haracteristics)h(can)f(b)q(e)h(set.)-45
X2314 y Fl(4.3.1)52 b(The)18 b(Geometry)e(of)i(XviG)f(Windo)o(ws)-45
X2400 y Fn(T)l(o)e(de\014ne)h(the)e(geometry)g(of)h(windo)o(ws)f(created)h
X(with)g(the)g Fk(XviG)f Fn(graphics)h(pac)o(k)m(age,)g(use)g(the)g(follo)o
X(wing)g(syn)o(tax)-45 2457 y(in)h(the)f(Resource)h(Manager)f(database)f
X(\014le)j(')p Fh(.Xdefaults)p Fn(')d(:)218 2550 y Ff
X(<ClassName>.xvig.<Window)o(Name>.g)o(eometry)p -45 2591 807
X2 v 7 2618 a Fd(1)24 2634 y Fc(On)d(HP/Ap)q(ollo)i(Domain/OS)g(systems,)f
X(there's)f(no)g(need)h(to)f(link)i(with)e(the)h Fb(Xlib)d Fc(library)k(since)
Xf(this)g(library)h(is)f(a)f(shared)h(library)m(.)932 2932 y
XFn(19)p eop
X%%Page: 20 21
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1309 b Fj(Using)16
Xb(XviG)p -45 -28 1999 2 v -45 116 a Ff(ClassName)e Fn(is)i(the)f(string)g
X(that)g(is)g(pro)o(vided)h(as)f(the)h(\014rst)e(parameter)h(to)f(the)i
XFf(XviG)p 1448 116 15 2 v 16 w(Init)f Fn(function)h(call.)-45
X172 y Ff(WindowName)e Fn(is)i(the)f(name)g(of)g(the)g(windo)o(w)h(that)e(is)i
X(pro)o(vided)g(with)f(the)h Ff(XviG)p 1362 172 V 16 w(OpenWindow)e
XFn(function)i(call.)-45 268 y(When)e(y)o(ou)g(are)g(not)f(in)o(terested)i(in)
Xf(the)g(windo)o(w)g(name,)g(or)g(the)g(windo)o(w)g(name)g(is)g(unkno)o(wn,)g
X(then)g(the)g(wildcard)-45 324 y(c)o(haracter)h(')p Ff(*)p
XFn(')f(can)h(b)q(e)h(used.)-45 420 y(The)g(v)m(alue)g(of)f(this)g(resource)h
X(is)f(the)h(standard)e(X)i(notation)f(for)f(sp)q(ecifying)j(a)e(windo)o(w)g
X(geometry)l(.)-45 516 y(E.g.:)122 609 y Ff(My_Program.xvig.My_Window.ge)o
X(ometry:)68 b(800x600+100+100)122 722 y(Test.xvig.Window1.geometry:)259
Xb(400x300+10+10)122 779 y(Test.xvig.Window2.geometry:)g(400x300-10+10)122
X835 y(Test.xvig.Window3.geometry:)g(400x300-10-10)122 892 y
X(Test.xvig.Window4.geometry:)g(400x300+10-10)122 1005 y
X(Draw.xvig.*.geometry:)403 b(800x600+300+0)-45 1098 y Fn(The)16
Xb(order)f(of)f(precedence)j(for)e(p)q(ositioning)i(a)e(windo)o(w)g(on)g(the)g
X(screen)h(is)g(as)f(follo)o(ws)g(:)11 1192 y(1.)22 b(If)14
Xb(the)g(windo)o(w)g(geometry)f(is)i(sp)q(eci\014ed)h(in)f(the)f(Resource)h
X(Manager)e(database)g(\014le)i(')p Fh(.Xdefaults)p Fn(',)e(then)h(this)69
X1249 y(geometry)g(is)i(used.)11 1342 y(2.)22 b(If)14 b(the)g(windo)o(w)f(p)q
X(ositions)i Ff(x)f Fn(and)g Ff(y)p Fn(,)f(sp)q(eci\014ed)j(with)e(the)g
XFf(XviG)p 1178 1342 V 16 w(OpenWindow)f Fn(function,)h(are)f(non-negativ)o
X(e,)69 1399 y(then)i(this)h(geometry)e(is)i(used.)11 1493 y(3.)22
Xb(If)16 b(at)f(least)g(one)h(of)f(these)h Ff(x)f Fn(and)h Ff(y)f
XFn(windo)o(w)h(p)q(ositions)g(is)g(negativ)o(e,)g(then)g(the)f(placemen)o(t)i
X(of)e(the)g(windo)o(w)69 1549 y(is)h(left)f(o)o(v)o(er)f(to)h(the)g(con)o
X(trol)g(of)g(the)g(windo)o(w)h(manager,)e(if)h(one)h(is)f(running.)-45
X1669 y Fl(4.3.2)52 b(F)l(on)o(ts)17 b(to)g(Use)h(in)g(XviG)f(Windo)o(ws)-45
X1755 y Fn(The)f(user)f(can)h(de\014ne)g(an)f(unlimited)j(n)o(um)o(b)q(er)e
X(of)f(fon)o(ts)f(to)h(b)q(e)h(used)g(in)g(his)g(user)f(program)f(\(if)i(he)g
X(is)f(not)g(pleased)-45 1812 y(with)g(the)f(\014v)o(e)g(default)h(ones\))f(b)
Xo(y)g(sp)q(ecifying)i(them)e(in)i(the)e(Resource)h(Manager)e(database)h
X(\014le)h(')p Fh(.Xdefaults)p Fn('.)j(Use)-45 1868 y(the)d(X)h(Windo)o(w)f
X(system)g(command)g Fh(xlsfonts)f Fn(to)g(\014nd)i(out)f(what)g(X)g(fon)o(ts)
Xf(are)h(a)o(v)m(ailable)i(on)e(y)o(our)g(system.)-45 1964 y(The)h(syn)o(tax)e
X(for)h(de\014ning)h(fon)o(ts)f(is)g(:)218 2057 y Ff(<ClassName>.xvig.maxfont)
Xo(s:)93 b(<nr>)218 2114 y(<ClassName>.xvig.font1:)164 b(<fontname-1>)218
X2170 y(<ClassName>.xvig.font2:)g(<fontname-2>)218 2227 y(.............)218
X2283 y(<ClassName>.xvig.font<nr)o(>:)93 b(<fontname-nr>)-45
X2377 y Fn(Notice)16 b(that)e(the)i(fon)o(tnames)e(itself)i(ma)o(y)f(con)o
X(tain)g(wildcard)h(c)o(haracters.)-45 2473 y(E.g.:)122 2566
Xy Ff(Test.xvig.maxfonts:)69 b(6)122 2623 y(Test.xvig.font1:)141
Xb(-*-helvetica-bold-r-normal--)o(8-80-75)o(-75-*)122 2679 y(Test.xvig.font2:)
Xg(-*-helvetica-bold-r-normal--)o(10-100-)o(75-75-*)122 2736
Xy(Test.xvig.font3:)g(-*-helvetica-bold-r-normal--)o(12-120-)o(75-75-*)122
X2792 y(Test.xvig.font4:)g(-*-helvetica-bold-r-normal--)o(14-140-)o(75-75-*)
X932 2932 y Fn(20)p eop
X%%Page: 21 22
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1309 b Fj(Using)16
Xb(XviG)p -45 -28 1999 2 v 122 116 a Ff(Test.xvig.font5:)141
Xb(-*-helvetica-bold-r-normal--)o(18-180-)o(75-75-*)122 172
Xy(Test.xvig.font6:)g(-*-helvetica-bold-r-normal--)o(24-240-)o(75-75-*)26
X266 y Fn(F)l(or)14 b(this)i(example,)g(the)f(user)g(program)f(can)i(use)f
X(the)g(n)o(um)o(b)q(ers)h Ff(1)f Fn(to)f Ff(6)h Fn(with)h(the)f(function)h
XFf(XviG)p 1759 266 15 2 v 17 w(SetFont)p Fn(.)-45 388 y Fg(4.4)56
Xb(Installation)-45 474 y Fn(If)12 b(the)f(user)g(program)f(is)h(b)q(eing)i
X(installed)g(at)d(another)h(site,)h(don't)e(forget)g(also)i(to)e(install)i
X(the)g Fk(XviG)e Fn(c)o(hild)j(program)-45 530 y(and)j(set)f(the)g(en)o
X(vironmen)o(t)g(v)m(ariable)i Fh(XVIG)d Fn(to)h(the)g(appropriate)g(new)h
X(pathname)f(of)g(that)f(c)o(hild)j(program.)-45 652 y Fg(4.5)56
Xb(T)-5 b(roublesho)r(oting)-45 738 y Fn(F)l(or)17 b(the)h(momen)o(t,)f
X(little)i(securit)o(y)f(has)g(b)q(een)g(built)h(in)o(to)f(the)g
XFk(XviG)e Fn(system)i(itself.)28 b(It)17 b(is)i(founded)f(mainly)h(on)-45
X794 y(the)c(reliabili)q(t)o(y)i(of)e(the)g(X)g(Windo)o(w)h(system.)26
X851 y(When)e(the)f(user)h(program)e(dies)j(unexp)q(ectedly)h(b)q(efore)d(the)
Xh(graphics)g(windo)o(ws)g(ha)o(v)o(e)f(b)q(een)h(closed)h(and)e(these)-45
X907 y(windo)o(ws)18 b(remain)f(on)g(the)h(screen,)g(they)f(can)g(b)q(e)h
X(closed)g(b)o(y)f(killing)j(the)d Fk(XviG)g Fn(pro)q(cess)g(asso)q(ciated)h
X(with)f(eac)o(h)-45 963 y(windo)o(w.)26 1020 y(When)d(for)g(some)g(reason)g
X(a)g(graphics)g(windo)o(w)h(gets)f(closed)h(unexp)q(ectedly)l(,)h(the)f(user)
Xf(program)f(is)i(v)o(ery)f(lik)o(ely)-45 1076 y(to)h(hang)g(or)g(crash)g
X(when)g(it)h(tries)f(to)g(address)g(suc)o(h)g(a)g(windo)o(w)h(that)e(no)h
X(longer)h(exists.)-45 1198 y Fg(4.6)56 b(Problem)17 b(Rep)r(orting)-45
X1284 y Fn(When)k(problems)f(o)q(ccur)h(or)e(when)i(extensions)f(are)g
X(requested,)h(the)f(author)g(can)g(b)q(e)h(informed)f(b)o(y)g(electronic)-45
X1340 y(mail)d(and/or)e(b)o(y)h(\014lling)i(in)e(a)g(problem)g(rep)q(ort.)22
Xb(The)16 b(author)f(only)h(\014les)h(the)f(request\(s\).)21
Xb(VSDM)15 b(managemen)o(t)-45 1397 y(decides)i(on)e(the)g(actual)h(implemen)o
X(tation.)-45 1453 y(Up)q(dates)g(will)h(b)q(e)e(made)h(\014rst)e(in)i(an)g
X(exp)q(erimen)o(tal)g(v)o(ersion)g(and)f(ma)o(y)g(then)g(b)q(e)h(included)i
X(in)e(a)f(next)g(release.)932 2932 y(21)p eop
X%%Page: 22 23
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1097 b Fj(The)16
Xb(XviG)f(Header)h(File)p -45 -28 1999 2 v -45 116 a Fq(A)69
Xb(The)22 b(XviG)h(Header)f(File)-45 252 y Fa(/*)d(File>>>)e(xvig.h)-45
X298 y(--)-45 344 y(--)i(\045M\045)f(--)h(version)e(\045I\045)i(\(IMEC\))233
Xb(last)18 b(updated:)e(\045E\045)-45 389 y(--)-45 435 y(--)j(Copyright)d
X(\(c\))j(1993)-45 481 y(--)g(IMEC)f(vzw)-45 526 y(--)h(Kapeldreef)d(75)-45
X572 y(--)j(B-3001)e(LEUVEN)-45 618 y(--)i(BELGIUM)-45 663 y(--)-45
X709 y(--)g(Author)57 b(:)19 b(A.)g(Demaree)-45 755 y(--)-45
X800 y(--)g(Date)97 b(:)19 b(October)e(1,)i(1993)-45 846 y(--)-45
X891 y(--)g(Function)e(:)i(Header)e(file)h(for)h(XviG)f(version)f(1.1)-45
X937 y(--)-45 983 y(--)i(Comment)37 b(:)-45 1028 y(--)-45 1074
Xy(--)19 b(Review)57 b(:)-45 1120 y(--)-45 1165 y(*/)-45 1302
Xy(#ifndef)17 b(__XVIG_H)-45 1348 y(#define)g(__XVIG_H)-45 1439
Xy(/*)-45 1485 y(--)i(The)f(default)f(colors,)g(if)i(not)g(set)f(by)h(the)f
X(user)g(program)-45 1531 y(*/)-45 1622 y(#define)f(XviG_NR_OF)o(_C)o(OLO)o
X(RS)153 b(16)-45 1713 y(#define)17 b(XviG_COLOR)o(_B)o(LAC)o(K)193
Xb(0)-45 1759 y(#define)17 b(XviG_COLOR)o(_W)o(HIT)o(E)193 b(1)-45
X1805 y(#define)17 b(XviG_COLOR)o(_R)o(ED)232 b(2)-45 1850 y(#define)17
Xb(XviG_COLOR)o(_G)o(REE)o(N)193 b(3)-45 1896 y(#define)17 b(XviG_COLOR)o(_B)o
X(LUE)212 b(4)-45 1942 y(#define)17 b(XviG_COLOR)o(_C)o(YAN)212
Xb(5)-45 1987 y(#define)17 b(XviG_COLOR)o(_M)o(AGE)o(NTA)153
Xb(6)-45 2033 y(#define)17 b(XviG_COLOR)o(_Y)o(ELL)o(OW)173
Xb(7)-45 2079 y(#define)17 b(XviG_COLOR)o(_O)o(RAN)o(GE)173
Xb(8)-45 2124 y(#define)17 b(XviG_COLOR)o(_G)o(REE)o(N_Y)o(EL)o(LOW)55
Xb(9)-45 2170 y(#define)17 b(XviG_COLOR)o(_G)o(REE)o(N_C)o(YA)o(N)75
Xb(10)-45 2216 y(#define)17 b(XviG_COLOR)o(_B)o(LUE)o(_CY)o(AN)94
Xb(11)-45 2261 y(#define)17 b(XviG_COLOR)o(_B)o(LUE)o(_MA)o(GE)o(NTA)35
Xb(12)-45 2307 y(#define)17 b(XviG_COLOR)o(_R)o(ED_)o(MAG)o(EN)o(TA)55
Xb(13)-45 2353 y(#define)17 b(XviG_COLOR)o(_D)o(ARK)o(_GR)o(AY)94
Xb(14)-45 2398 y(#define)17 b(XviG_COLOR)o(_L)o(IGH)o(T_G)o(RA)o(Y)75
Xb(15)-45 2490 y(/*)-45 2535 y(--)19 b(The)f(linestyles)e(and)j(fillpatte)o
X(rn)o(s)-45 2581 y(*/)-45 2672 y(#define)e(XviG_NR_OF)o(_L)o(INE)o(STY)o(LE)o
X(S)95 b(8)-45 2718 y(#define)17 b(XviG_NR_OF)o(_F)o(ILL)o(PAT)o(TE)o(RNS)35
Xb(42)932 2932 y Fn(22)p eop
X%%Page: 23 24
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1097 b Fj(The)16
Xb(XviG)f(Header)h(File)p -45 -28 1999 2 v -45 116 a Fa(/*)-45
X162 y(--)j(The)f(cursor)g(types)-45 207 y(*/)-45 299 y(#define)f(XviG_CURSO)o
X(R_)o(ARR)o(OW)55 b(0L)-45 344 y(#define)17 b(XviG_CURSO)o(R_)o(XHA)o(IR)36
Xb(-1L)-45 436 y(/*)-45 481 y(--)19 b(The)f(cursor)g(input)f(enabling)-45
X527 y(*/)-45 618 y(#define)g(XviG_KEY)174 b(0)-45 664 y(#define)17
Xb(XviG_BUTTO)o(N)115 b(1)-45 709 y(#define)17 b(XviG_KEY_B)o(UT)o(TON)36
Xb(2)-45 801 y(/*)-45 846 y(--)19 b(The)f(mouse)g(button)f(return)h(values)-45
X892 y(*/)-45 983 y(#define)f(XviG_BUTTO)o(N1)36 b(-1)-45 1029
Xy(#define)17 b(XviG_BUTTO)o(N2)36 b(-2)-45 1075 y(#define)17
Xb(XviG_BUTTO)o(N3)36 b(-3)-45 1120 y(#define)17 b(XviG_BUTTO)o(N4)36
Xb(-4)-45 1166 y(#define)17 b(XviG_BUTTO)o(N5)36 b(-5)-45 1257
Xy(/*)-45 1303 y(--)19 b(The)f(functions)-45 1349 y(*/)-45 1440
Xy(extern)f(int)i(XviG_Init)o(\(ch)o(ar)d(*classname)o(,)367
X1486 y(int)j(color_ar)o(ray)o([])o([3])o(,)367 1531 y(int)g(nr_of_co)o(lor)o
X(s\))o(;)-45 1623 y(extern)e(void)i(XviG_Exi)o(t\(v)o(oid)o(\);)-45
X1714 y(extern)e(int)i(XviG_Open)o(Win)o(dow)o(\(c)o(har)d(*name,)485
X1760 y(int)i(x,)485 1805 y(int)g(y,)485 1851 y(unsigned)e(int)j(*width,)485
X1897 y(unsigned)d(int)j(*height\);)-45 1988 y(extern)e(int)i(XviG_Clos)o(eWi)
Xo(ndo)o(w\()o(cha)o(r)d(*name\);)-45 2079 y(extern)h(int)i(XviG_Sele)o(ctW)o
X(ind)o(ow)o(\(ch)o(ar)d(*name\);)-45 2171 y(extern)h(void)i(XviG_Win)o(dow)o
X(Siz)o(e\()o(uns)o(ig)o(ned)d(int)i(*width,)504 2216 y(unsigned)f(int)h
X(*height\);)-45 2308 y(extern)f(void)i(XviG_Win)o(dow)o(Pos)o(it)o(ion)o(\(i)
Xo(nt)d(*x,)583 2353 y(int)i(*y\);)-45 2445 y(extern)f(void)i(XviG_Cle)o(arW)o
X(ind)o(ow)o(\(vo)o(id)o(\);)-45 2536 y(extern)e(void)i(XviG_Set)o(Col)o(or\()
Xo(in)o(t)e(nr\);)-45 2627 y(extern)g(void)i(XviG_Set)o(Lin)o(eSt)o(yl)o(e\(i)
Xo(nt)d(nr,)544 2673 y(unsigned)g(int)j(width\);)-45 2764 y(extern)e(void)i
X(XviG_Set)o(Fil)o(lSt)o(yl)o(e\(i)o(nt)d(nr\);)932 2932 y Fn(23)p
Xeop
X%%Page: 24 25
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1097 b Fj(The)16
Xb(XviG)f(Header)h(File)p -45 -28 1999 2 v -45 162 a Fa(extern)h(int)i
X(XviG_SetF)o(ont)o(\(in)o(t)d(nr\);)-45 253 y(extern)h(void)i(XviG_Dra)o(wPo)
Xo(int)o(\(i)o(nt)d(x,)485 299 y(int)i(y\);)-45 390 y(extern)f(void)i
X(XviG_Dra)o(wLi)o(ne\()o(in)o(t)e(x1,)465 436 y(int)i(y1,)465
X481 y(int)g(x2,)465 527 y(int)g(y2\);)-45 618 y(extern)e(void)i(XviG_Dra)o
X(wPo)o(lyL)o(in)o(e\(i)o(nt)d(*coords,)544 664 y(int)i(npoints\);)-45
X755 y(extern)f(void)i(XviG_Dra)o(wRe)o(cta)o(ng)o(le\()o(in)o(t)e(x1,)563
X801 y(int)i(y1,)563 846 y(int)g(x2,)563 892 y(int)g(y2\);)-45
X983 y(extern)e(void)i(XviG_Dra)o(wPo)o(lyg)o(on)o(\(in)o(t)d(*coords,)524
X1029 y(int)i(npoints\);)-45 1120 y(extern)f(void)i(XviG_Dra)o(wAr)o(c\(i)o
X(nt)d(x,)446 1166 y(int)i(y,)446 1212 y(unsigned)e(int)i(radius1,)446
X1257 y(unsigned)e(int)i(radius2,)446 1303 y(int)g(angle1,)446
X1349 y(int)g(angle2\);)-45 1440 y(extern)f(void)i(XviG_Fil)o(lRe)o(cta)o(ng)o
X(le\()o(in)o(t)e(x1,)563 1486 y(int)i(y1,)563 1531 y(int)g(x2,)563
X1577 y(int)g(y2\);)-45 1668 y(extern)e(void)i(XviG_Fil)o(lPo)o(lyg)o(on)o
X(\(in)o(t)d(*coords,)524 1714 y(int)i(npoints\);)-45 1805 y(extern)f(void)i
X(XviG_Fil)o(lAr)o(c\(i)o(nt)d(x,)446 1851 y(int)i(y,)446 1897
Xy(unsigned)e(int)i(radius1,)446 1942 y(unsigned)e(int)i(radius2,)446
X1988 y(int)g(angle1,)446 2034 y(int)g(angle2\);)-45 2125 y(extern)f(void)i
X(XviG_Pol)o(yTe)o(xt\()o(ch)o(ar)d(*contents,)465 2171 y(int)j(x,)465
X2216 y(int)g(y,)465 2262 y(unsigned)e(int)h(width,)465 2308
Xy(unsigned)f(int)h(height,)465 2353 y(int)h(rotation)o(\);)-45
X2445 y(extern)e(void)i(XviG_Fon)o(tTe)o(xt\()o(ch)o(ar)d(*contents,)465
X2490 y(int)j(x,)465 2536 y(int)g(y\);)-45 2627 y(extern)e(void)i(XviG_Fon)o
X(tTe)o(xtS)o(iz)o(e\(c)o(ha)o(r)e(*contents)o(,)544 2673 y(int)h(*x_offset,)
X544 2719 y(int)g(*y_offset,)544 2764 y(unsigned)e(int)j(*width,)932
X2932 y Fn(24)p eop
X%%Page: 25 26
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1097 b Fj(The)16
Xb(XviG)f(Header)h(File)p -45 -28 1999 2 v 544 116 a Fa(unsigned)g(int)j
X(*height\))o(;)-45 207 y(extern)e(void)i(XviG_Flu)o(sh\()o(voi)o(d\))o(;)-45
X299 y(extern)e(void)i(XviG_Set)o(Sen)o(seK)o(bd)o(\(in)o(t)d(sense_char\))o
X(;)-45 390 y(extern)h(int)i(XviG_Sens)o(eKb)o(d\(v)o(oi)o(d\);)-45
X481 y(extern)e(void)i(XviG_Ope)o(nCu)o(rso)o(r\()o(uns)o(ig)o(ned)d(int)i
X(width,)504 527 y(unsigned)f(int)h(height,)504 573 y(int)h(hot_x,)504
X618 y(int)g(hot_y\);)-45 709 y(extern)e(long)i(XviG_Clo)o(seC)o(urs)o(or)o
X(\(vo)o(id)o(\);)-45 801 y(extern)e(void)i(XviG_Del)o(ete)o(Cur)o(so)o(r\(l)o
X(on)o(g)e(cursor\);)-45 892 y(extern)g(void)i(XviG_Set)o(Cur)o(sor)o(\(l)o
X(ong)d(cursor\);)-45 983 y(extern)h(int)i(XviG_GetC)o(urs)o(or\()o(in)o(t)e
X(type,)465 1029 y(int)i(*x_pos,)465 1075 y(int)g(*y_pos\);)-45
X1166 y(#endif)37 b(/*)19 b(__XVIG_H)d(*/)932 2932 y Fn(25)p
Xeop
X%%Page: 26 27
Xbop -45 -46 a Fl(XviG)17 b(Users)g(Man)o(ual)1230 b Fj(Some)15
Xb(Examples)p -45 -28 1999 2 v -45 116 a Fq(B)69 b(Some)22 b(Examples)-45
X217 y Fn(The)16 b(follo)o(wing)g(examples)f(are)g(a)o(v)m(ailable)i(on)e(the)
Xh(directory)f(')p Fj($)p Fh(XVIGDIR/examples)p Fn('.)-45 335
Xy Fg(B.1)56 b(Displa)n(ying)18 b(the)g(Default)g(Colormap)-45
X456 y Fa(#include)f(<stdlib.h)o(>)-45 502 y(#include)g(<stdio.h>)-45
X547 y(#include)g("xvig.h")-45 639 y(main\(\))-45 684 y({)-6
X730 y(char)h(win_name[])e(=)j("Colors";)-6 776 y(unsigned)e(int)h
X(window_widt)o(h)e(=)k(700,)e(window_he)o(ig)o(ht)e(=)j(400;)-6
X821 y(int)g(x,)g(x2,)f(y,)h(i,)g(chr;)-6 913 y(/*)g(--)g(Initialize)d(--)j
X(*/)-6 1004 y(if)g(\(!XviG_Ini)o(t\(")o(Co)o(lor)o(Tes)o(t")o(,)e(NULL,)g
X(0\)\))34 1050 y(exit\(1\);)-6 1141 y(/*)i(--)g(Open)f(the)h(window)e(--)i
X(*/)-6 1232 y(if)g(\(!XviG_Ope)o(nWi)o(nd)o(ow\()o(win)o(_n)o(ame)o(,)d(-1,)j
X(-1,)f(&window_wi)o(dth)o(,)f(&window_)o(hei)o(ght)o(\)\))-6
X1278 y({)34 1324 y(XviG_Exit)o(\(\))o(;)34 1369 y(exit\(1\);)-6
X1415 y(})-6 1506 y(/*)i(--)g(Draw)f(the)h(colors)e(--)i(*/)-6
X1598 y(for)g(\(x)g(=)g(0,)g(i)g(=)g(0;)g(i)g(<)h(XviG_NR_)o(OF_)o(CO)o(LOR)o
X(S;)c(i++\))-6 1643 y({)34 1689 y(x2)i(=)i(window_wi)o(dt)o(h)d(*)i(\(i)g(+)g
X(1\))g(/)g(XviG_NR_OF)o(_C)o(OLO)o(RS)o(;)34 1735 y(XviG_SetC)o(ol)o(or\()o
X(i\))o(;)34 1780 y(XviG_Fill)o(Re)o(cta)o(ng)o(le\()o(x,)d(0,)j(x2,)f
X(window_heig)o(ht)o(\);)34 1826 y(x)h(=)g(x2;)-6 1872 y(})-6
END_OF_FILE
  if test 33805 -ne `wc -c <'version_1.1/man/xvig.ps.8'`; then
    echo shar: \"'version_1.1/man/xvig.ps.8'\" unpacked with wrong size!
  fi
  # end of 'version_1.1/man/xvig.ps.8'
fi
if test -f 'version_1.1/src/draw.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'version_1.1/src/draw.c'\"
else
  echo shar: Extracting \"'version_1.1/src/draw.c'\" \(7300 characters\)
  sed "s/^X//" >'version_1.1/src/draw.c' <<'END_OF_FILE'
X/* File>>> draw.c
X--
X-- %M% -- version %I% (IMEC)            last updated: %E%
X--
X-- Copyright (c) 1993
X-- IMEC vzw
X-- Kapeldreef 75
X-- B-3001 LEUVEN
X-- BELGIUM
X--
X-- Author   : A. Demaree
X--
X-- Date     : February 1, 1993
X--
X-- Function :
X--
X-- Comment  :
X--
X-- Review   :
X--
X*/
X
X
X/*------------------------------------------------------------------------------
X-- Global include files
X------------------------------------------------------------------------------*/
X
X#include <stdlib.h>
X#include <stdio.h>
X#include <string.h>
X#include <X11/Xlib.h>
X
X/*------------------------------------------------------------------------------
X-- Local include files
X------------------------------------------------------------------------------*/
X
X#include "xviglocal.h"
X
X/*------------------------------------------------------------------------------
X-- Static variable declarations
X------------------------------------------------------------------------------*/
X
Xstatic XPoint *points = (XPoint *) NULL;
Xstatic int nr_of_points = 0;
X
X/*------------------------------------------------------------------------------
X-- Local function declarations
X------------------------------------------------------------------------------*/
X
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_DrawPoint(int x,
X                    int y)
X{
X  XDrawPoint(XviG_display, XviG_window, XviG_gc, x, y);
X  XDrawPoint(XviG_display, XviG_pixmap, XviG_gc, x, y);
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_DrawLine(int x1,
X                   int y1,
X                   int x2,
X                   int y2)
X{
X  XDrawLine(XviG_display, XviG_window, XviG_gc, x1, y1, x2, y2);
X  XDrawLine(XviG_display, XviG_pixmap, XviG_gc, x1, y1, x2, y2);
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_DrawPolyLine(int *coords,
X                       int npoints)
X{
X  int i, j;
X
X  if (!points)
X  {
X    points = (XPoint *) malloc(npoints * sizeof(XPoint));
X    nr_of_points = npoints;
X  }
X  else
X  if (npoints > nr_of_points)
X  {
X    points = (XPoint *) realloc((void *) points, npoints * sizeof(XPoint));
X    nr_of_points = npoints;
X  }
X
X  for (i = 0, j = 0; j < npoints; j++)
X  {
X    points[j].x = coords[i++];
X    points[j].y = coords[i++];
X  }
X
X  XDrawLines(XviG_display, XviG_window, XviG_gc,
X             points, npoints, CoordModeOrigin);
X  XDrawLines(XviG_display, XviG_pixmap, XviG_gc,
X             points, npoints, CoordModeOrigin);
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_DrawRectangle(int x1,
X                        int y1,
X                        int x2,
X                        int y2)
X{
X  XDrawRectangle(XviG_display, XviG_window, XviG_gc,
X                 MIN(x1, x2), MIN(y1, y2), ABS(x2-x1), ABS(y2-y1));
X  XDrawRectangle(XviG_display, XviG_pixmap, XviG_gc,
X                 MIN(x1, x2), MIN(y1, y2), ABS(x2-x1), ABS(y2-y1));
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_DrawPolygon(int *coords,
X                      int npoints)
X{
X  int i, j, npts_new;
X
X  npts_new = ((coords[0] != coords[(npoints-1)*2]) ||
X              (coords[1] != coords[(npoints*2)-1])) ? npoints + 1 : npoints;
X
X  if (!points)
X  {
X    points = (XPoint *) malloc(npts_new * sizeof(XPoint));
X    nr_of_points = npts_new;
X  }
X  else
X  if (npts_new > nr_of_points)
X  {
X    points = (XPoint *) realloc((void *) points, npts_new * sizeof(XPoint));
X    nr_of_points = npts_new;
X  }
X
X  for (i = 0, j = 0; j < npoints; j++)
X  {
X    points[j].x = coords[i++];
X    points[j].y = coords[i++];
X  }
X
X  if (npoints != npts_new)
X  {
X    points[j].x = coords[0];
X    points[j].y = coords[1];
X  }
X
X  XDrawLines(XviG_display, XviG_window, XviG_gc,
X             points, npts_new, CoordModeOrigin);
X  XDrawLines(XviG_display, XviG_pixmap, XviG_gc,
X             points, npts_new, CoordModeOrigin);
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_DrawArc(int x,
X                  int y,
X                  unsigned int radius1,
X                  unsigned int radius2,
X                  int angle1,
X                  int angle2)
X{
X  XDrawArc(XviG_display, XviG_window, XviG_gc,
X           x-radius1, y-radius2, 2*radius1, 2*radius2, angle1*64, angle2*64);
X  XDrawArc(XviG_display, XviG_pixmap, XviG_gc,
X           x-radius1, y-radius2, 2*radius1, 2*radius2, angle1*64, angle2*64);
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_FillRectangle(int x1,
X                        int y1,
X                        int x2,
X                        int y2)
X{
X  XFillRectangle(XviG_display, XviG_window, XviG_gc_fill,
X                 MIN(x1, x2), MIN(y1, y2), ABS(x2-x1), ABS(y2-y1));
X  XFillRectangle(XviG_display, XviG_pixmap, XviG_gc_fill,
X                 MIN(x1, x2), MIN(y1, y2), ABS(x2-x1), ABS(y2-y1));
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_FillPolygon(int *coords,
X                      int npoints)
X{
X  int i, j;
X
X  if (!points)
X  {
X    points = (XPoint *) malloc(npoints * sizeof(XPoint));
X    nr_of_points = npoints;
X  }
X  else
X  if (npoints > nr_of_points)
X  {
X    points = (XPoint *) realloc((void *) points, npoints * sizeof(XPoint));
X    nr_of_points = npoints;
X  }
X
X  for (i = 0, j = 0; j < npoints; j++)
X  {
X    points[j].x = coords[i++];
X    points[j].y = coords[i++];
X  }
X
X  XFillPolygon(XviG_display, XviG_window, XviG_gc_fill,
X               points, npoints, Complex, CoordModeOrigin);
X  XFillPolygon(XviG_display, XviG_pixmap, XviG_gc_fill,
X               points, npoints, Complex, CoordModeOrigin);
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_FillArc(int x,
X                  int y,
X                  unsigned int radius1,
X                  unsigned int radius2,
X                  int angle1,
X                  int angle2)
X{
X  XFillArc(XviG_display, XviG_window, XviG_gc_fill,
X           x-radius1, y-radius2, 2*radius1, 2*radius2, angle1*64, angle2*64);
X  XFillArc(XviG_display, XviG_pixmap, XviG_gc_fill,
X           x-radius1, y-radius2, 2*radius1, 2*radius2, angle1*64, angle2*64);
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_Flush(void)
X{
X  XFlush(XviG_display);
X}
END_OF_FILE
  if test 7300 -ne `wc -c <'version_1.1/src/draw.c'`; then
    echo shar: \"'version_1.1/src/draw.c'\" unpacked with wrong size!
  fi
  # end of 'version_1.1/src/draw.c'
fi
if test -f 'version_1.1/src/pattern.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'version_1.1/src/pattern.c'\"
else
  echo shar: Extracting \"'version_1.1/src/pattern.c'\" \(7132 characters\)
  sed "s/^X//" >'version_1.1/src/pattern.c' <<'END_OF_FILE'
X/* File>>> pattern.c
X--
X-- %M% -- version %I% (IMEC)            last updated: %E%
X--
X-- Copyright (c) 1993
X-- IMEC vzw
X-- Kapeldreef 75
X-- B-3001 LEUVEN
X-- BELGIUM
X--
X-- Author   : A. Demaree
X--
X-- Date     : February 1, 1993
X--
X-- Function :
X--
X-- Comment  :
X--
X-- Review   :
X--
X*/
X
X
X/*------------------------------------------------------------------------------
X-- Global include files
X------------------------------------------------------------------------------*/
X
X#include <stdlib.h>
X#include <stdio.h>
X#include <string.h>
X#include <X11/Xlib.h>
X
X/*------------------------------------------------------------------------------
X-- Local include files
X------------------------------------------------------------------------------*/
X
X#include "xviglocal.h"
X#include "pattern.h"
X
X/*------------------------------------------------------------------------------
X-- Static variable declarations
X------------------------------------------------------------------------------*/
X
X
X/*------------------------------------------------------------------------------
X-- Local function declarations
X------------------------------------------------------------------------------*/
X
Xstatic void Create_Fillpattern(int nr,
X                               char *bits,
X                               unsigned int width,
X                               unsigned int height);
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_SetLineStyle(int nr,
X                       unsigned int width)
X{
X  int local_nr;
X
X  if ((local_nr = nr % XviG_NR_OF_LINESTYLES) == 0)
X    XSetLineAttributes(XviG_display, XviG_gc,
X                       width, LineSolid, CapButt, JoinMiter);
X  else
X  {
X    local_nr = ABS(local_nr);
X    XSetLineAttributes(XviG_display, XviG_gc,
X                       width, LineOnOffDash, CapButt, JoinMiter);
X    XSetDashes(XviG_display, XviG_gc,
X               0, linestyle[local_nr], linestyle_length[local_nr]);
X  }
X
X  /*
X  -- Save the linewidth and linestyle to be used in the XviG_PolyText call
X  */
X
X  XviG_save_linewidth = width;
X  XviG_save_linestyle = (local_nr == 0) ? LineSolid : LineOnOffDash;
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_SetFillStyle(int nr)
X{
X  int local_nr;
X
X  if ((local_nr = nr % XviG_NR_OF_FILLPATTERNS) == 0)
X    XSetFillStyle(XviG_display, XviG_gc_fill, FillSolid);
X  else
X  {
X    local_nr = ABS(local_nr);
X    XSetFillStyle(XviG_display, XviG_gc_fill, FillStippled);
X    XSetStipple(XviG_display, XviG_gc_fill, fillpattern[local_nr]);
X  }
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_CreateFillpatterns(void)
X{
X  Create_Fillpattern( 0, (char *) fill00_bits, fill00_width, fill00_height);
X  Create_Fillpattern( 1, (char *) fill01_bits, fill01_width, fill01_height);
X  Create_Fillpattern( 2, (char *) fill02_bits, fill02_width, fill02_height);
X  Create_Fillpattern( 3, (char *) fill03_bits, fill03_width, fill03_height);
X  Create_Fillpattern( 4, (char *) fill04_bits, fill04_width, fill04_height);
X  Create_Fillpattern( 5, (char *) fill05_bits, fill05_width, fill05_height);
X  Create_Fillpattern( 6, (char *) fill06_bits, fill06_width, fill06_height);
X  Create_Fillpattern( 7, (char *) fill07_bits, fill07_width, fill07_height);
X  Create_Fillpattern( 8, (char *) fill08_bits, fill08_width, fill08_height);
X  Create_Fillpattern( 9, (char *) fill09_bits, fill09_width, fill09_height);
X  Create_Fillpattern(10, (char *) fill10_bits, fill10_width, fill10_height);
X  Create_Fillpattern(11, (char *) fill11_bits, fill11_width, fill11_height);
X  Create_Fillpattern(12, (char *) fill12_bits, fill12_width, fill12_height);
X  Create_Fillpattern(13, (char *) fill13_bits, fill13_width, fill13_height);
X  Create_Fillpattern(14, (char *) fill14_bits, fill14_width, fill14_height);
X  Create_Fillpattern(15, (char *) fill15_bits, fill15_width, fill15_height);
X  Create_Fillpattern(16, (char *) fill16_bits, fill16_width, fill16_height);
X  Create_Fillpattern(17, (char *) fill17_bits, fill17_width, fill17_height);
X  Create_Fillpattern(18, (char *) fill18_bits, fill18_width, fill18_height);
X  Create_Fillpattern(19, (char *) fill19_bits, fill19_width, fill19_height);
X  Create_Fillpattern(20, (char *) fill20_bits, fill20_width, fill20_height);
X  Create_Fillpattern(21, (char *) fill21_bits, fill21_width, fill21_height);
X  Create_Fillpattern(22, (char *) fill22_bits, fill22_width, fill22_height);
X  Create_Fillpattern(23, (char *) fill23_bits, fill23_width, fill23_height);
X  Create_Fillpattern(24, (char *) fill24_bits, fill24_width, fill24_height);
X  Create_Fillpattern(25, (char *) fill25_bits, fill25_width, fill25_height);
X  Create_Fillpattern(26, (char *) fill26_bits, fill26_width, fill26_height);
X  Create_Fillpattern(27, (char *) fill27_bits, fill27_width, fill27_height);
X  Create_Fillpattern(28, (char *) fill28_bits, fill28_width, fill28_height);
X  Create_Fillpattern(29, (char *) fill29_bits, fill29_width, fill29_height);
X  Create_Fillpattern(30, (char *) fill30_bits, fill30_width, fill30_height);
X  Create_Fillpattern(31, (char *) fill31_bits, fill31_width, fill31_height);
X  Create_Fillpattern(32, (char *) fill32_bits, fill32_width, fill32_height);
X  Create_Fillpattern(33, (char *) fill33_bits, fill33_width, fill33_height);
X  Create_Fillpattern(34, (char *) fill34_bits, fill34_width, fill34_height);
X  Create_Fillpattern(35, (char *) fill35_bits, fill35_width, fill35_height);
X  Create_Fillpattern(36, (char *) fill36_bits, fill36_width, fill36_height);
X  Create_Fillpattern(37, (char *) fill37_bits, fill37_width, fill37_height);
X  Create_Fillpattern(38, (char *) fill38_bits, fill38_width, fill38_height);
X  Create_Fillpattern(39, (char *) fill39_bits, fill39_width, fill39_height);
X  Create_Fillpattern(40, (char *) fill40_bits, fill40_width, fill40_height);
X  Create_Fillpattern(41, (char *) fill41_bits, fill41_width, fill41_height);
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xstatic void Create_Fillpattern(int nr,
X                               char *bits,
X                               unsigned int width,
X                               unsigned int height)
X{
X  if ((fillpattern[nr] = XCreateBitmapFromData(XviG_display, XviG_dummy_window,
X                                               bits, width, height)) == None)
X    printf("WARNING : Could not create fillpattern %d.\n", nr);
X}
X
X/*------------------------------------------------------------------------------
X--
X--
X--
X------------------------------------------------------------------------------*/
X
Xvoid XviG_CleanupFillpatterns(void)
X{
X  int i;
X
X  for (i = 0; i < XviG_NR_OF_FILLPATTERNS; i++)
X    if (fillpattern[i] != None)
X      XFreePixmap(XviG_display, fillpattern[i]);
X}
END_OF_FILE
  if test 7132 -ne `wc -c <'version_1.1/src/pattern.c'`; then
    echo shar: \"'version_1.1/src/pattern.c'\" unpacked with wrong size!
  fi
  # end of 'version_1.1/src/pattern.c'
fi
echo shar: End of archive 5 \(of 10\).
cp /dev/null ark5isdone
MISSING=""
for I in 1 2 3 4 5 6 7 8 9 10 ; do
    if test ! -f ark${I}isdone ; then
	MISSING="${MISSING} ${I}"
    fi
done
if test "${MISSING}" = "" ; then
    echo You have unpacked all 10 archives.
    rm -f ark[1-9]isdone ark[1-9][0-9]isdone
    echo "Merging xvig.ps parts... "
    cat version_1.1/man/xvig.ps.? > version_1.1/man/xvig.ps
    rm version_1.1/man/xvig.ps.?
    echo "Done."
else
    echo You still must unpack the following archives:
    echo "        " ${MISSING}
fi
exit 0
exit 0 # Just in case...
-- 
  // chris@Sterling.COM           | Send comp.sources.x submissions to:
\X/  Amiga - The only way to fly! |    sources-x@sterling.com
 "It's intuitively obvious to the |
  most casual observer..."        | GCS d+/-- p+ c++ l+ m+ s++/+ g+ w+ t+ r+ x+
