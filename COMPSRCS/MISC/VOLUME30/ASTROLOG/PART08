Newsgroups: comp.sources.misc
From: cruiser1@u.washington.edu (Walter D. Pullen)
Subject:  v30i069:  astrolog - Generation of astrology charts v2.25, Part08/08
Message-ID: <1992Jun18.200545.24199@sparky.imd.sterling.com>
X-Md4-Signature: e02c63d5e20ce624cbfd241f4dac8eef
Date: Thu, 18 Jun 1992 20:05:45 GMT
Approved: kent@sparky.imd.sterling.com

Submitted-by: cruiser1@u.washington.edu (Walter D. Pullen)
Posting-number: Volume 30, Issue 69
Archive-name: astrolog/part08
Environment: UNIX, VMS
Supersedes: astrolog: Volume 28, Issue 104-109

#! /bin/sh
# This is a shell archive.  Remove anything before this line, then unpack
# it by saving it into a file and typing "sh file".  To overwrite existing
# files, type "sh file -c".  You can also feed this as standard input via
# unshar, or by typing "sh <file", e.g..  If this archive is complete, you
# will see the following message at the end:
#		"End of archive 8 (of 8)."
# Contents:  History.p1
# Wrapped by cruiser1@milton.u.washington.edu on Thu Jun 11 21:53:40 1992
PATH=/bin:/usr/bin:/usr/ucb ; export PATH
if test -f 'History.p1' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'History.p1'\"
else
echo shar: Extracting \"'History.p1'\" \(53045 characters\)
sed "s/^X//" >'History.p1' <<'END_OF_FILE'
XThis is a comprehensive history list of the eight versions of Astrolog
Xthat have been released to the net over the past nine months. This
Xfile is mainly for those who have the most recent version (2.20) but
Xyet aren't familiar with the earlier versions in which many of the
Xother (not just added) features were described and documented. Below
Xis a listing of all versions of Astrolog that have been posted, after
Xwhich for each version, is listed the description of the new changes
Xadded to that version. Taken together, all the update descriptions add
Xup to a comprehensive list of Astrolog's features and command switches.
X
X                                            [Features added to version:]
X1) v1.00 posted Wed, 11 Sep 91 00:00:38 GMT (Initial planet calculations)
X2) v1.10 posted Sat, 14 Sep 91 00:02:16 GMT (Aspects; different house systems)
X3) v1.20 posted Fri, 20 Sep 91 23:56:55 GMT (File input; wheels; relationships)
X4) v1.30 posted Wed,  9 Oct 91 03:17:04 GMT (Transits; searches; astro-graphy)
X5) v1.40 posted Tue, 12 Nov 91 01:18:13 GMT (Restrictions; other conveniences)
X6) v2.00 posted Wed, 11 Dec 91 07:11:25 GMT (X charts; split files)
X7) v2.10 posted Tue, 18 Feb 92 07:59:03 GMT (Color; more X charts; local space;
X                                             more progression and file support)
X8) v2.20 posted Wed,  3 Jun 92 00:25:40 GMT (Stars, space charts, influences,
X                                             astrolog.dat, more relationships)
X
X************************************************
XAstrolog 1.00 posted Wed, 11 Sep 91 00:00:38 GMT
X************************************************
X
XThere seems to have been zillions of requests for unix system programs
Xwhich can calculate planetary positions, or a birthchart in general.
XI had been looking all over the place for one for a long while without
Xsuccess, until someone posted the fact that Matrix software produces a
Xbook called 'Manual of Computer Programming for Astrologers' which
Xcontains all kinds of useful formulas. Anyway, since there doesn't
Xseem to be an astrology program in existance anywhere, I decided to
Xmake one myself and got the book and converted the routines to C and
Xmade a chart casting program around them. At last here is a program
Xwhich can do your chart for you! Cut out the portion of this article
Xbetween the "cut here"'s, and compile the program with "cc -O
Xastrolog.c -lm". Execute it simply by entering "astrolog" (assuming
Xthat's the name of the executable), and the program will ask you for
Xall the birth info and will give the planet/house positions. (e.g.
Xfor here in Seattle right now for the seven prompts I would enter: 9;
X10; 1991; 16.05 [for 5:05pm, with daylight time in effect]; 122.20;
X47.36) The program calculates the positions of all planets, chiron,
Xthe four main asteroids, as well as stuff like the part of fortune and
Xvertex. There are option switches (do astrolog -H to see them) which
Xallow siderial and heliocentric based charts to be done as well. Enjoy
Xthe program, but remember the copyright message. Yes, I know the code
Xis currently very messy, but I wanted to get this posted as fast as
Xpossible so we can start calculating stuff right away. I'm currently
Xadding other features, like aspects, other house systems besides
Xplacidus, an option to generate the chart for this exact moment, etc,
Xto the program, so expect future enhancements. There's also another
Xprogram I have at home which generates nice graphic wheel charts (for
Xa different computer system) given the birth data (makes nice X11
Xbitmaps) which I hope to be able to convert soon also. Anyway:
X
X************************************************
XAstrolog 1.10 posted Sat, 14 Sep 91 00:02:16 GMT
X************************************************
X
XSeveral changes and fixes have been made to the astrolog.c birthchart
Xcalculator since the first posting four days ago:
X
XSome problems that people had with compiling it have been corrected:
X  * The value PI is now explicitly defined, instead of depending on the math
X    library which may or may not have defined it already.
X  * All line lengths are less than 80 characters, to help prevent line
X    splitting or cutting from those whose news servers puke on too long lines.
X
XThe minor bug in which the moon's north node was *not* displayed as being
Xretrograde has been fixed, as well as a rare display alignment glitch.
X
XNew features have been added to the program (which may be combined):
X  * Aspects and midpoint display is now supported: Invoke as astrolog -g and
X    a 20x20 grid showing the midpoint locations for each planet, and showing
X    if any aspects are present and how accurate they are, is displayed.
X  * A couple of different house systems are now supported: Invoke as
X    astrolog -c <number> to change the system from the default Placidus.
X    (See astrolog -H for help on what each number refers to.)
X  * Additional information is displayed when the chart is cast:
X    (1) Whether or not each planet is in it's ruling sign, or fall, as well
X        as displaying the same information for ruling or debilitating houses.
X    (2) The sum of the signs in each element and mode and their totals is
X        displayed in a grid form.
X  * For those with unix systems who can handle the time calls (If your
X    system pukes on trying to compile this, simply comment out the
X    #define TIME line at the beginning), the program now supports displaying
X    the chart for the time at the current moment! In other words, invoke as
X    astrolog -n and see where the planets are right now. (This is fun - the
X    house cusps change 1' about every 4 seconds!) You will need to
X    change the #defines for the default longitude and latitude in the code
X    though, or else specify where you are explicitly by using the -l switch
X    to change the default location.
X  * Although minor, some more helpful info is displayed when entering the
X    chart data, as well as a header for the columns when the chart info is
X    displayed.
X
XAgain future enhancements will include: supporting yet more house
Xsystems, and allowing the chart to be displayed in a wheel format on
Xthe text screen (not too difficult) or graphically in an X11 window or
Xbitmap (will take a lot longer to do, although I've done one already
Xfor a different system), allowing saving charts to files and comparing
Xthem with each other or the current status (transits), allowing
Xprogressions to be specified, and maybe a few other things.
X
XI probably could have done this as a patch, but I don't know how to
Xpack or even unpack patch files, so I guess that's out of the
Xquestion. After a few more versions, I might get this in
Xcomp.sources.whatever, but for now I'm just posting it here because
Xthe program is still relatively new. Anyway, sorry if this is a long
Xarticle, but anyway, here is the updated version of astrolog.c (can be
Xcompiled, extracted, as before):
X
X************************************************
XAstrolog 1.20 posted Fri, 20 Sep 91 23:56:55 GMT
X************************************************
X
XOk, astrology lovers, here is the new and improved version 1.2 (Third
Xposting) of the Astrolog birthchart calculator, complete with all
Xkinds of new features, like allowing computation of transits,
Xprogressions, relationships between charts, printing of house wheel
Xcharts, etc:
X
XFirst a list of bug fixes over version 1.1:
X 1) The glaring bug in which, if you said you wanted the Campanus system of
X    houses, you would in fact always get Placidus, is fixed.
X 2) The program processed dates during the Gregorian calendar incorrectly, and
X    this has been fixed.
X 3) The default longitude and latitude were truncated to integers, causing
X    loss of a few minutes accuracy in the house cusps when using the -n
X    option, which has been fixed.
X 4) The program now no longer core dumps if you include too few parameters with
X    the command switches.
X 5) [I thought I corrected this for the previous version, but there was one
X    place where I forgot it] The variable M_PI has been replaced with explicit
X    definitions of pi for those compilers that don't understand what M_PI is.
X 6) The type 'time_t' has been replaced with just an int, since that all it is
X    anyway, and since some compilers don't know the type 'time_t'.
X
XSeveral people have told me that the north node always seem to be off by about
Xhalf a degree. I've been looking into this but haven't found the problem yet.
X(I've tried using the 'true' north node, the 'mean' north node, etc.) (Wait for
Xnext version.)
X
XNow a list of all the new neat features Astrolog now provides:
X(Remember, do 'astrolog -H' to see a brief list of the command switches.)
X
X * Seven new aspects have been included, for those who like obscure aspects!
X   (Thanks to Mark Martin for giving me the list of their angles and orbs.)
X * The '-A' command switch gives a list of all the aspects, their abbreviations
X   as used in the aspect grids, their angles, and their orbs.
X * For those who don't like all these aspects, specifying -A <number> will
X   limit the number of aspects (e.g. -A 5 will make charts with only the five
X   major aspects listed in them).
X * The aspect orbs have been narrowed for certain bodies like the north node
X   for which they are expected to be more narrow.
X * There's been a very minor change to the aspect grids, which will indicate
X   whether an aspect is slightly short of exact or slight long of exact.
X   If the difference is displayed as "3.5" it means the aspect is 3.5 degrees
X   long of exact; if it's displayed as "3,5", the aspect is 3.5 degrees short.
X   (i.e. with a comma instead of a period; Yeah, I know that's a hack, but it's
X   useful in determining whether the exact aspect just happened or is about to
X   happen. (Note that conjuncts are always '.', and oppositions always ','.)
X * Five new house systems have been included which can be specified using the
X   -c switch. Astrolog now supports 9 different systems total.
X * The program now supports directing output to, and reading output from,
X   data files. The '-o' option will dump all the birth data (the date and
X   stuff, not the planet positions) to the specified file. The '-i' option will
X   cast the chart based on the info in the file. (This allows you to put your
X   birth data into a specific file, and cast your chart whenever you want to
X   after that without having to reenter your birth data all the time.)
X * Display of the chart in a nice wheel format is now supported using the '-w'
X   switch. (Special error case: If one of the houses gets too 'full' of
X   planets, the planet will be put at the beginning of the next house.)
X * There are now three different formats of chart display available: The
X   standard listing of planet positions, which you get without any switches;
X   the aspect/midpoint grid you get with '-g', and the house wheel you get with
X   '-w'. The -e "everything" option will display the chart in all three of
X   these formats (Of course the screen will scroll because of all the output).
X * Harmonic charts (i.e. where all the planet positions are multiplied by a
X   factor and the chart recast) are now supported via the '-x' option. (e.g.
X   -x 3 will make all trines conjunct in the chart displayed.)
X * A secondary progression chart for a particular date can be cast using the
X   '-p <month> <date> <year>' command switch. (Note, I'm not sure if the house
X   cusps are progressed correctly, but they're reasonably close to what is
X   properly expected.)
X * Computing the relationship between two charts is now supported. Invoke the
X   program as 'astrolog -r <file_of_person1> <file_of_person2>' and the program
X   will give you the relationship between the two charts. Normally, and with
X   the -w switch, the program will display person2's planets in person1's
X   houses (synastry). With the -g switch, a full grid listing the aspects
X   between all the planets of the two charts (with person1's planets on the
X   vertical axis and person2's on the horizontal) is displayed (minus the
X   vertex, because the screen is too narrow to include it unfortunately.)
X   Note that transits can be computed with this by comparing your chart with
X   the positions of the planets at the current moment (-n switch). To make
X   this easier, you may specify the filename "now" for any file and the
X   computer will use the current planet positions instead of looking for a like
X   named file. (e.g. 'astrolog -r me now' will compute transits for file 'me'.)
X * The command switch '-t <file>' can be used as a shortcut way to compute
X   the current transits for the chart in <file>. (Saves you from having to
X   mention the 'now' in the '-r' option.)
X
XAnyway, some new features that we might find in the *next* version
Xare: Adding the calculation of aspects occurring within a day and at
Xwhat times they are exact (like in Jim Maynard's Celestial Guides),
Xand some Astro-graph routines (i.e. like Jim Lewis' astro*carto*graphy
Xcharts which list where in the world the planets were angular at the
Xtime of birth.), as well as finally cleaning up the messy code. I hope
Xto make some more clear documentation on how to use the program
X(remember, most command switches can be combined!) I've got many of
Xthe major features one might want in an astrology program down now,
Xbut there's still room for expansion: There's still the X windows
Xchart bitmaps (Andy Gray has shown me a nice Postscript program to
Xprint charts graphically that he's working on.) Anyway, enjoy the new
Xversion of Astrolog (Compile as before)!
X
X************************************************
XAstrolog 1.30 posted Wed,  9 Oct 91 03:17:04 GMT
X************************************************
X
XOnce again, we have a new version (1.30, i.e. the Fourth posting) of
Xthe Astrolog birthchart calculator ready to be used. The main
Xhighlights are some more minor (and not so minor) bug fixes, as well
Xas some great new features, like the ability to display the exact
Xtimes of aspects in a day or month, astro*carto*graphy, etc.
X
X(Note, I've sent this to talk.religion.newage in addition to just
Xalt.astrology this time, since not everyone gets the alt.* groups,
Xeven though I'm increasing my chances of getting flamed for posting 2K
Xline articles... I'm really going to have to start posting this in
Xsegments soon, or figure out how to post to comp.sources.whatever;
Xhowever, the file is still under the magic 64K bytes in length.)
X
XFirst, the bug fixes over version 1.2:
X 1) The north node is *finally* being computed correctly now. Before it would
X    always seem to be off by about 1/2 a degree or so.
X 2) The Part of fortune was calculated 180 degrees off about half the time
X    before, and this major bug has been fixed.
X 3) If Daylight Saving time is in affect, the user must subtract 1 from the
X    time value entered. If the person happened to be born from midnight - 1am,
X    a negative value would have to be entered. Before it wasn't clear what
X    value should be entered. In fact now, one should subtract 1 from the
X    integer of the value, and not the decimal value itself. In other words,
X    things are processed clearer now in that if the person was born at 12:15am
X    with DST in affect, they would enter -1.15 (one less than 0.15) instead of
X    having to subtract from the whole value and enter something like -0.45.
X 4) (This is more of a new feature than a bug) the program now supports
X    multiple display switches at once. In other words, the user can invoke with
X    '-g -w' and get the aspect grid and the wheel chart, while before the
X    program would only allow one of these to be printed at a time (or else the
X    user would have to print *everything* using the '-e' switch.)
X 5) Oh, and some of the code has been cleaned up, although not much. Slowly but
X    surely, this will become an elegant program :)
X
XA couple of people have emailed me saying that their computer (for
Xexample, Mac's) won't accept command switches on the command line
X(like they boot Astrolog from a menu for instance.) Therefore, they
Xweren't able to access all the features of the program. If this is the
Xcase with your system (or if you just don't like command line
Xoptions), then comment out the '#define SWITCHES' line at the
Xbeginning of the code. If you do this, then the program will ignore
Xany switches and prompt you to enter them manually at the very
Xbeginning of program execution.
X
XNow a list of the new neat features Astrolog provides:
X(Remember, it's still 'astrolog -H' to see a list of the command switches.)
X
X * The '-d' option will take the standard chart information, and for the day in
X   question, display the exact times of all aspects that occur. This is just
X   like the aspects-per-day as displayed in Jim Maynard's Celestial Guide
X   books. (Displayed in local time as defined by the specified zone, with
X   general accuracy of a few minutes.) This will tell the times all planets
X   make aspects with each other, or change their sign; retrogradation during
X   the day will be indicated, but the exact time of it won't be listed.
X * The '-r' option can now be used to generate composite relationship charts.
X   Simply invoke it as '-rc <person1> <person2>' instead of just -r and a
X   composite chart (i.e. composed of the midpoints of the planets, etc of the
X   two charts in question) will be generated.
X * The '-L' option will take the standard chart information and generate the
X   astrograph positions of the planets. In other words, this does the exact
X   same thing that Jim Lewis' Astro*Carto*Graphy maps do. It will display the
X   longitude of where on the Earth at the time in question each object was on
X   the midheaven and on the nadir, and the latitude of where the planets
X   actually appeared at zenith. Also, for latitude increments of 5 degrees, the
X   longitude of where the objects appeared on the ascendant and descendant is
X   displayed.
X * The '-E <month> <year>' option will generate a quick ephemeris for the ten
X   main bodies for the month in question, useful if you just want to see what's
X   happening this month in the sky. It generally is used by itself and not with
X   any other options. (Displayed daily for midnight, GMT time.) Any dots after
X   a planet location in the list indicate the planet was retrograde at the
X   time.
X * The '-T <file> <month> <year>' option will scan the entire month specified,
X   and print out any transits that happen, in that month, to the planets as
X   listed in the specified <file>. (There will be quite a few, even though
X   fast moving objects like the moon aren't looked at, so you might want to use
X   this option with the '-A 5' option to limit this to just the major aspects.)
X   Again, this option is generally is used by itself and not with many others.
X   (The times are in GMT time, and generally accurate to within a half hour or
X   so; Try doing it for your birth month and your own chart - All planets
X   should conjunct their natal positions at about the time of your birth.)
X * There are a few other minor things that might affect the program, such as
X   the fact that by default now, only the major and the 6 main minor aspects
X   are taken into account, and that one must '-A 18' if they want to get them
X   all, as well as a few minor display changes, etc.
X
XAnyway, I've got many of the more advanced features in the program
Xnow, so the next version (might) start to have X windows support in
Xit. (And of course I mentioned that I was working on a more
Xcomprehensive help file, part of which I posted, but alas, I was more
Xattracted to adding new features!) I've obtained access to a nice
Xworld map which could be included to enchance the astro*graph -L
Xoption to make *real* astro-graph maps! And of course, I still want to
Xeventually have the option to have nicely drawn X birthcharts appear
Xon the screen. I've run Andy Gray's postscript version, and although
Xit's still not finished, it does make good printouts. Anyway, enjoy
Xthis new version 1.30 of Astrolog, which you can compile as before
Xafter removing before and after the "cut here's" with
X'cc -O -o astrolog astrolog.c -lm'!
X
X************************************************
XAstrolog 1.40 posted Tue, 12 Nov 91 01:18:13 GMT
X************************************************
X
XThis being the 11th day of the 11th month, I figured that this would
Xbe a good time to post the new updated version (1.40) of our Astrolog
Xbirthchart calculator plus a whole lot more program! There aren't
Xreally any new fundamental features, but there are over a dozen
Xenhancements (many suggested by its users) which make it's operation
Xeasier and more powerful. (Plus of course we have a chance to
Xeliminate a couple of pesky bugs.)
X
XThe actual code is in a separate article, which should be right after
Xor nearby this one.
X
XA list of the new features and enhancements Astrolog version 1.40 provides:
X 1) The ability to restrict the transit (-T) and daily aspect (-d) scans
X    to just certain bodies has been implemented with the -R switch. Using
X    -R by itself will prevent the asteroids, Chiron, the Part of Fortune
X    and the Vertex from being in any of the lists. One may also give a
X    list of one or more numbers representing planets to be ignored (e.g. 1
X    = Sun, 2 = Moon, 3 = Mercury, etc) so that a complete custom setup can
X    be obtained (e.g. -R 1 2 3 4 5 will cause all of the inner planets to
X    be ignored). More than one -R switch can be combined (e.g. -R -R 16
X    will cause the asteroids, etc, and the North Node to be ignored; the
X    first -R gets rid of the asteroids, etc, and the second one deletes
X    the North Node.) Also, specifying the same particular body more than
X    once will cause it to be included again, or in other words, -R
X    <objectnum> complements the status of whether it is to be ignored or
X    not (e.g. -R -R 15 will cause all of the asteroids, etc, excluding
X    Vesta, to be ignored; the first -R makes causes the asteroids to be
X    ignored, and specifying Vesta in the second -R makes it reappear.)
X    The -R0 option will cause ALL of the bodies to be ignored, which is
X    useful if you are looking for just the transits/aspects of a few
X    planets (e.g. -R0 6 7 will cause everything but Juptier and Saturn to
X    be ignored.) Combining all these methods can cause whatever you are
X    looking for in transits and aspects to be quickly found without having
X    to wade through lots of stuff you aren't interested in. (Note: -R will
X    also affect what bodies appear in the -w wheel chart, too.)
X 2) The -T <file> <month> <year> transits option has been expanded. Putting
X    a zero in place of the month will cause the entire year to be scanned,
X    which prevents one from having to search each month in turn if they are
X    looking for something in particular. (Useful in combination with -R.)
X 3) The -T option now includes ALL of one's natal house cusps in the transit
X    scans instead of just the Asc and MC. The 11th, 12th, 2nd, and 3rd cusps
X    have been added (and oppositions to these and the Asc/MC can be used to
X    to determine aspects to the other six cusps.)
X 4) Normally the -T option always ignores the moon and does not include the
X    transiting moon in the lists because it moves so fast and would cause an
X    enormous amount of info. Still, if you are looking for lunar transits,
X    specifying the option as -T0 instead of just -T will include the moon.
X 5) The -d option can now search the entire month for aspects between planets
X    if one so desires. Specifying it as -d0 instead of just -d will go through
X    the entire month instead of just the current day. (Combining this one with
X    -R allows searching for important aspects, sign changes, etc.)
X 6) Both the -T and -d option will display the signs that any planets aspecting
X    each other are in, in addition to the aspect itself (e.g. instead of just
X    "Jupiter Tri Uranus", we have "Jupiter (Vir) Tri (Cap) Uranus". If a
X    particular object is going retrograde, then its sign will be displayed in
X    brackets instead of parentheses, and if a particular object is about to or
X    has just gone retrograde or direct, then its sign will be in <>'s.
X 7) The -E <month> <year> ephemeris option can now be used to display the
X    ephemeris for the entire year instead of just for one month. Like the -T
X    option, putting a '0' for the month will give the entire year's ephemeris.
X 8) The -E option can also display the Asteroids, Chiron, and the Node in the
X    ephemeris listing if one invokes it as -E0 instead of just -E. Note however
X    that this will make each line more than 80 columns, so this is mainly just
X    for printing purposes.
X 9) The aspects as listed with the -A option are in a more logical order, from
X    the most major to the least. This makes the -A <num> aspect restriction
X    switch more useful. (e.g. before -A 2 would restrict analysis to
X    conjunctions and sextiles, which isn't all that useful; now the same
X    command will restrict to conjunctions and oppositions.)
X A) Note also now that by default only the 5 major aspects are used. If
X    one wants the minors, they have to do -A 9, and if one want's ALL the
X    aspects, they must do -A 18.
X B) Some header info is printed for the standard chart listing, which includes
X    the date, time, and location of the chart being displayed, which of course
X    keeps one from getting a whole bunch of printouts confused with each other.
X C) The -f option can be used to "flip" the signs and houses, i.e. display the
X    house as a sign position and vice versa. For example having the Sun at
X    26 degrees Scorpio, 2/3 way though the 10th house, will cause the resulting
X    Sun under the -f option to be at 20 degrees Capricorn, 26/30th the way
X    through the 8th house. This can be used to determine how far a planet is
X    through a particular house, as well as for Domal chart analysis that
X    Mark Kenski has informed me about. Domal analysis is based on the fact that
X    for synastry comparisons, for example, a planet in Gemini and one in the
X    3rd house can be considered related in a way similar to a conjunction.
X D) The -1 <obj> option can be used to change the houses to force a particular
X    object to be on the ascendant. This is useful in casting Solar charts or
X    for when the time of birth is not exactly known. For example -1 2 will
X    case a normal chart, but the house cusps will be rotated so that the moon
X    is on the ascendant.
X E) The -+ <#ofdays> option will cast a normal chart, but one for #ofdays in
X    the future (or past if a negative value is given). One use for this is in
X    combination with the -n and -d options. For instance, I often invoke the
X    program as "astrolog -n -d" to see the exact times of today's aspects.
X    However, just before midnight I might want to see what's going to happen
X    in the following day, so I would do "astrolog -n -d -+ 1" to see the exact
X    times for tomorrow's aspects.
X F) Finally the -q <month> <day> <year> option can be used to cast a quick
X    chart for 12 noon on a particular date, using the default longitude and
X    latitude. if TIME is defined the current time zone will be determined and
X    used, otherwise GMT will be used. Again, one example where this is useful
X    is with the -d option, e.g. to see the times of exact aspects on a
X    particular date, like your next birthday, your finals, etc.
X
XNow, a list of bug fixes over version 1.30:
X * The midpoint grid displayed in the -g option would cause a coredump if any
X   of the midpoints lie between 29.5 deg Pisces and 0 deg Aries, and this has
X   been fixed.
X * The -d print aspects in day routine would incorrectly sometimes label a
X   planet just going direct as just going retrograde, and vice versa. This
X   has been corrected.
X * Attempting to enter a non numeric string when prompted for a numeric value
X   in the program will cause a bunch of trash to be displayed on the screen.
X   The program now properly tells you that that's an improper input. (Also,
X   hitting Ctrl-d at an input will gracefully terminate the program.)
X * Although very minor, before there was one place where a function did not
X   return a value. Although it didn't cause any bugs, some compilers would
X   complain about this.
X * There were a couple of non-computational related typos in the code and the
X   comments that have been corrected (e.g. before at the beginning, the comment
X   would tell you to enter the "Longitude N" of your current location before
X   compiling. This should of course read "Longitude W".)
X * Finally, those trying to compile Astrolog on PC's and other smaller
X   computers said that many of the expressions were too long for their
X   compiler to handle. Therefore I have cut down some of the longer expressions
X   into multiple lines and have replaced a few of the macros with actual
X   function calls.
X
XExpect the X routines to be included in the next version, which will
Xbe split into several program parts, as well as some decent
Xdocumentation soon, or at least comprehensive list of all the features.
X
X************************************************
XAstrolog 2.00 posted Wed, 11 Dec 91 07:11:25 GMT
X************************************************
X
XTomorrow Uranus transits my Ascendant at 12 degrees 29' Capricorn.
XCombine this with my Saturn trining its natal position yesterday, a
Xnice Aquarius Moon and a Moon Mercury Sextile this evening, and what
Xwould it be a great time to do?
X
XBehold: here is our next version of our Astrolog astrology program!
XThe main new things this version 2.00 contains are our long awaited
XX11 graphics features and the source code now in multiple files.
X
XThe program is divided up into 6 source files: astrolog.h, data.c,
Xformulas.c, options.c, graphics.c, and driver.c. Each of these files
Xlies in a separate posting of straight source code which should be
Xafter or nearby this one in the list of articles. There is also a
Xsmall unix Makefile for the code at the end of this update article. I
Xchose to post each file separately in this manner, rather than tar
Xthem, uuencode them, zip them, or make a shell archive from them,
Xbecause we always have the issue of non-unix people not having access
Xto or not knowing how how to extract the program.
X
XThe main (but not only) thing added to version 2.00 are the X windows
Xfeatures, which are generally accessed via the new -X switch and
Xderivatives of it on the command line. There are two different types
Xof displays: A standard graphic display of a wheel chart in a window
X(with glyphs, aspects in the center, etc) and graphic displays of the
XAstro-graph charts (which look almost identical to the
Xastro*carto*graphy maps from Jim Lewis), complete with all the
Xlabeled lines drawn on a map of the world. There are also other
Xcommands that can be given to the window once it is up and running,
Xwhich can do other things, such as continually update the window every
Xfew seconds to the current status (i.e. an extended version of the -n
Xoption) as well as other forms of animation. Note that the program is
Xstill text based, and one can easily turn off all the X features by
Xcommenting out the #define X11 in astrolog.h if they don't have X
Xwindows.
X
XA listing and brief description of the command switches for X windows follow:
X -X:  This is the general switch, which means display a chart in an X
X      window instead of on the screen in some form. For example, the command
X      'astrolog -i mychart -X' will open a new window and display the chart
X      in question in it. (Of course, all the other switches, e.g. -R, -c,
X      -1, etc, can be used to change what info is actually displayed.)
X      If you use the -L astro-graph switch in addition to this, the
X      appropriate astro*carto*graphy map will come up in a window instead
X      of the earlier boring list of longitudes. (e.g. astrolog -i me -X -L)
X -Xb: This switch will cause a standard X11 bitmap file to be produced
X      instead of putting the graphics in an actual window. This is useful if
X      you want to convert the graphics to different formats, e.g. so they
X      can be displayed on PC's, etc. Note that -Xb (or any other -X<letter>
X      switch) automatically assumes the -X switch above, so 'astrolog -i
X      file -Xb' is sufficient (and you don't also have to include the -X).
X -Xo <file>: Normally, for -Xb above, the program will prompt you for the
X      name to write the bitmap info to; however, you can explicitly specify
X      this filename in with the -Xo switch if you don't want to be prompted.
X -XB: This switch will cause the chart graphics to be displayed directly on
X      the root window. This action occurs very quickly since the program
X      does not have to write a separate bitmap file and call xsetroot -bitmap
X      on it (although one could easily do this if they want to). For example,
X      one could put the line 'astrolog -n -XB' in their .xsession file
X      and whenever they log in, their background will be set to a chart of
X      the current state of the planets!
X -Xr: Normally the charts comes up white on a black background (except on
X      some workstations in which this seems to be reversed.) Either way, to
X      get the chart or bitmap displayed in reverse video (black on white),
X      use the -Xr switch.
X -Xw <size> [<size>]: The default window size is 600x600. This can be changed
X      with the -Xw switch. -Xw with one argument n will make an n by n
X      window; -Xw with two arguments x and y will make an x by y window with
X      the chart centered in the middle. Note that this switch will not affect
X      astro-graph windows; to change the size of these use -Xs below.
X -Xs <percentage>: Note that the size of the planet and sign glyphs don't
X      change when you change the size of the window. This can cause problems
X      for very small windows where the glyphs overlap the rest of the chart
X      and for very large windows where there is lots of excess space. The
X      -Xs switch can be used to change the size of all glyphs. The valid
X      values that can be passed to it are 100, 200, and 300, where 200 is
X      the default. Note that this switch is used to change the size of the
X      astro-graph windows (because the world map is considered to be one
X      giant glyph by the program.)
X -XW: Believe it or not, I painstakingly entered the data for the world map
X      used by the program by hand using an Atlas during a long week. If you
X      just want to see the map of the world by itself without any
X      astro-graph lines on it, use the -XW switch.
X -XG [degree]: Once we have the data for the map of the world, there are
X      several neat things we can do with it; for instance, with a little
X      trigonometry and clipping, we can bring up a view of a globe, which
X      is what the -XG switch does. An optional argument will specify a
X      rotation value in degrees to display different parts of the globe.
X      (The globe seems to look best for a -Xw window size of around 350.)
X
XThe X wheel charts have their graphic information organized as
Xfollows: There's an outer circle showing the signs and sign glyphs,
Xinside of which is a smaller circle divided up into 5 degree
Xincrements to make determining exact degrees easier. Inside of this is
Xa circle divided up into the 12 houses labeled with numbers. The
Xentire chart is divided by two dashed lines through the Ascendant/
XDescendant (which is always horizontal of course) and the
XMidheaven/Nadir. Inside the house circle are the planet glyphs in
Xtheir appropriate positions. Small pointer lines run from each glyph
Xto just before single dots. These dots indicate the precise locations
Xin the zodiac of each object. The pointer lines (which are dashed if
Xthe object is retrograde and solid otherwise) are necessary so as not
Xto have to draw planet glyphs on top of one another when planets are
Xconjunct. Inside the ring of the single dots, are the aspect lines
Xconnecting these positions. Since the default number of aspects to use
Xis just the 5 majors, one can determine which aspect is in place just
Xby looking at the aspect line. The accuracy of the aspect is
Xdetermined by the dashedness of the line: A solid line means the orb
Xis < 2 degrees; a dashed line means the orb is < 4 degrees; a really
Xdashed line mean the orb is < 6 degrees, etc.
X
XThe X astro-graph charts are organized as follows: A map of the world
Xis shown. The edges of the map are labeled with ruler lines that are 5
Xdegrees apart (with longer ruler lines for more important longitudes
Xand latitudes, like those that are multiples of 10, 30, etc.) The
Xequator is labeled with a dashed line. The polar regions of the world
Xaren't shown; the map shown ranges from 60 degrees S latitude to 75
Xdegrees N latitude. Note that each pixel on the screen represents
Xexactly one half a degree on the world. (For -Xs 100 the ratio is one
Xpixel to one degree, and for -Xs 300 the ratio is one pixel to 1/3
Xdegree.) On this map are drawn the lines indicating where on the world
Xthe various planets are angular at the time in question. (Note: you
Xmight want to -R restrict some objects because otherwise the map tends
Xto get pretty cluttered with lines.) As expected, Midheaven and Nadir
Xlines are vertical, and the Ascendant and Descendant lines are curved.
XLittle square boxes on the Midheaven lines indicate the exact zenith
Xlatitude location. Each line is labeled at the top or the bottom of
Xthe screen, showing what planet is in question and (sometimes) what
Xangle is in question. All Ascendant and Midheaven lines are labeled
Xat the bottom of the screen, and all Descendant and Nadir lines are
Xlabeled at the top. Each line goes a bit beyond to the top or bottom
Xof the world map, and then another pointer segment (which is again
Xdashed of the object in question is retrograde) goes and points to the
Xplanet glyph. There is a capital "A" or "M" under each of the glyphs
Xat the bottom of the screen, explicitly indicating whether the line is
Xan Ascendant or Midheaven line. At the top of the screen, however,
Xthere are only the glyphs, but one can still determine whether these
Xlines are Descendant or Nadir lines based on whether they are curved
Xor not. Note that not all the Descendant lines are labeled; this is
Xbecause some of the Ascendant/Descendant lines actually connect near
Xthe top of the screen and don't actually cross it.
X
XOnce the X window in question actually comes up, one can press certain
Xkeys within the window to do certain actions. A list of these follows:
X 'H': The most important key. Pressing this will display a help list of
X      all the key presses available in the text screen from which
X      the window was invoked from.
X 'q': Pressing this key will terminate the window (and the Astrolog
X      program itself.)
X 'p': Press this to pause all updates to the window. This is mainly used
X      to freeze any animation (see below) but also has an effect even
X      on 'still' windows. In pause mode, the window won't be updated at
X      all, e.g. moving another window on top of the Astrolog window and
X      then off again or iconifying will leave the Astrolog one blank. Key
X      presses will still be accepted in pause mode but their effects won't
X      be apparent until one presses 'p' again to continue. The fewer X
X      windows calls in pause mode will make Astrolog use less CPU time.
X 'x': Pressing this will invert the colors in the window, or in other
X      words will do the same thing as the -Xr switch on the command line.
X 'T': Normally, there is no actual text printed in the windows. However,
X      one can bring up header information listing the date, time, and
X      location of the chart in question. Pressing the 'T' key will toggle
X      the display of the header text at the bottom of the chart on and off.
X 'S': One can manually resize the Astrolog windows using a window
X      manager (except when a world map is displayed, in which case resizing
X      will have no effect). Pressing the 'S' key will resize any (non-world
X      map) window to be a square. This is useful, after resizing charts
X      to approximately the size you want, to make them precise squares.
X '<' and '>': This two keys will respectively decrease and increase the
X      size of the sign and planet glyphs (as well as resize the astro-graph
X      charts) through the three scale factors available. After resizing
X      the window you will probably want to use these keys if the glyphs are
X      now too big or small for the new chart.
X 'C', 'L', 'W', 'G': There are basically four main modes in which a window
X      can be in: There are the main charts (wheel and astro-graph) as well
X      as the two world displays (the simple map by itself and the globe
X      view). These four keys can be used to switch between these four
X      modes in the middle of program execution. For example, you can bring
X      up your own chart in a window, then press 'L' to see the astro-graph
X      chart for the same birth data. Then you can press 'W' to just see the
X      world map by itself, and 'G' to see the globe view, after which you
X      can press 'C' to return to your original wheel chart.
X
X 'N': Animation! This key will toggle in and out of a mode where the chart
X      is continually updated in the window. Entering the animation mode
X      will cause the chart being currently displayed to be replaced by the
X      chart for the exact moment at the time you are running the program.
X      Every second or two, the chart will be updated to reflect the new
X      current state of the planets and houses. For large window sizes, one
X      can actually see very minor changes in the chart every few seconds.
X      With the text 'T' mode in effect, the chart is basically an advanced
X      version of xclock, and makes a good window to be left running on
X      your display. If you are in the -XG globe display mode, pressing
X      the 'N' key will cause the globe to rotate for an impressive display!
X '!', '@', '#', '$', '%', '^', '&', '*', and '(': These nine keys (i.e.
X      shift plus the number keys from 1..9) enter into a different form
X      of chart animation. Pressing them will cause the current chart
X      being displayed (i.e. it will not revert to the current planet
X      positions) to continually have a delta time added to it and be
X      recast and shown. Pressing '!' will have one second added to
X      the chart for every update (slow action unless you have a very
X      fast system - the animation will be even slower than for the 'N'
X      key). Pressing '@' will have one minute added to the chart each
X      time, which makes for a nice display (note that you will definitely
X      want to be in the text 'T' mode for these animations so you can see
X      what times in the future these charts are being cast for. Pressing
X      '#" will have one hour added each time (note that now the house
X      cusps are starting to move quickly, so you may want to switch to
X      a different system of houses (such as the Equal to keep the
X      Midheaven from flopping back and forth) and/or use -1 to put an
X      object like the sun on the Ascendant.) Pressing '$' will have one
X      day added each time (now you will probably want to start using
X      -R to remove fast moving objects like the moon), and pressing
X      '%' will have one month added for each update of the window.
X      The final keys, shift 6..9 cause years, decades, centuries, and
X      millenia to be added each time, and tend to only be used to
X      look for long range actions (when will Neptune next enter Pisces,
X      etc.) To exit this animation mode, press the 'N' key.
X 'r': Press this to reverse the direction of any animation taking
X      place. For the '!'..'(' animation keys above, this will cause
X      negative times to be added to the chart, e.g. pressing '#'
X      then 'r' on a chart cast for noon will cause the next chart to
X      be displayed for 11am, then 10am, etc. For the Globe animation,
X      this will cause the rotation to reverse direction.
X '1'..'9': The nine number keys are used to set the relative "rate" of
X      animation to "n" whatevers. For example, normally the "@" key means
X      add one minute to the chart for each update, but press "5" and now
X      we are adding 5 minutes each time. For the Globe animation,
X      by default the Earth rotates one degree each time; however, the
X      number keys can speed this up to nine degrees for each update.
X
XThere have been a couple of changes made to the program, i.e. not just
Xnew features but some things in version 1.40 are no longer valid:
X * Before, the program tried to actually use internal system calls in the
X   time library to determine whether DST was in effect or not. Since this
X   didn't seem to be accurate at all times, and also many people's systems
X   didn't have the needed gm_tmoff field, I have done away with it and
X   have replaced it with a DEFAULT_ZONE constant set at compile time.
X * Now that we have a particular default time zone assumed, the transit (-T)
X   times are displayed in the local zone instead of in GMT, the ephemeris
X   (-E) list is displayed daily at midnight local time instead of GMT, and
X   the quick (-q) chart is always displayed for noon default time, too.
X * The -T transits and -d aspects in day are now displayed in am/pm
X   time instead of the 24 hour cloak. There have also been a few
X   spacing and alignment changes to make these times easier to read.
X
XIn addition to the X enhancements, there have been a few more features added:
X 1) I often use Astrolog to look at and compare files containing charts of
X    various people. I have many chart files, so I keep them in a separate
X    directory. Since it was always a pain to have to cd into this special
X    directory all the time, I have added a DEFAULT_DIR string to be set at
X    compile time. Now, whenever the program reads in a chart file with the
X    -i option, it will first look in the current directory for it. If it's
X    not found there, Astrolog will then look for a file of the same name in
X    the special default directory.
X 2) Additional information has been added to the standard list of the planet
X    positions displayed. Planets in their exalted and debilitated signs
X    are noted. In addition to the (R) indicating a planet in it's ruling sign,
X    and an (F) for a planet in it's fall, we have (e) if a planet is in its
X    exalting sign, and a (d) for a planet in its debilitating sign (which is
X    always opposite the exaltation, as how the fall is opposite the ruler).
X 3) In addition, the total number of planets in each of the hemispheres
X    of the wheel, as well the number of objects in positive/masculine and
X    negative/feminine quality signs, are counted. To the right of the element
X    table, we have a column of six numbers labeled as follows: "+" is the
X    number of "positive" objects (i.e. in Fire or Air signs); "-" is the number
X    of "negative" objects (i.e. in Water or Earth signs); "M" is the number
X    of objects above the horizon (i.e. in the hemisphere of the Midheaven);
X    "N" is the number of objects below the horizon (in the hemisphere of the
X    Nadir); "A" is the number of objects in the Eastern half of the sky
X    (in the hemisphere of the Ascendant); and "D" is the number of objects in
X    the Western half of the sky (in the hemisphere of the Descendant).
X 4) The -A option when used by itself will now list the number of each aspect
X    in addition to all the other info already there (e.g. conjunct = 1,
X    opposite = 2, etc.) This is so one can easily figure out what exact
X    number to pass to the -A option when changing the number of aspects used.
X 5) Similar to the -A option, the new -O option will list all the planets
X    and other celestial objects used by the program, and their numbers as
X    recognized by the -R restrictions. This list will also show the zodiac
X    signs that planets rule, fall in, are exalted in, and debilitated in.
X 6) The -z <value> option can be used to change the default time zone to
X    the value in question. For example, you can force the -E ephemeris and
X    -T transits to be displayed at midnight GMT time instead of the local
X    time with -z 0; or, for the East coast where by default the time zone
X    is "5", you can do -z 4 during DST to properly display transits,
X    aspects in day, and other lists in the local DST zone.
X 7) A "new" system of houses has been added: No houses at all, or in other
X    words the Ascendant will always be 0 degrees Aries, the Nadir 0 degrees
X    Cancer, etc. Access this by passing the value 9 to the -c option.
X    This system is useful for the extended chart animations as described
X    above where having houses at all can tend to get in the way, and one can
X    even observe the precession of the equinoxes with this system if used
X    in conjunction with the -s siderial chart option.
X
XNow, a list of bug fixes over version 1.40:
X * A major bug would cause the input from any eastern longitude (or time
X   zone) or southern latitude to produce results slightly off the
X   expected values. Fixes on how to correct this were posted soon after
X   the release of version 1.40, and they are now included in the code, so
X   there should be no more problems. The reason why such a large bug got
X   in there in the first place (which *wasn't* in versions 1.00-1.20) was
X   that I inadvertently introduced it when I was correcting the earlier
X   (now fixed) bug which would produce incorrect results whenever the user
X   had to enter negative values for the time, e.g. DST was in effect and
X   they were born between midnight and 1am (meaning they enter 0.xx -
X   1.00 for DST = -1.xx). Both bugs are fixed now and my apologies for
X   the hasty debugging which got it in there in the first place.
X * The moon and north node would always produce zodiac positions for the
X   standard zodiac, even if the user specified the -s option. The -s
X   option will now yield the proper siderial positions for these two
X   objects.
X * Some have commented that there are time zones 13 hours before or after
X   GMT, and that the old version would only accept values from -12 to +12.
X   The legal time zone offsets accepted by the program have been expanded
X   to include these areas.
X * Too much round off in the chart headers displayed for a chart would
X   force all time zones offsets to be integers, and this has been fixed to
X   properly display non-integer zones. Also, another display glitch would
X   occasionally display the person as being born one hour after their true
X   birth time. Both of these were only display errors and didn't affect
X   the actual results computed.
X * A couple of array sizes in the code have been increased to account for
X   the fact that some compilers will only reserve n elements for the array
X   type name[n], i.e. space is *not* reserved for the index name[n], which
X   would introduce glitches in results for some systems before.
X * The -q "quick" chart option wasn't mentioned in the -H help list of all
X   the options before, and it is now.
X * Not really a bug, but I neglected to mention in the list of new features
X   for version 1.40 that the -1 "put on Ascendant option", if not given any
X   object number after it, will by default assume you mean the sun, and will
X   cast a normal chart except that the house cusps will be rotated in order
X   to put the sun on the Ascendant.
X
XAnyway, that about sums up Astrolog version 2.00. I confess that this
Xis my first major X window programming job, and that combined with
Xsplitting the code could produce problems on other systems, so there
Xmight be some needed changes to be made in the code soon. Still,
Xhopefully each code segment is small enough to be compilable on small
Xsystems. Anyway, there probably will be a version 2.10 in the future:
XI would like to include some new features like list the latitude
Xcrossings for the astro-graph maps, and I've only really begun to
Xexplore the graphics possibilities with the charts (like I could print
Xout the aspects grid and locations with the charts, etc). There are
Xalso a couple of other programmers who have expressed interest in
Xmerging their own creations with Astrolog: for example, Postscript
Xroutines (BTW, you can use the xdpr(1) command on certain systems to
Xprint out the contents of an X window), interpretation databases, etc.
XAs far as Astrolog and computers go, the future in our own minds has
Xas many possibilities as the future in the stars! :)
X
XTo compile version 2.00, first edit the top of the file astrolog.h,
Xputting in your own appropriate values for the default longitude,
Xlatitude, time zone, and default directory. Also comment out any of
Xthe #defines which set various features that aren't valid on your
Xsystem, such as the X11, TIME, and SWITCHES variables. Then, for unix
Xsystems, run the command 'make' on the Makefile (or you can always
Xcompile by hand: "cc -O -c *.c; cc -o astrolog *.o -lm -lX11" will do
Xit; just make sure to compile each source file and link them together
Xat the end with the math and X11 libraries.)
X
END_OF_FILE
if test 53045 -ne `wc -c <'History.p1'`; then
    echo shar: \"'History.p1'\" unpacked with wrong size!
fi
# end of 'History.p1'
fi
echo shar: End of archive 8 \(of 8\).
cp /dev/null ark8isdone
MISSING=""
for I in 1 2 3 4 5 6 7 8 ; do
    if test ! -f ark${I}isdone ; then
	MISSING="${MISSING} ${I}"
    fi
done
if test "${MISSING}" = "" ; then
    echo You have unpacked all 8 archives.
    echo "See the README file for further instructions."
    rm -f ark[1-9]isdone
else
    echo You still need to unpack the following archives:
    echo "        " ${MISSING}
fi
##  End of shell archive.
exit 0

exit 0 # Just in case...
