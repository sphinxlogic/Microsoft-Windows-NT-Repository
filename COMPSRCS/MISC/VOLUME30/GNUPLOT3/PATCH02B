Newsgroups: comp.sources.misc
From: woo@ra-next.arc.nasa.gov (Alex Woo)
Subject:  v30i055:  gnuplot3 - interactive function plotting utility, Patch02b/7
Message-ID: <1992Jun14.213933.8341@sparky.imd.sterling.com>
X-Md4-Signature: 9e3a520d1d2151f53f8c96da6414299f
Date: Sun, 14 Jun 1992 21:39:33 GMT
Approved: kent@sparky.imd.sterling.com

Submitted-by: woo@ra-next.arc.nasa.gov (Alex Woo)
Posting-number: Volume 30, Issue 55
Archive-name: gnuplot3/patch02b
Environment: UNIX, MS-DOS, VMS
Patch-To: gnuplot3: Volume 24, Issue 23-48

#! /bin/sh
# This is a shell archive.  Remove anything before this line, then feed it
# into a shell via "sh file" or similar.  To overwrite existing files,
# type "sh file -c".
# The tool that generated this appeared in the comp.sources.unix newsgroup;
# send mail to comp-sources-unix@uunet.uu.net if you want that tool.
# Contents:  patch.4 term/pbm.trm
# Wrapped by woo@ra-iris. on Thu May 28 22:44:39 1992
PATH=/bin:/usr/bin:/usr/ucb ; export PATH
echo If this archive is complete, you will see the following message:
echo '          "shar: End of archive 2 (of 7)."'
if test -f 'patch.4' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'patch.4'\"
else
  echo shar: Extracting \"'patch.4'\" \(45409 characters\)
  sed "s/^X//" >'patch.4' <<'END_OF_FILE'
Xdiff -rc gnuplot/graphics.c gnuplot3.2/graphics.c
X*** gnuplot/graphics.c	Mon Sep  9 13:13:19 1991
X--- gnuplot3.2/graphics.c	Wed Mar 25 07:59:41 1992
X***************
X*** 1,6 ****
X  /* GNUPLOT - graphics.c */
X  /*
X!  * Copyright (C) 1986, 1987, 1990, 1991   Thomas Williams, Colin Kelley
X   *
X   * Permission to use, copy, and distribute this software and its
X   * documentation for any purpose with or without fee is hereby granted, 
X--- 1,10 ----
X+ #ifndef lint
X+ static char *RCSid = "$Id: graphics.c,v 3.26 92/03/24 22:34:25 woo Exp Locker: woo $";
X+ #endif
X+ 
X  /* GNUPLOT - graphics.c */
X  /*
X!  * Copyright (C) 1986, 1987, 1990, 1991, 1992   Thomas Williams, Colin Kelley
X   *
X   * Permission to use, copy, and distribute this software and its
X   * documentation for any purpose with or without fee is hereby granted, 
X***************
X*** 27,37 ****
X   *       Gershon Elber and many others.
X   * 
X   * Send your comments or suggestions to 
X!  *  pixar!info-gnuplot@sun.com.
X   * This is a mailing list; to join it send a note to 
X!  *  pixar!info-gnuplot-request@sun.com.  
X   * Send bug reports to
X!  *  pixar!bug-gnuplot@sun.com.
X   */
X  
X  #include <stdio.h>
X--- 31,41 ----
X   *       Gershon Elber and many others.
X   * 
X   * Send your comments or suggestions to 
X!  *  info-gnuplot@ames.arc.nasa.gov.
X   * This is a mailing list; to join it send a note to 
X!  *  info-gnuplot-request@ames.arc.nasa.gov.  
X   * Send bug reports to
X!  *  bug-gnuplot@ames.arc.nasa.gov.
X   */
X  
X  #include <stdio.h>
X***************
X*** 1262,1268 ****
X  		    }
X  		    else if((end - start) >= 5)
X  		    {
X! 			lstart = 4; /* 3 per decade */
X  			linc = 3;
X  		    }
X  		    else
X--- 1266,1272 ----
X  		    }
X  		    else if((end - start) >= 5)
X  		    {
X! 			lstart = 2; /* 4 per decade */
X  			linc = 3;
X  		    }
X  		    else
X***************
X*** 1270,1276 ****
X  			lstart = 2; /* 9 per decade */
X  			linc = 1;
X  		    }
X! 		    for (ltic = 2; ltic <= 9; ltic++) {
X  				lticplace = ticplace+log10((double)ltic);
X  				if ( inrange(lticplace,ticmin,ticmax) )
X  					ytick(lticplace, "\0", incr, 0.5);
X--- 1274,1280 ----
X  			lstart = 2; /* 9 per decade */
X  			linc = 1;
X  		    }
X! 		    for (ltic = lstart; ltic <= 9; ltic += linc) {
X  				lticplace = ticplace+log10((double)ltic);
X  				if ( inrange(lticplace,ticmin,ticmax) )
X  					ytick(lticplace, "\0", incr, 0.5);
X***************
X*** 1313,1319 ****
X  		    }
X  		    else if((end - start) >= 5)
X  		    {
X! 			lstart = 4; /* 3 per decade */
X  			linc = 3;
X  		    }
X  		    else
X--- 1317,1323 ----
X  		    }
X  		    else if((end - start) >= 5)
X  		    {
X! 			lstart = 2; /* 4 per decade */
X  			linc = 3;
X  		    }
X  		    else
Xdiff -rc gnuplot/help.c gnuplot3.2/help.c
X*** gnuplot/help.c	Sun Jan  5 21:33:17 1992
X--- gnuplot3.2/help.c	Wed Mar 25 07:59:42 1992
X***************
X*** 1,6 ****
X  /* GNUPLOT - help.c */
X  /*
X!  * Copyright (C) 1986, 1987, 1990, 1991   Thomas Williams, Colin Kelley
X   *
X   * Permission to use, copy, and distribute this software and its
X   * documentation for any purpose with or without fee is hereby granted, 
X--- 1,10 ----
X+ #ifndef lint
X+ static char *RCSid = "$Id: help.c,v 3.26 92/03/24 22:34:24 woo Exp Locker: woo $";
X+ #endif
X+ 
X  /* GNUPLOT - help.c */
X  /*
X!  * Copyright (C) 1986, 1987, 1990, 1991, 1992   Thomas Williams, Colin Kelley
X   *
X   * Permission to use, copy, and distribute this software and its
X   * documentation for any purpose with or without fee is hereby granted, 
X***************
X*** 27,37 ****
X   *       Gershon Elber and many others.
X   * 
X   * Send your comments or suggestions to 
X!  *  pixar!info-gnuplot@sun.com.
X   * This is a mailing list; to join it send a note to 
X!  *  pixar!info-gnuplot-request@sun.com.  
X   * Send bug reports to
X!  *  pixar!bug-gnuplot@sun.com.
X   */
X  
X  #include <stdio.h>
X--- 31,41 ----
X   *       Gershon Elber and many others.
X   * 
X   * Send your comments or suggestions to 
X!  *  info-gnuplot@ames.arc.nasa.gov.
X   * This is a mailing list; to join it send a note to 
X!  *  info-gnuplot-request@ames.arc.nasa.gov.  
X   * Send bug reports to
X!  *  bug-gnuplot@ames.arc.nasa.gov.
X   */
X  
X  #include <stdio.h>
Xdiff -rc gnuplot/help.h gnuplot3.2/help.h
X*** gnuplot/help.h	Thu Jul 18 11:58:45 1991
X--- gnuplot3.2/help.h	Wed Mar 25 07:59:43 1992
X***************
X*** 1,6 ****
X  /* GNUPLOT - help.h */
X  /*
X!  * Copyright (C) 1986, 1987, 1990, 1991   Thomas Williams, Colin Kelley
X   *
X   * Permission to use, copy, and distribute this software and its
X   * documentation for any purpose with or without fee is hereby granted, 
X--- 1,10 ----
X+ /*
X+  * $Id: help.h,v 3.26 92/03/24 22:34:14 woo Exp Locker: woo $
X+  */
X+ 
X  /* GNUPLOT - help.h */
X  /*
X!  * Copyright (C) 1986, 1987, 1990, 1991, 1992   Thomas Williams, Colin Kelley
X   *
X   * Permission to use, copy, and distribute this software and its
X   * documentation for any purpose with or without fee is hereby granted, 
X***************
X*** 27,37 ****
X   *       Gershon Elber and many others.
X   * 
X   * Send your comments or suggestions to 
X!  *  pixar!info-gnuplot@sun.com.
X   * This is a mailing list; to join it send a note to 
X!  *  pixar!info-gnuplot-request@sun.com.  
X   * Send bug reports to
X!  *  pixar!bug-gnuplot@sun.com.
X   */
X  
X  /* Exit status returned by help() */
X--- 31,41 ----
X   *       Gershon Elber and many others.
X   * 
X   * Send your comments or suggestions to 
X!  *  info-gnuplot@ames.arc.nasa.gov.
X   * This is a mailing list; to join it send a note to 
X!  *  info-gnuplot-request@ames.arc.nasa.gov.  
X   * Send bug reports to
X!  *  bug-gnuplot@ames.arc.nasa.gov.
X   */
X  
X  /* Exit status returned by help() */
Xdiff -rc gnuplot/internal.c gnuplot3.2/internal.c
X*** gnuplot/internal.c	Sun Jan  5 21:33:18 1992
X--- gnuplot3.2/internal.c	Wed Mar 25 07:59:44 1992
X***************
X*** 1,6 ****
X  /* GNUPLOT - internal.c */
X  /*
X!  * Copyright (C) 1986, 1987, 1990, 1991   Thomas Williams, Colin Kelley
X   *
X   * Permission to use, copy, and distribute this software and its
X   * documentation for any purpose with or without fee is hereby granted, 
X--- 1,10 ----
X+ #ifndef lint
X+ static char *RCSid = "$Id: internal.c,v 3.26 92/03/24 22:34:29 woo Exp Locker: woo $";
X+ #endif
X+ 
X  /* GNUPLOT - internal.c */
X  /*
X!  * Copyright (C) 1986, 1987, 1990, 1991, 1992   Thomas Williams, Colin Kelley
X   *
X   * Permission to use, copy, and distribute this software and its
X   * documentation for any purpose with or without fee is hereby granted, 
X***************
X*** 27,37 ****
X   *       Gershon Elber and many others.
X   * 
X   * Send your comments or suggestions to 
X!  *  pixar!info-gnuplot@sun.com.
X   * This is a mailing list; to join it send a note to 
X!  *  pixar!info-gnuplot-request@sun.com.  
X   * Send bug reports to
X!  *  pixar!bug-gnuplot@sun.com.
X   */
X  
X  #include <math.h>
X--- 31,41 ----
X   *       Gershon Elber and many others.
X   * 
X   * Send your comments or suggestions to 
X!  *  info-gnuplot@ames.arc.nasa.gov.
X   * This is a mailing list; to join it send a note to 
X!  *  info-gnuplot-request@ames.arc.nasa.gov.  
X   * Send bug reports to
X!  *  bug-gnuplot@ames.arc.nasa.gov.
X   */
X  
X  #include <math.h>
Xdiff -rc gnuplot/lasergnu gnuplot3.2/lasergnu
X*** gnuplot/lasergnu	Tue Sep 10 07:39:25 1991
X--- gnuplot3.2/lasergnu	Wed Mar 25 07:59:45 1992
X***************
X*** 1,5 ****
X--- 1,8 ----
X  #!/bin/csh -f
X  #
X+ # $Id: lasergnu,v 3.26 92/03/24 22:37:01 woo Exp Locker: woo $
X+ #
X+ #
X  # Print gnuplot output on an Imagen or Postscript laser printer.
X  
X  set print_banner = on	# Print a banner page unless told otherwise.
Xdiff -rc gnuplot/makefile.amg gnuplot3.2/makefile.amg
X*** gnuplot/makefile.amg	Thu Sep 12 12:04:16 1991
X--- gnuplot3.2/makefile.amg	Wed Mar 25 07:59:46 1992
X***************
X*** 1,4 ****
X--- 1,8 ----
X  # Makefile for SAS/C 5.10 on the Amiga
X+ #
X+ # $Id: makefile.amg,v 3.26 92/03/24 22:36:53 woo Exp Locker: woo $
X+ #
X+ #
X  
X  CC = lc
X  
X***************
X*** 22,28 ****
X  	term/eepic.trm term/epson.trm term/fig.trm term/hp26.trm \
X  	term/hp2648.trm term/hpgl.trm term/hpljii.trm term/vws.trm
X  CSOURCE6 = term/impcodes.h term/imagen.trm term/object.h \
X! 	term/iris4d.trm term/kyo.trm term/latex.trm term/pc.trm \
X  	term/amiga.trm
X  CSOURCE7 = term/post.trm term/qms.trm term/regis.trm term/sun.trm \
X  	term/t410x.trm term/tek.trm term/unixpc.trm term/unixplot.trm \
X--- 26,32 ----
X  	term/eepic.trm term/epson.trm term/fig.trm term/hp26.trm \
X  	term/hp2648.trm term/hpgl.trm term/hpljii.trm term/vws.trm
X  CSOURCE6 = term/impcodes.h term/imagen.trm term/object.h \
X! 	term/iris4d.trm term/kyo.trm term/latex.trm term/pbm.trm term/pc.trm \
X  	term/amiga.trm
X  CSOURCE7 = term/post.trm term/qms.trm term/regis.trm term/sun.trm \
X  	term/t410x.trm term/tek.trm term/unixpc.trm term/unixplot.trm \
Xdiff -rc gnuplot/makefile.ami gnuplot3.2/makefile.ami
X*** gnuplot/makefile.ami	Fri Sep 20 11:31:32 1991
X--- gnuplot3.2/makefile.ami	Wed Mar 25 07:59:47 1992
X***************
X*** 1,4 ****
X--- 1,7 ----
X  #
X+ # $Id: makefile.ami,v 3.26 92/03/24 22:36:54 woo Exp Locker: woo $
X+ #
X+ #
X  #   Makefile for the Amiga             Pat R. Empleo
X  #                                      Sept 1991
X  #      Manx Aztec C 5.2 beta version
X***************
X*** 12,18 ****
X  # where to install help file gnuplot.gih
X  HELPDEST=GNUPLOT:docs/gnuplot.gih
X  # Where to send email about bugs and comments (locally)
X! EMAIL="pixar\!bug-gnuplot@sun.com"
X  
X  #
X  # Manx Aztec C v5.2 compiler options
X--- 15,21 ----
X  # where to install help file gnuplot.gih
X  HELPDEST=GNUPLOT:docs/gnuplot.gih
X  # Where to send email about bugs and comments (locally)
X! EMAIL="bug-gnuplot@ames.arc.nasa.gov"
X  
X  #
X  # Manx Aztec C v5.2 compiler options
X***************
X*** 52,58 ****
X  	term/hp26.trm term/hp2648.trm term/hpgl.trm term/hpljii.trm \
X  	term/apollo.trm term/gpr.trm
X  CSOURCE6 = term/impcodes.h term/imagen.trm term/object.h \
X! 	term/iris4d.trm term/kyo.trm term/latex.trm term/pc.trm 
X  CSOURCE7 = term/post.trm term/qms.trm term/regis.trm term/sun.trm \
X  	term/t410x.trm term/tek.trm term/unixpc.trm term/unixplot.trm \
X  	term/v384.trm term/x11.trm term/bigfig.trm term/vws.trm gnuplot_x11.c
X--- 55,61 ----
X  	term/hp26.trm term/hp2648.trm term/hpgl.trm term/hpljii.trm \
X  	term/apollo.trm term/gpr.trm
X  CSOURCE6 = term/impcodes.h term/imagen.trm term/object.h \
X! 	term/iris4d.trm term/kyo.trm term/latex.trm term/pbm.trm term/pc.trm 
X  CSOURCE7 = term/post.trm term/qms.trm term/regis.trm term/sun.trm \
X  	term/t410x.trm term/tek.trm term/unixpc.trm term/unixplot.trm \
X  	term/v384.trm term/x11.trm term/bigfig.trm term/vws.trm gnuplot_x11.c
Xdiff -rc gnuplot/makefile.msc gnuplot3.2/makefile.msc
X*** gnuplot/makefile.msc	Tue Sep 17 08:20:52 1991
X--- gnuplot3.2/makefile.msc	Wed Mar 25 07:59:48 1992
X***************
X*** 1,3 ****
X--- 1,6 ----
X+ #
X+ # $Id: makefile.msc,v 3.26 92/03/24 22:36:31 woo Exp Locker: woo $
X+ #
X  # Make file for use with Microsoft C  Version 5.10
X  # and Microsoft Program Maintenance Utility  Version 4.07
X  # 
X***************
X*** 27,33 ****
X  	term\eepic.trm term\epson.trm term\fig.trm term\hp26.trm \
X  	term\hp2648.trm term\hpgl.trm term\hpljii.trm 
X  CSOURCE6 = term\impcodes.h term\imagen.trm term\object.h \
X! 	term\iris4d.trm term\kyo.trm term\latex.trm term\pc.trm 
X  CSOURCE7 = term\post.trm term\qms.trm term\regis.trm term\sun.trm \
X  	term\t410x.trm term\tek.trm term\unixpc.trm term\unixplot.trm \
X  	term\v384.trm term\x11.trm
X--- 30,36 ----
X  	term\eepic.trm term\epson.trm term\fig.trm term\hp26.trm \
X  	term\hp2648.trm term\hpgl.trm term\hpljii.trm 
X  CSOURCE6 = term\impcodes.h term\imagen.trm term\object.h \
X! 	term\iris4d.trm term\kyo.trm term\latex.trm term/pbm.trm term\pc.trm 
X  CSOURCE7 = term\post.trm term\qms.trm term\regis.trm term\sun.trm \
X  	term\t410x.trm term\tek.trm term\unixpc.trm term\unixplot.trm \
X  	term\v384.trm term\x11.trm
Xdiff -rc gnuplot/makefile.tc gnuplot3.2/makefile.tc
X*** gnuplot/makefile.tc	Sat Aug 17 13:51:36 1991
X--- gnuplot3.2/makefile.tc	Wed Mar 25 07:59:48 1992
X***************
X*** 1,3 ****
X--- 1,7 ----
X+ #
X+ # $Id: makefile.tc,v 3.26 92/03/24 22:36:32 woo Exp Locker: woo $
X+ #
X+ #
X  # make file for Borland C++ 2.0/Turbo C++ 1.0/Turbo C 2.0
X  # uses Borland proprietry overlay manager
X  # Modified from the TurboC makefile by Maurice Castro
X***************
X*** 51,57 ****
X  	term\eepic.trm term\epson.trm term\fig.trm term\hp26.trm \
X  	term\hp2648.trm term\hpgl.trm term\hpljii.trm 
X  CSOURCE6 = term\impcodes.h term\imagen.trm term\object.h \
X! 	term\iris4d.trm term\kyo.trm term\latex.trm term\pc.trm 
X  CSOURCE7 = term\post.trm term\qms.trm term\regis.trm term\sun.trm \
X  	term\t410x.trm term\tek.trm term\unixpc.trm term\unixplot.trm \
X  	term\v384.trm term\x11.trm
X--- 55,61 ----
X  	term\eepic.trm term\epson.trm term\fig.trm term\hp26.trm \
X  	term\hp2648.trm term\hpgl.trm term\hpljii.trm 
X  CSOURCE6 = term\impcodes.h term\imagen.trm term\object.h \
X! 	term\iris4d.trm term\kyo.trm term\latex.trm term/pbm.trm term\pc.trm 
X  CSOURCE7 = term\post.trm term\qms.trm term\regis.trm term\sun.trm \
X  	term\t410x.trm term\tek.trm term\unixpc.trm term\unixplot.trm \
X  	term\v384.trm term\x11.trm
Xdiff -rc gnuplot/makefile.unx gnuplot3.2/makefile.unx
X*** gnuplot/makefile.unx	Sun Jan  5 21:33:19 1992
X--- gnuplot3.2/makefile.unx	Tue May  5 21:48:58 1992
X***************
X*** 1,6 ****
X  ############################################################
X  #
X! # GNUPLOT 3.0 Makefile (Unix X11 Motif/Athena support) for
X  #  Apollo/Sun/Dec5000/IBMrs6000/HP9000/SGI/3B1/386IX/Cray
X  #
X  # Original version by:
X--- 1,9 ----
X+ #
X+ # $Id: makefile.unx,v 3.26 92/03/24 22:36:48 woo Exp Locker: woo $
X+ #
X  ############################################################
X  #
X! # GNUPLOT 3.2 Makefile (Unix X11 support) for
X  #  Apollo/Sun/Dec5000/IBMrs6000/HP9000/SGI/3B1/386IX/Cray
X  #
X  # Original version by:
X***************
X*** 19,30 ****
X  # directory where to install executables on 'make install'
X  DEST=/usr/local/bin
X  # directory for installing man page on 'make man_install'.
X! MANDEST=/usr/man/manl
X  # where to install help file gnuplot.gih
X  HELPDEST=/usr/local/lib/gnuplot.gih
X  #HELPDEST=docs/gnuplot.gih
X  # Where to send email about bugs and comments (locally)
X! EMAIL=bug-gnuplot%pixar.uucp@sun.com
X  
X  ############################################################
X  #>>> Choose your C compiler and basic compiler flags.
X--- 22,33 ----
X  # directory where to install executables on 'make install'
X  DEST=/usr/local/bin
X  # directory for installing man page on 'make man_install'.
X! MANDEST=/usr/local/man/manl
X  # where to install help file gnuplot.gih
X  HELPDEST=/usr/local/lib/gnuplot.gih
X  #HELPDEST=docs/gnuplot.gih
X  # Where to send email about bugs and comments (locally)
X! EMAIL=bug-gnuplot@ames.arc.nasa.gov
X  
X  ############################################################
X  #>>> Choose your C compiler and basic compiler flags.
X***************
X*** 31,36 ****
X--- 34,43 ----
X  CC     = cc # the C compiler
X  COPTS  = -O # -O if you trust your compiler's optimizer
X  LD     =$(CC) $(CFLAGS)	    # default loading command
X+ NPROC  = 2
X+ RCSOLD = 3.25
X+ RCSVER = 3.26
X+ RCSCOM = "gnuplot3.2  release6"
X  
X  ############################################################
X  #>>> Choose some optional features. 
X***************
X*** 40,46 ****
X  #   Otherwise, your normal terminal editing is all you get.
X  #   Some machines will not support this, and they will turn this
X  #   option off (for example, apollos running SR10.2 or SR10.3 and
X! #   loaded with BSD4.3 instead of SYS5). 
X  # NOCWDRC:
X  #   If NOCWDRC is defined, then any .gnuplot in the current directory
X  #   is not read on startup. This is a security consideration
X--- 47,56 ----
X  #   Otherwise, your normal terminal editing is all you get.
X  #   Some machines will not support this, and they will turn this
X  #   option off (for example, apollos running SR10.2 or SR10.3 and
X! #   loaded with BSD4.3 instead of SYS5). Note: problems with 
X! #   gnuplot prompts have been noted when this feature is selected
X! #   on IBM RS/6000 AIX, and compile errors are encountered on
X! #   Sequent Dynix 3 and Convex OS 9.0.
X  # NOCWDRC:
X  #   If NOCWDRC is defined, then any .gnuplot in the current directory
X  #   is not read on startup. This is a security consideration
X***************
X*** 54,97 ****
X  # tailoring to your site.
X  # Use lasergnu_install to install lasergnu.
X  # Use lasergnu_noinstall to not install lasergnu (default).
X! LASERGNU = lasergnu_noinstall
X  
X  ############################################################
X  # X11 support
X  #
X  
X! #>>> List your X11 libraries#
X! # standard MIT X11 R4:                      -lXaw -lXmu -lXt -lXext -lX11
X! # Apollo DomainOS 10.3 (R3/Athena):         -L/usr/lib/X11 -lXaw -lXmu -lXt -lX11
X! # Apollo DomainOS 10.3 (R3/Motif):          -L/usr/lib/X11 -lXm -lXtm -lX11
X! # IBM RS/6000 AIX 3.1 (R3/Athena):          -L/usr/lpp/X11/Xamples/lib/Xmu \
X! #                                           -L/usr/lpp/X11/Xamples/lib/Xaw \
X! #                                           -lXaw -lXmu -lXt -lXext -lX11
X! # IBM RS/6000 AIX 3.1 (R3/Motif):           -lXm -lXt -lX11
X! # HP 9000/375 HP-UX 6.5 and 7.0 (R3/Motif): -lXm -lXt -lX11
X! # Interactive 386/ix with T.Roell X386 and network support:
X! #                                           -lXaw -lXm -lXt -lXext -lX11 -linet -lpt
X! X11LIBS = -lXaw -lXmu -lXt -lXext -lX11
X  
X! #>>> List your X11 include directories
X! # standard MIT X11 R4: -I/usr/include/X11   -I/usr/include/X11/Xaw 
X! # Apollo DomainOS 10.3 (R3/Athena):         -I/usr/include/X11
X! # Apollo DomainOS 10.3 (R3/Motif):          -I/usr/include/Xm
X! # IBM RS/6000 AIX 3.1 (R3/Athena):          -I/usr/include/X11 \
X! #                                           -I/usr/lpp/X11/Xamples/lib/Xaw \
X! #                                           -I/usr/lpp/X11/Xamples/lib/Xaw/X11
X! # IBM RS/6000 AIX 3.1 (R3/Motif):           -I/usr/include/Xm
X! # HP 9000/375 HP-UX 6.5 and 7.0 (R3/Motif): -I/usr/include/Xm
X! # HP 9000/700 HP-UX 8.0 (R4):               -I/usr/include/X11R4 \
X! #                                           -I/usr/include/X11R4/X11/Xaw
X! X11INCLUDES = -I/usr/include/X11 -I/usr/include/X11/Xaw
X  
X  #>>> You shouldn't have to change these, since they are controlled by
X  #>>> Machine dependent definitions below.
X  #       Compile option for plot.c and TERMFLAGS, to include X11 support
X  PLOTXFLAG = -DX11
X- #   	   this can add to CFLAGS for X11 compilations. Probably needs no change.
X- X11FLAGS = 
X  #       make gnuplot_x11 by default
X  GNUPLOT_X11 = gnuplot_x11
X  #       install gnuplot_x11 by default
X--- 64,90 ----
X  # tailoring to your site.
X  # Use lasergnu_install to install lasergnu.
X  # Use lasergnu_noinstall to not install lasergnu (default).
X! LASERGNU = lasergnu_install
X  
X  ############################################################
X  # X11 support
X  #
X  
X! #>>> List your X11 libraries
X! X11LIBS = -lX11
X  
X! #>>> List where the X11 include directory is found (if other than /usr/include)
X! X11INCLUDES =
X  
X+ #>>> List additional CFLAGS for X11 compilation
X+ # -DOLD_SELECT if you have an old 4.2 BSD OS (e.g. Sun OS 3.5) and
X+ #   encounter compile error for missing include file <sys/select.h>
X+ X11FLAGS = 
X+ 
X  #>>> You shouldn't have to change these, since they are controlled by
X  #>>> Machine dependent definitions below.
X  #       Compile option for plot.c and TERMFLAGS, to include X11 support
X  PLOTXFLAG = -DX11
X  #       make gnuplot_x11 by default
X  GNUPLOT_X11 = gnuplot_x11
X  #       install gnuplot_x11 by default
X***************
X*** 124,129 ****
X--- 117,125 ----
X  #    this is needed by HP-UX and Cray Unicos systems.
X  #  -DULTRIX_KLUDGE if you run X windows on Ultrix and experience the
X  #    "every other plot" problem.
X+ #  -DCRIPPLED_SELECT if "select errors" are encountered with X. This
X+ #    option is needed on SVR3 platforms with incomplete support for
X+ #    the BSD select() system call
X  #  -Dunix is required to explicitly define "unix" for SCO and IBM
X  #   	   RS/6000 running AIX 3.1 
X  #  -fswitch if you are compiling on a Sun3 (or even -f68881)
X***************
X*** 130,136 ****
X  #    (but -fswitch is buggy on some systems, so watch out)
X  
X  # Defaults in case the user types 'make All' directly
X! # Should match X11R4_FLAGS's CFLAGS definition
X  CFLAGS = $(COPTS) $(OPTIONS)
X  
X  ############################################################
X--- 126,132 ----
X  #    (but -fswitch is buggy on some systems, so watch out)
X  
X  # Defaults in case the user types 'make All' directly
X! # Should match X11_FLAGS's CFLAGS definition
X  CFLAGS = $(COPTS) $(OPTIONS)
X  
X  ############################################################
X***************
X*** 150,156 ****
X  # -DUNIXPC      unixpc (ATT 3b1 or ATT 7300)
X  # -DUNIXPLOT    unixplot
X  # -DX11         X11 Window System (This is $(PLOTXFLAG))
X! TERMFLAGS = -Iterm -DUNIXPLOT $(PLOTXFLAG)
X  
X  ############################################################
X  # Library explanations. 
X--- 146,152 ----
X  # -DUNIXPC      unixpc (ATT 3b1 or ATT 7300)
X  # -DUNIXPLOT    unixplot
X  # -DX11         X11 Window System (This is $(PLOTXFLAG))
X! TERMFLAGS = -Iterm -DUNIXPLOT $(PLOTXFLAG) 
X  
X  ############################################################
X  # Library explanations. 
X***************
X*** 163,172 ****
X  #  -lccgi if -DCGI in TERMFLAGS
X  LIBS = -lm -lplot
X  
X  ############################################################
X  # Machine-dependent settings.
X  #
X! X11R4_FLAGS = \
X      	   CFLAGS="$(COPTS) $(OPTIONS)" \
X      	   LIBS="$(LIBS)" X11FLAGS="$(X11FLAGS)" X11INCLUDES="$(X11INCLUDES)" \
X      	   X11LIBS="$(X11LIBS)" \
X--- 159,175 ----
X  #  -lccgi if -DCGI in TERMFLAGS
X  LIBS = -lm -lplot
X  
X+ ####################################################################
X+ # List of object files except version.o
X+ OBJS = bitmap.o command.o contour.o eval.o graphics.o graph3d.o help.o \
X+ 	   internal.o misc.o parse.o plot.o readline.o scanner.o \
X+ 	   setshow.o standard.o term.o util.o  
X+ 
X+ NEXTOBJS = EPSView.o EpsViewer.o
X  ############################################################
X  # Machine-dependent settings.
X  #
X! X11_FLAGS = \
X      	   CFLAGS="$(COPTS) $(OPTIONS)" \
X      	   LIBS="$(LIBS)" X11FLAGS="$(X11FLAGS)" X11INCLUDES="$(X11INCLUDES)" \
X      	   X11LIBS="$(X11LIBS)" \
X***************
X*** 174,188 ****
X      	   X11INSTALL="$(X11INSTALL)" \
X      	   TERMFLAGS="$(TERMFLAGS)"
X  
X- X11R4_M_FLAGS = \
X-     	   CFLAGS="$(COPTS) $(OPTIONS)" \
X-     	   LIBS="$(LIBS)" X11FLAGS="-DMOTIF -D_NO_PROTO" \
X-     	   X11INCLUDES="-I/usr/include/Xm" \
X-     	   X11LIBS="-lXm -lXt -lX11" \
X-     	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X-     	   X11INSTALL="$(X11INSTALL)" \
X-     	   TERMFLAGS="$(TERMFLAGS)"
X- 
X  DEC_FLAGS = \
X      	   CFLAGS="$(COPTS) $(OPTIONS) " \
X      	   LIBS="$(LIBS)" X11FLAGS="$(X11FLAGS)" X11INCLUDES="$(X11INCLUDES)" \
X--- 177,182 ----
X***************
X*** 191,239 ****
X      	   X11INSTALL="$(X11INSTALL)" \
X      	   TERMFLAGS="$(TERMFLAGS) -DULTRIX_KLUDGE"
X  
X- DEC_M_FLAGS = \
X-     	   CFLAGS="$(COPTS) $(OPTIONS)" \
X-     	   LIBS="$(LIBS)" X11FLAGS="-DMOTIF -D_NO_PROTO" \
X-     	   X11INCLUDES="-I/usr/include/Xm" \
X-     	   X11LIBS="-lXm -lXt -lX11" \
X-     	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X-     	   X11INSTALL="$(X11INSTALL)" \
X-     	   TERMFLAGS="$(TERMFLAGS)  -DULTRIX_KLUDGE"
X- 
X  APOLLO_FLAGS = \
X      	   CFLAGS="$(COPTS) $(OPTIONS)  -DGAMMA=lgamma" \
X      	   LIBS="$(LIBS)" X11FLAGS="$(X11FLAGS)" \
X      	   X11INCLUDES="$(X11INCLUDES)" \
X!     	   X11LIBS="-L/usr/lib/X11 -lXaw -lXmu -lXt -lX11" \
X      	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X      	   X11INSTALL="$(X11INSTALL)" \
X      	   TERMFLAGS="$(TERMFLAGS) -DAPOLLO -DGPR"
X  
X- APOLLO_M_FLAGS = \
X-     	   CFLAGS="$(COPTS) $(OPTIONS)  -DGAMMA=lgamma" \
X-     	   LIBS="$(LIBS)" X11FLAGS="-DMOTIF" X11INCLUDES="-I/usr/include/Xm" \
X-     	   X11LIBS="-L/usr/lib/X11 -lXm -lXt -lX11" \
X-     	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X-     	   TERMFLAGS="$(TERMFLAGS) -DAPOLLO -DGPR"
X- 
X  HP_FLAGS = \
X!     	   CFLAGS="$(COPTS) $(OPTIONS) -DMEMSET -DMEMCPY  -DGETCWD" \
X      	   LIBS="-lm" X11FLAGS="$(X11FLAGS)" \
X!     	   X11INCLUDES="-I/usr/include/X11R4 -I/usr/include/X11R4/X11/Xaw" \
X!     	   X11LIBS="-L/usr/lib/X11R4 -lXaw -lXmu -lXt -lXext -lX11" \
X      	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X      	   X11INSTALL="$(X11INSTALL)" \
X      	   TERMFLAGS="-Iterm -DX11"
X  
X- HP_M_FLAGS = \
X-     	   CFLAGS="$(COPTS) $(OPTIONS) -DMEMSET -DMEMCPY -DGETCWD" \
X-     	   LIBS="-lm" X11FLAGS="-DMOTIF -D_NO_PROTO" \
X-     	   X11INCLUDES="-I/usr/include/Motif1.1 -I/usr/include/Motif1.1/Xm -I/usr/include/X11R4" \
X-     	   X11LIBS="-L/usr/lib/Motif1.1 -L/usr/lib/X11R4 -lXm -lXt -lX11" \
X-     	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X-     	   X11INSTALL="$(X11INSTALL)" \
X-     	   TERMFLAGS=" -Iterm -DX11"
X- 
X  SUN_FLAGS = \
X      	   CFLAGS="$(COPTS) $(OPTIONS)" \
X      	   LIBS="-lsuntool -lsunwindow -lpixrect $(LIBS)" \
X--- 185,208 ----
X      	   X11INSTALL="$(X11INSTALL)" \
X      	   TERMFLAGS="$(TERMFLAGS) -DULTRIX_KLUDGE"
X  
X  APOLLO_FLAGS = \
X      	   CFLAGS="$(COPTS) $(OPTIONS)  -DGAMMA=lgamma" \
X      	   LIBS="$(LIBS)" X11FLAGS="$(X11FLAGS)" \
X      	   X11INCLUDES="$(X11INCLUDES)" \
X!     	   X11LIBS="-L/usr/lib/X11 -lX11" \
X      	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X      	   X11INSTALL="$(X11INSTALL)" \
X      	   TERMFLAGS="$(TERMFLAGS) -DAPOLLO -DGPR"
X  
X  HP_FLAGS = \
X!     	   CFLAGS="+O1 $(OPTIONS) -DMEMSET -DMEMCPY  -DGETCWD" \
X      	   LIBS="-lm" X11FLAGS="$(X11FLAGS)" \
X!     	   X11INCLUDES="-I/usr/include/X11R4" \
X!     	   X11LIBS="-L/usr/lib/X11R4 -lX11" \
X      	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X      	   X11INSTALL="$(X11INSTALL)" \
X      	   TERMFLAGS="-Iterm -DX11"
X  
X  SUN_FLAGS = \
X      	   CFLAGS="$(COPTS) $(OPTIONS)" \
X      	   LIBS="-lsuntool -lsunwindow -lpixrect $(LIBS)" \
X***************
X*** 252,258 ****
X      	   TERMFLAGS="$(TERMFLAGS) -DSUN"
X  
X  SGI_FLAGS = \
X!     	   CFLAGS="$(COPTS) $(OPTIONS)" \
X      	   LIBS="-lgl_s -lm" X11FLAGS=" " X11INCLUDES=" " \
X      	   X11LIBS=" " \
X      	   PLOTXFLAG=" " GNUPLOT_X11=" " X11INSTALL=x11_noinstall \
X--- 221,227 ----
X      	   TERMFLAGS="$(TERMFLAGS) -DSUN"
X  
X  SGI_FLAGS = \
X!     	   CFLAGS="$(COPTS) $(OPTIONS) -DGETCWD -DNOVFORK" \
X      	   LIBS="-lgl_s -lm" X11FLAGS=" " X11INCLUDES=" " \
X      	   X11LIBS=" " \
X      	   PLOTXFLAG=" " GNUPLOT_X11=" " X11INSTALL=x11_noinstall \
X***************
X*** 259,268 ****
X      	   TERMFLAGS="-Iterm -DIRIS4D"
X  
X  SGIX11_FLAGS = \
X!     	   CFLAGS="$(COPTS) $(OPTIONS)" \
X      	   LIBS="-lgl_s -lm -lc_s" X11FLAGS="$(X11FLAGS)" \
X!     	   X11INCLUDES="-I/usr/include/X11 -I/usr/include/X11/Xaw" \
X!     	   X11LIBS="-L/usr/lib/X11 -lXaw -lXmu -lXt -lXext -lX11" \
X       	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X       	   X11INSTALL="$(X11INSTALL)" \
X      	   TERMFLAGS="-Iterm -DX11 -DIRIS4D"
X--- 228,237 ----
X      	   TERMFLAGS="-Iterm -DIRIS4D"
X  
X  SGIX11_FLAGS = \
X!     	   CFLAGS="$(COPTS) $(OPTIONS) -DGETCWD -DNOVFORK" \
X      	   LIBS="-lgl_s -lm -lc_s" X11FLAGS="$(X11FLAGS)" \
X!     	   X11INCLUDES="$(X11INCLUDES)" \
X!     	   X11LIBS="-L/usr/lib/X11 -lX11" \
X       	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X       	   X11INSTALL="$(X11INSTALL)" \
X      	   TERMFLAGS="-Iterm -DX11 -DIRIS4D"
X***************
X*** 297,331 ****
X  AIX_FLAGS = \
X      	   CFLAGS="$(COPTS) $(OPTIONS) -Dunix -DNOVFORK" \
X      	   LIBS="$(LIBS)" X11FLAGS="$(X11FLAGS)" \
X!     	   X11INCLUDES="-I/usr/include/X11 -I/usr/lpp/X11/Xamples/lib/Xaw -I/usr/lpp/X11/Xamples/lib/Xaw/X11" \
X!     	   X11LIBS="-L/usr/lpp/X11/Xamples/lib/Xmu -L/usr/lpp/X11/Xamples/lib/Xaw -lXaw -lXmu -lXt -lXext -lX11" \
X      	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X      	   X11INSTALL="$(X11INSTALL)" \
X      	   TERMFLAGS="$(TERMFLAGS)"
X  
X- AIX_M_FLAGS = \
X-     	   CFLAGS="$(COPTS) $(OPTIONS) -Dunix -DNOVFORK" \
X-     	   LIBS="$(LIBS)" X11FLAGS="-DMOTIF" X11INCLUDES="-I/usr/include/Xm" \
X-     	   X11LIBS="-lXm -lXt -lX11" \
X-     	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X-     	   X11INSTALL="$(X11INSTALL)" \
X-     	   TERMFLAGS="$(TERMFLAGS)"
X- 
X  NEXT_FLAGS = \
X      	   CFLAGS="$(COPTS) -DGAMMA=lgamma -DNEXT" \
X!     	   LIBS="-lm" X11FLAGS="$(X11FLAGS)" \
X      	   X11INCLUDES=" " X11LIBS=" " PLOTXFLAG=" " \
X      	   GNUPLOT_X11=" " X11INSTALL=x11_noinstall \
X!     	   TERMFLAGS="-Iterm"
X  
X  NEXT_X11_FLAGS = \
X      	   CFLAGS="$(COPTS) -DGAMMA=lgamma -DNEXT" \
X!     	   LIBS="-lm" \
X!            X11LIBS="-L/usr/lib/X11 -lXaw -lXmu -lXt -lX11" \
X      	   X11INCLUDES="$(X11INCLUDES)" X11FLAGS="$(X11FLAGS)" \
X      	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X      	   X11INSTALL="$(X11INSTALL)" \
X!     	   TERMFLAGS="-Iterm -DX11"
X  
X  CRAY_FLAGS = \
X  	   CFLAGS="$(COPTS) $(OPTIONS) -DGETCWD -DNOVFORK" \
X--- 266,293 ----
X  AIX_FLAGS = \
X      	   CFLAGS="$(COPTS) $(OPTIONS) -Dunix -DNOVFORK" \
X      	   LIBS="$(LIBS)" X11FLAGS="$(X11FLAGS)" \
X!     	   X11INCLUDES="$(X11INCLUDES)" \
X!     	   X11LIBS="$(X11LIBS)" \
X      	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X      	   X11INSTALL="$(X11INSTALL)" \
X      	   TERMFLAGS="$(TERMFLAGS)"
X  
X  NEXT_FLAGS = \
X      	   CFLAGS="$(COPTS) -DGAMMA=lgamma -DNEXT" \
X!            LIBS="-lNeXT_s -lsys_s -lm" \
X!     	   X11FLAGS="$(X11FLAGS)" \
X      	   X11INCLUDES=" " X11LIBS=" " PLOTXFLAG=" " \
X      	   GNUPLOT_X11=" " X11INSTALL=x11_noinstall \
X!     	   TERMFLAGS="-Iterm" OBJS=" $(OBJS) $(NEXTOBJS)"
X  
X  NEXT_X11_FLAGS = \
X      	   CFLAGS="$(COPTS) -DGAMMA=lgamma -DNEXT" \
X!            LIBS="-lNeXT_s -lsys_s -lm" \
X!            X11LIBS="-L/usr/lib/X11 -lX11" \
X      	   X11INCLUDES="$(X11INCLUDES)" X11FLAGS="$(X11FLAGS)" \
X      	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X      	   X11INSTALL="$(X11INSTALL)" \
X!     	   TERMFLAGS="-Iterm -DX11" OBJS=" $(OBJS) $(NEXTOBJS)"
X  
X  CRAY_FLAGS = \
X  	   CFLAGS="$(COPTS) $(OPTIONS) -DGETCWD -DNOVFORK" \
X***************
X*** 335,340 ****
X--- 297,303 ----
X  	   PLOTXFLAG=" " GNUPLOT_X11=" " \
X  	   X11INSTALL=x11_noinstall \
X  	   TERMFLAGS="-Iterm"
X+ 
X  CRAY_X11_FLAGS = \
X  	   CFLAGS="$(COPTS) $(OPTIONS) -DGETCWD -DNOVFORK" \
X  	   LIBS="-lm" X11FLAGS="$(X11FLAGS)" \
X***************
X*** 343,354 ****
X  	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11="$(GNUPLOT_X11)" \
X  	   X11INSTALL=$(X11INSTALL) \
X  	   TERMFLAGS="-Iterm -DX11"
X  ####################################################################
X- # List of object files except version.o
X- OBJS = bitmap.o command.o contour.o eval.o graphics.o graph3d.o help.o \
X- 	   internal.o misc.o parse.o plot.o readline.o scanner.o \
X- 	   setshow.o standard.o term.o util.o  
X- ####################################################################
X  # List of source files
X  # Used for makeing shar files, lint, and some dependencies.
X  DIRS = term demo docs docs/latextut
X--- 306,330 ----
X  	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11="$(GNUPLOT_X11)" \
X  	   X11INSTALL=$(X11INSTALL) \
X  	   TERMFLAGS="-Iterm -DX11"
X+ 
X+ PTX_X11_FLAGS = \
X+ 	   CFLAGS="$(COPTS) $(OPTIONS) -DGETCWD -DMEMSET -DMEMCPY -DCRIPPLED_SELECT" \
X+ 	   LIBS="-lm -lplot" X11FLAGS="$(X11FLAGS)" \
X+ 	   X11INCLUDES="$(X11INCLUDES)" \
X+ 	   X11LIBS="-lX11 -lseq -lsocket -linet -lnsl" \
X+ 	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11="$(GNUPLOT_X11)" \
X+ 	   X11INSTALL=$(X11INSTALL) \
X+ 	   TERMFLAGS="$(TERMFLAGS)"
X+ 
X+ CONVEX_X11_FLAGS = \
X+     	   CFLAGS="$(COPTS) $(OPTIONS) -DHUGE=8.9e307" \
X+     	   LIBS="$(LIBS)" X11FLAGS="$(X11FLAGS)" X11INCLUDES="$(X11INCLUDES)" \
X+     	   X11LIBS="$(X11LIBS)" \
X+     	   PLOTXFLAG="$(PLOTXFLAG)" GNUPLOT_X11=$(GNUPLOT_X11) \
X+     	   X11INSTALL="$(X11INSTALL)" \
X+     	   TERMFLAGS="$(TERMFLAGS)"
X+ 
X  ####################################################################
X  # List of source files
X  # Used for makeing shar files, lint, and some dependencies.
X  DIRS = term demo docs docs/latextut
X***************
X*** 360,372 ****
X  CSOURCE5 = term/amiga.trm term/aed.trm term/cgi.trm term/dumb.trm term/dxf.trm \
X  	term/dxy.trm term/eepic.trm term/epson.trm term/fig.trm \
X  	term/hp26.trm term/hp2648.trm term/hpgl.trm term/hpljii.trm \
X! 	term/apollo.trm term/gpr.trm
X  CSOURCE6 = term/impcodes.h term/imagen.trm term/object.h \
X! 	term/iris4d.trm term/kyo.trm term/latex.trm term/pc.trm 
X  CSOURCE7 = term/post.trm term/qms.trm term/regis.trm term/sun.trm \
X  	term/t410x.trm term/tek.trm term/unixpc.trm term/unixplot.trm \
X  	term/v384.trm term/x11.trm term/bigfig.trm term/vws.trm gnuplot_x11.c
X  CSOURCE8 = contour.c
X  # not C code, but still needed
X  
X  DEMOS = demo/1.dat demo/2.dat demo/3.dat demo/contours.demo demo/controls.demo \
X--- 336,349 ----
X  CSOURCE5 = term/amiga.trm term/aed.trm term/cgi.trm term/dumb.trm term/dxf.trm \
X  	term/dxy.trm term/eepic.trm term/epson.trm term/fig.trm \
X  	term/hp26.trm term/hp2648.trm term/hpgl.trm term/hpljii.trm \
X! 	term/apollo.trm term/gpr.trm term/ai.trm term/next.trm
X  CSOURCE6 = term/impcodes.h term/imagen.trm term/object.h \
X! 	term/iris4d.trm term/kyo.trm term/latex.trm term/pbm.trm term/pc.trm 
X  CSOURCE7 = term/post.trm term/qms.trm term/regis.trm term/sun.trm \
X  	term/t410x.trm term/tek.trm term/unixpc.trm term/unixplot.trm \
X  	term/v384.trm term/x11.trm term/bigfig.trm term/vws.trm gnuplot_x11.c
X  CSOURCE8 = contour.c
X+ NEXTSRC  = EPSView.m EPSView.h EpsViewer.m EpsViewer.h
X  # not C code, but still needed
X  
X  DEMOS = demo/1.dat demo/2.dat demo/3.dat demo/contours.demo demo/controls.demo \
X***************
X*** 374,388 ****
X  	demo/simple.demo demo/surface1.demo demo/surface2.demo demo/using.dat \
X  	demo/using.demo demo/world.cor demo/world.dat demo/world.demo \
X  	demo/err.dat demo/poldat.demo demo/polar.dat demo/errorbar.demo \
X! 	demo/antenna.dat demo/all.demo demo/bivariat.demo
X  
X  ETC = Copyright README README.gnutex README.amiga makefile.unx makefile.vms  \
X  	linkopt.amg makefile.amg makefile.ami linkopt.vms buildvms.com \
X! 	plot.h help.h setshow.h bitmap.h term.h lasergnu \
X  	term/README History gnuplot.el Intergraph.x11 README.Install
X  
X  #BETA files (not standard distribution files)
X! BETA = BETA10
X  # PC-specific files
X  PC = corgraph.asm corplot.c header.mac hrcgraph.asm lineproc.mac \
X  	linkopt.msc linkopt.tc linkopt.tco makefile.msc makefile.tc \
X--- 351,365 ----
X  	demo/simple.demo demo/surface1.demo demo/surface2.demo demo/using.dat \
X  	demo/using.demo demo/world.cor demo/world.dat demo/world.demo \
X  	demo/err.dat demo/poldat.demo demo/polar.dat demo/errorbar.demo \
X! 	demo/antenna.dat demo/all.demo demo/bivariat.demo demo/hidden.demo
X  
X  ETC = Copyright README README.gnutex README.amiga makefile.unx makefile.vms  \
X  	linkopt.amg makefile.amg makefile.ami linkopt.vms buildvms.com \
X! 	lasergnu  README.3d README.x11 README.NeXT \
X  	term/README History gnuplot.el Intergraph.x11 README.Install
X  
X  #BETA files (not standard distribution files)
X! BETA = BETA6
X  # PC-specific files
X  PC = corgraph.asm corplot.c header.mac hrcgraph.asm lineproc.mac \
X  	linkopt.msc linkopt.tc linkopt.tco makefile.msc makefile.tc \
X***************
X*** 405,438 ****
X  info:
X  	@echo "Please do a 'make <MACHINE>' where <MACHINE> is one of the following:"
X  	@echo 
X! 	@echo "apollo, apollo_motif       for Apollo running SR10.3 with Apollo's X11R3"
X! 	@echo "dec, dec_motif             for Dec3100/5000 running Ultrix 3.1d with MIT's X11R4"
X! 	@echo "hp, hp_motif               for HP/9000 700 series running HP/UX 8.0 with MIT's X11R4"
X! 	@echo "sun                        for Sun sparcstation running SunOS 4.1 with suntools (no X11R4) "
X! 	@echo "sun_x11                    for Sun sparcstation running SunOS 4.1 with suntools and X11R4 "
X! 	@echo "sgi                        for Silicon Graphics IRIS4D machines (no X11R4) "
X! 	@echo "sgix11                     for Silicon Graphics IRIS4D machines (X11R4) "
X! 	@echo "next                       for NeXT Cube and Slab running NeXTOS 2.0+ (no X11R4) "
X! 	@echo "3b1                        for ATT 3b1 machines (no X11R4) "
X! 	@echo "386ix                      for 386 machines running 386/ix (no X11)"
X! 	@echo "386ix_x11                  for 386 machines running 386/ix with T.Roell X386"
X! 	@echo "ibmrs6000, ibmrs6000_motif for IBM RS/6000 running Aix 3.1 with IBM's X11R3"
X! 	@echo "x11r4, x11r4_motif         for a generic machine (like a sun or dec) with MIT's X11R4"
X! 	@echo "cray            for Cray Y-MP or Cray-2 running Unicos 6.0 or 6.1 (no X11R4)"
X! 	@echo "cray_x11        for Cray Y-MP or Cray-2 running Unicos 6.0 or 6.1 with X11R4"
X  	@echo 
X  	@echo "Examples:"
X  	@echo
X! 	@echo "         make x11r4"
X! 	@echo "         make x11r4_motif"
X  	@echo "         make apollo"
X  	@echo "         make apollo       OPTIONS='-DNOCWDRC' "
X! 	@echo "         make apollo_motif DEST='/usr/um/misc/bin' "
X  	@echo "         make dec"
X  	@echo "         make hp"
X  	@echo "         make next"
X  	@echo "         make sun          HELPDEST='/usr/um/misc/lib/gnuplot.gih' "
X! 	@echo "         make sun          X11INCLUDES='-I/usr/local/include -I/usr/local/include/X11 -I/usr/local/include/X11/Xaw' "
X  	@echo "         make sun_x11"
X  	@echo "         make sgi"
X  	@echo "         make 3b1"
X--- 382,417 ----
X  info:
X  	@echo "Please do a 'make <MACHINE>' where <MACHINE> is one of the following:"
X  	@echo 
X! 	@echo "apollo       for Apollo running SR10.3 with Apollo's X11"
X! 	@echo "dec          for Dec3100/5000 running Ultrix 3.1d with MIT's X11"
X! 	@echo "hp           for HP/9000 700 series running HP/UX 8.0 with MIT's X11R4"
X! 	@echo "sun          for Sun sparcstation running SunOS 4.1 with suntools (no X11) "
X! 	@echo "sun_x11      for Sun sparcstation running SunOS 4.1 with suntools and X11 "
X! 	@echo "sgi          for Silicon Graphics IRIS4D machines (no X11) "
X! 	@echo "sgix11       for Silicon Graphics IRIS4D machines (X11) "
X! 	@echo "next         for NeXT Cube and Slab running NeXTOS 2.0+ (no X11)"
X! 	@echo "next_11      for NeXT Cube and Slab running NeXTOS 2.0+ with X11"
X! 	@echo "3b1          for ATT 3b1 machines (no X11) "
X! 	@echo "386ix        for 386 machines running 386/ix (no X11)"
X! 	@echo "386ix_x11    for 386 machines running 386/ix with T.Roell X386"
X! 	@echo "ibmrs6000    for IBM RS/6000 running Aix 3.1 with IBM's X11"
X! 	@echo "x11          for a generic machine (like a sun or dec) with MIT's X11"
X! 	@echo "cray         for Cray Y-MP or Cray-2 running Unicos 6.0 or 6.1 (no X11)"
X! 	@echo "cray_x11     for Cray Y-MP or Cray-2 running Unicos 6.0 or 6.1 with X11"
X! 	@echo "ptx_x11      for Sequent Dynix/PTX with MIT X11"
X! 	@echo "convex_x11   for Convex 9.0 with MIT X11"
X  	@echo 
X  	@echo "Examples:"
X  	@echo
X! 	@echo "         make x11"
X  	@echo "         make apollo"
X  	@echo "         make apollo       OPTIONS='-DNOCWDRC' "
X! 	@echo "         make apollo       DEST='/usr/um/misc/bin' "
X  	@echo "         make dec"
X  	@echo "         make hp"
X  	@echo "         make next"
X  	@echo "         make sun          HELPDEST='/usr/um/misc/lib/gnuplot.gih' "
X! 	@echo "         make sun          X11INCLUDES='-I/usr/local/include' "
X  	@echo "         make sun_x11"
X  	@echo "         make sgi"
X  	@echo "         make 3b1"
X***************
X*** 441,447 ****
X  	@echo "         make cray"
X  	@echo "         make cray_x11"
X  	@echo 
X! 	@echo "If you just type 'make All' , it will build gnuplot for Unix X11R4/Athena"
X  	@echo "and the following variables will be used as default:"
X  	@echo 
X  	@echo " DEST                     " $(DEST)
X--- 420,426 ----
X  	@echo "         make cray"
X  	@echo "         make cray_x11"
X  	@echo 
X! 	@echo "If you just type 'make All' , it will build gnuplot for Unix X11"
X  	@echo "and the following variables will be used as default:"
X  	@echo 
X  	@echo " DEST                     " $(DEST)
X***************
X*** 467,496 ****
X  ###############################################################
X  # Targets for each machine
X  
X! x11r4:
X! 	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(X11R4_FLAGS)    $(TARGET)
X  
X- x11r4_motif:
X- 	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(X11R4_M_FLAGS)  $(TARGET)
X- 
X  dec:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(DEC_FLAGS)      $(TARGET)
X  
X- dec_motif:
X- 	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(DEC_M_FLAGS)    $(TARGET)
X- 
X  apollo:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(APOLLO_FLAGS)   $(TARGET)
X  
X- apollo_motif:
X- 	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(APOLLO_M_FLAGS) $(TARGET)
X- 
X  hp:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(HP_FLAGS)       $(TARGET)
X  
X- hp_motif:
X- 	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(HP_M_FLAGS)       $(TARGET)
X- 
X  next:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(NEXT_FLAGS)     $(TARGET)
X  
X--- 446,463 ----
X  ###############################################################
X  # Targets for each machine
X  
X! x11:
X! 	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(X11_FLAGS)    $(TARGET)
X  
X  dec:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(DEC_FLAGS)      $(TARGET)
X  
X  apollo:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(APOLLO_FLAGS)   $(TARGET)
X  
X  hp:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(HP_FLAGS)       $(TARGET)
X  
X  next:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(NEXT_FLAGS)     $(TARGET)
X  
X***************
X*** 524,535 ****
X  ibmrs6000:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(AIX_FLAGS)      $(TARGET)
X  
X- ibmrs6000_motif:
X- 	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(AIX_M_FLAGS)    $(TARGET)
X  cray:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(CRAY_FLAGS)     $(TARGET)
X  cray_x11:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(CRAY_X11_FLAGS) $(TARGET)
X  
X  #############################################################
X  # Targets that really do something
X--- 491,504 ----
X  ibmrs6000:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(AIX_FLAGS)      $(TARGET)
X  
X  cray:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(CRAY_FLAGS)     $(TARGET)
X  cray_x11:
X  	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(CRAY_X11_FLAGS) $(TARGET)
X+ ptx_x11:
X+ 	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(PTX_X11_FLAGS) $(TARGET)
X+ convex_x11:
X+ 	$(MAKE) $(MFLAGS) $(MY_FLAGS) $(CONVEX_X11_FLAGS) $(TARGET)
X  
X  #############################################################
X  # Targets that really do something
X***************
X*** 556,569 ****
X  	@echo 
X  	@echo "Please do a 'make <MACHINE> TARGET=Install' where <MACHINE> is one of the following:"
X  	@echo 
X! 	@echo "apollo, apollo_motif, dec, dec_motif, hp, sun, sun_x11, sgi, sgix11"
X! 	@echo "next, 3b1, 386ix, ibmrs6000, ibmrs6000_motif, x11r4, x11r4_motif"
X  	@echo 
X  	@echo "Examples:"
X  	@echo
X! 	@echo "         make x11r4        TARGET=Install "
X  	@echo "         make apollo       TARGET=Install "
X- 	@echo "         make apollo_motif TARGET=Install DEST='/usr/um/misc/bin' "
X  	@echo "         make dec          TARGET=Install "
X  	@echo "         make hp           TARGET=Install "
X  	@echo "         make sun          TARGET=Install HELPDEST='/usr/um/misc/lib/gnuplot.gih' "
X--- 525,538 ----
X  	@echo 
X  	@echo "Please do a 'make <MACHINE> TARGET=Install' where <MACHINE> is one of the following:"
X  	@echo 
X! 	@echo "apollo, dec, hp, sun, sun_x11, sgi, sgix11, cgi,"
X! 	@echo "next, next_x11, 3b1, 386ix, 386ix_x11, ibmrs6000,"
X! 	@echo "x11, cray, cray_x11, ptx_x11, convex_x11"
X  	@echo 
X  	@echo "Examples:"
X  	@echo
X! 	@echo "         make x11          TARGET=Install "
X  	@echo "         make apollo       TARGET=Install "
X  	@echo "         make dec          TARGET=Install "
X  	@echo "         make hp           TARGET=Install "
X  	@echo "         make sun          TARGET=Install HELPDEST='/usr/um/misc/lib/gnuplot.gih' "
X***************
X*** 617,625 ****
X  version.o:
X  	$(CC) $(CFLAGS) -DCONTACT=\"$(EMAIL)\" -c version.c
X  
X  $(OBJS): plot.h
X  
X! command.o:
X  	$(CC) $(CFLAGS) -c command.c -DHELPFILE=\"$(HELPDEST)\"
X  
X  command.o help.o misc.o: help.h
X--- 586,600 ----
X  version.o:
X  	$(CC) $(CFLAGS) -DCONTACT=\"$(EMAIL)\" -c version.c
X  
X+ EpsViewer.o : EpsViewer.h EpsViewer.m EPSView.h
X+ 	$(CC) -c EpsViewer.m
X+ 
X+ EPSView.o : EPSView.h EPSView.m
X+ 		$(CC) -c EPSView.m  
X+ 
X  $(OBJS): plot.h
X  
X! command.o: command.c
X  	$(CC) $(CFLAGS) -c command.c -DHELPFILE=\"$(HELPDEST)\"
X  
X  command.o help.o misc.o: help.h
X***************
X*** 632,639 ****
X  # Miscellaneous targets
X  
X  SOURCES=plot.h help.h setshow.h bitmap.h term.h $(CSOURCE1) $(CSOURCE2) \
X! 	$(CSOURCE3) $(CSOURCE4) $(CSOURCE5) $(CSOURCE6) $(CSOURCE7) $(CSOURCE8)
X  
X  lint:
X  	lint -hx $(SOURCES)
X  
X--- 607,617 ----
X  # Miscellaneous targets
X  
X  SOURCES=plot.h help.h setshow.h bitmap.h term.h $(CSOURCE1) $(CSOURCE2) \
X! 	$(CSOURCE3) $(CSOURCE4) $(CSOURCE5) $(CSOURCE6) $(CSOURCE7)\
X! 	 $(CSOURCE8) $(NEXTSRC)
X  
X+ DOCS  = $(DOCS1) $(DOCS2) $(DOCS3)
X+ 
X  lint:
X  	lint -hx $(SOURCES)
X  
X***************
X*** 704,707 ****
X--- 682,712 ----
X  
X  gnuplot.sh15: $(BETA)
X  	shar $(BETA) > gnuplot.sh15
X+ 
X+ tar: $(ETC) $(SOURCES) $(PC) $(DEMOS) $(BETA) $(DOCS)
X+ 	$(TAR) cvf /tmp/gnuplot.tar $(ETC) $(SOURCES) $(PC)\
X+ 		 $(DEMOS) $(BETA) $(DOCS)
X+ rcsdoc:
X+ 	rcs -o-$(RCSOLD) -l$(RCSVER) $(DOCS)
X+ 
X+ rcs:
X+ 	rcs -l$(RCSVER) -c$(RCSCOM) $(ETC) $(SOURCES) $(PC)
X+ 
X+ ci:
X+ 	ci -l$(RCSVER) -m$(RCSCOM) $(SOURCES) $(PC) $(ETC)
X+ 
X+ cidoc:
X+ 	ci -l$(RCSVER) -m$(RCSCOM) $(DOCS)
X+ 
X+ cidemo:
X+ 	ci -l$(RCSVER) -m$(RCSCOM) $(DEMOS)
X+ 
X+ co:
X+ 	co -l -r$(RCSVER) $(ETC) $(SOURCES) $(PC)
X+ 
X+ codoc:
X+ 	co -l -r$(RCSVER) $(DOCS)
X+ 
X+ codemo:
X+ 	co -l -r$(RCSVER) $(DEMOS)
X  
END_OF_FILE
  if test 45409 -ne `wc -c <'patch.4'`; then
    echo shar: \"'patch.4'\" unpacked with wrong size!
  fi
  # end of 'patch.4'
fi
if test -f 'term/pbm.trm' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'term/pbm.trm'\"
else
  echo shar: Extracting \"'term/pbm.trm'\" \(6895 characters\)
  sed "s/^X//" >'term/pbm.trm' <<'END_OF_FILE'
X/*
X * $Id: pbm.trm,v 3.24 1992/02/29 16:23:41 woo Exp woo $
X *
X * $Log: pbm.trm,v $
X * Revision 3.24  1992/02/29  16:23:41  woo
X * gnuplot3.2, beta 4
X *
X * Revision 3.23  1992/02/21  20:18:16  woo
X * gnuplot3.2, beta 3
X *
X */
X
X/* GNUPLOT - pbm.trm */
X/*
X * Copyright (C) 1990, 1991, 1992   
X *
X * Permission to use, copy, and distribute this software and its
X * documentation for any purpose with or without fee is hereby granted, 
X * provided that the above copyright notice appear in all copies and 
X * that both that copyright notice and this permission notice appear 
X * in supporting documentation.
X *
X * Permission to modify the software is granted, but not the right to
X * distribute the modified code.  Modifications are to be distributed 
X * as patches to released version.
X *  
X * This software  is provided "as is" without express or implied warranty.
X * 
X * This file is included by ../term.c.
X *
X * This terminal driver supports:
X *  pbm, pgm, ppm
X *
X * AUTHORS
X *  Russell Lang
X *
X * send your comments or suggestions to (info-gnuplot@ames.arc.nasa.gov).
X * 
X */
X
X/* The following pbmplus drivers use the generic bit mapped graphics
X   routines from bitmap.c to build up a bit map in memory.  The driver
X   interchanges colomns and lines in order to access entire lines
X   easily and returns the lines to get bits in the right order :
X   (x,y) -> (y,XMAX-1-x). */
X/* This interchange is done by calling b_makebitmap() with reversed 
X   xmax and ymax, and then setting b_rastermode to TRUE.  b_setpixel()
X   will then perform the interchange before each pixel is plotted */
X/* See Jef Poskanzer's excellent PBMplus package for more details of
X   the Portable BitMap format and for programs to convert PBM files  
X   to other bitmap formats. */
X
X#ifdef PBM
X
X/* make XMAX and YMAX a multiple of 8 */
X#define PBM_XMAX (640)
X#define PBM_YMAX (480)
X#define PBM_VCHAR (FNT5X9_VCHAR)
X#define PBM_HCHAR (FNT5X9_VCHAR)
X#define PBM_VTIC FNT5X9_HBITS
X#define PBM_HTIC FNT5X9_HBITS
X
Xstatic int pbm_font=1;	/* small font */
X/* 7=black, 0=white */
Xstatic int pgm_gray[]={7,1,6,5,4,3,2,1,7};  /* grays  */
X/* bit3=!intensify, bit2=!red, bit1=!green, bit0=!blue */
Xstatic int ppm_color[]={15,8,3,5,6,4,2,1,11,13,14}; /* colors */
X
XPBMoptions()
X{
X	if (!END_OF_COMMAND) {
X		if (almost_equals(c_token,"s$mall"))
X			pbm_font=1;
X		else if (almost_equals(c_token,"m$edium"))
X			pbm_font=2;
X		else if (almost_equals(c_token,"l$arge"))
X			pbm_font=3;
X		else
X			int_error("expecting: small, medium, large",c_token);
X		c_token++;
X	}
X}
X
X
XPBMinit()
X{
X#ifdef vms
X   reopen_binary();
X#endif /* vms */
X#ifdef PC
X   reopen_binary();
X#endif /* PC */
X}
X
X
XPBMreset()
X{
X#ifdef vms
X   fflush_binary();
X#endif /* vms */
X}
X
X
XPBMsetfont()
X{
X	switch(pbm_font) {
X		case 1:
X			b_charsize(FNT5X9);
X			term_tbl[term].v_char = FNT5X9_VCHAR;
X			term_tbl[term].h_char = FNT5X9_HCHAR;
X			term_tbl[term].v_tic = FNT5X9_HBITS;
X			term_tbl[term].h_tic = FNT5X9_HBITS;
X			break;
X		case 2:
X			b_charsize(FNT9X17);
X			term_tbl[term].v_char = FNT9X17_VCHAR;
X			term_tbl[term].h_char = FNT9X17_HCHAR;
X			term_tbl[term].v_tic = FNT9X17_HBITS;
X			term_tbl[term].h_tic = FNT9X17_HBITS;
X			break;
X		case 3:
X			b_charsize(FNT13X25);
X			term_tbl[term].v_char = FNT13X25_VCHAR;
X			term_tbl[term].h_char = FNT13X25_HCHAR;
X			term_tbl[term].v_tic = FNT13X25_HBITS;
X			term_tbl[term].h_tic = FNT13X25_HBITS;
X			break;
X	}
X}
X
X
XPBMgraphics()
X{
X	PBMsetfont();
X	/* rotate plot -90 degrees by reversing XMAX and YMAX and by 
X	setting b_rastermode to TRUE */
X	b_makebitmap((unsigned int)(PBM_YMAX*ysize),
X                     (unsigned int)(PBM_XMAX*xsize),1);
X	b_rastermode = TRUE;
X}
X
X
XPBMtext()
X{
X  register int x,j,row;
X
X   fprintf(outfile,"P4\n");
X   fprintf(outfile,"%u %u\n", b_ysize, b_xsize);
X
X   /* dump bitmap in raster mode */
X   for (x = b_xsize-1; x >= 0; x--) {
X      row = (b_ysize/8)-1;
X      for (j = row; j >= 0; j--) {
X         (void) fputc( (char)(*((*b_p)[j]+x)), outfile );
X      }
X   }
X
X   b_freebitmap();
X}
X
X#define PBMlinetype b_setlinetype
X#define PBMmove b_move
X#define PBMvector b_vector
X#define PBMtext_angle b_text_angle
X#define PBMtext_angle b_text_angle
X#define PBMput_text b_put_text
X
X/* PGM functions */
XPGMgraphics()
X{
X	PBMsetfont();
X	/* rotate plot -90 degrees by reversing XMAX and YMAX and by 
X	setting b_rastermode to TRUE */
X	b_makebitmap((unsigned int)(PBM_YMAX*ysize),
X                     (unsigned int)(PBM_XMAX*xsize),3);
X	b_rastermode = TRUE;
X        b_setlinetype(0); /* solid lines */
X}
X
X
XPGMtext()
X{
X  register int x,j,row;
X  register int i,value;
X  int mask, plane1, plane2, plane3;
X
X   fprintf(outfile,"P5\n");
X   fprintf(outfile,"%u %u\n", b_ysize, b_xsize);
X   fprintf(outfile,"%u\n",7);
X
X   /* dump bitmap in raster mode */
X   for (x = b_xsize-1; x >= 0; x--) {
X      row = (b_ysize/8)-1;
X      for (j = row; j >= 0; j--) {
X         mask = 0x80;
X         plane1=(*((*b_p)[j]+x));
X         plane2=(*((*b_p)[j+b_psize]+x));
X         plane3=(*((*b_p)[j+b_psize+b_psize]+x));
X         for (i=0; i<8; i++) {
X            value=7;
X            if (plane1 & mask)  value-=1;
X            if (plane2 & mask)  value-=2;
X            if (plane3 & mask)  value-=4;
X            (void) fputc( (char)(value), outfile );
X            mask>>=1;
X         }
X      }
X   }
X
X   b_freebitmap();
X}
X
X
XPGMlinetype(linetype)
Xint linetype;
X{
X    if (linetype>=7)
X        linetype %= 7;
X    b_setvalue(pgm_gray[linetype+2]);
X}
X
X
X/* PPM functions */
XPPMgraphics()
X{
X	PBMsetfont();
X	/* rotate plot -90 degrees by reversing XMAX and YMAX and by 
X	setting b_rastermode to TRUE */
X	b_makebitmap((unsigned int)(PBM_YMAX*ysize),
X                     (unsigned int)(PBM_XMAX*xsize),4);
X	b_rastermode = TRUE;
X        b_setlinetype(0); /* solid lines */
X}
X
X
X
XPPMtext()
X{
X  register int x,j,row;
X  register int i;
X  int mask, plane1, plane2, plane3, plane4;
X  int red, green, blue;
X
X   fprintf(outfile,"P6\n");
X   fprintf(outfile,"%u %u\n", b_ysize, b_xsize);
X   fprintf(outfile,"%u\n",3);
X
X   /* dump bitmap in raster mode */
X   for (x = b_xsize-1; x >= 0; x--) {
X      row = (b_ysize/8)-1;
X      for (j = row; j >= 0; j--) {
X         mask = 0x80;
X         plane1=(*((*b_p)[j]+x));
X         plane2=(*((*b_p)[j+b_psize]+x));
X         plane3=(*((*b_p)[j+b_psize+b_psize]+x));
X         plane4=(*((*b_p)[j+b_psize+b_psize+b_psize]+x));
X         for (i=0; i<8; i++) {
X            red = (plane3 & mask) ? 1 : 3;
X            green = (plane2 & mask) ? 1 : 3;
X            blue = (plane1 & mask) ? 1 : 3;
X            if (plane4 & mask) {
X               red--; green--; blue--;
X            }
X            (void) fputc( (char)(red), outfile );
X            (void) fputc( (char)(green), outfile );
X            (void) fputc( (char)(blue), outfile );
X            mask>>=1;
X         }
X      }
X   }
X
X   b_freebitmap();
X}
X
X
XPPMlinetype(linetype)
Xint linetype;
X{
X    if (linetype>=9)
X        linetype %= 9;
X    b_setvalue(ppm_color[linetype+2]);
X}
X
X#endif /* PBM */
END_OF_FILE
  if test 6895 -ne `wc -c <'term/pbm.trm'`; then
    echo shar: \"'term/pbm.trm'\" unpacked with wrong size!
  fi
  # end of 'term/pbm.trm'
fi
echo shar: End of archive 2 \(of 7\).
cp /dev/null ark2isdone
MISSING=""
for I in 1 2 3 4 5 6 7 ; do
    if test ! -f ark${I}isdone ; then
	MISSING="${MISSING} ${I}"
    fi
done
if test "${MISSING}" = "" ; then
    echo You have unpacked all 7 archives.
    rm -f ark[1-9]isdone
else
    echo You still must unpack the following archives:
    echo "        " ${MISSING}
fi
exit 0

exit 0 # Just in case...
