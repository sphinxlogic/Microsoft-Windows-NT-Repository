Newsgroups: comp.sources.misc
From: jmd@cyclone.bt.co.uk (John Downey)
Subject: v35i101:  xvi - portable multi-window vi-like editor, Patch01d/7
Message-ID: <1993Feb23.183404.13547@sparky.imd.sterling.com>
X-Md4-Signature: ec57b6924d6aaccd0272455fb3c8cbf3
Date: Tue, 23 Feb 1993 18:34:04 GMT
Approved: kent@sparky.imd.sterling.com

Submitted-by: jmd@cyclone.bt.co.uk (John Downey)
Posting-number: Volume 35, Issue 101
Archive-name: xvi/patch01d
Environment: Unix, MS-DOS, OS/2, QNX
Patch-To: xvi: Volume 33, Issue 10-27

#! /bin/sh
# This is a shell archive.  Remove anything before this line, then unpack
# it by saving it into a file and typing "sh file".  To overwrite existing
# files, type "sh file -c".  You can also feed this as standard input via
# unshar, or by typing "sh <file", e.g..  If this archive is complete, you
# will see the following message at the end:
#		"End of archive 4 (of 7)."
# Contents:  doc/source.ps3
# Wrapped by jmd@bealfeirste on Mon Feb  8 19:57:07 1993
PATH=/bin:/usr/bin:/usr/ucb ; export PATH
if test -f 'doc/source.ps3' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'doc/source.ps3'\"
else
echo shar: Extracting \"'doc/source.ps3'\" \(36483 characters\)
sed "s/^X//" >'doc/source.ps3' <<'END_OF_FILE'
X1288(The)S
X4 F
X1412(#)S
X3 F
X(de\256ne)R
X1 F
X1636(for)S
X3 F
X1735(ev)S
X5 F
X(_)R
X3 F
X(inchar)R
X1 F
X2035(is)S
X2101(provided)S
X2357(purely)S
X2547(for)S
X2646(convenience.)S
X2991 2310(n)U
X432 2388(m)U
X432 2310(The)U
X575(return)S
X773(value)S
X955(from)S
X3 F
X1123(xvi)S
X5 F
X(_)R
X3 F
X(handle)R
X5 F
X(_)R
X3 F
X(event\(\))R
X1 F
X1698(is)S
X1782(a)S
X1851(long)S
X2008(integer)S
X2230(value)S
X2412(which)S
X2613(is)S
X2697(the)S
X2817(time)S
X2973(i)S
X483 2388(illiseconds)U
X788(for)S
X889(which)S
X1074(the)S
X1178(editor)S
X1355(is)S
X1422(prepared)S
X1675(to)S
X1749(wait)S
X1885(for)S
X1985(more)S
X2143(input.)S
X2340(If)S
X2407(no)S
X2496(input)S
X2654(arrives)S
X2856(within)S
X3006 2466(t)U
X432 2544(v)U
X432 2466(that)U
X555(time,)S
X713(the)S
X818(function)S
X1062(should)S
X1263(be)S
X1350(called)S
X1531(again)S
X1698(with)S
X1840(an)S
X1927(event)S
X2093(of)S
X2172(type)S
X3 F
X2309(Ev)S
X5 F
X(_)R
X3 F
X(timeout)R
X1 F
X(.)R
X2698(The)S
X2824(timeou)S
X465 2544(alue)U
X604(returned)S
X853(may)S
X996(be)S
X1088(0L,)S
X1208(indicating)S
X1500(that)S
X1628(no)S
X1724(timeout)S
X1954(is)S
X2028(necessary.)S
X2353(It)S
X2423(is)S
X2496(very)S
X2642(important)S
X2926(that)S
X432 2721(C)U
X432 2622(timeouts)U
X680(should)S
X878(actually)S
X1107(be)S
X1191(implement)S
X1471(ed)S
X1555(because)S
X1785(they)S
X1920(are)S
X2022(needed)S
X2230(for)S
X2329(the)S
X3 F
X2431(preserve)S
X1 F
X2694(facility.)S
X476 2721(urrently,)U
X724(if)S
X787(a)S
X838(keyboard)S
X1105(interrupt)S
X1353(is)S
X1419(received,)S
X3 F
X1680(xvi)S
X5 F
X(_)R
X3 F
X(handle)R
X5 F
X(_)R
X3 F
X(event\(\))R
X1 F
X2237(need)S
X2383(not)S
X2489(be)S
X2573(called)S
X2751(\(it)S
X2831(should,)S
X432 2877(v)U
X432 2799(in)U
X511(any)S
X634(case,)S
X792(never)S
X966(be)S
X1056(called)S
X1240(from)S
X1396(an)S
X1486(asynchronous)S
X1877(interrupt)S
X2130(or)S
X2212(signal)S
X2396(handler\))S
X2642(but)S
X2753(the)S
X2860(global)S
X465 2877(ariable)U
X3 F
X665(kbdintr)S
X1 F
X904(should)S
X1102(be)S
X1186(set)S
X1281(to)S
X1354(a)S
X1405(non-zero)S
X1661(value.)S
X432 3261(S)U
X3 F
X432 3162(5.)U
X526(DATA)S
X736(STRUCTURES)S
X1 F
X469 3261(tructures)U
X723(used)S
X868(in)S
X3 F
X943(xvi)S
X1 F
X1051(are)S
X1155(all)S
X1243(typedef'd,)S
X1535(and)S
X1653(all)S
X1741(begin)S
X1910(with)S
X2050(a)S
X2102(capital)S
X2299(letter.)S
X2495(They)S
X2653(are)S
X2756(de\256ned)S
X2973(in)S
X3 F
X432 3495(5)U
X432 3339(xvi.h)U
X1 F
X(.)R
X631(The)S
X755(following)S
X1033(data)S
X1164(structures)S
X1442(are)S
X1544(de\256ned:)S
X3 F
X465 3495(.1.)U
X576(Line)S
X1 F
X432 3594(T)U
X(his)R
X580(structure)S
X841(is)S
X916(used)S
X1068(to)S
X1150(hold)S
X1298(a)S
X1358(single)S
X1546(text)S
X1675(line.)S
X1843(It)S
X1913(contains)S
X2162(forward)S
X2401(and)S
X2526(backward)S
X2812(pointers)S
X432 3750(a)U
X432 3672(which)U
X622(are)S
X731(connected)S
X1026(together)S
X1270(to)S
X1350(form)S
X1507(a)S
X1565(two-way)S
X1824(linked)S
X2016(list.)S
X2163(It)S
X2231(also)S
X2365(contains)S
X2612(a)S
X2669(pointer)S
X2883(to)S
X2962(an)S
X461 3750(llocated)U
X697(text)S
X824(buffer,)S
X1031(an)S
X1122(integer)S
X1333(recording)S
X1614(the)S
X1722(number)S
X1951(of)S
X2034(bytes)S
X2201(allocate)S
X2404(d)S
X2465(for)S
X2570(the)S
X2678(text,)S
X2821(and)S
X2944(the)S
X432 3906(b)U
X432 3828(line)U
X553(number)S
X777(\(an)S
X884(unsigned)S
X1145(long\).)S
X1346(The)S
X1471(text)S
X1592(is)S
X1659(null-termina)S
X1983(ted,)S
X2103(and)S
X2221(the)S
X2324(space)S
X2493(allocate)S
X2696(d)S
X2752(for)S
X2852(it)S
X2911(may)S
X465 3906(e)U
X555(grown)S
X785(but)S
X930(is)S
X1035(never)S
X1242(shrunk.)S
X1522(The)S
X1684(maximum)S
X2010(size)S
X2172(of)S
X2287(this)S
X2442(space)S
X2648(is)S
X2752(given)S
X2958(by)S
X432 4083(T)U
X3 F
X432 3984(MAX)U
X5 F
X(_)R
X3 F
X(LINE)R
X5 F
X(_)R
X3 F
X(LENGTH)R
X1 F
X(.)R
X472 4083(he)U
X564(line)S
X692(number)S
X923(is)S
X997(used)S
X1148(when)S
X1321(showing)S
X1575(line)S
X1703(numbers)S
X1960(on)S
X2056(screen,)S
X2271(but)S
X2385(this)S
X2510(is)S
X2584(secondary)S
X2881(to)S
X2962(its)S
X432 4239(e)U
X432 4161(main)U
X595(purpose)S
X836(of)S
X923(providing)S
X1211(an)S
X1305(ordering)S
X1559(on)S
X1656(lines;)S
X1829(the)S
X1940(ordering)S
X2194(of)S
X2280(two)S
X2410(lines)S
X2565(in)S
X2647(a)S
X2707(list)S
X2818(may)S
X2962(be)S
X461 4239(stablished)U
X749(by)S
X840(simply)S
X1044(comparing)S
X1350(their)S
X1495(line)S
X1618(numbers)S
X1869(\(macros)S
X2105(are)S
X2209(available)S
X2469(for)S
X2570(this)S
X2689(purpose;)S
X2940(see)S
X2 F
X432 4707(P)U
X1 F
X432 4317(later)U
X570(for)S
X669(details\).)S
X2 F
X472 4707(age)U
X589(12)S
X2453(25th)S
X2592(September)S
X2892(1992)S
XEP
X%%Page: ? 13
XBP
X2 F
X66 Z
X2991 366(3)U
X3 F
X432 558(5)U
X2 F
X432 366(Xvi)U
X541(Source)S
X746(Code)S
X907(Notes)S
X2958(1)S
X3 F
X465 558(.2.)U
X576(Buffer)S
X1 F
X432 657(T)U
X(his)R
X576(structure)S
X833(holds)S
X1003(the)S
X1110(internal)S
X1337(representation)S
X1736(of)S
X1818(a)S
X1873(\256le.)S
X2022(It)S
X2088(contains)S
X2333(pointers)S
X2571(to)S
X2648(the)S
X2754(linked)S
X2944(list)S
X432 813(t)U
X432 735(of)U
X512(lines)S
X660(which)S
X845(comprise)S
X1110(the)S
X1214(actual)S
X1394(text.)S
X1555(We)S
X1670(always)S
X1877(allocate)S
X2104(an)S
X2190(extra)S
X2345(line)S
X2467(at)S
X2538(the)S
X2642(beginning)S
X2929(and)S
X450 813(he)U
X545(end,)S
X690(with)S
X840(line)S
X971(numbers)S
X1231(0)S
X1297(and)S
X3 F
X1425(MAX)S
X5 F
X(_)R
X3 F
X(LINENO)R
X1 F
X1910(respectively,)S
X2277(in)S
X2360(order)S
X2531(to)S
X2614(make)S
X2788(the)S
X2900(code)S
X2995 891(e)U
X432 969(a)U
X432 891(which)U
X624(deals)S
X790(with)S
X938(this)S
X1063(structure)S
X1323(easier.)S
X1545(The)S
X1677(line)S
X1805(numbers)S
X2062(of)S
X3 F
X2147(Line)S
X1 F
X2305(structures)S
X2591(in)S
X2672(a)S
X3 F
X2731(Buffer)S
X1 F
X2944(ar)S
X461 969(lways)U
X637(maintaine)S
X895(d)S
X950(by)S
X1038(code)S
X1184(in)S
X3 F
X1257(undo.c)S
X1 F
X(,)R
X1486(which)S
X1669(is)S
X1735(the)S
X1837(only)S
X1976(module)S
X2195(which)S
X2378(ever)S
X2513(changes)S
X2747(the)S
X2849(text)S
X2969(of)S
X432 1146(T)U
X432 1047(a)U
X3 F
X483(Buffer)S
X1 F
X(.)R
X472 1146(he)U
X3 F
X556(Buffer)S
X1 F
X761(structure)S
X1013(also)S
X1141(contains:)S
X1652 1245(d)U
X4 F
X432 1344(\267)U
X432 1245(\267)U
X1 F
X648(\257ags,)S
X812(including)S
X1082(readonly)S
X1334(and)S
X1451(modi\256e)S
X648 1344(current)U
X856(\256lename)S
X1104(associated)S
X1396(with)S
X1535(the)S
X1637(buffer)S
X4 F
X432 1542(\267)U
X432 1443(\267)U
X1 F
X648(temporary)S
X940(\256lename)S
X1188(for)S
X1287(buffer)S
X1470(preservation)S
X648 1542(space)U
X816(for)S
X915(the)S
X3 F
X1017(mark)S
X1 F
X1193(module)S
X1412(to)S
X1485(store)S
X1635(information)S
X1967(about)S
X2135(marked)S
X2354(lines)S
X2497 1641(e)U
X4 F
X432 1740(\267)U
X432 1641(\267)U
X1 F
X648(space)S
X816(for)S
X915(the)S
X3 F
X1017(undo)S
X1 F
X1183(module)S
X1402(to)S
X1475(store)S
X1625(information)S
X1957(about)S
X2125(the)S
X2227(last)S
X2340(chang)S
X648 1740(number)U
X871(of)S
X948(windows)S
X1209(associated)S
X1501(with)S
X1640(the)S
X1742(buffer)S
X2870 1839(:)U
X3 F
X432 1938(l)U
X1 F
X432 1839(The)U
X556(following)S
X834(macros)S
X1046(are)S
X1148(used)S
X1291(to)S
X1364(\256nd)S
X1489(out)S
X1595(certain)S
X1795(information)S
X2127(about)S
X3 F
X2295(Line)S
X1 F
X(s)R
X2471(within)S
X3 F
X2661(Buffers)S
X450 1938(ineno\(Buffer)U
X831(*b,)S
X940(Line)S
X1090(*l\))S
X1 F
X648 2016(R)U
X(eturns)R
X875(the)S
X977(line)S
X1097(number)S
X1320(of)S
X1397(the)S
X1499(speci\256ed)S
X3 F
X1755(Line)S
X1 F
X(,)R
X1922(which)S
X2105(belongs)S
X2332(to)S
X2405(the)S
X2507(speci\256ed)S
X3 F
X2763(Buffer)S
X1 F
X(.)R
X3 F
X432 2115(earlier\(Li)U
X701(ne)S
X789(*l1,)S
X912(Line)S
X1062(*l2\))S
X1 F
X648 2193(Returns)U
X3 F
X875(TRUE)S
X1 F
X1081(if)S
X3 F
X1143(l1)S
X1 F
X1216(is)S
X1282(earlier)S
X1471(in)S
X1544(the)S
X1646(buffer)S
X1829(than)S
X3 F
X1964(l2)S
X1 F
X(.)R
X3 F
X432 2292(later\(Line)U
X735(*l1,)S
X858(Line)S
X1008(*l2\))S
X1 F
X648 2370(Returns)U
X3 F
X875(TRUE)S
X1 F
X1081(if)S
X3 F
X1143(l1)S
X1 F
X1216(is)S
X1282(later)S
X1420(in)S
X1493(the)S
X1595(buffer)S
X1778(than)S
X3 F
X1913(l2)S
X1 F
X(.)R
X3 F
X432 2469(is)U
X5 F
X(_)R
X3 F
X(lastline\(Line)R
X882(*l1\))S
X1 F
X648 2547(Returns)U
X3 F
X878(TRUE)S
X1 F
X1087(if)S
X3 F
X1152(l1)S
X1 F
X1227(is)S
X1295(the)S
X1399(last)S
X1514(line)S
X1636(\(i.e.)S
X1763(the)S
X1867(extra)S
X2022(line)S
X2144(at)S
X2215(the)S
X2319(end,)S
X2455(not)S
X2563(the)S
X2667(last)S
X2782(text)S
X2904(line\))S
X3 F
X432 2724(i)U
X1 F
X648 2625(of)U
X725(the)S
X827(buffer.)S
X3 F
X450 2724(s)U
X5 F
X(_)R
X3 F
X(line0\(Line)R
X816(*l1\))S
X1 F
X648 2802(R)U
X(eturns)R
X3 F
X876(TRUE)S
X1 F
X1083(if)S
X3 F
X1146(l1)S
X1 F
X1220(is)S
X1287(the)S
X1390(0th)S
X1497(line)S
X1618(\(i.e.)S
X1744(the)S
X1847(extra)S
X2001(line)S
X2122(at)S
X2192(the)S
X2295(start,)S
X2448(not)S
X2555(the)S
X2658(\256rst)S
X2784(text)S
X2904(line\))S
X648 2880(of)U
X725(the)S
X827(buffer.)S
X3 F
X675 3036(n)U
X1 F
X432 3135(T)U
X3 F
X432 3036(5.3.)U
X576(Pos)S
X1 F
X472 3135(his)U
X579(structure)S
X839(is)S
X913(very)S
X1060(simple;)S
X1283(it)S
X1349(contains)S
X1598(a)S
X3 F
X1657(Line)S
X1 F
X1815(pointer)S
X2031(and)S
X2156(an)S
X2248(integer)S
X2460(index)S
X2636(into)S
X2768(the)S
X2878(line's)S
X432 3312(T)U
X432 3213(text,)U
X569(and)S
X686(is)S
X752(used)S
X895(to)S
X968(record)S
X1158(a)S
X1209(position)S
X1443(within)S
X1633(a)S
X1684(buffer,)S
X1884(e.g.)S
X2002(the)S
X2104(current)S
X2312(cursor)S
X2499(position.)S
X472 3312(hese)U
X611(functions)S
X878(are)S
X980(available)S
X1238(for)S
X1337(operating)S
X1607(on)S
X3 F
X1695(Posn)S
X1 F
X1853(structures:)S
X3 F
X432 3411(gchar\(Posn)U
X773(*\))S
X1 F
X648 3489(Returns)U
X875(the)S
X977(character)S
X1239(which)S
X1422(is)S
X1488(at)S
X1557(the)S
X1659(given)S
X1827(position.)S
X3 F
X432 3588(inc\(Posn)U
X696(*\))S
X1 F
X648 3666(Increments)U
X972(the)S
X1084(given)S
X1262(position,)S
X1522(moving)S
X1754(past)S
X1891(end-of-line)S
X2214(to)S
X2296(the)S
X2407(next)S
X2551(line)S
X2680(if)S
X2751(necessary.)S
X648 3744(The)U
X772(following)S
X1050(type)S
X1185(is)S
X1251(returned:)S
X3 F
X692 3858(enum)U
X872(mvtype)S
X5 F
X1103({)S
X3 F
X780 3936(m)U
X(v)R
X5 F
X(_)R
X3 F
X(NOMOVE,)R
X1512(/*)S
X1585(at)S
X1662(beginning)S
X1963(or)S
X2047(end)S
X2172(of)S
X2249(buffer)S
X2447(*/)S
X780 4092(m)U
X780 4014(mv)U
X5 F
X(_)R
X3 F
X(SAMELINE,)R
X1512(/*)S
X1585(still)S
X1709(within)S
X1911(same)S
X2076(line)S
X2200(*/)S
X835 4092(v)U
X5 F
X(_)R
X3 F
X(CHLINE,)R
X1512(/*)S
X1585(changed)S
X1842(to)S
X1919(different)S
X2186(line)S
X2310(*/)S
X2 F
X432 4707(2)U
X5 F
X692 4248(})U
X3 F
X(;)R
X780 4170(mv)U
X5 F
X(_)R
X3 F
X(EOL,)R
X1512(/*)S
X1585(at)S
X1662(terminating)S
X2017(')S
X5 F
X(\\)R
X3 F
X(0')R
X2134(*/)S
X2 F
X465 4707(5th)U
X571(September)S
X871(1992)S
X2801(Page)S
X2958(13)S
XEP
X%%Page: ? 14
XBP
X2 F
X66 Z
X2998 366(s)U
X3 F
X432 558(d)U
X2 F
X432 366(14)U
X2399(Xvi)S
X2508(Source)S
X2713(Code)S
X2874(Note)S
X3 F
X469 558(ec\(Posn)U
X707(*\))S
X1 F
X648 636(A)U
X(s)R
X744(for)S
X3 F
X843(inc\(\))S
X1 F
X993(but)S
X1099(decrements)S
X1420(the)S
X1522(position.)S
X3 F
X432 735(lt\(Posn)U
X652(*p1,)S
X794(Posn)S
X952(*p2\))S
X1 F
X648 813(Returns)U
X3 F
X876(TRUE)S
X1 F
X1083(if)S
X1146(the)S
X1249(position)S
X1484(speci\256ed)S
X1741(by)S
X3 F
X1830(p1)S
X1 F
X1922(is)S
X1988(earlier)S
X2177(in)S
X2250(the)S
X2352(buffer)S
X2535(than)S
X2670(that)S
X2790(speci\256ed)S
X648 891(by)U
X3 F
X736(p2)S
X1 F
X(.)R
X3 F
X741 1047(n)U
X1 F
X432 1146(T)U
X3 F
X432 1047(5.4.)U
X576(Xviwi)S
X1 F
X472 1146(his)U
X571(structure)S
X823(maps)S
X984(a)S
X1035(screen)S
X1225(window)S
X1460(onto)S
X1599(a)S
X3 F
X1650(Buffer)S
X1 F
X(.)R
X1894(It)S
X1956(contains:)S
X4 F
X432 1344(\267)U
X432 1245(\267)U
X1 F
X648(a)S
X699(pointer)S
X907(to)S
X980(the)S
X3 F
X1082(Buffer)S
X1 F
X1287(structure)S
X1539(which)S
X1722(it)S
X1780(is)S
X1846(mapped)S
X2076(onto)S
X648 1344(the)U
X750(cursor's)S
X2 F
X985(logical)S
X1 F
X1189(position)S
X1423(in)S
X1496(the)S
X1598(buffer)S
X1781(\(a)S
X3 F
X1854(Posn)S
X1 F
X2012(structure\))S
X2331 1443(\))U
X4 F
X432 1542(\267)U
X432 1443(\267)U
X1 F
X648(the)S
X750(cursor's)S
X2 F
X985(physical)S
X1 F
X1226(position)S
X1460(in)S
X1533(the)S
X1635(window)S
X1870(\(row)S
X2017(and)S
X2134(column)S
X648 1542(information)U
X980(about)S
X1148(size)S
X1272(and)S
X1389(location)S
X1622(of)S
X1699(screen)S
X1889(window)S
X4 F
X432 1740(\267)U
X432 1641(\267)U
X1 F
X648(current)S
X856(text)S
X976(of)S
X1053(status)S
X1225(line)S
X648 1740(forward)U
X879(and)S
X996(backward)S
X1274(pointers)S
X1508(to)S
X1581(other)S
X1738(windows)S
X432 1938(W)U
X432 1839(Note)U
X582(that)S
X702(there)S
X855(is)S
X921(at)S
X990(least)S
X1132(one)S
X3 F
X1249(Xviwin)S
X1 F
X1473(for)S
X1572(every)S
X3 F
X1740(Buffer)S
X1 F
X(.)R
X494 1938(hen)U
X616(the)S
X723(editor)S
X903(was)S
X1033(modi\256ed)S
X1294(to)S
X1372(support)S
X1597(buffer)S
X1784(windows,)S
X2066(many)S
X2238(global)S
X2428(variables)S
X2691(were)S
X2845(moved)S
X2991 2016(d)U
X2 F
X432 2094(m)U
X1 F
X432 2016(into)U
X560(the)S
X3 F
X665(Buffer)S
X1 F
X873(and)S
X3 F
X993(Xviwin)S
X1 F
X1220(structures;)S
X1519(some)S
X1683(were)S
X1836(left)S
X1948(as)S
X2028(globals.)S
X2282(For)S
X2399(instance,)S
X2656(the)S
X2 F
X2761(undo)S
X1 F
X2929(an)S
X2 F
X480 2094(ark)U
X1 F
X610(faciliti)S
X780(es)S
X866(are)S
X977(obviously)S
X1268(buffer-related,)S
X1677(but)S
X2 F
X1792(yank)S
X1 F
X1958(is)S
X2032(useful)S
X2223(if)S
X2293(it)S
X2359(is)S
X2433(global)S
X2627(\(actually)S
X2886(static)S
X432 2271(S)U
X432 2172(within)U
X622(its)S
X706(own)S
X842(module\);)S
X1101(it)S
X1159(was)S
X1284(decided)S
X1510(that)S
X2 F
X1630(search)S
X1 F
X1839(and)S
X2 F
X1956(redo)S
X1 F
X2110(should)S
X2308(also)S
X2436(be)S
X2520(global.)S
X469 2271(ome)U
X611(modules)S
X863(have)S
X1016(their)S
X1165(own)S
X1308(internal)S
X1537(static)S
X1704(data)S
X1841(structures;)S
X2143(for)S
X2248(instance,)S
X2508(the)S
X3 F
X2616(search)S
X1 F
X2827(module)S
X2995 2349(e)U
X432 2427(i)U
X432 2349(remembers)U
X752(the)S
X860(last)S
X979(pattern)S
X1189(searched)S
X1447(for.)S
X1591(Also,)S
X1761(certain)S
X1967(modules)S
X2218(use)S
X2334(data)S
X2471(structures)S
X2755(which)S
X2944(ar)S
X450 2427(ncluded)U
X685(in)S
X763(more)S
X925(global)S
X1116(ones;)S
X1282(e.g.)S
X1405(each)S
X3 F
X1552(Buffer)S
X1 F
X1762(structure)S
X2019(contains)S
X2265(some)S
X2431(data)S
X2566(used)S
X2713(only)S
X2856(within)S
X2991 2505(y)U
X432 2583(e)U
X3 F
X432 2505(undo.c)U
X1 F
X(.)R
X691(This)S
X838(is)S
X912(not)S
X1026(very)S
X1173(well)S
X1316(structured,)S
X1626(but)S
X1740(in)S
X1821(practice)S
X2058(it's)S
X2172(quite)S
X2333(clean)S
X2501(because)S
X2739(we)S
X2845(simpl)S
X461 2583(nsure)U
X626(that)S
X746(references)S
X1038(to)S
X1111(such)S
X1254(structures)S
X1532(are)S
X1634(kept)S
X1769(local)S
X1918(to)S
X1991(the)S
X2093(module)S
X2312(which)S
X2495(``owns'')S
X2745(them.)S
X432 2838(T)U
X3 F
X432 2739(5.5.)U
X576(Mark)S
X1 F
X472 2838(his)U
X580(data)S
X720(structure)S
X981(records)S
X1206(a)S
X1266(mark)S
X1432(\(de\256ned)S
X1679(by)S
X1776(the)S
X3 F
X1887(m)S
X1 F
X1973(command\).)S
X2324(It)S
X2395(contains)S
X2645(a)S
X3 F
X2704(Posn)S
X1 F
X2870(and)S
X2995(a)S
X3002 2916(f)U
X432 2994(t)U
X432 2916(character)U
X704(\256eld)S
X852(to)S
X934(hold)S
X1082(the)S
X1193(letter)S
X1358(which)S
X1550(de\256nes)S
X1768(the)S
X1879(mark.)S
X2084(Each)S
X3 F
X2246(Buffer)S
X1 F
X2460(contains)S
X2710(an)S
X2803(array)S
X2969(o)S
X450 2994(hese)U
X593(structures)S
X875(for)S
X978(holding)S
X1205(alphabetic)S
X1500(marks,)S
X1704(plus)S
X1840(one)S
X1961(for)S
X2064(the)S
X2170(previous)S
X2423(context)S
X2641(mark)S
X2801(\(as)S
X2903(used)S
X3 F
X432 3228(5)U
X1 F
X432 3072(by)U
X520(the)S
X3 F
X622('')S
X1 F
X688(and)S
X3 F
X805(``)S
X1 F
X871(commands\).)S
X1239(The)S
X1363(\256le)S
X3 F
X1469(mark.c)S
X1 F
X1691(deals)S
X1848(with)S
X1987(marks.)S
X3 F
X465 3228(.6.)U
X576(Change)S
X1 F
X432 3327(T)U
X(his)R
X580(structure)S
X841(records)S
X1066(a)S
X1126(single)S
X1314(change)S
X1531(which)S
X1723(has)S
X1842(been)S
X1997(made)S
X2170(to)S
X2251(a)S
X2310(buffer.)S
X2540(It)S
X2610(also)S
X2746(contains)S
X2995(a)S
X3002 3405(r)U
X432 3483(d)U
X432 3405(pointer,)U
X663(so)S
X750(that)S
X876(it)S
X940(may)S
X1081(be)S
X1171(formed)S
X1389(into)S
X1519(a)S
X1576(list.)S
X1723(See)S
X1845(the)S
X1952(discussion)S
X2254(of)S
X3 F
X2336(undo.c)S
X1 F
X2553(below)S
X2741(for)S
X2845(furthe)S
X465 3483(etails.)U
X3 F
X432 3639(5)U
X(.7.)R
X576(Flexbuf)S
X1 F
X432 3738(T)U
X(his)R
X580(structure)S
X841(is)S
X916(used)S
X1068(to)S
X1150(store)S
X1309(text)S
X1438(strings)S
X1645(for)S
X1752(which)S
X1943(the)S
X2053(length)S
X2247(is)S
X2321(unknown.)S
X2636(The)S
X2768(following)S
X3 F
X432 3915(\257)U
X1 F
X432 3816(operations)U
X728(are)S
X830(de\256ned)S
X1046(for)S
X1145(this)S
X1262(type.)S
X1436(All)S
X1542(functions)S
X1809(take)S
X1940(a)S
X1991(Flexbuf)S
X2218(pointer)S
X2426(as)S
X2503(a)S
X2554(parameter.)S
X3 F
X469 3915(exnew\(f\))U
X1 F
X648 3993(I)U
X(nitialise)R
X899(a)S
X950(Flexbuf;)S
X1195(not)S
X1301(needed)S
X1509(for)S
X1608(static)S
X1768(Flexbufs.)S
X3 F
X432 4092(\257exclear\(f\))U
X1 F
X648 4170(Truncate)U
X903(a)S
X954(Flexbuf)S
X1181(to)S
X1254(zero)S
X1389(length,)S
X1592(but)S
X1698(don't)S
X1859(free)S
X1983(its)S
X2067(storage.)S
X2 F
X2991 4707(2)U
X432(Page)S
X589(14)S
X2453(25th)S
X2592(September)S
X2892(199)S
XEP
X%%Page: ? 15
XBP
X2 F
X66 Z
X432 366(X)U
X(vi)R
X541(Source)S
X746(Code)S
X907(Notes)S
X2958(15)S
X3 F
X432 558(\257exdelete\(f\))U
X1 F
X648 636(Free)U
X787(all)S
X874(storage)S
X1086(belonging)S
X1371(to)S
X1444(a)S
X1495(Flexbuf.)S
X3 F
X432 735(\257exempty\(f\))U
X1 F
X648 813(Return)U
X3 F
X849(TRUE)S
X1 F
X1055(if)S
X1117(the)S
X1219(Flexbuf)S
X1446(is)S
X1512(empty.)S
X3 F
X432 912(\257exlen\(f\))U
X1 F
X648 990(Return)U
X849(the)S
X951(number)S
X1174(of)S
X1251(characters)S
X1539(in)S
X1612(the)S
X1714(Flexbuf.)S
X3 F
X432 1089(\257exrmchar\(f\))U
X1 F
X648 1167(Remove)U
X889(the)S
X991(last)S
X1104(character)S
X1366(from)S
X1516(a)S
X1567(Flexbuf.)S
X3 F
X432 1266(\257expopch\(f\))U
X1 F
X648 1344(Remove)U
X889(the)S
X991(\256rst)S
X1116(character)S
X1378(from)S
X1528(a)S
X1579(Flexbuf)S
X1806(and)S
X1923(return)S
X2102(it.)S
X3 F
X432 1443(\257exgetstr\(f\))U
X1 F
X648 1521(Return)U
X849(a)S
X900(pointer)S
X1108(to)S
X1181(the)S
X1283(string)S
X1455(contained)S
X1732(in)S
X1805(the)S
X1907(Flexbuf.)S
X3 F
X432 1620(\257exaddch\(f,)U
X787(c\))S
X1 F
X648 1698(Add)U
X784(the)S
X886(character)S
X3 F
X1148(c)S
X1 F
X1199(to)S
X1272(the)S
X1374(end)S
X1491(of)S
X1568(the)S
X1670(Flexbuf.)S
X3 F
X432 1797(lformat\(f,)U
X727(fmt,)S
X865(...\))S
X1 F
X648 1875(A)U
X718(subset)S
X905(of)S
X3 F
X982(sprintf\(\))S
X1 F
X1239(but)S
X1345(for)S
X1444(Flexbufs.)S
X3 F
X432 1974(vformat\(f,)U
X742(fmt,)S
X880(va)S
X5 F
X(_)R
X3 F
X(list\))R
X1 F
X648 2052(A)U
X718(subset)S
X905(of)S
X3 F
X982(vsprintf\(\))S
X1 F
X1272(but)S
X1378(for)S
X1477(Flexbufs.)S
X432 2151(T)U
X(he)R
X559(last)S
X675(two)S
X799(functions)S
X1069(are)S
X1174(especially)S
X1461(useful,)S
X1664(since)S
X1824(they)S
X1962(avoid)S
X2133(the)S
X2238(usual)S
X2401(problems)S
X2670(with)S
X2811(the)S
X2915(lack)S
X2995 2229(e)U
X432 2307(p)U
X432 2229(of)U
X514(bounds-checking)S
X991(in)S
X3 F
X1069(sprintf\(\))S
X1 F
X(.)R
X1370(All)S
X1481(code)S
X1632(in)S
X1710(the)S
X1817(editor)S
X1997(itself)S
X2155(now)S
X2296(uses)S
X2437(Flexbufs)S
X2695(to)S
X2772(avoid)S
X2944(th)S
X465 2307(ossibility)U
X740(of)S
X829(buffer)S
X1024(overruns,)S
X1306(and)S
X1435(to)S
X1520(reduce)S
X1729(the)S
X1843(size)S
X1979(of)S
X2068(the)S
X2181(executable)S
X2461(.)S
X2533(Some)S
X2716(OS-speci\256c)S
X3006 2385(t)U
X432 2463(s)U
X432 2385(modules,)U
X716(however,)S
X1004(may)S
X1161(still)S
X1303(use)S
X1435(the)S
X3 F
X1559(printf\(\))S
X1 F
X1812(family.)S
X2066(The)S
X2212(subset)S
X2421(of)S
X3 F
X2520(printf)S
X1 F
X(-like)R
X2849(forma)S
X458 2463(peci\256ers)U
X724(implement)S
X1004(ed)S
X1109(includes)S
X1371(those)S
X1553(for)S
X1673(integers)S
X1923(and)S
X2060(strings,)S
X2295(but)S
X2421(not)S
X2547(for)S
X2666(\257oating-point)S
X3 F
X432 2697(5)U
X1 F
X432 2541(numbers.)U
X3 F
X465 2697(.8.)U
X576(bool)S
X5 F
X(_)R
X3 F
X(t)R
X1 F
X432 2796(A)U
X505(simple)S
X705(Boolean)S
X949(type;)S
X1105(has)S
X1218(values)S
X3 F
X1411(TRUE)S
X1 F
X1619(and)S
X3 F
X1738(FALSE)S
X1 F
X(,)R
X1992(which)S
X2177(are)S
X2281(de\256ned)S
X2499(as)S
X2578(1)S
X2635(and)S
X2754(0)S
X2811(so)S
X2894(as)S
X2973(to)S
X3 F
X432 3030(5)U
X1 F
X432 2874(be)U
X516(compatible)S
X829(with)S
X968(C)S
X1034(comparison)S
X1363(operators.)S
X3 F
X465 3030(.9.)U
X576(xvEvent)S
X1 F
X432 3129(T)U
X(his)R
X571(type)S
X706(is)S
X772(de\256ned)S
X988(in)S
X1061(the)S
X1163(previous)S
X1412(section,)S
X1637(since)S
X1794(it)S
X1852(forms)S
X2028(part)S
X2152(of)S
X2229(the)S
X2331(porting)S
X2543(interface.)S
X432 3384(T)U
X3 F
X432 3285(5.10.)U
X609(VirtScr)S
X1 F
X472 3384(his)U
X572(type)S
X708(represents)S
X998(a)S
X1050(virtual)S
X1244(screen,)S
X1452(and)S
X1570(is)S
X1637(constructed)S
X1963(in)S
X2037(a)S
X2089(similar)S
X2294(way)S
X2426(to)S
X2499(a)S
X2 F
X2550(class)S
X1 F
X(.)R
X2743(It)S
X2805(contains)S
X432 3540(p)U
X432 3462(some)U
X594(function)S
X836(pointers)S
X1071(which)S
X1255(may)S
X1391(be)S
X1476(used)S
X1620(to)S
X1694(manipulate)S
X2008(the)S
X2111(screen)S
X2302(in)S
X2376(various)S
X2593(ways,)S
X2768(and)S
X2885(some)S
X465 3540(rivate)U
X636(data)S
X767(which)S
X950(is)S
X1016(used)S
X1159(by)S
X1247(the)S
X1349(implement)S
X1629(ation)S
X1782(of)S
X1859(the)S
X1961(class.)S
X2991 3639(y)U
X432 3717(t)U
X432 3639(The)U
X558(old)S
X666(terminal)S
X907(interface,)S
X1176(which)S
X1360(consisted)S
X1628(of)S
X1706(a)S
X1758(set)S
X1854(of)S
X1932(disparate)S
X2192(functions,)S
X2477(is)S
X2544(being)S
X2713(replaced)S
X2958(b)S
X450 3717(he)U
X3 F
X535(VirtScr)S
X1 F
X770(interface;)S
X1040(the)S
X1143(\256rst)S
X1269(step)S
X1398(in)S
X1472(this)S
X1590(process)S
X1811(has)S
X1922(been)S
X2069(accomplished)S
X2453(by)S
X2542(the)S
X2645(provision)S
X2917(of)S
X2995(a)S
X3 F
X2995 3795(r)U
X1 F
X432 3873(i)U
X432 3795(default)U
X3 F
X657(VirtScr)S
X1 F
X912(implement)S
X1192(ation)S
X1366(using)S
X1552(the)S
X1675(old)S
X1801(primitive)S
X2083(functions.)S
X2409(New,)S
X2593(native,)S
X3 F
X2812(VirtSc)S
X1 F
X450 3873(mplementa)U
X741(tions)S
X891(may)S
X1026(now)S
X1162(be)S
X1246(coded,)S
X1442(which)S
X1625(will)S
X1749(increase)S
X1986(the)S
X2088(ef\256ciency)S
X2369(of)S
X2446(screen)S
X2636(output.)S
X2991 3972(g)U
X432 4050(t)U
X432 3972(As)U
X535(the)S
X644(\256nal)S
X790(stage,)S
X971(a)S
X1029(windowing)S
X1355(implement)S
X1635(ation)S
X1795(of)S
X1878(the)S
X3 F
X1986(VirtScr)S
X1 F
X2226(class)S
X2382(will)S
X2512(be)S
X2602(provided,)S
X2881(usin)S
X450 4050(he)U
X542(underlying)S
X3 F
X856(VirtScr)S
X1 F
X1097(implement)S
X1377(ations,)S
X1580(and)S
X1704(the)S
X1813(window-handling)S
X2307(code)S
X2460(in)S
X2540(the)S
X2649(editor)S
X2831(will)S
X2962(be)S
X2995 4128(e)U
X432 4206(p)U
X432 4128(modi\256ed)U
X698(to)S
X781(that)S
X911(each)S
X1062(occurrence)S
X1381(of)S
X1467(an)S
X3 F
X1560(Xviwin)S
X1 F
X1793(references)S
X2094(its)S
X2187(own)S
X3 F
X2332(VirtScr)S
X1 F
X(.)R
X2614(It)S
X2685(will)S
X2818(then)S
X2962(b)S
X465 4206(ossible)U
X677(to)S
X757(build)S
X920(a)S
X977(version)S
X1199(of)S
X1282(the)S
X1390(editor)S
X1571(which)S
X1760(operates)S
X2007(in)S
X2086(a)S
X2143(true)S
X2273(windowing)S
X2598(environment)S
X2958(by)S
X432 4383(A)U
X432 4284(using)U
X597(a)S
X648(separate)S
X885(screen)S
X1075(window)S
X1310(for)S
X1409(each)S
X1551(buffer,)S
X1751(instead)S
X1959(of)S
X2036(the)S
X2138(current)S
X2346(vertical-spli)S
X2659(t)S
X2699(method.)S
X502 4383(full)U
X615(de\256nition)S
X889(of)S
X966(the)S
X3 F
X1068(VirtScr)S
X1 F
X1302(type)S
X1437(will)S
X1561(be)S
X1645(found)S
X1821(in)S
X1894(the)S
X1996(previous)S
X2245(section.)S
X2 F
X2991 4707(5)U
X432(25th)S
X571(September)S
X871(1992)S
X2801(Page)S
X2958(1)S
XEP
X%%Page: ? 16
XBP
X2 F
X66 Z
X432 366(1)U
X(6)R
X2399(Xvi)S
X2508(Source)S
X2713(Code)S
X2874(Notes)S
X1 F
X432 657(T)U
X3 F
X432 558(5.11.)U
X609(Global)S
X821(Variables)S
X1 F
X472 657(here)U
X607(are)S
X709(only)S
X848(a)S
X899(few)S
X1020(global)S
X1206(variables)S
X1465(in)S
X1538(the)S
X1640(editor.)S
X1854(These)S
X2033(are)S
X2135(the)S
X2237(important)S
X2514(ones:)S
X3 F
X432 855(c)U
X432 756(curbuf)U
X1 F
X734(pointer)S
X942(to)S
X1015(the)S
X1117(current)S
X3 F
X1325(Buffer)S
X461 855(urwin)U
X1 F
X734(pointer)S
X942(to)S
X1015(the)S
X1117(current)S
X3 F
X1325(Xviwin)S
X432 954(S)U
X(tate)R
X1 F
X734(the)S
X837(current)S
X2 F
X1046(state)S
X1 F
X1192(of)S
X1269(the)S
X1371(editor;)S
X1564(controls)S
X1798(what)S
X1948(we)S
X2047(do)S
X2135(with)S
X2274(input)S
X2431(characters.)S
X2758(The)S
X2882(value)S
X3 F
X734 1131(N)U
X1 F
X734 1032(is)U
X800(one)S
X917(of)S
X994(the)S
X1096(following:)S
X3 F
X782 1131(ORMAL)U
X1 F
X1166(The)S
X1290(default)S
X1494(state;)S
X3 F
X1654(vi)S
X1 F
X(-mode)R
X1895(commands)S
X2202(may)S
X2337(be)S
X2421(executed)S
X2987 1230(r)U
X3 F
X734 1329(R)U
X734 1230(INSERT)U
X1 F
X1166(Insert)S
X1338(mode,)S
X1523(i.e.)S
X1626(characters)S
X1914(typed)S
X2082(get)S
X2184(inserted)S
X2414(into)S
X2538(the)S
X2640(current)S
X2848(buffe)S
X3 F
X782 1329(EPLACE)U
X1 F
X1166(Replace)S
X1408(mode,)S
X1602(characters)S
X1899(in)S
X1981(the)S
X2092(buffer)S
X2283(get)S
X2393(overwritten)S
X2726(by)S
X2822(what)S
X2980(is)S
X3 F
X734 1506(C)U
X1 F
X1166 1407(typed)U
X3 F
X782 1506(MDLINE)U
X1 F
X1166(Reading)S
X1407(a)S
X1458(colon-command,)S
X1924(regular)S
X2132(expression)S
X2436(or)S
X2513(pipe)S
X2648(command)S
X2997 1605(t)U
X3 F
X432 1704(e)U
X734 1605(DISPLAY)U
X1 F
X1166(Displaying)S
X1477(text,)S
X1614(i.e.)S
X3 F
X1717(:p)S
X1 F
X1798(command,)S
X2096(or)S
X3 F
X2173(:set)S
X1 F
X2294(or)S
X3 F
X2371(:map)S
X1 F
X2540(with)S
X2679(no)S
X2767(argumen)S
X3 F
X461 1704(cho)U
X1 F
X734(This)S
X884(variable)S
X1128(controls)S
X1373(what)S
X1534(output)S
X1735(is)S
X1811(currently)S
X2080(displayable.)S
X2450(It)S
X2522(is)S
X2598(used)S
X2751(at)S
X2830(various)S
X3002 1782(-)U
X734 1860(o)U
X734 1782(points)U
X926(within)S
X1125(the)S
X1236(editor)S
X1420(to)S
X1502(stop)S
X1642(certain)S
X1850(output)S
X2048(which)S
X2239(is)S
X2313(either)S
X2492(undesirable)S
X2825(or)S
X2910(sub)S
X767 1860(ptimal.)U
X1009(It)S
X1085(must)S
X1249(always)S
X1468(be)S
X1565(restored)S
X1812(to)S
X1898(its)S
X1995(previous)S
X2257(value)S
X2434(after)S
X2589(the)S
X2704(code)S
X2863(which)S
X3 F
X432 2037(k)U
X1 F
X734 1938(changed)U
X975(it)S
X1033(has)S
X1143(\256nished)S
X1374(what)S
X1524(it)S
X1582(is)S
X1648(doing.)S
X3 F
X469 2037(bdintr)U
X1 F
X734(This)S
X876(can)S
X992(be)S
X1079(set)S
X1177(to)S
X1253(a)S
X1307(non-zero)S
X1566(value)S
X1733(to)S
X1809(indicate)S
X2041(that)S
X2164(an)S
X2250(asynchronous)S
X2637(user-generated)S
X3006 2115(t)U
X734 2193(h)U
X734 2115(interrupt)U
X989(\(such)S
X1161(as)S
X1245(a)S
X1303(keyboard)S
X1576(interrupt\))S
X1852(has)S
X1968(occurred.)S
X2265(See)S
X2388(the)S
X2496(discussion)S
X2799(of)S
X2882(even)S
X767 2193(andling)U
X986(in)S
X1059(the)S
X1161(previous)S
X1410(section.)S
X432 2577(T)U
X3 F
X432 2478(6.)U
X526(SOURCE)S
X824(FILES)S
X1 F
X472 2577(he)U
X557(header)S
X755(\256le)S
X3 F
X862(xvi.h)S
X1 F
X1023(contains)S
X1265(all)S
X1352(the)S
X1454(type)S
X1589(de\256nitions)S
X1889(used)S
X2032(within)S
X2222(the)S
X2324(editor,)S
X2516(as)S
X2593(well)S
X2728(as)S
X2805(function)S
X432 2754(T)U
X432 2655(declarati)U
X657(ons)S
X771(etc.)S
X472 2754(he)U
X556(following)S
X834(source)S
X1028(\256les)S
X1160(form)S
X1310(the)S
X1412(primary)S
X1642(interface)S
X1893(to)S
X1966(the)S
X2068(editor:)S
X3006 2853(l)U
X3 F
X432(startup.c)S
X1 F
X864(Entry)S
X1036(point)S
X1197(for)S
X1300(the)S
X1406(editor.)S
X1624(Deals)S
X1800(with)S
X1943(argument)S
X2217(and)S
X2338(option)S
X2532(parsing)S
X2752(and)S
X2872(initia)S
X864 2931(setup,)U
X1042(calling)S
X1242(module)S
X1461(initiali)S
X1631(sation)S
X1810(functions)S
X2077(as)S
X2154(necessary.)S
X2991 3030(g)U
X3 F
X432(events.c)S
X1 F
X864(Contains)S
X1123(the)S
X1228(routine)S
X3 F
X1439(xvi)S
X5 F
X(_)R
X3 F
X(handle)R
X5 F
X(_)R
X3 F
X(event\(\))R
X1 F
X(,)R
X2016(which)S
X2202(is)S
X2271(the)S
X2375(entry)S
X2534(point)S
X2693(for)S
X2794(handlin)S
X864 3108(input)U
X1026(to)S
X1104(the)S
X1211(editor;)S
X1409(input)S
X1571(is)S
X1642(passed)S
X1845(to)S
X1923(different)S
X2175(routines)S
X2413(according)S
X2698(to)S
X2775(the)S
X3 F
X2881(State)S
X1 F
X2995 3186(e)U
X864 3264(r)U
X864 3186(variable.)U
X1154(Timeouts)S
X1442(on)S
X1548(input)S
X1723(are)S
X1842(also)S
X1987(handled)S
X2234(here,)S
X2403(by)S
X2508(calling)S
X2725(appropriat)S
X886 3264(outines)U
X1098(in)S
X3 F
X1171(map.c)S
X1 F
X1364(or)S
X3 F
X1441(preserve.c)S
X1 F
X(.)R
X1843 3363(.)U
X3 F
X432 3462(n)U
X432 3363(edit.c)U
X1 F
X864(Deals)S
X1036(with)S
X1175(insert)S
X1343(and)S
X1460(replace)S
X1671(modes)S
X3 F
X469 3462(ormal.c)U
X1 F
X864(Handles)S
X1102(normal-mode)S
X1478(commands.)S
X3 F
X2987 3561(p)U
X432(map.c)S
X1 F
X864(This)S
X1023(\256le)S
X1149(is)S
X1235(responsible)S
X1577(for)S
X1695(all)S
X1801(input)S
X1977(mapping)S
X2248(\(both)S
X2428(set)S
X2542(up)S
X2649(by)S
X2756(the)S
X3 F
X2877(:ma)S
X1 F
X864 3639(command)U
X1148(and)S
X1268(internally)S
X1544(for)S
X1646(function-key)S
X2007(mappings;)S
X2306(it)S
X2367(also)S
X2498(implement)S
X2778(s)S
X2828(a)S
X2881(stuff-)S
X864 3795(u)U
X864 3717(characters-int)U
X1221(o-the-input-stream)S
X1752(function)S
X2012(for)S
X2130(use)S
X2259(within)S
X2468(the)S
X2589(editor.)S
X2822(This)S
X2980(is)S
X897 3795(sed,)U
X1026(for)S
X1127(example,)S
X1390(to)S
X1465(implement)S
X1769(command)S
X2051(redo)S
X2191(\(but)S
X2 F
X2320(not)S
X1 F
X2427(to)S
X2501(implement)S
X2804(``undo'')S
X432 4050(C)U
X864 3873(and)U
X981(``put'')S
X1175(as)S
X1252(in)S
X1325(STEVIE\).)S
X476 4050(olon)U
X615(\()S
X3 F
X(ex)R
X1 F
X(-type\))R
X878(commands)S
X1185(are)S
X1287(handled)S
X1517(by)S
X1605(this)S
X1722(group:)S
X1931 4149(.)U
X2 F
X432 4707(P)U
X3 F
X432 4149(cmdline.c)U
X1 F
X864(Decodes)S
X1113(and)S
X1230(executes)S
X1478(colon)S
X1646(commands)S
X2 F
X472 4707(age)U
X589(16)S
X2453(25th)S
X2592(September)S
X2892(1992)S
XEP
X%%Page: ? 17
XBP
X2 F
X66 Z
X2991 366(7)U
X3 F
X432 558(e)U
X2 F
X432 366(Xvi)U
X541(Source)S
X746(Code)S
X907(Notes)S
X2958(1)S
X3 F
X461 558(x)U
X5 F
X(_)R
X3 F
X(cmds1.c)R
X1 F
X864(File-,)S
X3 F
X1027(Buffer)S
X1 F
X(-)R
X1254(and)S
X3 F
X1371(Xviwin)S
X1 F
X(-related)R
X1795(colon)S
X1963(commands.)S
X432 834(S)U
X3 F
X432 657(ex)U
X5 F
X(_)R
X3 F
X(cmds2.c)R
X1 F
X864(Other)S
X1036(colon)S
X1204(commands)S
X1511(\(e.g.)S
X1651(shell)S
X1797(escape\).)S
X469 834(creen)U
X633(updating)S
X885(is)S
X951(done)S
X1101(within)S
X1291(the)S
X1393(following)S
X1671(\256les:)S
X2991 933(n)U
X3 F
X432(screen.c)S
X1 F
X864(Screen)S
X1091(updating)S
X1369(code,)S
X1558(including)S
X1854(handling)S
X2131(of)S
X2233(line-based)S
X2550(entry)S
X2732(\(for)S
X2878(colo)S
X864 1011(commands,)U
X1203(searches)S
X1463(etc\))S
X1598(as)S
X1690(they)S
X1840(are)S
X1957(typed)S
X2139(in,)S
X2243(and)S
X2374(display-mode)S
X2768(stuff)S
X2925(\(for)S
X3 F
X432 1188(c)U
X1 F
X864 1089(parameter)U
X1148(displaying,)S
X3 F
X1461(:g/re/p)S
X1 F
X1669(etc\).)S
X3 F
X461 1188(ursor.c)U
X1 F
X864(This)S
X1014(\256le)S
X1131(contains)S
X1383(the)S
X1496(single)S
X1686(function)S
X3 F
X1937(cursupdate\(\))S
X1 F
X(,)R
X2346(which)S
X2539(is)S
X2615(responsible)S
X2947(for)S
X864 1344(o)U
X864 1266(deciding)U
X1116(where)S
X1303(the)S
X1409(physical)S
X1654(screen)S
X1848(cursor)S
X2039(should)S
X2241(be,)S
X2346(according)S
X2631(to)S
X2707(the)S
X2812(position)S
X897 1344(f)U
X951(the)S
X1063(logical)S
X1273(cursor)S
X1470(in)S
X1553(the)S
X1665(buffer)S
X1857(and)S
X1983(the)S
X2094(position)S
X2337(of)S
X2423(the)S
X2534(window)S
X2778(onto)S
X2926(that)S
X864 1500(c)U
X864 1422(buffer.)U
X1095(This)S
X1243(routine)S
X1460(is)S
X1535(not)S
X1650(very)S
X1798(optimal,)S
X2045(and)S
X2170(will)S
X2302(probably)S
X2566(disappear)S
X2848(in)S
X2929(due)S
X893 1500(ourse.)U
X3 F
X432 1599(d)U
X(efscr.c)R
X1 F
X864(This)S
X1004(\256le)S
X1111(contains)S
X1353(the)S
X1456(default)S
X1660(implement)S
X1940(ation)S
X2093(of)S
X2170(the)S
X3 F
X2272(VirtScr)S
X1 F
X2506(class,)S
X2673(on)S
X2761(top)S
X2867(of)S
X2944(the)S
X3 F
X432 1776(s)U
X1 F
X864 1677(old)U
X970(terminal/)S
X1206(system)S
X1411(interface.)S
X3 F
X458 1776(tatus.c)U
X1 F
X864(Functions)S
X1147(to)S
X1221(update)S
X1419(the)S
X1522(status)S
X1695(line)S
X1816(of)S
X1894(a)S
X1946(window;)S
X2200(there)S
X2354(are)S
X2457(different)S
X2706(functions)S
X2973(to)S
X432 2031(T)U
X864 1854(display)U
X1076(\256le)S
X1182(information)S
X1514(\(name,)S
X1717(position)S
X1951(etc.\))S
X2088(and)S
X2205(error/informati)S
X2595(on)S
X2683(messages.)S
X472 2031(hese)U
X611(\256les)S
X743(deal)S
X874(with)S
X1013(speci\256c)S
X1236(areas)S
X1393(of)S
X1470(functionalit)S
X1772(y:)S
X3002 2130(-)U
X3 F
X432(\256nd.c)S
X1 F
X864(Search)S
X1077(functions:)S
X1374(all)S
X1473(kinds)S
X1650(of)S
X1739(searches,)S
X2012(including)S
X2293(character-ba)S
X2617(sed)S
X2738(and)S
X2866(word)S
X864 2208(based)U
X1046(commands,)S
X1379(sections,)S
X1639(paragraphs,)S
X1976(and)S
X2102(the)S
X2213(interface)S
X2473(to)S
X2555(``real'')S
X2772(searching)S
X3 F
X432 2385(m)U
X1 F
X864 2286(\(which)U
X1069(is)S
X1135(actually)S
X1364(done)S
X1514(in)S
X3 F
X1587(search.c)S
X1 F
X(\).)R
X3 F
X487 2385(ark.c)U
X1 F
X864(Provides)S
X1128(primitives)S
X1427(to)S
X1511(record)S
X1712(marks)S
X1906(within)S
X2107(a)S
X3 F
X2169(Buffer)S
X1 F
X(,)R
X2402(and)S
X2530(to)S
X2614(\256nd)S
X2750(the)S
X2863(marks)S
X3 F
X432 2562(m)U
X1 F
X864 2463(again.)U
X3 F
X487 2562(ouse.c)U
X1 F
X864(Code)S
X1025(to)S
X1098(handle)S
X1295(mice)S
X1444(moving)S
X1667(the)S
X1769(cursor)S
X1956(around)S
X2161(and)S
X2278(resizing)S
X2508(windows.)S
X2995 2661(e)U
X3 F
X432(param.[ch])S
X1 F
X864(Code)S
X1034(to)S
X1116(handle)S
X1322(setting)S
X1528(of,)S
X1631(and)S
X1757(access)S
X1956(to,)S
X2055(parameters.)S
X2413(\(These)S
X2623(are)S
X2734(things)S
X2926(lik)S
X3 F
X864 2739(tabstops)U
X1 F
X(,)R
X3 F
X1139(autoindent)S
X1 F
X(,)R
X1483(etc.\))S
X2009 2838(.)U
X3 F
X432 2937(p)U
X432 2838(pipe.c)U
X1 F
X864(Handles)S
X1102(piping)S
X1292(through)S
X1519(system)S
X1724(commands)S
X3 F
X469 2937(reserve.c)U
X1 F
X864(File)S
X988(preservation)S
X1335(routines.)S
X3 F
X432 3036(s)U
X(earch.c)R
X1 F
X864(Code)S
X1050(for)S
X1174(pattern-searchi)S
X1564(ng)S
X1677(in)S
X1775(a)S
X1851(buffer,)S
X2076(and)S
X2217(for)S
X2340(substitutions)S
X2719(and)S
X2860(global)S
X3 F
X432 3213(t)U
X1 F
X864 3114(execution.)U
X1180(Uses)S
X3 F
X1331(regexp.[ch])S
X1 F
X1670(for)S
X1769(the)S
X1871(actual)S
X2049(regular)S
X2257(expression)S
X2561(stuff.)S
X3 F
X454 3213(ags.c)U
X1 F
X864(Routines)S
X1120(to)S
X1193(handle)S
X1390(tags)S
X1518(\320)S
X1606(for)S
X3 F
X1705(:tag)S
X1 F
X(,)R
X3 F
X1854(-t)S
X1 F
X1920(and)S
X5 F
X2037(\303)S
X3 F
X(])R
X1 F
X(.)R
X2995 3312(a)U
X3 F
X432(undo.c)S
X1 F
X864(Code)S
X1029(to)S
X1106(deal)S
X1241(with)S
X1384(doing)S
X1560(and)S
X1681(undoing;)S
X1941(i.e.)S
X2048(making)S
X2271(and)S
X2392(unmaking)S
X2681(changes)S
X2919(to)S
X864 3390(buffer.)U
X1086(This)S
X1225(is)S
X1291(one)S
X1408(of)S
X1485(the)S
X1587(more)S
X1744(complex)S
X1992(and)S
X2109(delicate)S
X2334(\256les.)S
X2718 3489(.)U
X432 3666(w)U
X3 F
X432 3489(yankput.c)U
X1 F
X864(Code)S
X1025(to)S
X1098(deal)S
X1229(with)S
X1368(yanking)S
X1602(and)S
X1719(putting)S
X1927(text,)S
X2064(including)S
X2334(named)S
X2531(buffers)S
X480 3666(hile)U
X600(these)S
X757(\256les)S
X889(provide)S
X1112(lower-level)S
X1433(functions:)S
X3 F
X432 3864(a)U
X432 3765(alloc.c)U
X1 F
X864(Memory)S
X1113(allocati)S
X1305(on)S
X1393(routines.)S
X3 F
X465 3864(scii.[ch])U
X1 F
X864(Deals)S
X1044(with)S
X1191(the)S
X1301(visual)S
X1488(representation)S
X1890(of)S
X1975(special)S
X2187(characters)S
X2483(on)S
X2578(the)S
X2687(display)S
X2906(\(e.g.)S
X3 F
X432 4041(b)U
X1 F
X864 3942(tabs,)U
X1009(control)S
X1217(chars\).)S
X3 F
X469 4041(uffers.c)U
X1 F
X864(Routines)S
X1120(dealing)S
X1335(with)S
X1474(the)S
X1576(allocati)S
X1768(on)S
X1856(and)S
X1973(freeing)S
X2181(of)S
X3 F
X2258(Buffers)S
X1 F
X(.)R
X2995 4140(e)U
X3 F
X432(\256leio.c)S
X1 F
X864(File)S
X1009(I/O)S
X1140(routines;)S
X1413(reading,)S
X1670(writing,)S
X1920(re-editing)S
X2217(\256les.)S
X2408(Also)S
X2575(handling)S
X2847(of)S
X2944(th)S
X3 F
X864 4218(format)U
X1 F
X1080(parameter.)S
X2 F
X432 4707(2)U
X(5th)R
X571(September)S
X871(1992)S
X2801(Page)S
X2958(17)S
XEP
X%%Page: ? 18
XBP
X2 F
X66 Z
X2998 366(s)U
X3 F
X432 558(\257)U
X2 F
X432 366(18)U
X2399(Xvi)S
X2508(Source)S
X2713(Code)S
X2874(Note)S
X3 F
X469 558(exbuf.c)U
X1 F
X864(Flexible-lengt)S
X1232(h)S
X1287(character-buffe)S
X1688(r)S
X1732(routines.)S
X3 F
X432 756(m)U
X432 657(misccmds.c)U
X1 F
X864(Miscellaneous)S
X1266(functions.)S
X3 F
X487 756(ovement.c)U
X1 F
X864(Code)S
X1034(to)S
X1116(deal)S
X1256(with)S
X1404(moving)S
X1636(the)S
X1747(cursor)S
X1943(around)S
X2157(in)S
X2239(the)S
X2350(buffer,)S
X2559(and)S
X2684(scrolling)S
X2944(the)S
X3 F
X432 933(p)U
X1 F
X864 834(screen)U
X1054(etc.)S
X3 F
X469 933(trfunc.[ch])U
X1 F
X864(Primitives)S
X1167(to)S
X1251(handle)S
X3 F
X1458(Posn)S
X1 F
X1626(structures;)S
X1932(including)S
X2212(various)S
X2438(operators)S
X2715(to)S
X2798(compare)S
X864 1011(positions)U
X1124(in)S
X1197(a)S
X1248(text)S
X1368(buffer.)S
X3 F
X1064 1110(h)U
X432(regexp.[ch],)S
X788(regmagic.)S
X1 F
X864 1188(Regular-expression)U
X1407(stuff,)S
X1576(originally)S
X1862(written)S
X2079(by)S
X2176(Henry)S
X2371(Spencer)S
X2613(\(thanks)S
X2837(Henry\))S
X3 F
X432 1365(s)U
X1 F
X864 1266(and)U
X981(slightly)S
X1200(hacked)S
X1408(for)S
X1507(use)S
X1617(within)S
X3 F
X1807(xvi)S
X1 F
X(.)R
X3 F
X458 1365(ignal.c)U
X1 F
X864(Handling)S
X1131(of)S
X1208(terminal-ge)S
X1510(nerated)S
X1725(signals)S
X1930(in)S
X2003(an)S
X2087(ANSI)S
X2264(environment.)S
X3006 1464(t)U
X3 F
X432(virtscr.h)S
X1 F
X864(Virtual)S
X1080(Screen)S
X1289(interface)S
X1548(de\256nition.)S
X1869(This)S
X2016(is)S
X2090(a)S
X2149(new)S
X2289(part)S
X2420(of)S
X3 F
X2504(xvi)S
X1 F
X(,)R
X2634(and)S
X2758(is)S
X2831(not)S
X2944(ye)S
X864 1542(fully)U
X1017(completed.)S
X1358(When)S
X1544(it)S
X1609(is)S
X1682(\256nished,)S
X1937(it)S
X2002(will)S
X2133(provide)S
X2362(the)S
X2470(ability)S
X2665(to)S
X2744(implement)S
X864 1698(w)U
X864 1620(``native'')U
X1146(versions)S
X1400(of)S
X3 F
X1489(xvi)S
X1 F
X1607(under)S
X1791(various)S
X2019(windowing)S
X2350(systems,)S
X2610(in)S
X2695(a)S
X2758(clean)S
X2929(and)S
X912 1698(holesome)U
X1200(way.)S
X1385(Currently)S
X1673(there)S
X1840(is)S
X1920(a)S
X1985(single)S
X2177(instance)S
X2427(of)S
X2517(the)S
X3 F
X2632(VirtScr)S
X1 F
X2879(class,)S
X3 F
X432 1875(w)U
X1 F
X864 1776(which)U
X1047(is)S
X1113(de\256ned)S
X1329(on)S
X1417(top)S
X1523(of)S
X1600(the)S
X1702(old)S
X1808(system/termina)S
X2209(l)S
X2249(interface.)S
X3 F
X480 1875(indows.c)U
X1 F
X864(Code)S
X1025(to)S
X1098(deal)S
X1229(with)S
X1368(creating,)S
X1618(deleting,)S
X1868(resizing)S
X2098(windows.)S
X2 F
X432 4707(P)U
X3 F
X432 1974(version.c)U
X1 F
X864(Contains)S
X1120(only)S
X1259(the)S
X1361(version)S
X1577(string.)S
X2 F
X472 4707(age)U
X589(18)S
X2453(25th)S
X2592(September)S
X2892(1992)S
XEP
X%%Trailer
Xpscatsave end restore
X%%Pages: 18
END_OF_FILE
if test 36483 -ne `wc -c <'doc/source.ps3'`; then
    echo shar: \"'doc/source.ps3'\" unpacked with wrong size!
fi
# end of 'doc/source.ps3'
fi
echo shar: End of archive 4 \(of 7\).
cp /dev/null ark4isdone
MISSING=""
for I in 1 2 3 4 5 6 7 ; do
    if test ! -f ark${I}isdone ; then
	MISSING="${MISSING} ${I}"
    fi
done
if test "${MISSING}" = "" ; then
    echo You have unpacked all 7 archives.
    rm -f ark[1-9]isdone
else
    echo You still need to unpack the following archives:
    echo "        " ${MISSING}
fi
##  End of shell archive.
exit 0

exit 0 # Just in case...
