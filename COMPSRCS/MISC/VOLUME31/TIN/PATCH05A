Newsgroups: comp.sources.misc
From: iain%anl433.uucp@Germany.EU.net (Iain Lea)
Subject:  v31i080:  tin - threaded full screen newsreader v1.1, Patch05a/7
Message-ID: <csm-v31i080=tin.201729@sparky.IMD.Sterling.COM>
X-Md4-Signature: e858d59859b9a5537d3cf4ac0c1d64a3
Date: Sun, 16 Aug 1992 01:23:36 GMT
Approved: kent@sparky.imd.sterling.com

Submitted-by: iain%anl433.uucp@Germany.EU.net (Iain Lea)
Posting-number: Volume 31, Issue 80
Archive-name: tin/patch05a
Environment:  BSD, SCO, ISC, SUNOS, SYSVR3, SYSVR4, ULTRIX, XENIX
Patch-To: tin: Volume 31, Issue 1-15

[ Moderator note: All previous postings of tin have been complete postings. ]
[ This is a patch. To get the numbering consistent with the patchlevel,     ]
[ this is marked as patch05.  There was not a patch 1-4.             -Kent+ ]

This is version 1.1 PL5 (patchlevel 5) of the tin newsreader.

o  Based more on Notes and tass than rn type newreaders.
o  Full screen, easy to use with on-line help at all levels.
o  Reads news locally (ie. /usr/spool/news) and/or via NNTP/INN/CD-ROM.
o  Threads on Subject: and/or Archive-name: mail headers.
o  Five different operating levels:
   -  Spooldir selection level (CD-ROM only)
   -  Group selection level
   -  Thread selection level
   -  Article selection level
   -  Article viewer
o  Same interface to mail, pipe, print and save articles.
o  Auto unpacking of multi-part shar & uuencoded articles.
o  Auto-selection (hot) of interesting articles.
o  Batch mode to mail/save new news when user is on holiday.
o  Reposting of articles from one newsgroup to another.
o  Builtin NNTP mini-inews & clientlib.c
o  NNTP extensions XUSER & XINDEX to allow central index files. 

 -------------------------------------------------------------------------------

Major improvements over tin 1.1 PL4 are the following:

o  Added support for Amdahl UTS machines.
o  Added support for Mips RiscOS machines.
o  Added support for Apple A/UX machines.
o  Added support for Motorola Delta machines.
o  Added support for Gould Powernode machines.
o  Added support for HPUX machines (again).
o  Added support for SNI Sinix machines (again).
o  Added support for Sequent Dynix machines (again).
o  Added -q command line switch to stop check for new newsgroups.
o  Added '^F' & '^B commands to help screens.
o  Added 'C' command to group index level to catchup & goto next unread group.
o  Added 'r' command to group selection level to toggle display of groups.
o  Added q)uit option to post processing prompt when saving.
o  Added ispell option (-DUSE_ISPELL) for spellchecking articles/mails.
o  Added auto-detection of new newsgroups (-n option removed). 
o  Added user specified group attributes file (unthread file removed).
o  Changed <TAB> to wrap around at group selection level.
o  Changed <TAB> to wrap around at group index level.
o  Changed spooldir menu so that entries are dynamically allocated.
o  Fixed compile problems caused by #include <termios.h> file. 
o  Fixed compile warnings on ioctl defines for BSD machines.
o  Fixed screen updating after process was restarted from a ^Z. 
o  Fixed 'K' mark thread read & goto next unread thread command. 
o  Fixed 'u' so that threading still worked after rereading active file.
o  Fixed 'y' so that rereading of active file is disabled.
o  Fixed Makefile so that NNTP_INEWS_* defines are used by targets.
o  Fixed reading of bad headers that caused too many open files.
o  Fixed -f command line option so specified .newsrc is used. 
o  Fixed -S command line option that caused SIGSEGV if article unavailable.
o  Fixed -U command line option so newsgroups description is displayed.
o  Fixed -u -U command line options so only one tin can be indexing.
o  Fixed SIGSEGV when saving on Archive-name: parts & patches in same thread. 
o  Fixed enable/disable of keypad on HP machines.
o  Fixed SIGWINCH signal problem on NeXT machines.

Enjoy
	Iain.

#!/bin/sh
# This is tin-1.15, a shell archive (produced by shar 3.49)
# To extract the files from this archive, save it to a file, remove
# everything above the "!/bin/sh" line above, and type "sh file_name".
#
# made 08/11/1992 19:24 UTC by iain%anl433.uucp@Germany.EU.net (Iain Lea)
# Source directory /var/home/lea/.src/tin/1.15
#
# existing files will NOT be overwritten unless -c is specified
#
# This is part 1 of a multipart archive                                    
# do not concatenate these parts, unpack them in order with /bin/sh        
#
# This shar contains:
# length  mode       name
# ------ ---------- ------------------------------------------
# 386903 -rw-r--r-- tin-1.15.patch
#
if test -r _shar_seq_.tmp; then
	echo 'Must unpack archives in sequence!'
	echo Please unpack part `cat _shar_seq_.tmp` next
	exit 1
fi
# ============= tin-1.15.patch ==============
if test -f 'tin-1.15.patch' -a X"$1" != X"-c"; then
	echo 'x - skipping tin-1.15.patch (File already exists)'
	rm -f _shar_wnt_.tmp
else
> _shar_wnt_.tmp
echo 'x - extracting tin-1.15.patch (Text)'
sed 's/^X//' << 'SHAR_EOF' > 'tin-1.15.patch' &&
diff -rcs ../1.14/CHANGES ./CHANGES
*** ../1.14/CHANGES	Tue Aug 11 21:22:54 1992
--- ./CHANGES	Fri Aug  7 19:35:22 1992
***************
*** 1,195 ****
! CHANGES tin v1.1 PL3 -> tin 1.1 PL4
X  -----------------------------------
X  
! 1)  Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     ADD. Makefile - added entry for Stratus FTX machines.
X  
! 2)  Hakan Lennestal (hakanl@lulea.telesoft.se)
!     BUG. Certain setuid() & setgid() no longer needed & should be removed.
!     FIX. Applied supplied patch.
X  
! 3)  Hakan Lennestal (hakanl@lulea.telesoft.se)
!     BUG. Follows to articles should be checked that the header is seperated 
!          from the body by a blank line.
!     FIX. Applied supplied patch.
X  
! 4)  Ken Taylor (ken@cujo.curtin.edu.au)
!     BUG. Moving up a line in a group with no arts in group causes SIGSEGV(11).
!     FIX. group.c - added check to see if any articles before moving up a line.
!     
! 5)  Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     ADD.  post.c - added setuid info to bug report entry sent with 'B' command.
X  
! 6)  Doug Sewell (doug@cc.ysu.edu)
!     BUG. #include file unistd.h does not exist on NeXT machines.
X      FIX. tin.h - applied supplied patch.
X  
! 7)  Doug Sewell (doug@cc.ysu.edu)
!     BUG. Every time tin starts via NNTP 5 unknown command errors are written
!          to the NNTP logfile.
!     FIX. open.c - added #ifdef NO_NNTP_EXTS to stop tin asking NNTP server
!          which extensions it supports so that it can auto configure itself.
!          This addition is just a nicety - it is not really necessary.
X  
! 8)  Doug Sewell (doug@cc.ysu.edu)
!     BUG. Makefile does not work correctly on NeXT machines.
!     FIX. tin.h - applied supplied patch.
X  
! 9)  Wolfgang Prediger (wp@orion.erls01.siemens.de)
!     BUG. Does not resize in xterm under SVR4.
X      FIX. tin.h - applied supplied patch.
X  
! 10) Paul Vickers (Paul.Vickers@barclays.co.uk)
!     BUG. IBM RS6000 needs #include file netdb.h 
!     FIX. inews.c - applied supplied patch.
X  
! 11) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. -c catchup option does not work when reading index files via NNTP.
!     FIX. main.c - added condition to check if -c flag is specified.
! 
! 12) Tom Hite (thite@micrografix.com)
!     BUG. Wrong logic is used for freeing active attributes in memory.c
!     FIX. memory.c - applied supplied patch.
! 
! 13) Sean Brady (brady@sed.stel.com)
!     BUG. Hitting End/Home key causes SIGSEGV(11) at group index level.
!     FIX. group.c - added checks to see if any articles are displayed.
! 
! 14) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. SVR4 does not compile because SIGTYPE is wrong.
!     FIX. tin.h - changed SIGTYPE to void if SVR4 defined. 
! 
! 15) Jim Morris (jegm@cody.esd.sgi.com)
!     ADD. Makefile - added support for SGI Irix machines.
! 
! 16) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Stratus FTX entry duplicates SVR4 entry.
!     FIX. Makefile - deleted stratus entry because its the same as the SVR4 entry.
! 
! 17) Greg Woods (woods%robohack.uucp@uunet.UU.NET)
!     BUG. Man page is not correctly formatted.
!     FIX. tin.1 - applied supllied patch. 
X  
! 18) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Compile options are spread all over Makefile. Should be in one place.
!     FIX. Makefile - made configuration easier.
X  
! 19) Dean Schrimpf (ds11129@medtronic.com)
!     BUG. Multiple copies of tind index daemon can be running simultaneously.
!     FIX. init.c - added check to see if tind index daemon is already running.
! 
! 20) Jeb Palmer (jpalmer@sierra.com)
!     BUG. When posting an article with vi as editor vi always complains that
!          the file is not long enough to position the cursor at line n.
X      FIX. post.c - applied supplied patch.
X  
! 21) Paul Bauwens (paul@pphbau.hobby.nl)
!     BUG. Indexing of group sometimes hangs requiring tin to be killed. 
!     FIX. art.c - applied supplied patch.
X  
! 22) James Nugen (jcn@jcnpc.uucp)
!     BUG. Group select screen is redrawn double spaced when yanking in groups
!          with long filenames.
!     FIX. select.c - applied supplied patch.
! 
! 23) Chris Davies (chris@visionware.co.uk)
!     BUG. Subdomains should be hidable. If NNTP_INEWS_DOMAIN is ".vision.co.uk"
!          then use "chris@host.vision.co.uk", but if not with leading '.' hid
!          local hostname ie. "chris@vision.co.uk"
!     FIX. inews.c - applied supplied patch.
X  
! 24) Tom Parry (parry@yoyo.cc.monash.edu.au)
!     BUG. screen does not create utmp entries which causes username not to be 
!          found.
!     FIX. init.c - applied supplied patch.
! 
! 25) Alex Pakter (alex@brt.com)
!     BUG. Mismatched protypes cause compile warning on ?? machine.
!     FIX. prompt.c - changed char parameter to int in prompt_num(). 
! 
! 26) Jim Robinson (robinson@mdivax1.mdd.comm.mot.com)
!     FIXES. art.c - parse_headers() bug whereby if errno had previous 
!            value of EINTR and article was less than sizeof(buf) bytes
!            would get infinite loop.
!            group.c - group_page() removed unnecessary make_threads() 
!            in 'r' command resulting in substantial toggle speed up in
!            large groups.
!     ENHANCEMENTS curses.c - added ToggleInverse() routine.
!            kill.c - added auto_select_articles() to perform auto selection.
!            NOTE: this routine is presently a kludge, but exists to make 
!            future changes a touch easier
!            group.c thread.c - Added coded to highlight selected (hot) arts. 
! 
!            Added a bunch of commands to manipulate selected articles. 
!            Note that the characters  associated with each new command were
!            chosen to correspond to a trn or nn equivalent command.
! 
! 27) Bill Poitras (bill@polygen.com)
!     BUG. Unthreading groups at startup causes SIGSEGV error.
!     FIX. active.c - check that array index variable is not less than 0.
! 
! 28) Hakan Lennestal (hakanl@lulea.telesoft.se)
!     BUG. Certain systems use the setreuid() call to set real & effective uid.
!     FIX. misc.c INSTALL - Applied supplied patch.
! 
! 29) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Major outcry from users about 'i' command being removed at group level
!     FIX. group.c - readded the 'i' command. It *WILL* be removed *FOREVER* in 
!          a future version.        
! 
! 30) Callum Gibson (callum@bain3.bain.oz.au)
!     BUG. Does not compile on Pyramid machines.
!     FIX. tin.h - applied supplied patch.
! 
! 31) Tony Travis (ajt@doc.ic.ac.uk)
!     BUG. Sequent Dynix requires -lseq lib because of getopt().
!     FIX. Makefile - added dynix make entry to Makefile.
X  
! 32) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Last group in chain is not accessed because of wrong test logic.
!     FIX. active.c - changed code so that last group in chain is marked.
X  
! 33) Dean Schrimpf (ds11129@medtronic.com)
!     BUG. Cross device renaming fails and trashes .newsrc file.
!     FIX. misc.c - changed rename_file() to handle cross-device filenames.
! 
! 34) Marty Leisner (leisner@eso.mc.xerox.com)
!     BUG. Add address is not added to bug address if on internal network.
!     FIX. post.c - added code to add add_addr varaible contents to bug address.
X  
! 35) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Saving, mailing etc. an expired article within a thread caused 
!          SIGSEGV error.
!     FIX. feed.c - check if article is available before accessing it.
! 
! 36) Hakan Lennestal (hakanl@lulea.telesoft.se)
!     BUG. Child processes are not waited for and therefore cause zombies.
!     FIX. Applied supplied patch.
! 
! 37) Daniel Hermans (dmh@superb.mel.cocam.oz.au)
!     BUG. Arrow keys on HP type terminals don't work.
!     FIX. curses.c - Applied supplied patch.
! 
! 38) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     ADD. kill - added kill/hot file of people that I find interesting
!          (ie. Larry Wall , Chris Torek etc.) so that the auto-selection
!          of interesting people can be shown automatically to new users.
!          The file requires installing in ~/.tin
X  
! 39) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Temp index files are not deleted from /tmp if a crash occurs.
!     FIX. signal.c - delete temp index files from the signal handler.
X  
! 40) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Default mailer for DG Aviion is wrong (/usr/ucb/Mail).
!     FIX. tin.h - changed default mailer to /bin/mail
! 
! 41) John Scmitz (schmitz@scd.hp.com)
!     BUG. 'sigtype_t (*susp)() = (sigtype_t *) 0;' causes compiler problem 
!          under HP-UX 7.0
!     FIX. kill.c misc.c rcfile.c - set default value after variable declaration.
! 
! 42) David Ross (dave@naskiska.ucs.ualberta.ca)
!     BUG. Vi users are used to Ctrl-F & Ctrl-B to page forwards & backwards. 
!     FIX. Added key code to recognize Ctrl-F & Ctrl-B at all levels.
X  
--- 1,261 ----
! CHANGES tin v1.1 PL4 -> tin 1.1 PL5
X  -----------------------------------
X  
! 1)  Steve Spearman (spear@druco.att.com)
!     BUG. Error compiling on Amdahl UTS machine.
!     FIX. tin.h - added #ifndef UTS around #include <stdlib.h>
! 
! 2)  Chris Davies (chris@visionware.co.uk)
!     BUG. 'q' command does not work in kill/auto-select article menu.
!     FIX. kill.c - applied supplied patch.
! 
! 3)  Dave Schweisguth (dcs@neutron.chem.yale.edu)
!     BUG. help screen does not allow ^F & ^B (vi style) for PgUp & PgDn.
!     FIX. help.c - added ^F & ^B commands to help screen.
! 
! 4)  Craig Bruce (cbruce@bnr.ca)
!     BUG. 'K' mark thread read does not advance to next unread article.
!     FIX. group.c - changed part of 'K' code back to PL3 version.
! 
! 5)  John Schmitz (schmitz@scd.hp.com)
!     BUG. If user is quitting the active file does not need to be reread. 
!     FIX. select.c - check if user has selected 'q' or 'Q'.
! 
! 6)  John Schmitz (schmitz@scd.hp.com)
!     BUG. The -f other-newsrc option does not work. It always uses ~/.newsrc
!     FIX. init.c - added check to see if newsrc[] is used or not.
! 
! 7)  Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. When resuming a suspended tin the screen is not redrawn.
!     FIX. signal.c - if signal was a SIGSTOP always redraw screen.
! 
! 8)  Marty Leisner (leisner@eso.mc.xerox.com)
!     BUG. FTP tar file has the the wrong access rights (ie. 600).
!     FIX. Makefile - added chmod 644 to set all files access modes.
! 
! 9)  Tom Kovar (tom.kovar@itc.univie.ac.at)
!     BUG. Entered mail headers are not taken as valid headers therefore
!          mail is sent with no Subject: line. 
!     FIX. tin.h - changed BSD type DEFAULT_MAILER to /usr/lib/sendmail.
! 
! 10) Paul Wood (pcwood@astro.ocis.temple.edu)
!     BUG. Error compiling on Mips machine.
!     FIX. tin.h - added #ifndef mips around #include <unistd.h>
! 
! 11) Michael Marshall (michael@xon.co.uk)
!     BUG. 'y' yank in all groups gets reset after a few minutes due to
!          the active file being reread and removing unsubscribed groups.
!     FIX. select.c - switched alram clock off while in yanked in mode.
! 
! 12) Chris Davies (chris@visionware.co.uk)
!     BUG. One has to add the INEWS defines by hand to each Makefile target.
!     FIX. Makefile - added NNTP_INEWS_GATEWAY & NNTP_INEWS_DOMAIN entries
!          to each target.
! 
! 13) Craig Durland (craig@hpcvxkm.cv.hp.com)
!     BUG. Typo error in article level help screen.
!     FIX. lang.c - applied supplied patch.
! 
! 14) Kirk Edson (kirke@ingres.com)
!     BUG. Casting of 0 to pointer to a function is wrong on HPUX. 
!     FIX. kill.c misc.c rcfile.c - applied supplied patch.
! 
! 15) Kirk Edson (kirke@ingres.com)
!     BUG. SIGALRM interupts get_server() routine in nntp routines.
!     FIX. nntplib.c - applied supplied patch.
! 
! 16) Kirk Edson (kirke@ingres.com)
!     BUG. Low level screen functions require <termio.h> under HPUX.
!     FIX. curses.c - applied supplied patch.
! 
! 17) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. LF in perror_message() causes all of displayed info to move 1 line.
!     FIX. screen.c - removed perror() and access sys_errlist[] directly.
X  
! 18) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     ADD. Auto-detection of new newgroups even when reading from local 
!          spooldir & multiple NNTP servers.
X  
! 19) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     ADD. Wrap around on help & posting history screens.
X  
! 20) Dave Schweisguth (dcs@neutron.chem.yale.edu)
!     BUG. TAB needs to wrap around group selections looking for unread groups.
!     FIX. select.c - wrap around for unread groups added.
! 
! 21) Dieter Becker (becker@med-in.uni-sb.de)
!     BUG. inews.c does not compile in SNI Sinix because #include <netdb.h> 
!          is not found. 
!     FIX. inews.c - applied supplied patch.
X  
! 22) Dieter Becker (becker@med-in.uni-sb.de)
!     BUG. On SNI Sinix /bin/rmail does not handle aliases so changed to
!          /usr/bin/mailx
X      FIX. tin.h - applied supplied patch.
X  
! 23) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     ADD. Wrap around on group index level looking for unread articles.
X  
! 24) Tom Parry (parry@yoyo.cc.monash.edu.au)
!     FIXES. curses.c - Ultrix gives duplicate definition warning about
!            TCGETA & TCSETAW.
!     ENHANCEMENTS rcfile.c - quoting characters can be changed from the
!            DEFAULT_COMMENT that is specified in tin.h. Now settable
!            option in ~/.tin/tinrc
!            page.c - added option to allow last line of previous page
!            to be displayed on next page at article level.
!            post.c - do while loops have been changed to use strchr().
!            post.c - added ispell spellchecker option to posting and 
!            followup menus.
! 
! 25) Andreas Klemm (andreas@knobel.GUN.de)
!     BUG. When starting with -U the newsgroups descriptio text is not shown.
!     FIX. active.c - added test to see if update_fork variable set to TRUE
!          and if so then allow newsgroups decsription to be shown.
! 
! 26) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     ADD. Reread active file interval now settable via tinrc variable.
! 
! 27) Rob Engle (engle@cdc.hp.com)
!     BUG. Too many bad headers in a newsgroup can cause the max. number of
!          open files to be exceeded.
!     FIX. art.c - applied supplied patch.
! 
! 28) Rob Engle (engle@cdc.hp.com)
!     BUG. Keypad code is commented out so it does not work on HP machines. 
!     FIX. curses.c - added #ifdef HPUX to allow keypad to work on HP machines.
X  
! 29) Leila Burrell-Davis (lielabd@syma.sussex.ac.uk)
!     BUG. Cpp define _SEQUENT_ is not defined on DYNIX machines.
X      FIX. tin.h - applied supplied patch.
X  
! 30) Jay Geertsen (jgg@hubble.sde.hp.com)
!     BUG. Pressing 'Y' to force a reread of the active file does not reset
!          the automatic reread signal so both can occur almost together. 
!     FIX. signal.c - reset alarm() before setting it to timeout in seconds.
! 
! 31) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. When threading a message is left at bottom of 'M' menu screen.
!     FIX. rcfile.c - added clear_message() after un/threading is completed.
! 
! 32) Peter Castro (peter@dbaccess.com)
!     BUG. On AIX the system() call returns the correct exit status so wait()
!          does not need to be intergated.
!     FIX. misc.c - applied supplied patch.
X  
! 32) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Under tcsh / window systems the screen is not always rediplayed.
!     FIX. feed.c rcfile.c - added force_screen_redraw variable to tinrc file
!          so that screen can be forced to redraw if on a terminal type or
!          suntool window that restores the previous screen image and therefore
!          creating a blank screen.
! 
! 33) Paul Verket (verket@venice.sedd.trw.com)
!     BUG. Batch saving of articles with -S command line option causes SIGSEGV
!          if article does not exist.
!     FIX. save.c - check return value from art_open().
! 
! 34) Deeptendu Majumder (dips@cad.gatech.edu)
!     BUG. If in unthread mode and the active file is reread you cannot
!          rethread the group without quitting and restarting. 
!     FIX. group.c - the global thread flag was being toggled when in fact
!          the group attribute thread flag should have been toggled.
X  
! 35) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     ADD. User specified attributes can noe be set for each group. This
!          allows the following things to be set on a per group basis:
!          savedir=<path>, maildir=<path>, sigfile=<path>, 
!          thread_arts=<ON/OFF>, show_only_unread=<ON/OFF>,
!          sort_art_type=<0123456>, show_author=<0123>,
!          autosave=<ON/OFF>, post_proc_type=<01234>
!          NOTE1: the ~/.tin/unthread file has been removed as the same
!                 function can now be had by the thread_arts=ON/OFF field.
!          NOTE2: A typical example follows for ~/.tin/attributes
!                 newsgroup=alt.sources
!                 savedir=/usr/iain/News/sources
!                 sigfile=/usr/iain/.funnysig
!                 show_only_unread=OFF
!                 show_author=0
! 
!                 newsgroup=comp.archives
!                 savedir=/usr/iain/News/archives
!                 sigfile=/usr/iain/.serioussig
!                 show_only_unread=ON
!                 show_author=3
X  
! 36) Mark Tomlin (tomlin@elec.canterbury.ac.nz)
!     BUG. Distribution: line is always added even if not in original posting.
X      FIX. post.c - applied supplied patch.
X  
! 37) Alex Lange (lange@iscnvx.lmsc.lockheed.com)
!     BUG. Spelling errors in maunal page.
!     FIX. tin.1 - applied supplied patch.
X  
! 38) Scott Hauck (scotth@apertus.mn.org)
!     BUG. The default mailer for Pyramid machines does not work.
!     FIX. tin.h - applied supplied patch.
X  
! 39) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Help screens are not redrawn when restarted after being suspended.
!     FIX. help.c signal.c - add signal handler to redraw help screens.
X  
! 40) Doug Sewell (doug@cc.ysu.edu)
!     BUG. signal() return type is void on IBM AIX machines.
!     FIX. tin.h - applied supplied patch.
X  
! 41) Doug Sewell (doug@cc.ysu.edu)
!     BUG. SIGWINCH signal is not supported on NeXT machines.
!     FIX. tin.h - applied supplied patch.
X  
! 42) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     ADD. main.c - added -q command line switch to stop check for new groups.
X  
! 43) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Tagged arts variable is not reset when entering a new group.
!     FIX. group.c - reset tagged arts variable to 0 on entering group.
! 
! 44) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Auto saving caused SIGSEGV when sorting on part & patch numbers
!          in Archive-name: headers.
!     FIX. save.c - save_comp() checks if sort on same field (ie. part / patch).
! 
! 45) Marty Leisner (leisner@eso.mc.xerox.com)
!     BUG. Cannot quit/ESC from post processing prompt when saving.
!     FIX. feed.c - added q)uit as option to post processing level.
! 
! 46) Eric A. Litman (elitman@rac2.wam.umd.edu)
!     BUG. User cannot set unread, hot & return mark chars to personal taste.
!     FIX. init.c rcfile.c - added code to allow user to set unread, hot and
!          return mark characters in tinrc file.
! 
! 47) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. 'C' catchup at group index level causes infinite loop if no arts
!          are in group.
!     FIX. group.c - check if any any unread articles in group before doing a
!          next_unread().
! 
! 48) Dave Schweisguth (dcs@neutron.chem.yale.edu)
!     BUG. Only groups that contain unread news should be displayed.
!     FIX. select.c - added 'r' command to group selection level to allow
!          toggling of all / only unread subscribed to groups.
! 
! 49) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. Machines that do not have a full internet address have an incorrect
!          net address. ie. my From: field is 'iain@anl433.uucp' which should
!          be 'iain%anl433.uucp@Germany.EU.net'
!     FIX. inews.c - added check to get_host_name() for '%' at start of gateway.
! 
! 50) Don Costello (fazc016@hq.dla.mil)
!     BUG. Does not compile on Gould Powernode machine.
!     FIX. tin.h - applied supplied patch.
X  
! 51) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. The 'net@addr (username) writes:' is wrong. Username should be first.
!     FIX. post.c - changed to 'username (net@addr) wrote:'.
! 
! 52) Iain Lea (iain%anl433.uucp@Germany.EU.net)
!     BUG. FTP tar file did not contain NNTP patches & unpacked into present 
!          directory.
!     FIX. Makefile - Added 'make ftptar rule to create directory and included
!          NNTP server patch files in standard tar rule.
X  
Files ../1.14/FAQ and ./FAQ are identical
diff -rcs ../1.14/FTP ./FTP
*** ../1.14/FTP	Tue Aug 11 21:22:56 1992
--- ./FTP	Mon Aug 10 09:10:05 1992
***************
*** 7,17 ****
X  --------------------------------------------------------------------------------
X  
X  1) FTP sites that carry the latest version of tin are:
-   
-     ftp.Germany.EU.net  [192.76.144.129]  cd pub/news/tin
-     src.doc.ic.ac.uk    [146.169.2.1]     cd ??
X  
! NOTE1: Both sites are in Europe (Germany & England respectively).
X  NOTE2: There will be a small time lag before each of these sites makes
X         the newest version available as I post firstly to alt.sources
X  
--- 7,22 ----
X  --------------------------------------------------------------------------------
X  
X  1) FTP sites that carry the latest version of tin are:
X  
!    Reference site:  
!      [192.76.144.129]  ftp.Germany.EU.net:pub/news/tin
! 
!    Mirror sites:
!      [146.169.2.1]     src.doc.ic.ac.uk:computing/usenet/software/readers/tin
!      [131.210.1.4]     ftp.uwp.edu:pub/tin
! 
! NOTE1: The reference site is in Germany (europe). The mirror sites are in the
!        UK & USA respectively.
X  NOTE2: There will be a small time lag before each of these sites makes
X         the newest version available as I post firstly to alt.sources
X  
***************
*** 51,58 ****
X  3) For people that are having problems compiling tin I am willing to send a 
X     copy of a pre-compiled binary for the following machines:
X  
!     i386/486 + SCO Xenix 2.3
!     i386/486 + SCO Unix 3.2
X      i386/486 + ISC Unix 3.2 v3.0
X      SunSparc + SunOS 4.1
X      SonyMIPS + NewsOS 4.1
--- 56,63 ----
X  3) For people that are having problems compiling tin I am willing to send a 
X     copy of a pre-compiled binary for the following machines:
X  
!     i386/486 + SCO Xenix 2.3.2
!     i386/486 + SCO Unix 3.2.2
X      i386/486 + ISC Unix 3.2 v3.0
X      SunSparc + SunOS 4.1
X      SonyMIPS + NewsOS 4.1
***************
*** 61,66 ****
--- 66,72 ----
X      Apollo68xxx + DomainOS10.3
X      Siemens MX330 + Sinix v5.23
X      Siemens MX350i + Sinix v5.4
+     Stratus i860 + FTX 2.0
X  
X      NOTE: Specify how you want tin to be compiled to access news:
X            1) local spool directory (specify path for newsspool & newslib)
diff -rcs ../1.14/INSTALL ./INSTALL
*** ../1.14/INSTALL	Tue Aug 11 21:22:54 1992
--- ./INSTALL	Wed Jul 29 12:33:39 1992
***************
*** 1,4 ****
! Compilation and installation notes for tin - 23-06-92 
X  -----------------------------------------------------
X  
X  Tin has been compiled on a wide range of Un*x machines with cc and gcc.
--- 1,4 ----
! Compilation and installation notes for tin - 28-07-92 
X  -----------------------------------------------------
X  
X  Tin has been compiled on a wide range of Un*x machines with cc and gcc.
***************
*** 115,120 ****
--- 115,124 ----
X  ie. -DNNTP_INEWS_GATEWAY=\"anl433\"
X  If the first letter of the string is '/' the gateway name will be read from 
X  the specified file.
+ If the first letter of the string is '%' the gateway name will be directly
+ appended to the username ie. ie. -DNNTP_INEWS_GATEWAY=\"%anl433.Germany.EU.net\" 
+ will create the net address iain%anl433.Germany.EU.net
+ The '%' hack will *only* be used if NNTP_INEWS_DOMAIN is not defined.
X  
X  NNTP_INEWS_DOMAIN
X  Defines the name of your network domain. 
***************
*** 154,164 ****
X  Miscellaneous options
X  ---------------------
X  
- SIGTYPE=[void | int]
- Define only if incorrect pointer type warnings occur during compilition.
- SIGTYPE is already defined in tin.h for most compilers signal() call.
- By defining this you will override the default action in tin.h.
-  
X  POSIX_JOB_CONTROL
X  Define if your machine uses Posix style sigaction() signal handling.
X  
--- 158,163 ----
***************
*** 183,188 ****
--- 182,191 ----
X  Define if problems occur when runnung tin as setuid news. Only define if
X  your system supports the setreuid() system call.
X  
+ USE_ISPELL
+ Define if you have ispell (interactive spellchecker) installed and want the
+ option of checking your articles, mails before posting/mailing them.
+ 
X  SLOW_SCREEN_UPDATE
X  Define if running over a low speed connection (ie. 2400baud). It stops
X  the percentage info being shown at bottom of select and group menus and
***************
*** 221,227 ****
X  Compiled & installed on the following machines
X  ----------------------------------------------
X  
! 1) * 386 PC & Xenix 2.3.2/SCO SysVR3.2/ISC SysVR3.2/ATT SysVr4.0
X  2) * Sony News & NewsOS 4.1
X  3) * SNI MX300/MX500 & Sinix 5.22/5.23/5.24/5.4
X  4) * Sun 3/4/IPC/SS1/SS2 & SunOS 4.0.3/4.1/4.1.1 
--- 224,230 ----
X  Compiled & installed on the following machines
X  ----------------------------------------------
X  
! 1) * i386 & Xenix 2.3.2/SCO SVR3.2/ISC SVR3.2/ATT SVR4.0
X  2) * Sony News & NewsOS 4.1
X  3) * SNI MX300/MX500 & Sinix 5.22/5.23/5.24/5.4
X  4) * Sun 3/4/IPC/SS1/SS2 & SunOS 4.0.3/4.1/4.1.1 
***************
*** 229,239 ****
X  6) * Vax 11/785 & BSD 4.3
X  7) * DG Aviion 300 & DG-UX 4.30
X  8) * Apollo DN4500 & DomainOS 10.3
! 9)   ICL DRS6000 & SysVR4.0 
X  10)  Apricot VX/FT & SCO 3.2.2
X  11)  DIAB DS90 & D-NIX 5.3
! 12)  Amdahl & SysVR3
! 13)  HP 720/845 & HP-UX 7.0
X  14)  IBM RS/6000 & AIX 3.1.5
X  15)  NCR Tower & SysV
X  16)  Atari STe & Minix 1.5.10.3b
--- 232,242 ----
X  6) * Vax 11/785 & BSD 4.3
X  7) * DG Aviion 300 & DG-UX 4.30
X  8) * Apollo DN4500 & DomainOS 10.3
! 9)   ICL DRS6000 & SVR4.0 
X  10)  Apricot VX/FT & SCO 3.2.2
X  11)  DIAB DS90 & D-NIX 5.3
! 12)  Amdahl 5890 & UTS 5.2.6b
! 13)  HP 720/845 & HP-UX 7.0/8.0
X  14)  IBM RS/6000 & AIX 3.1.5
X  15)  NCR Tower & SysV
X  16)  Atari STe & Minix 1.5.10.3b
***************
*** 244,248 ****
--- 247,257 ----
X  21)  Harris HCX & CX/UX
X  22)  SGI 4D/35 & IRIX 4.0.1
X  23)  Pyramid 9810 & OSx96N
+ 24)  Alliant FX/2800 & Concentrix 2.2
+ 25)  Stratus i860 & FTX 2.0
+ 26)  i386 & Linux 0.96c
+ 27)  Apple A/UX 3.0 & gcc 2.2 (?)
+ 28)  Motorola Delta 3200 & SysVR3V6
+ 29)  Gould Powernode 9050 & utx/32
X  
X  * = compiled, installed and used by author 
Files ../1.14/INSTALL.NNTP and ./INSTALL.NNTP are identical
diff -rcs ../1.14/MANIFEST ./MANIFEST
*** ../1.14/MANIFEST	Tue Aug 11 21:22:53 1992
--- ./MANIFEST	Tue Aug 11 21:24:15 1992
***************
*** 1,51 ****
! MANIFEST for tin newsreader (Tue Jun 23 07:17:54 MET DST 1992)
! ----------------------------------------------------------
!    13853 Makefile
!      122 MANIFEST
!     3338 README
!     8432 CHANGES
!     9003 INSTALL
!     5083 TODO
X     14588 FAQ
!     2568 FTP
!    40703 tin.1
X      2247 wildmat.3
!    50832 tin.nrf
X       489 kill
!    14455 tin.h
!    18278 extern.h
X      4658 nntplib.h
!    28626 proto.h
X       585 patchlev.h
!    10048 active.c
!    22975 art.c
!     8719 curses.c
!     4317 debug.c
!    14656 feed.c
!    11458 getline.c
!    29136 group.c
X      2510 hashstr.c
!     5901 help.c
!     4721 inews.c
!    15082 init.c
!    13051 kill.c
!    24092 lang.c
!    12528 main.c
!     7855 memory.c
!    16344 misc.c
!    20406 newsrc.c
!    14736 nntplib.c
!    14367 open.c
!    22481 page.c
!    28095 post.c
X      3150 prompt.c
!    24690 rcfile.c
!    25838 save.c
!     2916 screen.c
!     7173 search.c
!    24921 select.c
!    10115 signal.c
!    14375 spooldir.c
!    20862 thread.c
X      4798 wildmat.c
!   660176 total
--- 1,57 ----
! MANIFEST for tin-1.15 (Tue Aug 11 21:24:11 MET DST 1992)
! ----------------------------------------------------
!    16319 Makefile
!      110 MANIFEST
!     3713 README
!    11411 CHANGES
!     9410 INSTALL
!     6409 TODO
X     14588 FAQ
!     2748 FTP
!    43096 tin.1
X      2247 wildmat.3
!    53745 tin.nrf
X       489 kill
!      934 README.NNTP
!     3162 INSTALL.NNTP
!     2369 common.patch
!    34102 server.patch
!     3476 xindex.c
!     1344 xuser.c
!    15275 tin.h
!    19417 extern.h
X      4658 nntplib.h
!    30640 proto.h
X       585 patchlev.h
!    17246 active.c
!    23634 art.c
!     8897 curses.c
!     5292 debug.c
!    14940 feed.c
!    11434 getline.c
!    31721 group.c
X      2510 hashstr.c
!     6139 help.c
!     5373 inews.c
!    15477 init.c
!    13328 kill.c
!    25069 lang.c
!    12626 main.c
!    10299 memory.c
!    17510 misc.c
!    20542 newsrc.c
!    14738 nntplib.c
!    14945 open.c
!    23439 page.c
!    28207 post.c
X      3150 prompt.c
!    28837 rcfile.c
!    26462 save.c
!     3048 screen.c
!     7197 search.c
!    26493 select.c
!    10831 signal.c
!    13878 spooldir.c
!    20946 thread.c
X      4798 wildmat.c
!   749253 total
diff -rcs ../1.14/Makefile ./Makefile
*** ../1.14/Makefile	Tue Aug 11 21:22:52 1992
--- ./Makefile	Sat Aug  8 12:49:10 1992
***************
*** 11,17 ****
X  MANDIR	= /usr/local/man/man1
X  LIBDIR	= /usr/lib/news
X  SPOOLDIR= /usr/spool/news
! NNTP_INEWS_GATEWAY=anl433.uucp
X  NNTP_INEWS_DOMAIN=
X  
X  
--- 11,18 ----
X  MANDIR	= /usr/local/man/man1
X  LIBDIR	= /usr/lib/news
X  SPOOLDIR= /usr/spool/news
! ANL_INEWS_GATEWAY=%anl433.uucp@Germany.EU.net
! NNTP_INEWS_GATEWAY=
X  NNTP_INEWS_DOMAIN=
X  
X  
***************
*** 29,36 ****
X  STRIP	= strip
X  ROFF	= + drf -F Helvetica -man3 
X  PRINT	= -Pps0
! BASE_VER= ../113
! PATCH_VER = 1.14
X  MAIL_ADDR = "iain%anl433.uucp@Germany.EU.net (Iain Lea)"
X  
X  HFILES	= tin.h extern.h nntplib.h proto.h
--- 30,37 ----
X  STRIP	= strip
X  ROFF	= + drf -F Helvetica -man3 
X  PRINT	= -Pps0
! BASE_VER= 1.14
! VER = 1.15
X  MAIL_ADDR = "iain%anl433.uucp@Germany.EU.net (Iain Lea)"
X  
X  HFILES	= tin.h extern.h nntplib.h proto.h
***************
*** 50,59 ****
X  SUPPORT = Makefile MANIFEST README CHANGES INSTALL TODO FAQ FTP *.[13] \
X  		$(EXE).nrf kill
X  
X  LINTFLAGS=-a -c -h -n -x 
X  
X  all: 
! 	@echo "Makefile for the TIN v1.1 PL4 Usenet newsreader. Configuration:"
X  	@echo " "
X  	@echo "    Make=[$(MAKE)]  Compiler=[$(CC)]  Copts=[$(COPTS)]  Debug=[$(DEBUG)]"
X  	@echo "    Install Bindir=[$(BINDIR)]  Mandir=[$(MANDIR)]"
--- 51,65 ----
X  SUPPORT = Makefile MANIFEST README CHANGES INSTALL TODO FAQ FTP *.[13] \
X  		$(EXE).nrf kill
X  
+ NNTP_PATCH = README.NNTP INSTALL.NNTP common.patch server.patch xindex.c \
+ 		xuser.c
+ 
+ ALL_FILES = $(SUPPORT) $(NNTP_PATCH) $(HFILES) patchlev.h $(CFILES)
+ 
X  LINTFLAGS=-a -c -h -n -x 
X  
X  all: 
! 	@echo "Makefile for the TIN v1.1 PL5 Netnews newsreader. Configuration:"
X  	@echo " "
X  	@echo "    Make=[$(MAKE)]  Compiler=[$(CC)]  Copts=[$(COPTS)]  Debug=[$(DEBUG)]"
X  	@echo "    Install Bindir=[$(BINDIR)]  Mandir=[$(MANDIR)]"
***************
*** 82,88 ****
X  # For BSD-derived systems
X  bsd:
X  	@echo "Compiling for BSD/Dec/DG/NeXT/Sun..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DBSD -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
--- 88,94 ----
X  # For BSD-derived systems
X  bsd:
X  	@echo "Compiling for BSD/Dec/DG/NeXT/Sun..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DBSD -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
***************
*** 91,97 ****
X  #
X  sysv:
X  	@echo "Compiling for System V..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSYSV -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
--- 97,103 ----
X  #
X  sysv:
X  	@echo "Compiling for System V..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSYSV -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
***************
*** 100,106 ****
X  #
X  sysvr4:
X  	@echo "Compiling for System V Release 4..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSVR4 -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermlib" \
X  			 EXE=tin linkit
X  
--- 106,112 ----
X  #
X  sysvr4:
X  	@echo "Compiling for System V Release 4..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSVR4 -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermlib" \
X  			 EXE=tin linkit
X  
***************
*** 109,115 ****
X  #
X  sco:
X  	@echo "Compiling for SCO Unix..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSYSV -DSCO_UNIX -UM_XENIX -DUSE_INVERSE_HACK -DLIBDIR="\"$(LIBDIR)\"" -DSPOOLDIR="\"$(SPOOLDIR)\""' \
X  			 LIBS="-lcurses -lgen -lc_s" \
X  			 EXE=tin linkit
X  
--- 115,121 ----
X  #
X  sco:
X  	@echo "Compiling for SCO Unix..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSYSV -DSCO_UNIX -UM_XENIX -DUSE_INVERSE_HACK -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DLIBDIR="\"$(LIBDIR)\"" -DSPOOLDIR="\"$(SPOOLDIR)\""' \
X  			 LIBS="-lcurses -lgen -lc_s" \
X  			 EXE=tin linkit
X  
***************
*** 116,122 ****
X  # For IBM AIX
X  aix:
X  	@echo "Compiling for IBM AIX..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSYSV -DRS6000 -DREAD_CHAR_HACK -DUSE_LONG_FILENAMES -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
--- 122,128 ----
X  # For IBM AIX
X  aix:
X  	@echo "Compiling for IBM AIX..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSYSV -DRS6000 -DREAD_CHAR_HACK -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
***************
*** 125,131 ****
X  #
X  xenix:
X  	@echo "Compiling for Xenix 386..."
! 	@$(MAKE) CC=$(CC) CFLAGS='-c -Zi -DSYSV -DLIBDIR="\\"$(LIBDIR)\\"" -DSPOOLDIR="\\"$(SPOOLDIR)\\""' \
X  			 LIBS="-lcurses -ltinfo -lx" \
X  			 LFLAGS=-Zi EXE=tin linkit
X  
--- 131,137 ----
X  #
X  xenix:
X  	@echo "Compiling for Xenix 386..."
! 	@$(MAKE) CC=$(CC) CFLAGS='-c -Zi -DSYSV -DNNTP_INEWS_GATEWAY="\\"$(NNTP_INEWS_GATEWAY)\\" -DNNTP_INEWS_DOMAIN="\\"$(NNTP_INEWS_DOMAIN)\\" -DLIBDIR="\\"$(LIBDIR)\\"" -DSPOOLDIR="\\"$(SPOOLDIR)\\""' \
X  			 LIBS="-lcurses -ltinfo -lx" \
X  			 LFLAGS=-Zi EXE=tin linkit
X  
***************
*** 132,138 ****
X  # For SNI Sinix
X  sinix:
X  	@echo "Compiling for SNI Sinix..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DUSE_MKDIR -DLIBDIR=\\"$(LIBDIR)\\" -DSPOOLDIR=\\"$(SPOOLDIR)\\"' \
X  			 LIBS="-lcurses" \
X  			 EXE=tin linkit
X  
--- 138,144 ----
X  # For SNI Sinix
X  sinix:
X  	@echo "Compiling for SNI Sinix..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DUSE_MKDIR -DNNTP_INEWS_GATEWAY="\\"$(NNTP_INEWS_GATEWAY)\\" -DNNTP_INEWS_DOMAIN="\\"$(NNTP_INEWS_DOMAIN)\\" -DLIBDIR=\\"$(LIBDIR)\\" -DSPOOLDIR=\\"$(SPOOLDIR)\\"' \
X  			 LIBS="-lcurses" \
X  			 EXE=tin linkit
X  
***************
*** 141,147 ****
X  #
X  tower:
X  	@echo "Compiling for NCR Tower..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSYSV -DNCR -DISTRING -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
--- 147,153 ----
X  #
X  tower:
X  	@echo "Compiling for NCR Tower..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSYSV -DNCR -DISTRING -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
***************
*** 148,154 ****
X  # For Minix 386
X  minix:
X  	@echo "Compiling for Minix 386..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DMINIX -D_POSIX_SOURCE -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses" \
X  			 EXE=tin linkit
X  	chmem +131072 $(EXE) 
--- 154,160 ----
X  # For Minix 386
X  minix:
X  	@echo "Compiling for Minix 386..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DMINIX -D_POSIX_SOURCE -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses" \
X  			 EXE=tin linkit
X  	chmem +131072 $(EXE) 
***************
*** 156,162 ****
X  # For Sequent DYNIX
X  dynix:
X  	@echo "Compiling for Sequent DYNIX..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DBSD -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap -lseq" \
X  			 EXE=tin linkit
X  
--- 162,168 ----
X  # For Sequent DYNIX
X  dynix:
X  	@echo "Compiling for Sequent DYNIX..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DBSD -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap -lseq" \
X  			 EXE=tin linkit
X  
***************
*** 165,171 ****
X  #
X  ptx:
X  	@echo "Compiling for Sequent PTX..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DPTX -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
--- 171,177 ----
X  #
X  ptx:
X  	@echo "Compiling for Sequent PTX..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DPTX -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
***************
*** 172,178 ****
X  # For Apollo 
X  apollo:
X  	@echo "Compiling for Apollo..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
--- 178,184 ----
X  # For Apollo 
X  apollo:
X  	@echo "Compiling for Apollo..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
***************
*** 179,189 ****
X  # For SGI Irix
X  sgi:
X  	@echo "Compiling for SGI Irix..."
! 	@$(MAKE) CFLAGS='$(COPTS) -cckr -DSYSV -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lsun -lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
X  # !!!  THE FOLLOWING ARE SITE SPECIFIC - IGNORE  !!!
X  anl432:
X  	@echo "Compiling for ANL432 with NNTP ONLY, NO POSTING, NO SHELL ESCAPE..."
X  	@$(MAKE) CC=gcc CFLAGS='-c -O2 -Wall -DSYSV -DNNTP_ONLY -DNNTP_EXTS -DNO_POSTING -DNO_SHELL_ESCAPE -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DDEBUG' \
--- 185,202 ----
X  # For SGI Irix
X  sgi:
X  	@echo "Compiling for SGI Irix..."
! 	@$(MAKE) CFLAGS='$(COPTS) -cckr -DSYSV -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DLIBDIR=\"$(LIBDIR)\" -DSPOOLDIR=\"$(SPOOLDIR)\"' \
X  			 LIBS="-lsun -lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
X  # !!!  THE FOLLOWING ARE SITE SPECIFIC - IGNORE  !!!
+ ccenter_obj:
+ 	@echo "Compiling a CL target for SUN01 with NNTP ONLY..."
+ 	#setopt program_name $(EXE)
+ 	#setopt sys_load_flags -Dsun -Dsparc -I/usr/include -I. -L/usr/lib -lcurses -ltermcap
+ 	#load -c -g -DBSD -DNNTP_ABLE -DNNTP_ONLY -lcurses -ltermcap $(CFILES)
+ 	#link
+ 
X  anl432:
X  	@echo "Compiling for ANL432 with NNTP ONLY, NO POSTING, NO SHELL ESCAPE..."
X  	@$(MAKE) CC=gcc CFLAGS='-c -O2 -Wall -DSYSV -DNNTP_ONLY -DNNTP_EXTS -DNO_POSTING -DNO_SHELL_ESCAPE -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DDEBUG' \
***************
*** 193,199 ****
X  
X  anl433:
X  	@echo "Compiling for ANL433 with NNTP..."
! 	@$(MAKE) CC=gcc CFLAGS='-c -O2 -Wall -DSYSV -DNNTP_ABLE -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 NETLIBS="-linet -lnsl_s" \
X  			 EXE=tin linkit
--- 206,212 ----
X  
X  anl433:
X  	@echo "Compiling for ANL433 with NNTP..."
! 	@$(MAKE) CC=gcc CFLAGS='-c -O2 -Wall -DSYSV -DNNTP_ABLE -DNO_NNTP_EXTS -DNNTP_INEWS_GATEWAY=\"$(ANL_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 NETLIBS="-linet -lnsl_s" \
X  			 EXE=tin linkit
***************
*** 200,206 ****
X  
X  anl433cd:
X  	@echo "Compiling for ANL433 with CDROM..."
! 	@$(MAKE) CC=gcc CFLAGS='-c -O2 -Wall -DSYSV -DCDROM_ABLE -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap $(CDLIB)" \
X  			 NETLIBS="-linet -lnsl_s" \
X  			 EXE=tin linkit
--- 213,219 ----
X  
X  anl433cd:
X  	@echo "Compiling for ANL433 with CDROM..."
! 	@$(MAKE) CC=gcc CFLAGS='-c -O2 -Wall -DSYSV -DCDROM_ABLE -DNNTP_INEWS_GATEWAY=\"$(ANL_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap $(CDLIB)" \
X  			 NETLIBS="-linet -lnsl_s" \
X  			 EXE=tin linkit
***************
*** 207,219 ****
X  
X  apollo02:
X  	@echo "Compiling for APOLLO02 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
X  os2unix:
X  	@echo "Compiling for OS2UNIX with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSYSV -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 NETLIBS="-linet -lnsl_s" \
X  			 EXE=tin linkit
--- 220,232 ----
X  
X  apollo02:
X  	@echo "Compiling for APOLLO02 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DNNTP_ONLY -DNNTP_NEWS_GATEWAY=\"$(ANL_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
X  os2unix:
X  	@echo "Compiling for OS2UNIX with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSYSV -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(ANL_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 NETLIBS="-linet -lnsl_s" \
X  			 EXE=tin linkit
***************
*** 225,237 ****
X  
X  dec02:
X  	@echo "Compiling for DEC02 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DBSD -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
X  dg01:
X  	@echo "Compiling for DG01 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DBSD -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DDEBUG' \
X  			LIBS="-lcurses -ltermcap" \
X  			EXE=tin linkit
X  
--- 238,250 ----
X  
X  dec02:
X  	@echo "Compiling for DEC02 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DBSD -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(ANL_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
X  dg01:
X  	@echo "Compiling for DG01 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DBSD -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(ANL_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DDEBUG' \
X  			LIBS="-lcurses -ltermcap" \
X  			EXE=tin linkit
X  
***************
*** 243,255 ****
X  
X  mx331:
X  	@echo "Compiling for MX331 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\\"$(NNTP_INEWS_GATEWAY)\\" -DUSE_MKDIR -DDEBUG' \
X  			 LIBS="-lcurses" \
X  			 EXE=tin linkit
X  
X  mx351:
X  	@echo "Compiling for MX351 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSVR4 -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DUSE_INVERSE_HACK -DEBUG' \
X  			 NETLIBS="-lnsl -lsocket" \
X  			 LIBS="-lcurses -ltermlib" \
X  			 EXE=tin linkit
--- 256,268 ----
X  
X  mx331:
X  	@echo "Compiling for MX331 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\\"$(ANL_INEWS_GATEWAY)\\" -DNNTP_INEWS_DOMAIN=\\"$(NNTP_INEWS_DOMAIN)\\" -DUSE_MKDIR -DDEBUG' \
X  			 LIBS="-lcurses" \
X  			 EXE=tin linkit
X  
X  mx351:
X  	@echo "Compiling for MX351 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSVR4 -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(ANL_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DUSE_INVERSE_HACK -DEBUG' \
X  			 NETLIBS="-lnsl -lsocket" \
X  			 LIBS="-lcurses -ltermlib" \
X  			 EXE=tin linkit
***************
*** 256,268 ****
X  
X  sony01:
X  	@echo "Compiling for SONY01 with NNTP ONLY..."
! 	@$(MAKE) CC=gcc CFLAGS='-c -O2 -Wall -DBSD -DNNTP_ONLY -DLIBDIR=\"/a/usr/lib/news\" -DSPOOLDIR=\"/a/usr/spool/news\" -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DDEBUG' \
X  			LIBS="-lcurses -ltermcap" \
X  			EXE=tin linkit
X  
X  stratus01:
X  	@echo "Compiling for STRATUS FTX with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSVR4 -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 NETLIBS="-lsocket -lnsl" \
X  			 EXE=tin linkit
--- 269,281 ----
X  
X  sony01:
X  	@echo "Compiling for SONY01 with NNTP ONLY..."
! 	@$(MAKE) CC=cc CFLAGS='-c -g -DBSD -DNNTP_ONLY -DUSE_ISPELL -DLIBDIR=\"/a/usr/lib/news\" -DSPOOLDIR=\"/a/usr/spool/news\" -DNNTP_INEWS_GATEWAY=\"$(ANL_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DDEBUG' \
X  			LIBS="-lcurses -ltermcap" \
X  			EXE=tin linkit
X  
X  stratus01:
X  	@echo "Compiling for STRATUS FTX with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DSVR4 -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(ANL_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 NETLIBS="-lsocket -lnsl" \
X  			 EXE=tin linkit
***************
*** 269,275 ****
X  
X  sun01:
X  	@echo "Compiling for SUN01 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DBSD -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(NNTP_INEWS_GATEWAY)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
--- 282,288 ----
X  
X  sun01:
X  	@echo "Compiling for SUN01 with NNTP ONLY..."
! 	@$(MAKE) CC=$(CC) CFLAGS='$(COPTS) -DBSD -DNNTP_ONLY -DNNTP_INEWS_GATEWAY=\"$(ANL_INEWS_GATEWAY)\" -DNNTP_INEWS_DOMAIN=\"$(NNTP_INEWS_DOMAIN)\" -DDEBUG' \
X  			 LIBS="-lcurses -ltermcap" \
X  			 EXE=tin linkit
X  
***************
*** 337,351 ****
X  
X  manifest:
X  	@echo "Creating MANIFEST..."
! 	@echo "MANIFEST for tin newsreader (`date`)" > MANIFEST
! 	@echo "----------------------------------------------------------" >> MANIFEST
! 	@wc -c $(SUPPORT) $(HFILES) patchlev.h $(CFILES) >> MANIFEST
X  
X  shar:
X  	@echo "Generating shell archive..."
X  	@make nroff
X  	@make manifest
! 	@shar -a -F -L50 -n $(PROJECT)$(PATCH_VER) -s $(MAIL_ADDR) -o ../$(PROJECT).shar $(SUPPORT) $(CFILES) $(HFILES) patchlev.h
X  
X  uuencode:
X  	@make tar
--- 350,366 ----
X  
X  manifest:
X  	@echo "Creating MANIFEST..."
! 	@echo "MANIFEST for $(PROJECT)-$(VER) (`date`)" > MANIFEST
! 	@echo "----------------------------------------------------" >> MANIFEST
! 	@wc -c $(ALL_FILES) >> MANIFEST
X  
X  shar:
X  	@echo "Generating shell archive..."
X  	@make nroff
X  	@make manifest
! 	@make chmod
! 	@shar -a -F -L60 -n $(PROJECT)-$(VER) -s $(MAIL_ADDR) \
! 		-o ../$(PROJECT).shar $(ALL_FILES)
X  
X  uuencode:
X  	@make tar
***************
*** 354,385 ****
X  	@ls -l $(PROJECT).tar.Z.uue
X   
X  diff:
! 	@echo "Generating diffs against $(BASE_VER)..."
X  	@make nroff
X  	@make manifest
! 	@-mv -f $(PROJECT).diff $(PROJECT).diff-
! 	@-diff -rcs $(BASE_VER) . > $(PROJECT).diff
! 	@ls -l $(PROJECT).diff
X  
X  patch:
X  	@make diff
! 	@echo "Generating patch against $(BASE_VER)..."
! 	@-mv $(PROJECT).diff $(PROJECT).patch$(PATCH_VER)
! 	@shar -a -n $(PROJECT) -s $(MAIL_ADDR) -L50 -o ../patch$(PATCH_VER).shar $(PROJECT).patch$(PATCH_VER)
! 	@ls -l ../patch$(PATCH_VER).shar*
X  
X  tar:
X  	@echo "Generating compressed tar file..."
X  	@-rm $(PROJECT).tar $(PROJECT).tar.Z > /dev/null 2>&1
! 	@tar cvf $(PROJECT).tar $(SUPPORT) $(CFILES) $(HFILES) patchlev.h 
X  	@echo "Compressing $(PROJECT).tar..."
X  	@compress $(PROJECT).tar 
X  	@ls -l $(PROJECT).tar.Z
X  
X  zoo:
X  	@echo "Generating zoo archive file..."
X  	@-rm $(PROJECT).zoo > /dev/null 2>&1
! 	@zoo ah $(PROJECT).zoo  $(SUPPORT) $(CFILES) $(HFILES) patchlev.h
X  	@ls -l $(PROJECT).zoo
X  
X  tags:
--- 369,417 ----
X  	@ls -l $(PROJECT).tar.Z.uue
X   
X  diff:
! 	@echo "Generating diffs against $(PROJECT)-$(BASE_VER)..."
X  	@make nroff
X  	@make manifest
! 	@make chmod
! 	@-mv -f $(PROJECT)-$(VER).diff $(PROJECT)-$(VER).diff-
! 	@-diff -rcs ../$(BASE_VER) . > $(PROJECT)-$(VER).diff
! 	@ls -l $(PROJECT)-$(VER).diff
X  
X  patch:
X  	@make diff
! 	@echo "Generating patch against $(PROJECT)-$(BASE_VER)..."
! 	@-mv $(PROJECT)-$(VER).diff $(PROJECT)-$(VER).patch
! 	@shar -a -n $(PROJECT)-$(VER) -s $(MAIL_ADDR) -L60 \
! 		-o ../patch-$(VER).shar $(PROJECT)-$(VER).patch
! 	@ls -l ../patch-$(VER).shar*
X  
X  tar:
X  	@echo "Generating compressed tar file..."
X  	@-rm $(PROJECT).tar $(PROJECT).tar.Z > /dev/null 2>&1
! 	@make chmod
! 	@tar cvf $(PROJECT).tar $(ALL_FILES)  
X  	@echo "Compressing $(PROJECT).tar..."
X  	@compress $(PROJECT).tar 
X  	@ls -l $(PROJECT).tar.Z
X  
+ ftptar:
+ 	@echo "Creating FTP tar file with a directory of $(PROJECT)-$(VER)..."
+ 	@mkdir $(PROJECT)-$(VER)
+ 	@chmod 755 $(PROJECT)-$(VER)
+ 	@make chmod
+ 	@cp $(ALL_FILES) $(PROJECT)-$(VER)
+ 	@tar cvf $(PROJECT)-$(VER).tar $(PROJECT)-$(VER)
+ 	@echo "Compressing $(PROJECT)-$(VER).tar..."
+ 	@compress $(PROJECT)-$(VER).tar 
+ 	@ls -l $(PROJECT)-$(VER).tar.Z
+ 
+ chmod:
+ 	@chmod 644 $(ALL_FILES)
+ 
X  zoo:
X  	@echo "Generating zoo archive file..."
X  	@-rm $(PROJECT).zoo > /dev/null 2>&1
! 	@zoo ah $(PROJECT).zoo  $(ALL_FILES)
X  	@ls -l $(PROJECT).zoo
X  
X  tags:
***************
*** 405,411 ****
X  
X  cscope:
X  	@echo "Creating cscope database $(PROJECT)..."
! 	@cscope $(SUPPORT) $(HFILES) patchlev.h $(CFILES)
X  
X  man:
X  	@echo "Printing $(EXE) manual to $(PRINT)..."
--- 437,443 ----
X  
X  cscope:
X  	@echo "Creating cscope database $(PROJECT)..."
! 	@cscope $(ALL_FILES)
X  
X  man:
X  	@echo "Printing $(EXE) manual to $(PRINT)..."
diff -rcs ../1.14/README ./README
*** ../1.14/README	Tue Aug 11 21:22:53 1992
--- ./README	Fri Aug  7 19:36:29 1992
***************
*** 1,4 ****
! This is version 1.1 PL4 (patchlevel 4) of the tin newsreader.
X  
X  o  Based more on Notes and tass than rn type newreaders.
X  o  Full screen, easy to use with on-line help at all levels.
--- 1,4 ----
! This is version 1.1 PL5 (patchlevel 5) of the tin newsreader.
X  
X  o  Based more on Notes and tass than rn type newreaders.
X  o  Full screen, easy to use with on-line help at all levels.
***************
*** 11,57 ****
X     -  Article selection level
X     -  Article viewer
X  o  Same interface to mail, pipe, print and save articles.
- o  Reposting of articles from one newsgroup to another.
X  o  Auto unpacking of multi-part shar & uuencoded articles.
X  o  Batch mode to mail/save new news when user is on holiday.
X  o  Builtin NNTP mini-inews & clientlib.c
! o  NNTP extensions XUSER & XINDEX allow central index files. 
X  
X  -------------------------------------------------------------------------------
X  
! Major improvements over tin 1.1 PL3 are the following:
X  
! o  Added support for SGI Irix machines.
! o  Added support for Pyramid machines.
! o  Added support for NeXT machines (again).
! o  Added 'i' command to group index level (again).
! o  Added 'X' '+' '=' '*' '~' ';' '@' '.' thread commands to group index level.
! o  Added '*' '~' ';' '@' thread commands to article viewing level.
! o  Added '^F' & '^B' commands to all levels for vi users.
! o  Added display of newsgroups file info. next to groupnames.
! o  Added keypad support for HP type terminals.
! o  Added sample kill/hot file to auto-select interesting(?) people.
! o  Added highlighting of hot articles for easier recognition (thanx Jim).
! o  Changed Makefile to centralize compile options.
! o  Fixed memory errors that were causing SIGSEGV on some machines.
! o  Fixed process handling of child processes to stop zombies.
! o  Fixed up a line with no arts at group level that caused SIGSEGV.
! o  Fixed group unthreading at startup that caused SIGSEGV.
! o  Fixed group indexing that was causing hanging.
! o  Fixed End & Home keys with no arts at group level that caused SIGSEGV.
! o  Fixed tind index daemon to check if its already running.
! o  Fixed rename_file() to handle cross-device filenames.
! o  Fixed window resizing to work on SVR4.
! o  Fixed signal return type for SVR4.
! o  Fixed -c option that broke in PL3.
! o  Fixed Makefile so that .c.o rule was correct.
! o  Fixed buitltin inews to compile on IBM RS6000.
! o  Fixed man page to format correctly.
! o  Fixed so username is correct when running under screen.
! o  Fixed default mailer for DG Aviion.
! o  Fixed cleanup code to delete temp index files /tmp if a crash occurs.
! o  Fixed bug report address to add user defined add_addr.
! o  Fixed saving, mailing etc. of an expired article that caused SIGSEGV.
X  
X  -------------------------------------------------------------------------------
X  
--- 11,61 ----
X     -  Article selection level
X     -  Article viewer
X  o  Same interface to mail, pipe, print and save articles.
X  o  Auto unpacking of multi-part shar & uuencoded articles.
+ o  Auto-selection (hot) of interesting articles.
X  o  Batch mode to mail/save new news when user is on holiday.
+ o  Reposting of articles from one newsgroup to another.
X  o  Builtin NNTP mini-inews & clientlib.c
! o  NNTP extensions XUSER & XINDEX to allow central index files. 
X  
X  -------------------------------------------------------------------------------
X  
! Major improvements over tin 1.1 PL4 are the following:
X  
! o  Added support for Amdahl UTS machines.
! o  Added support for Mips RiscOS machines.
! o  Added support for Apple A/UX machines.
! o  Added support for Motorola Delta machines.
! o  Added support for Gould Powernode machines.
! o  Added support for HPUX machines (again).
! o  Added support for SNI Sinix machines (again).
! o  Added support for Sequent Dynix machines (again).
! o  Added -q command line switch to stop check for new newsgroups.
! o  Added '^F' & '^B commands to help screens.
! o  Added 'C' command to group index level to catchup & goto next unread group.
! o  Added 'r' command to group selection level to toggle display of groups.
! o  Added q)uit option to post processing prompt when saving.
! o  Added ispell option (-DUSE_ISPELL) for spellchecking articles/mails.
! o  Added auto-detection of new newsgroups (-n option removed). 
! o  Added user specified group attributes file (unthread file removed).
! o  Changed <TAB> to wrap around at group selection level.
! o  Changed <TAB> to wrap around at group index level.
! o  Changed spooldir menu so that entries are dynamically allocated.
! o  Fixed compile problems caused by #include <termios.h> file. 
! o  Fixed compile warnings on ioctl defines for BSD machines.
! o  Fixed screen updating after process was restarted from a ^Z. 
! o  Fixed 'K' mark thread read & goto next unread thread command. 
! o  Fixed 'u' so that threading still worked after rereading active file.
! o  Fixed 'y' so that rereading of active file is disabled.
! o  Fixed Makefile so that NNTP_INEWS_* defines are used by targets.
! o  Fixed reading of bad headers that caused too many open files.
! o  Fixed -f command line option so specified .newsrc is used. 
! o  Fixed -S command line option that caused SIGSEGV if article unavailable.
! o  Fixed -U command line option so newsgroups description is displayed.
! o  Fixed -u -U command line options so only one tin can be indexing.
! o  Fixed SIGSEGV when saving on Archive-name: parts & patches in same thread. 
! o  Fixed enable/disable of keypad on HP machines.
! o  Fixed SIGWINCH signal problem on NeXT machines.
X  
X  -------------------------------------------------------------------------------
X  
***************
*** 64,70 ****
X  -------------------------------------------------------------------------------
X  
X  I wish to thank all the people that sent me bug fixes and comments
! (especially Jim Robinson) . I still want to hear of any bug reports,
X  gripes and comments but *PLEASE* read the INSTALL, TODO and tin.1 
X  manual page before doing anything :-)!.
X  
--- 68,74 ----
X  -------------------------------------------------------------------------------
X  
X  I wish to thank all the people that sent me bug fixes and comments
! (especially Tom Parry). I still  want to hear of any bug reports,
X  gripes and comments but *PLEASE* read the INSTALL, TODO and tin.1 
X  manual page before doing anything :-)!.
X  
Files ../1.14/README.NNTP and ./README.NNTP are identical
diff -rcs ../1.14/TODO ./TODO
*** ../1.14/TODO	Tue Aug 11 21:22:55 1992
--- ./TODO	Tue Aug 11 20:42:38 1992
***************
*** 1,54 ****
- !!! PLEASE NOTE THAT ON CERTAIN MACHINES (ie. mostly RISC DEC,HP) TIN
- !!! WILL SOMETIMES CRASH WITH SIGBUS or SIGSEGV DUE TO THE HACK THAT
- !!! IS USED IN HASHING STRINGS IN hashstr.c. SORRY BUT I HAVE NO TIME
- !!! RIGHT NOW TO REIMPLEMENT THIS PART OF TIN WHICH IS A CARRY OVER
- !!! FROM TASS v3.2 (Any takers ?)
- 
X  FIX FEATURES V1.x
X  -----------------
X  
! o  If 'a' in pipe to less and 423 error msg from NNTP it starts less with 
!    no file.
X  
! o  Add Msg-Id: field contents to reply & followups.
X  
X  o  Add code to decrement/increment counter of NEW killed & hot articles 
X     so that 'h' is not offered as default when there are no NEW hot articles.
!    Look at 'r' 'z' 'k' & code that marks arts read.
X  
! o  Add Followup-To: field header to 'fF' followup articles with groups
!    copied from Newsgroups: field.
X  
! o  Fix spooldirs[] so it auto-expands as needed.
X  
! o  In inews.c also allow reply_to var to be used in From: field.
X  
X  o  Fix -S option to create an active file when new articles are
X     saved to <savedir>. Also fix -R option to read ACTIVE file created
X     by -S command. Use minimax code from tony travis to help in -R cmd
X     line option.
X  
! o  Fix Save in feed.c routines. 
!    Also fix so SAVING routines just use save_art_to_file() and print
!    *** X Articles saved *** & none of the BS done at the moment
X  
! o  Add option to 'M' menu to allow 'C' command to return/stay at
!    group level.
X  
! o  Fix 'c' at article level when within thread level?
X  
! o  Fix -n option to hash the groups read in from ~/.tin/active and
!    mark active[].flag as TRUE. then find flag=FALSE and ask user if
!    they want to subscribe to group. On xenix386 takes 15 seconds on
!    current -n option. Also of CNEWS just do a compare of active.times
!    UNDER CNEWS USE active.times FILE FROM NNTPSERVER
SHAR_EOF
true || echo 'restore of tin-1.15.patch failed'
fi
echo 'End of tin-1.15 part 1'
echo 'File tin-1.15.patch is continued in part 2'
echo 2 > _shar_seq_.tmp
exit 0

--
NAME   Iain Lea 
EMAIL  iain%anl433.uucp@Germany.EU.net
SNAIL  Siemens AG, ANL A433SZ, Gruendlacher Str. 248, 8510 Fuerth, Germany.
PHONE  +49-911-3089-407 (work) +49-911-331963 (home) +49-911-3089-290 (FAX)  
exit 0 # Just in case...
