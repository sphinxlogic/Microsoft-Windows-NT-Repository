Newsgroups: comp.sources.misc
From: youki-k@is.aist-nara.ac.jp (Youki Kadobayashi)
Subject: v41i105:  wwfs - WorldWide File System, Part20/22
Message-ID: <1994Jan17.202627.20679@sparky.sterling.com>
X-Md4-Signature: 6ab9930cf4237219faef119393245747
Sender: kent@sparky.sterling.com (Kent Landfield)
Organization: Nara Institute of Science and Technology, Japan
Date: Mon, 17 Jan 1994 20:26:27 GMT
Approved: kent@sparky.sterling.com

Submitted-by: youki-k@is.aist-nara.ac.jp (Youki Kadobayashi)
Posting-number: Volume 41, Issue 105
Archive-name: wwfs/part20
Environment: UNIX, inet

#! /bin/sh
# This is a shell archive.  Remove anything before this line, then feed it
# into a shell via "sh file" or similar.  To overwrite existing files,
# type "sh file -c".
# Contents:  Makefile Makefile.build config/Makefile.aix3
#   config/Makefile.bsd386 config/Makefile.bsd44 config/Makefile.build
#   config/Makefile.config config/Makefile.hpux config/Makefile.irix3
#   config/Makefile.irix4 config/Makefile.stellix config/misc-irix.h
#   config/misc-next.h config/misc-ultrix.h config/os-luna2M.h
#   config/os-luna88k.h config/os-uniosb.h config/os-utek.h csd/rps.c
#   doc/Makefile.build gtr/Makefile.build libmm/Makefile.build
#   libww/Makefile.build libww/wwget.c mosaic/Makefile
#   mosaic/Makefile.build rpc/Makefile.build saps/Makefile.build
#   saps/makelist.pl saps/map.pl saps/vol2html.pl vol/khoros.vol
#   wwmount/am_compat.c
# Wrapped by kent@sparky on Sun Jan 16 17:48:41 1994
PATH=/bin:/usr/bin:/usr/ucb:/usr/local/bin:/usr/lbin:$PATH ; export PATH
echo If this archive is complete, you will see the following message:
echo '          "shar: End of archive 20 (of 22)."'
if test -f 'Makefile' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'Makefile'\"
else
  echo shar: Extracting \"'Makefile'\" \(2673 characters\)
  sed "s/^X//" >'Makefile' <<'END_OF_FILE'
X#
X# Makefile for Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile[109.2] Thu Dec 16 20:38:05 1993 youki-k@is.aist-nara.ac.jp saved $
X#
XPROGS = csd libww wwmount wwumount
XCLIENTS = config libww caps wwmount
XSERVERS = config csd gtr libmm saps mosaic vol
XALLDIRS = alpha beta caps config csd doc gtr include libmm libww mosaic mule rpc saps vol wwalk wwmount
X
X# To use alternative 'make' program, say gmake, type:
X#	gmake Make="gmake"
XMake = make
XMAK  = $(Make) Make="$(Make)"
XMKARG = -f Makefile.top TOP="."
XSHELL = /bin/sh
X
Xall: FRC
X	@for prog in $(PROGS); do \
X		echo Making $$prog; \
X		(cd $$prog; $(MAK) $$prog ) \
X	done
X
X$(PROGS): FRC
X	@cd $@; $(MAK) $@
X
Xinstall:	install-client install-server
X
Xinstall-client:
X	@for prog in $(CLIENTS); do \
X		echo doing $@ in $$prog; \
X		(cd $$prog; $(MAK) $@) \
X	done
X
Xinstall-server:
X	@$(MAK) $(MKARG) $@
X	@for prog in $(SERVERS); do \
X		echo doing $@ in $$prog; \
X		(cd $$prog; $(MAK) $@) \
X	done
X
Xclean baseline copyright version:
X	@$(MAK) $(MKARG) $@
X	@for prog in $(ALLDIRS); do \
X		echo doing $@ in $$prog; \
X		(cd $$prog; $(MAK) $@) \
X	done
X
Xdist index tags id lint: FRC
X	@$(MAK) $(MKARG) $@
X
XFRC:
END_OF_FILE
  if test 2673 -ne `wc -c <'Makefile'`; then
    echo shar: \"'Makefile'\" unpacked with wrong size!
  fi
  # end of 'Makefile'
fi
if test -f 'Makefile.build' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'Makefile.build'\"
else
  echo shar: Extracting \"'Makefile.build'\" \(2498 characters\)
  sed "s/^X//" >'Makefile.build' <<'END_OF_FILE'
X#
X# Makefile.build for Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile.build[109.1] Thu Dec 16 20:38:06 1993 youki-k@is.aist-nara.ac.jp saved $
X#
X
XFILES=		Makefile Makefile.com Makefile.top README
X
XSUBDIRS=	$(STAGE)/ caps/ config/ csd/ doc/ gtr/ include/ libmm/ libww/ mosaic/ mule/ rpc/ saps/ vol/ wwmount/ wwalk/
X
Xinstall-server:
X	if [ -d $(WWFSDIR)/usr ]; then \
X		echo "WWFSDIR should be correctly set"; \
X		exit 1; \
X	else \
X		exit 0; \
X	fi
X	-mkdir $(WWFSDIR)
X	-mkdir $(WWFSDIR)/bin
X	-mkdir $(WWFSDIR)/cache
X	-mkdir $(WWFSDIR)/etc
X	-mkdir $(WWFSDIR)/lib
X	-mkdir $(WWFSDIR)/log
X	-mkdir $(WWFSDIR)/ongoing
X	-mkdir $(WWFSDIR)/stale
X	-mkdir $(WWFSDIR)/vol
X	-chmod a+x $(WWFSDIR)/bin/*
X	chown -R wwfs.$(GROUP) $(WWFSDIR)/
X
Xdist:	FRC
X	gtar -cvhz --exclude AtFS -f dist/wwfs-$(VERSION).tar.gz \
X		$(FILES) $(SUBDIRS)
X
Xindex:	id tags
X
Xid:
X	find . -name '*.[ch]' -a \! -type l -print | grep -v 'AtFS/' | mkid -
X
Xtags:
X	etags `find . -name '*.[ch]' | grep -v 'AtFS/'`
X
XFRC:
END_OF_FILE
  if test 2498 -ne `wc -c <'Makefile.build'`; then
    echo shar: \"'Makefile.build'\" unpacked with wrong size!
  fi
  # end of 'Makefile.build'
fi
if test -f 'config/Makefile.aix3' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/Makefile.aix3'\"
else
  echo shar: Extracting \"'config/Makefile.aix3'\" \(2127 characters\)
  sed "s/^X//" >'config/Makefile.aix3' <<'END_OF_FILE'
X#
X# Copyright (c) 1990 Jan-Simon Pendry
X# Copyright (c) 1990 Imperial College of Science, Technology & Medicine
X# Copyright (c) 1990 The Regents of the University of California.
X# All rights reserved.
X#
X# This code is derived from software contributed to Berkeley by
X# Jan-Simon Pendry at Imperial College, London.
X#
X# Redistribution and use in source and binary forms, with or without
X# modification, are permitted provided that the following conditions
X# are met:
X# 1. Redistributions of source code must retain the above copyright
X#    notice, this list of conditions and the following disclaimer.
X# 2. Redistributions in binary form must reproduce the above copyright
X#    notice, this list of conditions and the following disclaimer in the
X#    documentation and/or other materials provided with the distribution.
X# 3. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the University of
X#      California, Berkeley and its contributors.
X# 4. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
X# ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
X# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
X# ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
X# FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
X# DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
X# OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
X# HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
X# LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
X# OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
X# SUCH DAMAGE.
X#
X#	%W% (Berkeley) %G%
X#
X# $Id: Makefile.aix3,v 5.2.2.1 1992/02/09 15:10:06 jsp beta $
X#
XSYSLIB = -lbsd
END_OF_FILE
  if test 2127 -ne `wc -c <'config/Makefile.aix3'`; then
    echo shar: \"'config/Makefile.aix3'\" unpacked with wrong size!
  fi
  # end of 'config/Makefile.aix3'
fi
if test -f 'config/Makefile.bsd386' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/Makefile.bsd386'\"
else
  echo shar: Extracting \"'config/Makefile.bsd386'\" \(2172 characters\)
  sed "s/^X//" >'config/Makefile.bsd386' <<'END_OF_FILE'
X#
X# Copyright (c) 1989 Jan-Simon Pendry
X# Copyright (c) 1989 Imperial College of Science, Technology & Medicine
X# Copyright (c) 1989 The Regents of the University of California.
X# All rights reserved.
X#
X# This code is derived from software contributed to Berkeley by
X# Jan-Simon Pendry at Imperial College, London.
X#
X# Redistribution and use in source and binary forms, with or without
X# modification, are permitted provided that the following conditions
X# are met:
X# 1. Redistributions of source code must retain the above copyright
X#    notice, this list of conditions and the following disclaimer.
X# 2. Redistributions in binary form must reproduce the above copyright
X#    notice, this list of conditions and the following disclaimer in the
X#    documentation and/or other materials provided with the distribution.
X# 3. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the University of
X#      California, Berkeley and its contributors.
X# 4. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
X# ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
X# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
X# ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
X# FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
X# DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
X# OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
X# HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
X# LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
X# OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
X# SUCH DAMAGE.
X#
X#	%W% (Berkeley) %G%
X#
X# $Id: Makefile.bsd44,v 5.2.2.1 1992/02/09 15:10:12 jsp beta $
X#
X# Extra Makefile definitions for 4.4 BSD
X#
X
XRPCLIB = -lrpc
END_OF_FILE
  if test 2172 -ne `wc -c <'config/Makefile.bsd386'`; then
    echo shar: \"'config/Makefile.bsd386'\" unpacked with wrong size!
  fi
  # end of 'config/Makefile.bsd386'
fi
if test -f 'config/Makefile.bsd44' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/Makefile.bsd44'\"
else
  echo shar: Extracting \"'config/Makefile.bsd44'\" \(2172 characters\)
  sed "s/^X//" >'config/Makefile.bsd44' <<'END_OF_FILE'
X#
X# Copyright (c) 1989 Jan-Simon Pendry
X# Copyright (c) 1989 Imperial College of Science, Technology & Medicine
X# Copyright (c) 1989 The Regents of the University of California.
X# All rights reserved.
X#
X# This code is derived from software contributed to Berkeley by
X# Jan-Simon Pendry at Imperial College, London.
X#
X# Redistribution and use in source and binary forms, with or without
X# modification, are permitted provided that the following conditions
X# are met:
X# 1. Redistributions of source code must retain the above copyright
X#    notice, this list of conditions and the following disclaimer.
X# 2. Redistributions in binary form must reproduce the above copyright
X#    notice, this list of conditions and the following disclaimer in the
X#    documentation and/or other materials provided with the distribution.
X# 3. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the University of
X#      California, Berkeley and its contributors.
X# 4. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
X# ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
X# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
X# ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
X# FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
X# DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
X# OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
X# HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
X# LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
X# OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
X# SUCH DAMAGE.
X#
X#	%W% (Berkeley) %G%
X#
X# $Id: Makefile.bsd44,v 5.2.2.1 1992/02/09 15:10:12 jsp beta $
X#
X# Extra Makefile definitions for 4.4 BSD
X#
X
XRPCLIB = -lrpc
END_OF_FILE
  if test 2172 -ne `wc -c <'config/Makefile.bsd44'`; then
    echo shar: \"'config/Makefile.bsd44'\" unpacked with wrong size!
  fi
  # end of 'config/Makefile.bsd44'
fi
if test -f 'config/Makefile.build' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/Makefile.build'\"
else
  echo shar: Extracting \"'config/Makefile.build'\" \(2132 characters\)
  sed "s/^X//" >'config/Makefile.build' <<'END_OF_FILE'
X#
X# Makefile.build for config; part of Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile.build[109.0] Wed Nov 24 03:46:56 1993 youki-k@is.aist-nara.ac.jp saved $
X#
X
Xall:
X
Xclean::
X	-rm -f csd.pl csd.tcl wwfs.pl wwfs.tcl
X
Xinstall-client:		wwfs.conf
X	@if [ -f /etc/wwfs.conf ]; then \
X		echo "*** /etc/wwfs.conf already exists; using it ***"; \
X	else \
X		$(INSTALL) wwfs.conf /etc; \
X	fi
X	./convert.pl /etc/wwfs.conf
X
Xinstall-server:		csd.conf
X	@if [ -f /etc/csd.conf ]; then \
X		echo "*** /etc/csd.conf already exists; using it ***"; \
X	else \
X		$(INSTALL) csd.conf /etc; \
X	fi
X	./convert.pl /etc/csd.conf
X
END_OF_FILE
  if test 2132 -ne `wc -c <'config/Makefile.build'`; then
    echo shar: \"'config/Makefile.build'\" unpacked with wrong size!
  fi
  # end of 'config/Makefile.build'
fi
if test -f 'config/Makefile.config' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/Makefile.config'\"
else
  echo shar: Extracting \"'config/Makefile.config'\" \(2442 characters\)
  sed "s/^X//" >'config/Makefile.config' <<'END_OF_FILE'
X#
X# Makefile.config for config; part of Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile.config[109.0] Wed Nov 24 03:46:56 1993 youki-k@is.aist-nara.ac.jp saved $
X#
X
X#
X# Comment/uncomment the following lines as required
X#
X
X# if your gethostbyname() does not return fully qualified domain name
X#CCOPTS = $(CCOPTS) -DGENERIC_FROM='"bigname.ac.jp"'
X
X# if you want to hear the daemon mumble as file transfer goes on
X#CCOPTS = $(CCOPTS) -DVERBOSE
X
X# for dbmalloc; if you want to track down the memory leak / bogus free
X#CCOPTS = $(CCOPTS) -DDEBUG_MALLOC
X#SYSLIB = $(SYSLIB) -L/usr/local/lib -ldbmalloc
X
X#
X# Define RESOLV if your C library does not include support
X# for Hesiod and/or Named.
X#
X#RESOLV = -lhesiod -lresolv
X
X#
X# Define DBM if your C library does not include
X# support for gdbm and/or ndbm.
X#
X#DBM = -lgdbm #-lndbm
X
X#
X# Define RPCLIB if your C library does not include
X# support for RPC
X#
X#RPCLIB = -lrpc
X
END_OF_FILE
  if test 2442 -ne `wc -c <'config/Makefile.config'`; then
    echo shar: \"'config/Makefile.config'\" unpacked with wrong size!
  fi
  # end of 'config/Makefile.config'
fi
if test -f 'config/Makefile.hpux' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/Makefile.hpux'\"
else
  echo shar: Extracting \"'config/Makefile.hpux'\" \(2260 characters\)
  sed "s/^X//" >'config/Makefile.hpux' <<'END_OF_FILE'
X#
X# Copyright (c) 1989 Jan-Simon Pendry
X# Copyright (c) 1989 Imperial College of Science, Technology & Medicine
X# Copyright (c) 1989 The Regents of the University of California.
X# All rights reserved.
X#
X# This code is derived from software contributed to Berkeley by
X# Jan-Simon Pendry at Imperial College, London.
X#
X# Redistribution and use in source and binary forms, with or without
X# modification, are permitted provided that the following conditions
X# are met:
X# 1. Redistributions of source code must retain the above copyright
X#    notice, this list of conditions and the following disclaimer.
X# 2. Redistributions in binary form must reproduce the above copyright
X#    notice, this list of conditions and the following disclaimer in the
X#    documentation and/or other materials provided with the distribution.
X# 3. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the University of
X#      California, Berkeley and its contributors.
X# 4. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
X# ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
X# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
X# ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
X# FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
X# DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
X# OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
X# HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
X# LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
X# OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
X# SUCH DAMAGE.
X#
X#	%W% (Berkeley) %G%
X#
X# $Id: Makefile.hpux,v 5.2.2.1 1992/02/09 15:10:26 jsp beta $
X#
X# Extra Makefile definitions for HP-UX
X#
X
X#CC = gcc ${GCCOPTS}
X# Works only on HP300
XCC = cc -Wc,-Nd2000
XSYSCC = $(CC)
X# Works only Hp800
X# CC = cc
END_OF_FILE
  if test 2260 -ne `wc -c <'config/Makefile.hpux'`; then
    echo shar: \"'config/Makefile.hpux'\" unpacked with wrong size!
  fi
  # end of 'config/Makefile.hpux'
fi
if test -f 'config/Makefile.irix3' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/Makefile.irix3'\"
else
  echo shar: Extracting \"'config/Makefile.irix3'\" \(2331 characters\)
  sed "s/^X//" >'config/Makefile.irix3' <<'END_OF_FILE'
X#
X# Copyright (c) 1990 Jan-Simon Pendry
X# Copyright (c) 1990 Imperial College of Science, Technology & Medicine
X# Copyright (c) 1990 The Regents of the University of California.
X# All rights reserved.
X#
X# This code is derived from software contributed to Berkeley by
X# Jan-Simon Pendry at Imperial College, London.
X#
X# Redistribution and use in source and binary forms, with or without
X# modification, are permitted provided that the following conditions
X# are met:
X# 1. Redistributions of source code must retain the above copyright
X#    notice, this list of conditions and the following disclaimer.
X# 2. Redistributions in binary form must reproduce the above copyright
X#    notice, this list of conditions and the following disclaimer in the
X#    documentation and/or other materials provided with the distribution.
X# 3. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the University of
X#      California, Berkeley and its contributors.
X# 4. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
X# ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
X# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
X# ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
X# FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
X# DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
X# OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
X# HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
X# LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
X# OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
X# SUCH DAMAGE.
X#
X#	%W% (Berkeley) %G%
X#
X# $Id: Makefile.irix3,v 5.2 1992/05/31 16:40:22 jsp Exp $
X#
X# Extra Makefile definitions for IRIX
X#
X
X# For 3.3.x and earlier we might need to indicate the Sun and BSD include
X# paths.
X 
XDEBUG = #-g -DDEBUG
XCCOPTS = -I/usr/include/sun -I/usr/include/bsd
XRESOLV = -lrpcsvc -lsun -lbsd
END_OF_FILE
  if test 2331 -ne `wc -c <'config/Makefile.irix3'`; then
    echo shar: \"'config/Makefile.irix3'\" unpacked with wrong size!
  fi
  # end of 'config/Makefile.irix3'
fi
if test -f 'config/Makefile.irix4' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/Makefile.irix4'\"
else
  echo shar: Extracting \"'config/Makefile.irix4'\" \(2425 characters\)
  sed "s/^X//" >'config/Makefile.irix4' <<'END_OF_FILE'
X#
X# Copyright (c) 1990 Jan-Simon Pendry
X# Copyright (c) 1990 Imperial College of Science, Technology & Medicine
X# Copyright (c) 1990 The Regents of the University of California.
X# All rights reserved.
X#
X# This code is derived from software contributed to Berkeley by
X# Jan-Simon Pendry at Imperial College, London.
X#
X# Redistribution and use in source and binary forms, with or without
X# modification, are permitted provided that the following conditions
X# are met:
X# 1. Redistributions of source code must retain the above copyright
X#    notice, this list of conditions and the following disclaimer.
X# 2. Redistributions in binary form must reproduce the above copyright
X#    notice, this list of conditions and the following disclaimer in the
X#    documentation and/or other materials provided with the distribution.
X# 3. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the University of
X#      California, Berkeley and its contributors.
X# 4. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
X# ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
X# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
X# ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
X# FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
X# DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
X# OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
X# HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
X# LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
X# OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
X# SUCH DAMAGE.
X#
X#	%W% (Berkeley) %G%
X#
X# $Id: Makefile.irix4,v 5.2 1992/05/31 16:40:22 jsp Exp $
X#
X# Extra Makefile definitions for IRIX
X#
X
X# For 4.0.X and later we need to specify the -cckr option - although amd
X# has prototypes - some of the rpc prototypes clash.  The special include
X# paths are not required. -lsun always comes before -lbsd.
X
XDEBUG = -g
XCCOPTS = -cckr
XRESOLV = -lrpcsvc -lsun -lbsd
XINSTALL = cp
END_OF_FILE
  if test 2425 -ne `wc -c <'config/Makefile.irix4'`; then
    echo shar: \"'config/Makefile.irix4'\" unpacked with wrong size!
  fi
  # end of 'config/Makefile.irix4'
fi
if test -f 'config/Makefile.stellix' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/Makefile.stellix'\"
else
  echo shar: Extracting \"'config/Makefile.stellix'\" \(2216 characters\)
  sed "s/^X//" >'config/Makefile.stellix' <<'END_OF_FILE'
X#
X# Copyright (c) 1989 Jan-Simon Pendry
X# Copyright (c) 1989 Imperial College of Science, Technology & Medicine
X# Copyright (c) 1989 The Regents of the University of California.
X# All rights reserved.
X#
X# This code is derived from software contributed to Berkeley by
X# Jan-Simon Pendry at Imperial College, London.
X#
X# Redistribution and use in source and binary forms, with or without
X# modification, are permitted provided that the following conditions
X# are met:
X# 1. Redistributions of source code must retain the above copyright
X#    notice, this list of conditions and the following disclaimer.
X# 2. Redistributions in binary form must reproduce the above copyright
X#    notice, this list of conditions and the following disclaimer in the
X#    documentation and/or other materials provided with the distribution.
X# 3. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the University of
X#      California, Berkeley and its contributors.
X# 4. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
X# ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
X# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
X# ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
X# FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
X# DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
X# OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
X# HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
X# LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
X# OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
X# SUCH DAMAGE.
X#
X#	%W% (Berkeley) %G%
X#
X# $Id: Makefile.stellix,v 5.2.2.1 1992/02/09 15:10:45 jsp beta $
X#
X# Extra Makefile definitions for STELLIX
X#
X
XDEBUG = #-g -DDEBUG
XCCOPTS = -DSTELLIX
XRESOLV = -lrpcsvc
END_OF_FILE
  if test 2216 -ne `wc -c <'config/Makefile.stellix'`; then
    echo shar: \"'config/Makefile.stellix'\" unpacked with wrong size!
  fi
  # end of 'config/Makefile.stellix'
fi
if test -f 'config/misc-irix.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/misc-irix.h'\"
else
  echo shar: Extracting \"'config/misc-irix.h'\" \(2288 characters\)
  sed "s/^X//" >'config/misc-irix.h' <<'END_OF_FILE'
X/*
X * Copyright (c) 1990 Jan-Simon Pendry
X * Copyright (c) 1990 Imperial College of Science, Technology & Medicine
X * Copyright (c) 1990 The Regents of the University of California.
X * All rights reserved.
X *
X * This code is derived from software contributed to Berkeley by
X * Jan-Simon Pendry at Imperial College, London.
X *
X * Redistribution and use in source and binary forms, with or without
X * modification, are permitted provided that the following conditions
X * are met:
X * 1. Redistributions of source code must retain the above copyright
X *    notice, this list of conditions and the following disclaimer.
X * 2. Redistributions in binary form must reproduce the above copyright
X *    notice, this list of conditions and the following disclaimer in the
X *    documentation and/or other materials provided with the distribution.
X * 3. All advertising materials mentioning features or use of this software
X *    must display the following acknowledgement:
X *	This product includes software developed by the University of
X *	California, Berkeley and its contributors.
X * 4. Neither the name of the University nor the names of its contributors
X *    may be used to endorse or promote products derived from this software
X *    without specific prior written permission.
X *
X * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
X * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
X * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
X * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
X * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
X * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
X * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
X * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
X * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
X * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
X * SUCH DAMAGE.
X *
X *	@(#)misc-irix.h	5.3 (Berkeley) 5/12/91
X *
X * $Id: misc-irix.h,v 5.2.1.2 91/05/07 22:19:48 jsp Alpha $
X *
X */
X
X#include <sys/fs/nfs_clnt.h>
X#include <sys/fsid.h>
X#include <sys/fstyp.h>
X
X#if 0
Xstruct ufs_args {
X	char *fspec;
X};
X#endif
END_OF_FILE
  if test 2288 -ne `wc -c <'config/misc-irix.h'`; then
    echo shar: \"'config/misc-irix.h'\" unpacked with wrong size!
  fi
  # end of 'config/misc-irix.h'
fi
if test -f 'config/misc-next.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/misc-next.h'\"
else
  echo shar: Extracting \"'config/misc-next.h'\" \(2183 characters\)
  sed "s/^X//" >'config/misc-next.h' <<'END_OF_FILE'
X/*
X * Copyright (c) 1990 Jan-Simon Pendry
X * Copyright (c) 1990 Imperial College of Science, Technology & Medicine
X * Copyright (c) 1990 The Regents of the University of California.
X * All rights reserved.
X *
X * This code is derived from software contributed to Berkeley by
X * Jan-Simon Pendry at Imperial College, London.
X *
X * Redistribution and use in source and binary forms, with or without
X * modification, are permitted provided that the following conditions
X * are met:
X * 1. Redistributions of source code must retain the above copyright
X *    notice, this list of conditions and the following disclaimer.
X * 2. Redistributions in binary form must reproduce the above copyright
X *    notice, this list of conditions and the following disclaimer in the
X *    documentation and/or other materials provided with the distribution.
X * 3. All advertising materials mentioning features or use of this software
X *    must display the following acknowledgement:
X *      This product includes software developed by the University of
X *      California, Berkeley and its contributors.
X * 4. Neither the name of the University nor the names of its contributors
X *    may be used to endorse or promote products derived from this software
X *    without specific prior written permission.
X *
X * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
X * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
X * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
X * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
X * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
X * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
X * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
X * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
X * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
X * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
X * SUCH DAMAGE.
X *
X *	%W% (Berkeley) %G%
X *
X * $Id: misc-next.h,v 5.2.2.1 1992/02/09 15:10:34 jsp beta $
X *
X */
X
X#include <nfs/nfs_mount.h>
END_OF_FILE
  if test 2183 -ne `wc -c <'config/misc-next.h'`; then
    echo shar: \"'config/misc-next.h'\" unpacked with wrong size!
  fi
  # end of 'config/misc-next.h'
fi
if test -f 'config/misc-ultrix.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/misc-ultrix.h'\"
else
  echo shar: Extracting \"'config/misc-ultrix.h'\" \(2365 characters\)
  sed "s/^X//" >'config/misc-ultrix.h' <<'END_OF_FILE'
X/*
X * Copyright (c) 1990 Jan-Simon Pendry
X * Copyright (c) 1990 Imperial College of Science, Technology & Medicine
X * Copyright (c) 1990 The Regents of the University of California.
X * All rights reserved.
X *
X * This code is derived from software contributed to Berkeley by
X * Jan-Simon Pendry at Imperial College, London.
X *
X * Redistribution and use in source and binary forms, with or without
X * modification, are permitted provided that the following conditions
X * are met:
X * 1. Redistributions of source code must retain the above copyright
X *    notice, this list of conditions and the following disclaimer.
X * 2. Redistributions in binary form must reproduce the above copyright
X *    notice, this list of conditions and the following disclaimer in the
X *    documentation and/or other materials provided with the distribution.
X * 3. All advertising materials mentioning features or use of this software
X *    must display the following acknowledgement:
X *      This product includes software developed by the University of
X *      California, Berkeley and its contributors.
X * 4. Neither the name of the University nor the names of its contributors
X *    may be used to endorse or promote products derived from this software
X *    without specific prior written permission.
X *
X * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
X * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
X * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
X * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
X * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
X * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
X * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
X * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
X * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
X * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
X * SUCH DAMAGE.
X *
X *	%W% (Berkeley) %G%
X *
X * $Id: misc-ultrix.h,v 5.2.2.1 1992/02/09 15:10:49 jsp beta $
X *
X */
X
X#include        <nfs/nfs_gfs.h>
X#define KERNEL
X#include        <sys/fs_types.h>
X#undef  KERNEL
X
X#ifndef HOSTNAMESZ
X#include <nfs/nfs_clnt.h>
X#endif
X
X#include <ufs/ufs_mount.h>
X
X#define	ufs_args ufs_specific
END_OF_FILE
  if test 2365 -ne `wc -c <'config/misc-ultrix.h'`; then
    echo shar: \"'config/misc-ultrix.h'\" unpacked with wrong size!
  fi
  # end of 'config/misc-ultrix.h'
fi
if test -f 'config/os-luna2M.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/os-luna2M.h'\"
else
  echo shar: Extracting \"'config/os-luna2M.h'\" \(2091 characters\)
  sed "s/^X//" >'config/os-luna2M.h' <<'END_OF_FILE'
X/* $Header: os-uniosb.h,v 5.2 90/09/16 16:50:06 hide Exp $ */
X
X/*
X * LUNA-II Mach 2.5 definitions for Amd (automounter)
X *
X * Copyright (c) 1989 Jan-Simon Pendry
X * Copyright (c) 1989 Imperial College of Science, Technology & Medicine
X * Copyright (c) 1989 The Regents of the University of California.
X * All rights reserved.
X *
X * This code is derived from software contributed to Berkeley by
X * Jan-Simon Pendry at Imperial College, London.
X *
X * Redistribution and use in source and binary forms are permitted provided
X * that: (1) source distributions retain this entire copyright notice and
X * comment, and (2) distributions including binaries display the following
X * acknowledgement:  ``This product includes software developed by the
X * University of California, Berkeley and its contributors'' in the
X * documentation or other materials provided with the distribution and in
X * all advertising materials mentioning features or use of this software.
X * Neither the name of the University nor the names of its contributors may
X * be used to endorse or promote products derived from this software without
X * specific prior written permission.
X * THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR IMPLIED
X * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
X * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
X *
X *	%W% (Berkeley) %G%
X */
X
X
X/*
X * Does the compiler grok void *
X */
X#define	VOIDP
X
X/*
X * Which version of the Sun RPC library we are using
X * This is the implementation release number, not
X * the protocol revision number.
X */
X#define	RPC_3		/* Is this correct? Wrong? */
X
X/*
X * Which version of the NFS interface are we using.
X * This is the implementation release number, not
X * the protocol revision number.
X */
X#define	NFS_3
X
X/*
X * Does this OS have NDBM support?
X */
X#define OS_HAS_NDBM
X
X/*
X * Byte ordering
X */
X#undef ARCH_ENDIAN
X#define	ARCH_ENDIAN	"big"
X
X/*
X * Name of filesystem types
X */
X#define	MOUNT_TYPE_UFS	MOUNT_UFS
X#define MOUNT_TYPE_NFS	MOUNT_NFS
X
X/*
X * Where to get NFS definitions
X */
X#define NFS_HDR "misc-luna2M.h"
X
END_OF_FILE
  if test 2091 -ne `wc -c <'config/os-luna2M.h'`; then
    echo shar: \"'config/os-luna2M.h'\" unpacked with wrong size!
  fi
  # end of 'config/os-luna2M.h'
fi
if test -f 'config/os-luna88k.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/os-luna88k.h'\"
else
  echo shar: Extracting \"'config/os-luna88k.h'\" \(2093 characters\)
  sed "s/^X//" >'config/os-luna88k.h' <<'END_OF_FILE'
X/* $Header: os-uniosb.h,v 5.2 90/09/16 16:50:06 hide Exp $ */
X
X/*
X * LUNA-88K Mach 2.5 definitions for Amd (automounter)
X *
X * Copyright (c) 1989 Jan-Simon Pendry
X * Copyright (c) 1989 Imperial College of Science, Technology & Medicine
X * Copyright (c) 1989 The Regents of the University of California.
X * All rights reserved.
X *
X * This code is derived from software contributed to Berkeley by
X * Jan-Simon Pendry at Imperial College, London.
X *
X * Redistribution and use in source and binary forms are permitted provided
X * that: (1) source distributions retain this entire copyright notice and
X * comment, and (2) distributions including binaries display the following
X * acknowledgement:  ``This product includes software developed by the
X * University of California, Berkeley and its contributors'' in the
X * documentation or other materials provided with the distribution and in
X * all advertising materials mentioning features or use of this software.
X * Neither the name of the University nor the names of its contributors may
X * be used to endorse or promote products derived from this software without
X * specific prior written permission.
X * THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR IMPLIED
X * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
X * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
X *
X *	%W% (Berkeley) %G%
X */
X
X
X/*
X * Does the compiler grok void *
X */
X#define	VOIDP
X
X/*
X * Which version of the Sun RPC library we are using
X * This is the implementation release number, not
X * the protocol revision number.
X */
X#define	RPC_3		/* Is this correct? Wrong? */
X
X/*
X * Which version of the NFS interface are we using.
X * This is the implementation release number, not
X * the protocol revision number.
X */
X#define	NFS_3
X
X/*
X * Does this OS have NDBM support?
X */
X#define OS_HAS_NDBM
X
X/*
X * Byte ordering
X */
X#undef ARCH_ENDIAN
X#define	ARCH_ENDIAN	"big"
X
X/*
X * Name of filesystem types
X */
X#define	MOUNT_TYPE_UFS	MOUNT_UFS
X#define MOUNT_TYPE_NFS	MOUNT_NFS
X
X/*
X * Where to get NFS definitions
X */
X#define NFS_HDR "misc-luna88k.h"
X
END_OF_FILE
  if test 2093 -ne `wc -c <'config/os-luna88k.h'`; then
    echo shar: \"'config/os-luna88k.h'\" unpacked with wrong size!
  fi
  # end of 'config/os-luna88k.h'
fi
if test -f 'config/os-uniosb.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/os-uniosb.h'\"
else
  echo shar: Extracting \"'config/os-uniosb.h'\" \(2152 characters\)
  sed "s/^X//" >'config/os-uniosb.h' <<'END_OF_FILE'
X/* $Header: os-uniosb.h,v 5.2 90/09/16 16:50:06 hide Exp $ */
X
X/*
X * UNIOS-B 1.50 definitions for Amd (automounter)
X *
X * Copyright (c) 1989 Jan-Simon Pendry
X * Copyright (c) 1989 Imperial College of Science, Technology & Medicine
X * Copyright (c) 1989 The Regents of the University of California.
X * All rights reserved.
X *
X * This code is derived from software contributed to Berkeley by
X * Jan-Simon Pendry at Imperial College, London.
X *
X * Redistribution and use in source and binary forms are permitted provided
X * that: (1) source distributions retain this entire copyright notice and
X * comment, and (2) distributions including binaries display the following
X * acknowledgement:  ``This product includes software developed by the
X * University of California, Berkeley and its contributors'' in the
X * documentation or other materials provided with the distribution and in
X * all advertising materials mentioning features or use of this software.
X * Neither the name of the University nor the names of its contributors may
X * be used to endorse or promote products derived from this software without
X * specific prior written permission.
X * THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR IMPLIED
X * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
X * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
X *
X *	%W% (Berkeley) %G%
X */
X
X
X/*
X * Does the compiler grok void *
X */
X#define	VOIDP
X
X/*
X * Which version of the Sun RPC library we are using
X * This is the implementation release number, not
X * the protocol revision number.
X */
X#define	RPC_3		/* Is this correct? Wrong? */
X
X/*
X * Which version of the NFS interface are we using.
X * This is the implementation release number, not
X * the protocol revision number.
X */
X#define	NFS_3
X
X/*
X * Does this OS have NDBM support?
X */
X#define OS_HAS_NDBM
X
X/*
X * Byte ordering
X */
X#undef ARCH_ENDIAN
X#define	ARCH_ENDIAN	"big"
X
X/*
X * Name of filesystem types
X */
X#define	MOUNT_TYPE_UFS	MOUNT_UFS
X#define MOUNT_TYPE_NFS	MOUNT_NFS
X
X/*
X * Where to get NFS definitions
X */
X#define NFS_HDR "misc-uniosb.h"
X
X#define	vfprintf(stream,format,args)	_doprnt(format,args,stream)
END_OF_FILE
  if test 2152 -ne `wc -c <'config/os-uniosb.h'`; then
    echo shar: \"'config/os-uniosb.h'\" unpacked with wrong size!
  fi
  # end of 'config/os-uniosb.h'
fi
if test -f 'config/os-utek.h' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'config/os-utek.h'\"
else
  echo shar: Extracting \"'config/os-utek.h'\" \(2373 characters\)
  sed "s/^X//" >'config/os-utek.h' <<'END_OF_FILE'
X/*
X * Copyright (c) 1989 Jan-Simon Pendry
X * Copyright (c) 1989 Imperial College of Science, Technology & Medicine
X * Copyright (c) 1989 The Regents of the University of California.
X * All rights reserved.
X *
X * This code is derived from software contributed to Berkeley by
X * Jan-Simon Pendry at Imperial College, London.
X *
X * Redistribution and use in source and binary forms, with or without
X * modification, are permitted provided that the following conditions
X * are met:
X * 1. Redistributions of source code must retain the above copyright
X *    notice, this list of conditions and the following disclaimer.
X * 2. Redistributions in binary form must reproduce the above copyright
X *    notice, this list of conditions and the following disclaimer in the
X *    documentation and/or other materials provided with the distribution.
X * 3. All advertising materials mentioning features or use of this software
X *    must display the following acknowledgement:
X *      This product includes software developed by the University of
X *      California, Berkeley and its contributors.
X * 4. Neither the name of the University nor the names of its contributors
X *    may be used to endorse or promote products derived from this software
X *    without specific prior written permission.
X *
X * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
X * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
X * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
X * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
X * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
X * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
X * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
X * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
X * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
X * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
X * SUCH DAMAGE.
X *
X *	%W% (Berkeley) %G%
X *
X * $Id: os-utek.h,v 5.2.2.1 1992/02/09 15:10:56 jsp beta $
X *
X * Utek 4.0  definitions for Amd (automounter)
X *	from Bill Trost <trost%reed@cse.ogi.edu>
X */
X
X#define	UTEK
X#define	__NFS_HEADER__		/* prevent re-inclusion of <sys/nfs.h> */
X/* ... and fake the rest */
X#include "os-sos3.h"
END_OF_FILE
  if test 2373 -ne `wc -c <'config/os-utek.h'`; then
    echo shar: \"'config/os-utek.h'\" unpacked with wrong size!
  fi
  # end of 'config/os-utek.h'
fi
if test -f 'csd/rps.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'csd/rps.c'\"
else
  echo shar: Extracting \"'csd/rps.c'\" \(2108 characters\)
  sed "s/^X//" >'csd/rps.c' <<'END_OF_FILE'
X/* rps (resource pointer server) interaction */
X/*
X * Copyright (c) 1992 Youki Kadobayashi, Osaka University
X * All rights reserved.
X *
X * Redistribution and reuse in source and binary forms, with or without
X * modification, are totally prohibited. Permission to use, copy and modify
X * this software and its documentation is hereby granted to WWFS alpha
X * testers only.
X *
X * THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X * UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X * WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X *
X * Osaka University requests users of this software to return to
X *
X *  Youki Kadobayashi
X *  Department of Information and Computer Sciences
X *  Osaka University, Toyonaka 560, Japan
X *
X * any improvements or extensions that they make and grant Osaka
X * University the rights to redistribute these changes.
X */
X
X#include "wfs.h"
X#include "util.h"
X#include "global.h"
X#include "closure.h"
X
X/* XXX */
Xvoid
Xrps_init()
X{
X	wf_vol *volp = vol_alloc();
X	wf_srv *srvp;
X
X	volp->name = malloc(16);
X	strcpy(volp->name, "sh.wide");
X	volp->id = 2L;
X	srvp = srv_findcache("sh.wide.ad.jp");
X	assert(srvp != NULL);
X	vol_addsrv(volp, srvp);
X	volp->nconn = 0;
X	vol_save(volp);
X}
X
Xvoid
Xrps_findid(c)
Xrps_findid_c *c;
X{
X	rps_callback_c *p;
X
X	c->volp = vol_findid(2L);	/* XXX */
X	assert(c->volp != NULL);
X	p = ALLOC(rps_callback_c);
X	p->volp = c->volp;
X	p->args = c->funcargs;
X	(*c->funcp)(p);
X}
X
X#if 0
Xwfs_vol *
Xrps_findid(c)
Xrps_findid_c *c;
X{
X	rps_callback_c *p;
X	switch (c->step) {
X	case 0:
X		c->volp = vol_findid(c->child_vol);
X		if (c->volp == NULL) {
X			/* local vol cache missed. */
X			if (rps_sock == 0)
X				rps_conn_open();
X			c->step = 1;
X			so_callback(rps_sock, rps_findid, c);
X			return;
X		}
X		break;
X	case 1:
X		c->step = 2;
X		rps_send_findid(c->child_vol);
X		so_callback(rps_sock, rps_findid, c);
X		return;
X	case 2:
X		c->volp = rps_recv_findid();
X	}
X	p = malloc(sizeof (rps_callback_c));
X	p->volp = c->volp;
X	p->args = c->funcargs;
X	(*c->funcp)(p);
X}
X
Xrps_conn_open()
X{
X}
X
Xrps_conn_close()
X{
X}
X
Xrps_send_findid()
X{
X}
X
Xrps_recv_findid()
X{
X}
X
X#endif
END_OF_FILE
  if test 2108 -ne `wc -c <'csd/rps.c'`; then
    echo shar: \"'csd/rps.c'\" unpacked with wrong size!
  fi
  # end of 'csd/rps.c'
fi
if test -f 'doc/Makefile.build' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'doc/Makefile.build'\"
else
  echo shar: Extracting \"'doc/Makefile.build'\" \(2035 characters\)
  sed "s/^X//" >'doc/Makefile.build' <<'END_OF_FILE'
X#
X# Makefile.build for documents; part of Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile.build[109.1] Thu Dec 16 20:39:49 1993 youki-k@is.aist-nara.ac.jp saved $
X#
X
X.SUFFIXES:	.ps .dvi .tex
X
X.tex.dvi:
X	jaflatex $<
X
X.dvi.ps:
X	dvi2ps-j -F /usr/local/lib/dvi2ps/fontdesc-E $< > $@
X	pstick -f wwfs.pro $@
X
Xdoc:		manual.ps
X
Xmanual.tex:	version.tex
X
Xversion.tex:	../Makefile.com
X	echo "\\newcommand{\\wwfsversion}{${VERSION}}" > version.tex
X
Xmanual.ps:	manual.dvi
X
Xtrace.ps:	trace.dvi
X
Xproject.ps:	project.dvi
X
END_OF_FILE
  if test 2035 -ne `wc -c <'doc/Makefile.build'`; then
    echo shar: \"'doc/Makefile.build'\" unpacked with wrong size!
  fi
  # end of 'doc/Makefile.build'
fi
if test -f 'gtr/Makefile.build' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'gtr/Makefile.build'\"
else
  echo shar: Extracting \"'gtr/Makefile.build'\" \(1987 characters\)
  sed "s/^X//" >'gtr/Makefile.build' <<'END_OF_FILE'
X#
X# Makefile.build for GTR-based server selection; part of Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile.build[109.0] Wed Nov 24 03:47:28 1993 youki-k@is.aist-nara.ac.jp saved $
X#
X
Xinstall-server:
X	@if [ -d $(WWFSDIR)/usr ]; then \
X		echo "WWFSDIR should be correctly set"; \
X		exit 1; \
X	else \
X		exit 0; \
X	fi
X	$(INSTBIN) sortvol.pl $(WWFSDIR)/bin
X	$(INSTALL) gtr.pl $(WWFSDIR)/lib
X	$(INSTALL) gtr.conf $(WWFSDIR)/etc
X	$(INSTALL) gtr.txt $(WWFSDIR)/etc
X
END_OF_FILE
  if test 1987 -ne `wc -c <'gtr/Makefile.build'`; then
    echo shar: \"'gtr/Makefile.build'\" unpacked with wrong size!
  fi
  # end of 'gtr/Makefile.build'
fi
if test -f 'libmm/Makefile.build' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'libmm/Makefile.build'\"
else
  echo shar: Extracting \"'libmm/Makefile.build'\" \(2051 characters\)
  sed "s/^X//" >'libmm/Makefile.build' <<'END_OF_FILE'
X#
X# Makefile.build for "raw cache" library; part of Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile.build[109.0] Wed Nov 24 03:47:34 1993 youki-k@is.aist-nara.ac.jp saved $
X#
X
Xinstall-server:
X	@if [ -d $(WWFSDIR)/usr ]; then \
X		echo "WWFSDIR should be correctly set"; \
X		exit 1; \
X	else \
X		exit 0; \
X	fi
X	$(INSTBIN) ctofs.pl $(WWFSDIR)/bin
X	$(INSTBIN) fstoc.pl $(WWFSDIR)/bin
X	$(INSTBIN) mmcat.pl $(WWFSDIR)/bin
X	$(INSTBIN) mmdir.pl $(WWFSDIR)/bin
X	$(INSTBIN) mmls.pl $(WWFSDIR)/bin
X	$(INSTALL) libmm.pl $(WWFSDIR)/lib
END_OF_FILE
  if test 2051 -ne `wc -c <'libmm/Makefile.build'`; then
    echo shar: \"'libmm/Makefile.build'\" unpacked with wrong size!
  fi
  # end of 'libmm/Makefile.build'
fi
if test -f 'libww/Makefile.build' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'libww/Makefile.build'\"
else
  echo shar: Extracting \"'libww/Makefile.build'\" \(2542 characters\)
  sed "s/^X//" >'libww/Makefile.build' <<'END_OF_FILE'
X#
X# Makefile.build for libww & spliced libc; part of Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile.build[109.1] Thu Dec 16 20:40:28 1993 youki-k@is.aist-nara.ac.jp saved $
X#
X
XSRC = libww.c libww.h
X
Xlibww:		libww.a wwget
X	@echo ""
X# avoid strange makerule to be taken
X
Xlibc:		libc_wwfs.a
X	@echo ""
X# avoid strange makerule to be taken
X
Xlibww.a:	libww.o parse.o
X	ar r $@ libww.o parse.o
X	@if [ -f /usr/bin/ranlib -o -f /bin/ranlib ]; then \
X		ranlib $@; \
X	fi
X
Xlibc_wwfs.a:	libww_s.o  parse.o
X	-rm -f libww.o $@
X	./renamesym.pl -c -S NTU open fopen opendir
X	ar r $@ *.o
X	@if [ -f /usr/bin/ranlib -o -f /bin/ranlib ]; then \
X		ranlib $@; \
X	fi
X
Xlibww_s.o:	libww.c libww.h
X	$(CC) -o libww_s.o -c $(CFLAGS) libww.c -DRENAME_LIBC
X
Xinstall-client:
X	@if [ -f libww.a ]; then \
X		$(INSTALL) libww.a $(LIBDIR); \
X		$(INSTALL) libww.h $(INCDIR); \
X	fi
X	@if [ -f libc_wwfs.a ]; then \
X		$(INSTALL) libc_wwfs.a $(LIBDIR); \
X	fi
X
Xwwget:	wwget.o libww.a
X	$(CC) -o $@ $? -I. -L. -lww
X
Xclean::
X	-rm -f libww.a libc_wwfs.a wwget
END_OF_FILE
  if test 2542 -ne `wc -c <'libww/Makefile.build'`; then
    echo shar: \"'libww/Makefile.build'\" unpacked with wrong size!
  fi
  # end of 'libww/Makefile.build'
fi
if test -f 'libww/wwget.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'libww/wwget.c'\"
else
  echo shar: Extracting \"'libww/wwget.c'\" \(2183 characters\)
  sed "s/^X//" >'libww/wwget.c' <<'END_OF_FILE'
X/* 
X * WorldWide File System
X * Copyright (c) 1992,1993 Youki Kadobayashi
X * Copyright (c) 1992,1993 Osaka University
X * All rights reserved.
X *
X * Permission to use, copy, modify and distribute this software and its
X * documentation is hereby granted, provided that the following conditions
X * are met:
X * 1. Both the copyright notice and this permission notice appear in
X *    all copies of the software, derivative works or modified versions,
X *    and any portions thereof, and that both notices appear in
X *    supporting documentation.
X * 2. All advertising materials mentioning features or use of this software
X *    must display the following acknowledgement:
X *      This product includes software developed by the Osaka University
X *      and its contributors.
X * 3. Neither the name of the University nor the names of its contributors
X *    may be used to endorse or promote products derived from this software
X *    without specific prior written permission.
X *
X * THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X * UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X * WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X *
X * Osaka University requests users of this software to return to
X *
X *  Youki Kadobayashi
X *  Department of Information and Computer Sciences
X *  Osaka University, Toyonaka 560, Osaka, Japan
X *
X * any improvements or extensions that they make and grant Osaka
X * University the rights to redistribute these changes.
X */
Xstatic char *AtFSid = "$Header: wwget.c[109.0] Wed Nov 24 03:49:16 1993 youki-k@is.aist-nara.ac.jp saved $";
X
X#include <stdio.h>
X#include "libww.h"
X
Xusage(name)
Xchar *name;
X{
X	printf("Usage: %s [-v] files...\n", name);
X	exit(1);
X}
X
Xint vflag = 0;
X
Xmain(argc, argv)
Xint argc;
Xchar **argv;
X{
X	int c;
X	extern int optind, opterr;
X	extern char *optarg;
X
X	while ((c = getopt(argc, argv, "v")) != EOF) {
X		switch (c) {
X		case 'v':
X			vflag++;
X			break;
X		case '?':
X			usage(argv[0]);
X		}
X	}
X	for ( ; optind < argc; ++optind) {
X		if (vflag) {
X			printf("%s", argv[optind]);
X			fflush(stdout);
X		}
X		ww_nfsget(argv[optind]);	/* RETR file via NFS+UIP */
X		if (vflag) {
X			putchar('\n');
X		}
X	}
X	return (0);
X}
X
END_OF_FILE
  if test 2183 -ne `wc -c <'libww/wwget.c'`; then
    echo shar: \"'libww/wwget.c'\" unpacked with wrong size!
  fi
  # end of 'libww/wwget.c'
fi
if test -f 'mosaic/Makefile' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'mosaic/Makefile'\"
else
  echo shar: Extracting \"'mosaic/Makefile'\" \(2032 characters\)
  sed "s/^X//" >'mosaic/Makefile' <<'END_OF_FILE'
X#
X# Makefile for Mosaic and HTML stuff; part of Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile[109.0] Wed Nov 24 03:47:47 1993 youki-k@is.aist-nara.ac.jp saved $
X#
X
X# To use alternative 'make' program, say gmake, type:
X#	gmake Make="gmake"
XMake = make
XMAK  = $(Make) Make="$(Make)"
XMKARG = -f ../Makefile.top PROG="mosaic" TOP=".."
XSHELL = /bin/sh
X
Xall:
X	@echo "Sorry but Make cannot help you.  Please read README file."
X
Xinstall-server clean baseline copyright version: FRC
X	@$(MAK) $(MKARG) $@
X
XFRC:
END_OF_FILE
  if test 2032 -ne `wc -c <'mosaic/Makefile'`; then
    echo shar: \"'mosaic/Makefile'\" unpacked with wrong size!
  fi
  # end of 'mosaic/Makefile'
fi
if test -f 'mosaic/Makefile.build' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'mosaic/Makefile.build'\"
else
  echo shar: Extracting \"'mosaic/Makefile.build'\" \(2058 characters\)
  sed "s/^X//" >'mosaic/Makefile.build' <<'END_OF_FILE'
X#
X# Makefile.build for Mosaic and HTML stuff; part of Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile.build[109.0] Wed Nov 24 03:47:47 1993 youki-k@is.aist-nara.ac.jp saved $
X#
X
Xinstall-server:
X	@if [ -d $(WWFSDIR)/usr ]; then \
X		echo "WWFSDIR should be correctly set"; \
X		exit 1; \
X	else \
X		exit 0; \
X	fi
X	$(INSTBIN) gget.pl $(WWFSDIR)/bin
X	$(INSTBIN) htget.pl $(WWFSDIR)/bin
X	$(INSTBIN) urlrename.pl $(WWFSDIR)/bin
X	$(INSTALL) dirutil.pl $(WWFSDIR)/lib
X	$(INSTALL) ftplib.pl $(WWFSDIR)/lib
X	$(INSTALL) url.pl $(WWFSDIR)/lib
END_OF_FILE
  if test 2058 -ne `wc -c <'mosaic/Makefile.build'`; then
    echo shar: \"'mosaic/Makefile.build'\" unpacked with wrong size!
  fi
  # end of 'mosaic/Makefile.build'
fi
if test -f 'rpc/Makefile.build' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'rpc/Makefile.build'\"
else
  echo shar: Extracting \"'rpc/Makefile.build'\" \(2575 characters\)
  sed "s/^X//" >'rpc/Makefile.build' <<'END_OF_FILE'
X#
X# Makefile.build for rpc; part of Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile.build[109.1] Tue Dec  7 23:38:39 1993 youki-k@is.aist-nara.ac.jp saved $
X#
X
XSTUBS =	cs_prot.h cs_prot_svc.c cs_prot_clnt.c cs_prot_xdr.c \
X	nfs_prot.h nfs_prot_svc.c nfs_prot_clnt.c nfs_prot_xdr.c
X
Xrpc:	$(STUBS)
X
Xcs_prot.h:	cs_prot.x
X	$(RPCGEN) -h -o $@ $?
X
Xcs_prot_svc.c:	cs_prot.x
X	$(RPCGEN) -m -o $@ $?
X	./svc_modify.pl $@
X
Xcs_prot_clnt.c:	cs_prot.x
X	$(RPCGEN) -l -o $@ $?
X
Xcs_prot_xdr.c:	cs_prot.x
X	$(RPCGEN) -c -o $@ $?
X
Xnfs_prot.h:	nfs_prot.x
X	$(RPCGEN) -h -o $@ $?
X
Xnfs_prot_svc.c:	nfs_prot.x
X	$(RPCGEN) -m -o $@ $?
X	./svc_modify.pl $@
X
Xnfs_prot_clnt.c:	nfs_prot.x
X	$(RPCGEN) -l -o $@ $?
X
Xnfs_prot_xdr.c:	nfs_prot.x
X	$(RPCGEN) -c -o $@ $?
X
Xclean::
X	-rm -f *.bak
X
X#	-rm -f *.bak $(STUBS)
X
Xcs_prot_clnt.o:		cs_prot_clnt.c cs_prot.h
Xcs_prot_svc.o:		cs_prot_svc.c cs_prot.h util.h
Xcs_prot_xdr.o:		cs_prot_xdr.c cs_prot.h
Xnfs_prot_clnt.o:	nfs_prot_clnt.c nfs_prot.h
Xnfs_prot_svc.o:		nfs_prot_svc.c nfs_prot.h util.h
Xnfs_prot_xdr.o:		nfs_prot_xdr.c nfs_prot.h
X
END_OF_FILE
  if test 2575 -ne `wc -c <'rpc/Makefile.build'`; then
    echo shar: \"'rpc/Makefile.build'\" unpacked with wrong size!
  fi
  # end of 'rpc/Makefile.build'
fi
if test -f 'saps/Makefile.build' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'saps/Makefile.build'\"
else
  echo shar: Extracting \"'saps/Makefile.build'\" \(2230 characters\)
  sed "s/^X//" >'saps/Makefile.build' <<'END_OF_FILE'
X#
X# Makefile.build for Server Admin Perl Scripts; part of Worldwide File System.
X#
X# Author:	Youki Kadobayashi, Osaka University, Japan
X#		E-mail: <youki@wide.ad.jp>
X#
X# 
X# WorldWide File System
X# Copyright (c) 1992,1993 Youki Kadobayashi
X# Copyright (c) 1992,1993 Osaka University
X# All rights reserved.
X#
X# Permission to use, copy, modify and distribute this software and its
X# documentation is hereby granted, provided that the following conditions
X# are met:
X# 1. Both the copyright notice and this permission notice appear in
X#    all copies of the software, derivative works or modified versions,
X#    and any portions thereof, and that both notices appear in
X#    supporting documentation.
X# 2. All advertising materials mentioning features or use of this software
X#    must display the following acknowledgement:
X#      This product includes software developed by the Osaka University
X#      and its contributors.
X# 3. Neither the name of the University nor the names of its contributors
X#    may be used to endorse or promote products derived from this software
X#    without specific prior written permission.
X#
X# THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X# UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X# WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X#
X# Osaka University requests users of this software to return to
X#
X#  Youki Kadobayashi
X#  Department of Information and Computer Sciences
X#  Osaka University, Toyonaka 560, Osaka, Japan
X#
X# any improvements or extensions that they make and grant Osaka
X# University the rights to redistribute these changes.
X
X# $Header: Makefile.build[109.1] Thu Dec 16 20:41:13 1993 youki-k@is.aist-nara.ac.jp saved $
X#
X
Xinstall-server:
X	@if [ -d $(WWFSDIR)/usr ]; then \
X		echo "WWFSDIR should be correctly set"; \
X		exit 1; \
X	else \
X		exit 0; \
X	fi
X	$(INSTBIN) csd-nanny.pl $(WWFSDIR)/bin/csd-nanny
X	$(INSTBIN) expire.sh $(WWFSDIR)/bin/expire
X	$(INSTBIN) kill-csd.sh $(WWFSDIR)/bin/kill-csd
X	$(INSTBIN) update-vol.sh $(WWFSDIR)/bin/update-vol
X	$(INSTBIN) makelist.pl $(WWFSDIR)/bin
X	$(INSTBIN) map.pl $(WWFSDIR)/bin
X	$(INSTBIN) vol2html.pl $(WWFSDIR)/bin
X	$(INSTALL) jtod.txt $(WWFSDIR)/etc
X	$(INSTALL) adm-Makefile $(WWFSDIR)/Makefile
X
END_OF_FILE
  if test 2230 -ne `wc -c <'saps/Makefile.build'`; then
    echo shar: \"'saps/Makefile.build'\" unpacked with wrong size!
  fi
  # end of 'saps/Makefile.build'
fi
if test -f 'saps/makelist.pl' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'saps/makelist.pl'\"
else
  echo shar: Extracting \"'saps/makelist.pl'\" \(2062 characters\)
  sed "s/^X//" >'saps/makelist.pl' <<'END_OF_FILE'
X#!/usr/local/bin/perl
X#
X# Read $usg below.
X# Author: Youki Kadobayashi <youki@wide.ad.jp>
X# This file is part of WWFS.
X#
Xrequire '/etc/csd.pl';
X
X$usg = "makelist.pl: Make table of volumes from volume files.
XUsage:	makelist [-i] [-o <output-file>] <volume-files...>
X	-o	output to designated file (default: $WWFSDIR/vol/INDEX)
X	-i	show volume id
X";
X
Xrequire 'getopts.pl';
Xdo Getopts('io:');
X&checkup;
X
X$: = " \n.-";
X
Xif ($#ARGV < $[) {
X    die $usg;
X}
Xif ($opt_o) {
X    open(LIST, ">$opt_o")
X	|| die "$opt_o: $!\n\n$usg";
X} else {
X    open(LIST, ">$WWFSDIR/vol/INDEX")
X	|| die "$WWFSDIR/vol/INDEX: $!\n\n$usg";
X}
Xforeach $file (@ARGV) {
X    open(IN, "<$file");
X    ($id, $volume, $server, $description) = ();	# clear
X    $volume = &basename($file);
X    $volume =~ s/.vol$//;
X    while (<IN>) {
X	if (/^volume-id:\s*(\S+)/i) {
X	    $id = $1;
X	};
X	if (! $server && /^server:\s*(\S+)$/i) {
X	    $server = $1;
X	};
X	if (! $server && /^ftp-server:\s*(\S+)$/i) {
X	    $server = $1;
X	};
X	if (/^description:\s*(\S+.*)$/i) {
X	    $description = $1;
X	};
X    }
X    close(IN);
X    if ($opt_i) {
X	$volume = sprintf("%3d %s", $id, $volume);
X    }
X    write(LIST);
X}
Xclose(LIST);
X
Xformat top =
Xvolume             server                 description
X------------------ ---------------------- -------------------------------------
X.
X
Xformat LIST =
X^<<<<<<<<<<<<<<<<< ^<<<<<<<<<<<<<<<<<<<<< ^<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
X$volume,           $server,               $description
X^<<<<<<<<<<<<<<<<< ^<<<<<<<<<<<<<<<<<<<<< ^<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
X$volume,           $server,               $description
X.
X
Xsub checkup {
X    if (!defined($WWFSDIR) || $WWFSDIR !~ m:^/:
X	|| $WWFSDIR eq "" || $WWFSDIR eq "/") {
X	die "/etc/csd.pl: \$WWFSDIR is not set correctly\n";
X    }
X}
X
Xsub basename {
X    local ($pathname) = @_;
X    local ($dir, $basename, $pos);
X
X    $pos = rindex($pathname, "/");
X    if ($pos < 0) {
X        return $pathname;
X    }
X    ++$pos;
X    ($dir, $basename) = unpack("a$pos a*", $pathname);
X    return $basename;
X}
X
X# Local Variables:
X# mode: perl
X# End:
END_OF_FILE
  if test 2062 -ne `wc -c <'saps/makelist.pl'`; then
    echo shar: \"'saps/makelist.pl'\" unpacked with wrong size!
  fi
  chmod +x 'saps/makelist.pl'
  # end of 'saps/makelist.pl'
fi
if test -f 'saps/map.pl' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'saps/map.pl'\"
else
  echo shar: Extracting \"'saps/map.pl'\" \(2499 characters\)
  sed "s/^X//" >'saps/map.pl' <<'END_OF_FILE'
X#!/usr/local/bin/perl
X#
X# Read $usg below.
X# Author: Youki Kadobayashi <youki@wide.ad.jp>
X# This file is part of WWFS.
X#
Xrequire '/etc/csd.pl';
X$voldir = "$WWFSDIR/vol";
X
X$usg = "map.pl: Check volume files and assign volume-id to them.
XUsage:	map.pl <volume-files...>
X	No option.
X	$voldir -- for volumes files (*.vol).
X";
X
Xif ($#ARGV < $[) {
X    die $usg;
X}
X
X&checkup;
X
Xforeach $file (@ARGV) {
X    if (&parse($file) == 0) {
X	print "$file: OK\n";
X    }
X}
Xif (defined($seq)) {
X    &writeseq;
X}
Xexit 0;
X
X
X# Check syntax of volume file.  Return value is
X#	 0: if it's OK.
X#	-1: if there's problem.
Xsub parse {
X    local ($file) = @_;
X    local ($id, @servers, @dirs);
X    # parse the volume description file
X    unless (open(FILE, "$file")) {
X	print "$file: $!\n";
X	return -1;
X    }
X    while (<FILE>) {
X	/^volume-id:\s*(\d+)/i && do {
X	    $id = $1;
X	};
X	/^ftp-server:\s*(\S+)$/i && do {
X	    push(@servers, $1);
X	};
X	/^ftp-directory:\s*(\S+)$/i && do {
X	    push(@dirs, $1);
X	};
X	/^server:\s*(\S+)$/i && do {
X	    print "$file: warning: obsolete entry \"server:\".\n";
X	    push(@servers, $1);
X	};
X	/^directory:\s*(\S+)$/i && do {
X	    print "$file: warning: obsolete format \"directory:\".\n";
X	    push(@dirs, $1);
X	};
X    }
X    close(FILE);
X
X    # check syntax
X    if (!defined($id)) {
X	if (!defined($seq)) {
X	    &readseq;
X	}
X	if (open(FILE, ">> $file")) {
X	    $id = $seq;
X	    ++$seq;
X	    print FILE "\nvolume-id: $id\n";
X	    close(FILE);
X	    print "$file: volume-id=$id was generated\n";
X	} else {
X	    print "$file: cannot append volume-id\n";  return -1;
X	}
X    }
X    if (!defined(@servers)) {
X	print "$file: no server\n";  return -1;
X    }
X    if (!defined(@dirs)) {
X	print "$file: no directory\n";  return -1;
X    }
X    if ($#servers != $#dirs) {
X	print "$file: server-directory mismatch\n";  return -1;
X    }
X    return 0;
X}
X
Xsub checkup {
X    if (!defined($WWFSDIR) || $WWFSDIR !~ m:^/:
X	|| $WWFSDIR eq "" || $WWFSDIR eq "/") {
X	die "/etc/csd.pl: \$WWFSDIR is not set correctly\n";
X    }
X    die "$voldir doesn't exist: install-server fail?\n" if (! -d $voldir);
X}
X
Xsub readseq {
X    if (open(SEQ, "< $voldir/seq")) {
X	$seq = <SEQ>;
X	chop $seq;
X	if ($seq !~ /^\d+$/) {
X	    print "fatal: seq file corrupt\n";
X	    exit 1;
X	}
X	close(SEQ);
X    } else {
X	print "warning: cannot find seq file: starting volume-id from 1000\n";
X	$seq = 1000;
X    }
X}
X
Xsub writeseq {
X    if (open(SEQ, "> $voldir/seq")) {
X	print SEQ "$seq\n";
X	close(SEQ);
X    }
X}    
X
X# Local Variables:
X# mode: perl
X# End:
END_OF_FILE
  if test 2499 -ne `wc -c <'saps/map.pl'`; then
    echo shar: \"'saps/map.pl'\" unpacked with wrong size!
  fi
  chmod +x 'saps/map.pl'
  # end of 'saps/map.pl'
fi
if test -f 'saps/vol2html.pl' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'saps/vol2html.pl'\"
else
  echo shar: Extracting \"'saps/vol2html.pl'\" \(2471 characters\)
  sed "s/^X//" >'saps/vol2html.pl' <<'END_OF_FILE'
X#!/usr/local/bin/perl
X#
X# Read $usg below.
X# Author: Youki Kadobayashi <youki@wide.ad.jp>
X# This file is part of WWFS.
X#
Xrequire '/etc/csd.pl';
X
X$usg = "vol2html.pl: Convert volume files into HTML pages.
XUsage:	vol2html [-l <librarian>] [-t <table>] <volume-files...>
X	-l	your favorite librarian (default: youki)
X	-t	translation table file (default: $WWFSDIR/etc/jtod.txt)
X";
X
Xrequire 'getopts.pl';
Xdo Getopts('l:t:');
X$lib = $opt_l ? $opt_l : 'youki';
X$tab = $opt_t ? $opt_t : "$WWFSDIR/etc/jtod.txt";
X
Xif ($#ARGV < $[) {
X    die $usg;
X}
X
X# jargon to description mapping file.
Xopen(TAB, "$tab") || die;
Xwhile (<TAB>) {
X	chop;
X	($key, $value) = split(/\s+/, $_, 2);
X	$jtod{$key} = $value;
X}
Xclose(TAB);
X
Xforeach $file (@ARGV) {
X	$vol = $file;
X	$vol =~ s/.vol$//;
X	open(IN, $file) || die;
X	while (<IN>) {
X		chop;
X		if (/^description:\s*/i) {
X			$description = $';
X		};
X		if (/^#category-$lib:\s*/i) {
X			@c = split(/\s*,\s*/, $');
X		}
X	}
X	foreach $key (@c) {
X		$text{$key} .= "<LI> <A HREF=\"wwfs:/$vol\">$vol</A>, $description\n";
X	}
X	close(IN);
X}
X
Xforeach $category (keys %text) {
X	@cat = split(/\//, $category);
X	if (! defined $page{$cat[0]}) {
X		# try to convert jargon into usual language
X		$title = $jtod{$cat[0]};
X		if (! defined $title) {
X			print "Using jargon word \"$cat[0]\" as is\n";
X			$title = $cat[0];
X		}
X		$page{$cat[0]} = "<TITLE>$title</TITLE>\n<H1>$title</H1>\n\n";
X	}
X	if (! $done{$category}) {
X		$done{$category} = 1;
X		# try to convert jargon into usual language
X		$title = $jtod{$cat[1]};
X		if (! defined $title) {
X			print "Using jargon word \"$cat[1]\" as is\n";
X			$title = $cat[1];
X		}
X		$page{$cat[0]} .= "<H2>$title</H2>\n<UL>\n";
X		$page{$cat[0]} .= $text{$category};
X		$page{$cat[0]} .= "</UL>\n\n";
X	}
X}
X
Xforeach $name (keys %page) {
X	open(FILE, "> vol_${name}.html") || die;
X	print FILE $page{$name};
X	print FILE "<!-- vol2html -l $lib ";
X	print FILE "at " . `date` . "-->\n";
X	close(FILE);
X}
X
X#	librarian at your choice.
X#	category-youki: free/emacs, lang/lisp
X#	category-suguru: free/gnu, lang/elisp
X#
X#	jargon to description mapping table "jtod.txt"
X#		free --> Free Software
X#		lang --> Language
X#		emacs --> Emacs
X#
X#	vol_"eval &jtod($category, 1)".html
X#
X#	<TITLE>&jtod($category, 1)</TITLE>
X#	<H1>&jtod($category, 1)</H1>
X#
X#	<H2>&jtod($category, 2)</H2>
X#	<UL>
X#	<LI> <A HREF="wwfs:/$volume">$volume</A>, $description
X#	</UL>
X
X# Local Variables:
X# mode: cperl
X# cperl-indent-level: 8
X# cperl-continued-statement-offset: 8
X# End:
END_OF_FILE
  if test 2471 -ne `wc -c <'saps/vol2html.pl'`; then
    echo shar: \"'saps/vol2html.pl'\" unpacked with wrong size!
  fi
  chmod +x 'saps/vol2html.pl'
  # end of 'saps/vol2html.pl'
fi
if test -f 'vol/khoros.vol' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'vol/khoros.vol'\"
else
  echo shar: Extracting \"'vol/khoros.vol'\" \(169 characters\)
  sed "s/^X//" >'vol/khoros.vol' <<'END_OF_FILE'
Xftp-server:	ftp.waseda.ac.jp
Xftp-directory:	pub/khoros
Xdescription:	Khoros, an information processing and visualization toolkit
X
Xvolume-id: 88
X#category-youki:	free/gui
END_OF_FILE
  if test 169 -ne `wc -c <'vol/khoros.vol'`; then
    echo shar: \"'vol/khoros.vol'\" unpacked with wrong size!
  fi
  # end of 'vol/khoros.vol'
fi
if test -f 'wwmount/am_compat.c' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'wwmount/am_compat.c'\"
else
  echo shar: Extracting \"'wwmount/am_compat.c'\" \(2352 characters\)
  sed "s/^X//" >'wwmount/am_compat.c' <<'END_OF_FILE'
X/* 
X * WorldWide File System
X * Copyright (c) 1992,1993 Youki Kadobayashi
X * Copyright (c) 1992,1993 Osaka University
X * All rights reserved.
X *
X * Permission to use, copy, modify and distribute this software and its
X * documentation is hereby granted, provided that the following conditions
X * are met:
X * 1. Both the copyright notice and this permission notice appear in
X *    all copies of the software, derivative works or modified versions,
X *    and any portions thereof, and that both notices appear in
X *    supporting documentation.
X * 2. All advertising materials mentioning features or use of this software
X *    must display the following acknowledgement:
X *      This product includes software developed by the Osaka University
X *      and its contributors.
X * 3. Neither the name of the University nor the names of its contributors
X *    may be used to endorse or promote products derived from this software
X *    without specific prior written permission.
X *
X * THIS SOFTWARE IS PROVIDED BY THE DEVELOPER ``AS IS'' AND OSAKA
X * UNIVERSITY DISCLAIMS ANY LIABILITY OF ANY KIND FOR ANY DAMAGES
X * WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
X *
X * Osaka University requests users of this software to return to
X *
X *  Youki Kadobayashi
X *  Department of Information and Computer Sciences
X *  Osaka University, Toyonaka 560, Osaka, Japan
X *
X * any improvements or extensions that they make and grant Osaka
X * University the rights to redistribute these changes.
X */
X/* amd compatibility */
Xstatic char *AtFSid = "$Header: am_compat.c[109.3] Sun Dec 19 02:49:38 1993 youki-k@is.aist-nara.ac.jp saved $";
X
X/* var args */
X#ifdef __STDC__
X#include <stdarg.h>
X#include <stdlib.h>
X#else
X#include <varargs.h>
X#endif
X
X#include <stdio.h>
X
X#ifdef __STDC__
Xplog(int lvl, char *fmt, ...)
X{
X	va_list ap;
X	va_start(ap, fmt);
X	vfprintf(stderr, fmt, ap);
X	va_end(ap);
X}
X#else
X
Xvoid
Xplog(va_alist)
Xva_dcl
X{
X	int lvl;
X	char *fmt;
X
X	va_list ap;
X	va_start(ap);
X	lvl = va_arg(ap, int);
X	fmt = va_arg(ap, char *);
X	vfprintf(stderr, fmt, ap);
X	va_end(ap);
X}
X#endif /* __STDC__ */
X
X#ifndef DEBUG_MALLOC
X#if defined(NeXT) || defined(vax) || defined(ultrix) || defined(sony) || defined(luna)
Xchar *
Xstrdup(str)
Xchar *str;
X{
X	char *sp;
X	int len;
X
X	len = strlen(str);
X	sp = (char *) malloc(len+1);
X	bcopy(str, sp, len);
X	sp[len] = 0;
X
X	return sp;
X}
X#endif
X#endif
END_OF_FILE
  if test 2352 -ne `wc -c <'wwmount/am_compat.c'`; then
    echo shar: \"'wwmount/am_compat.c'\" unpacked with wrong size!
  fi
  # end of 'wwmount/am_compat.c'
fi
echo shar: End of archive 20 \(of 22\).
cp /dev/null ark20isdone
MISSING=""
for I in 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 ; do
    if test ! -f ark${I}isdone ; then
	MISSING="${MISSING} ${I}"
    fi
done
if test "${MISSING}" = "" ; then
    echo You have unpacked all 22 archives.
    rm -f ark[1-9]isdone ark[1-9][0-9]isdone
else
    echo You still must unpack the following archives:
    echo "        " ${MISSING}
fi
exit 0
exit 0 # Just in case...
