Newsgroups: comp.sources.misc
From: Warren Tucker <wht@n4hgf.Mt-Park.GA.US>
Subject:  v33i111:  u386mon - SVR3 performance/status monitor v2.60, Part02/09
Message-ID: <1992Nov22.015922.23965@sparky.imd.sterling.com>
X-Md4-Signature: adad076318225b3d415e5b59a8a862ff
Date: Sun, 22 Nov 1992 01:59:22 GMT
Approved: kent@sparky.imd.sterling.com

Submitted-by: Warren Tucker <wht@n4hgf.Mt-Park.GA.US>
Posting-number: Volume 33, Issue 111
Archive-name: u386mon/part02
Environment: SYSVR3
Supersedes: u386mon: Volume 22, Issue 3-9

#!/bin/sh
# This is part 02 of u386mon.2.60
# ============= Make.isc2 ==============
if test -f 'Make.isc2' -a X"$1" != X"-c"; then
	echo 'x - skipping Make.isc2 (File already exists)'
else
echo 'x - extracting Make.isc2 (Text)'
sed 's/^X//' << 'SHAR_EOF' > 'Make.isc2' &&
X#  CHK=0x9C70
X#+-------------------------------------------------------------------
X#  Makefile for u386mon for ISC 386/ix 2.x.x
X#  ...!{gatech,emory}!n4hgf!wht
X#--------------------------------------------------------------------
X#+:EDITS:*/
X#:07-15-1992-14:31-wht@n4hgf-2.60 release - u386mon+siotools merge
X#:08-17-1991-13:35-root@n4hgf-document -DISC22 per dennis@nanovx
X#:08-01-1991-23:34-wht@n4hgf-release 2.53 source control point
X#:08-10-1990-14:12-jmd@p1so/wht@n4hgf-2.20-add Tandem Integrity S2
X#:08-07-1990-14:24-wht@n4hgf-nba@sysware.dk SVR31 updates
X#:08-03-1990-03:45-wht@n4hgf-rename Makefile.isc1 to Makefile.isc2
X#:08-02-1990-15:35-wht@n4hgf-2.12-old curses hacks+minor 3.2 formalizations
X#:08-01-1990-21:39-wht@n4hgf-add Dell make file
X#:08-01-1990-12:26-wht@n4hgf-2.11-try to support ISC 1.x.x
X#:07-28-1990-18:07-wht@n4hgf-2.10 release
X#:07-26-1990-18:59-root@n4hgf-remove inappropriate USIZE_FIXED reminder
X#:07-24-1990-18:53-wht@n4hgf-add USIZE_FIXED reminder
X#:07-21-1990-16:03-wht@n4hgf-add libpanel + remake depend
X#:06-27-1990-01:57-wht@n4hgf-1.10 - incorporate suggestions from alpha testers
X#:06-25-1990-04:14-wht@n4hgf-1.03-better error handling
X#:06-24-1990-20:53-wht@n4hgf-v1.01-add ISC support thanks to peter@radig.de
X#:06-21-1990-14:27-r@n4hgf-version x0.12 seems bug free
X#:06-19-1990-21:37-wht@n4hgf-get ready for 0.08 release
X
X#------------> CFLAGS 
X# ISC 2.0.x and ISC 2.2
X# Add -DVPIX if you have VP/ix
X# Add -DMERGE386 if you have Merge/386
X# Add -DISC22 if you have ISC 2.2 instead of 2.0.x (don't know about 2.1)
XCFLAGS = -c -O -DISC
X
X#------------> LIB
XLIB = -lpanel -lcurses -lx -lmalloc -lc_s
X
X#------------> KMEMGRP
XKMEMGRP = sys
X
X#------------> BINDIR
XBINDIR = /usr/local/bin
X
XLDFLAGS = -s
X
XVERSION = 2.60
X
X#handle Sys V make "feature" of using SHELL
XSHELL = /bin/sh
X
X#FCRC = fcrc -u $*.c ;
X.c.o:;	$(FCRC) $(CC) $(CFLAGS) $*.c 
X
XSRC = \
X	u386mon.c\
X	bootinfo.c\
X	detail.c\
X	det_proc.c\
X	det_stream.c\
X	det_table.c\
X	disputil.c\
X	kludge.c\
X	libkmem.c\
X	libmem.c\
X	libpanel.c\
X	libswap.c\
X	libnlsym.c\
X	nlsym.c\
X	proc.c\
X	tune.c\
X	var.c
X
XHDR = \
X	config.h\
X	libkmem.h\
X	libmem.h\
X	libpanel.h\
X	libswap.h\
X	libnlsym.h\
X	lint_args.h\
X	nlsym.h\
X	patchlevel.h\
X	ttynm.h\
X	u386mon.h
X
XNLSYM_OBJ =\
X	nlsym.o
X
XU386MON_OBJ =\
X	u386mon.o\
X	detail.o\
X	det_proc.o\
X	det_stream.o\
X	det_table.o\
X	bootinfo.o\
X	proc.o\
X	tune.o\
X	var.o\
X	disputil.o\
X	kludge.o\
X	libkmem.o\
X	libmem.o\
X	libswap.o\
X	libnlsym.o
X
XSHARFLS = \
X	README\
X	CHANGES\
X	Make.*\
X	EXPLAIN\
X	$(SRC)\
X	$(HDR)\
X	renice/Makefile\
X	renice/renice.c\
X	panel/README\
X	panel/panel.3\
X	panel/ptest.c\
X	panel/Makefile\
X	siotools/Makefile\
X	siotools/README\
X	siotools/kmemsio.c\
X	siotools/kmemsio.h\
X	siotools/pend.sh\
X	siotools/siomon.c\
X	siotools/utoa.c\
X	siotools/utoa.h\
X	siotools/uusnap.c\
X	siotools/wingets.c\
X	siotools/wintio.c\
X	siotools/wintio.h\
X	siotools/wintty.c\
X	siotools/wintty.h
X
Xall: nlsym u386mon
X
X#must run as root
Xinstall: all
X	-mv $(BINDIR)/nlsym $(BINDIR)/nlsym.old
X	cp nlsym $(BINDIR)
X	chown bin $(BINDIR)/nlsym
X	chgrp bin $(BINDIR)/nlsym
X	chmod 711 $(BINDIR)/nlsym
X	-mv $(BINDIR)/u386mon $(BINDIR)/u386mon.old
X	cp u386mon $(BINDIR)
X	chown bin $(BINDIR)/u386mon
X	chgrp $(KMEMGRP) $(BINDIR)/u386mon
X	chmod 2711 $(BINDIR)/u386mon
X	chmod g+r /dev/swap
X	$(BINDIR)/nlsym
X	@echo ' ';echo 'csh users rehash before executing'
X
Xnlsym: $(NLSYM_OBJ)
X	$(CC) $(LDFLAGS) -o $@ $(NLSYM_OBJ) $(LIB)
X
Xu386mon: $(U386MON_OBJ)
X	$(CC) $(LDFLAGS) -o $@ $(U386MON_OBJ) $(LIB)
X
X/unix.nlsym: nlsym /unix
X	$(BINDIR)/nlsym
X	chmod 644 /unix.nlsym
X
X#not delivered
Xsrc.fls: $(SRC) Makefile
X	ls $(SRC) > src.fls
Xlint_args: src.fls
X	echo ' ' > lint_args.h
X	csh zgcc src.fls lint_args.h $(CFLAGS)
X
Xneat:
X	rm -f *\# *~ *.orig *.rej *.out *.log core ,* cscope.out tags *.bak \
X		mkdep.* *.new src.fls u386mon.lint
X
Xclean: neat
X	rm -f $(U386MON_OBJ) $(NLSYM_OBJ)
X
Xclobber: clean
X	rm -f nlsym u386mon
X
Xlint:
X	lint -ux *.c > u386mon.lint
X
X#for shar 3.27 or later
Xshar:
X	shar -a -n u386mon.$(VERSION) -l 55 -o u386m-$(VERSION) $(SHARFLS)
X
X# MAKE DEPEND: regenerate .c:.h, .ol:.c, .ol:.asm dependencies automatically
X#
Xdepend:
X		rm -f mkdep.rule.tmp
X		if test '$(SRC)' ;\
X		then (grep '^#include' $(SRC)\
X		| sed	-e 's?:[^<]*<\([^>]*\)>.*?: /usr/include/\1?'\
X			-e 's?:[^"]*"\([^"]*\)".*?:\1?'\
X			-e 's?\(.*\)\.c?\1.o?'\
X		 >> mkdep.rule.tmp) ;\
X		fi
X
X		echo 1 >mkdep.ex.tmp
X		echo '/^# DO NOT DELETE THIS LINE' >>mkdep.ex.tmp
X		echo '.+1,$$d' >>mkdep.ex.tmp
X		echo 'r mkdep.rule.tmp' >> mkdep.ex.tmp
X		echo 'w' >> mkdep.ex.tmp
X		cp Make.isc2 Make.isc2.new
X		ex Make.isc2.new < mkdep.ex.tmp
X		rm mkdep.ex.tmp mkdep.rule.tmp
X		echo '#	DEPENDENCIES MUST END AT END OF	FILE' >>Make.isc2.new
X		echo '#	IF YOU PUT STUFF HERE IT WILL GO AWAY'>>Make.isc2.new
X		echo '#	see make depend	above'>>Make.isc2.new
X		mv Make.isc2 Make.isc2.bak
X		mv Make.isc2.new Make.isc2
X		@echo Make.isc2 has been updated with dependencies
X
X# DO NOT DELETE THIS LINE
Xu386mon.o: config.h
Xu386mon.o: /usr/include/curses.h
Xu386mon.o: libpanel.h
Xu386mon.o: /usr/include/signal.h
Xu386mon.o: /usr/include/string.h
Xu386mon.o: /usr/include/fcntl.h
Xu386mon.o: /usr/include/nlist.h
Xu386mon.o: /usr/include/errno.h
Xu386mon.o: /usr/include/time.h
Xu386mon.o: /usr/include/sys/types.h
Xu386mon.o: /usr/include/sys/lock.h
Xu386mon.o: /usr/include/sys/utsname.h
Xu386mon.o: /usr/include/sys/stat.h
Xu386mon.o: /usr/include/sys/param.h
Xu386mon.o: /usr/include/sys/tuneable.h
Xu386mon.o: /usr/include/sys/sysinfo.h
Xu386mon.o: /usr/include/sys/sysmacros.h
Xu386mon.o: /usr/include/sys/immu.h
Xu386mon.o: /usr/include/sys/region.h
Xu386mon.o: /usr/include/sys/proc.h
Xu386mon.o: /usr/include/sys/var.h
Xu386mon.o: /usr/include/sys/swap.h
Xu386mon.o: /usr/include/sys/trap.h
Xu386mon.o: nlsym.h
Xu386mon.o: libkmem.h
Xu386mon.o: libmem.h
Xu386mon.o: libswap.h
Xu386mon.o: libnlsym.h
Xu386mon.o: u386mon.h
Xbootinfo.o: config.h
Xbootinfo.o: /usr/include/curses.h
Xbootinfo.o: /usr/include/sys/types.h
Xbootinfo.o: /usr/include/sys/bootinfo.h
Xbootinfo.o: u386mon.h
Xdetail.o: config.h
Xdetail.o: /usr/include/curses.h
Xdetail.o: /usr/include/signal.h
Xdetail.o: /usr/include/string.h
Xdetail.o: /usr/include/fcntl.h
Xdetail.o: /usr/include/nlist.h
Xdetail.o: /usr/include/errno.h
Xdetail.o: /usr/include/time.h
Xdetail.o: /usr/include/pwd.h
Xdetail.o: /usr/include/sys/types.h
Xdetail.o: /usr/include/utmp.h
Xdetail.o: /usr/include/sys/utsname.h
Xdetail.o: /usr/include/sys/stat.h
Xdetail.o: /usr/include/sys/param.h
Xdetail.o: /usr/include/sys/tuneable.h
Xdetail.o: /usr/include/sys/sysinfo.h
Xdetail.o: /usr/include/sys/sysmacros.h
Xdetail.o: /usr/include/sys/immu.h
Xdetail.o: /usr/include/sys/region.h
Xdetail.o: /usr/include/sys/proc.h
Xdetail.o: /usr/include/sys/var.h
Xdetail.o: nlsym.h
Xdetail.o: libkmem.h
Xdetail.o: libnlsym.h
Xdetail.o: u386mon.h
Xdet_proc.o: config.h
Xdet_proc.o: /usr/include/curses.h
Xdet_proc.o: /usr/include/signal.h
Xdet_proc.o: /usr/include/string.h
Xdet_proc.o: /usr/include/fcntl.h
Xdet_proc.o: /usr/include/nlist.h
Xdet_proc.o: /usr/include/errno.h
Xdet_proc.o: /usr/include/time.h
Xdet_proc.o: /usr/include/pwd.h
Xdet_proc.o: /usr/include/sys/types.h
Xdet_proc.o: /usr/include/utmp.h
Xdet_proc.o: /usr/include/sys/stat.h
Xdet_proc.o: /usr/include/sys/param.h
Xdet_proc.o: /usr/include/sys/tuneable.h
Xdet_proc.o: /usr/include/sys/sysinfo.h
Xdet_proc.o: /usr/include/sys/sysmacros.h
Xdet_proc.o: /usr/include/sys/immu.h
Xdet_proc.o: /usr/include/sys/region.h
Xdet_proc.o: /usr/include/sys/proc.h
Xdet_proc.o: /usr/include/sys/fs/s5dir.h
Xdet_proc.o: /usr/include/sys/user.h
Xdet_proc.o: /usr/include/sys/var.h
Xdet_proc.o: nlsym.h
Xdet_proc.o: libkmem.h
Xdet_proc.o: libmem.h
Xdet_proc.o: libswap.h
Xdet_proc.o: libnlsym.h
Xdet_proc.o: u386mon.h
Xdet_sio.o: config.h
Xdet_sio.o: /usr/include/curses.h
Xdet_sio.o: /usr/include/string.h
Xdet_sio.o: /usr/include/nlist.h
Xdet_sio.o: /usr/include/sys/types.h
Xdet_sio.o: /usr/include/sys/stat.h
Xdet_sio.o: /usr/include/sys/ascii.h
Xdet_sio.o: /usr/include/sys/param.h
Xdet_sio.o: /usr/include/sys/tty.h
Xdet_sio.o: nlsym.h
Xdet_sio.o: libkmem.h
Xdet_sio.o: libmem.h
Xdet_sio.o: libswap.h
Xdet_sio.o: libnlsym.h
Xdet_sio.o: u386mon.h
Xdisputil.o: config.h
Xdisputil.o: /usr/include/curses.h
Xdisputil.o: /usr/include/sys/types.h
Xdisputil.o: u386mon.h
Xkludge.o: /usr/include/curses.h
Xlibkmem.o: /usr/include/sys/types.h
Xlibkmem.o: /usr/include/fcntl.h
Xlibkmem.o: libkmem.h
Xlibmem.o: /usr/include/sys/types.h
Xlibmem.o: /usr/include/fcntl.h
Xlibmem.o: libmem.h
Xlibpanel.o: config.h
Xlibpanel.o: /usr/include/curses.h
Xlibpanel.o: u386mon.h
Xlibswap.o: /usr/include/sys/types.h
Xlibswap.o: /usr/include/fcntl.h
Xlibswap.o: libswap.h
Xlibnlsym.o: config.h
Xlibnlsym.o: /usr/include/stdio.h
Xlibnlsym.o: /usr/include/sys/types.h
Xlibnlsym.o: /usr/include/sys/stat.h
Xlibnlsym.o: /usr/include/fcntl.h
Xlibnlsym.o: /usr/include/nlist.h
Xlibnlsym.o: nlsym.h
Xlibnlsym.o: libnlsym.h
Xnlsym.o: config.h
Xnlsym.o: /usr/include/stdio.h
Xnlsym.o: /usr/include/sys/types.h
Xnlsym.o: /usr/include/sys/stat.h
Xnlsym.o: /usr/include/fcntl.h
Xnlsym.o: /usr/include/nlist.h
Xnlsym.o: nlsym.h
Xproc.o: config.h
Xproc.o: /usr/include/curses.h
Xproc.o: /usr/include/sys/types.h
Xproc.o: /usr/include/sys/param.h
Xproc.o: /usr/include/sys/immu.h
Xproc.o: /usr/include/sys/region.h
Xproc.o: /usr/include/sys/proc.h
Xproc.o: /usr/include/sys/var.h
Xproc.o: /usr/include/nlist.h
Xproc.o: nlsym.h
Xproc.o: libkmem.h
Xproc.o: libnlsym.h
Xproc.o: u386mon.h
Xtune.o: config.h
Xtune.o: /usr/include/curses.h
Xtune.o: /usr/include/sys/types.h
Xtune.o: /usr/include/sys/tuneable.h
Xtune.o: u386mon.h
Xvar.o: config.h
Xvar.o: /usr/include/curses.h
Xvar.o: /usr/include/sys/types.h
Xvar.o: /usr/include/sys/var.h
Xvar.o: u386mon.h
X#	DEPENDENCIES MUST END AT END OF	FILE
X#	IF YOU PUT STUFF HERE IT WILL GO AWAY
X#	see make depend	above
SHAR_EOF
chmod 0644 Make.isc2 ||
echo 'restore of Make.isc2 failed'
Wc_c="`wc -c < 'Make.isc2'`"
test 9665 -eq "$Wc_c" ||
	echo 'Make.isc2: original size 9665, current size' "$Wc_c"
fi
# ============= Make.s2 ==============
if test -f 'Make.s2' -a X"$1" != X"-c"; then
	echo 'x - skipping Make.s2 (File already exists)'
else
echo 'x - extracting Make.s2 (Text)'
sed 's/^X//' << 'SHAR_EOF' > 'Make.s2' &&
X#  CHK=0x91AC
X#+-------------------------------------------------------------------
X#  Makefile for s2mon (u386mon) for Tandem Integrity S2 NonStop-UX
X#  ...!{gatech,emory}!n4hgf!wht
X#  The Tandem compiler gives good diagnostic!!!!! also, auto defines
X#  'mips' pre-processor symbol.
X#--------------------------------------------------------------------
X#+:EDITS:*/
X#:07-15-1992-14:31-wht@n4hgf-2.60 release - u386mon+siotools merge
X#:08-01-1991-23:34-wht@n4hgf-release 2.53 source control point
X#:08-10-1990-14:12-jmd@p1so/wht@n4hgf-2.20-add Tandem Integrity S2
X#:08-07-1990-14:24-wht@n4hgf-nba@sysware.dk SVR31 updates
X#:08-02-1990-15:35-wht@n4hgf-2.12-old curses hacks+minor 3.2 formalizations
X#:08-01-1990-21:39-wht@n4hgf-add Dell make file
X#:08-01-1990-12:26-wht@n4hgf-2.11-try to support ISC 1.x.x
X#:07-28-1990-18:07-wht@n4hgf-2.10 release
X#:07-28-1990-14:51-wht@n4hgf-creation
X
X#------------> CFLAGS 
XCFLAGS = -c -O -DSVR31
X
X#------------> LIB
XLIB = -lcurses -lmalloc -lmld
X
X#------------> KMEMGRP
XKMEMGRP = sys
X
X#------------> BINDIR
XBINDIR = /usr/local/bin
X
XLDFLAGS = -s
X
XVERSION = 2.60
X
X#handle Sys V make "feature" of using SHELL
XSHELL = /bin/sh
X
X#FCRC = fcrc -u $*.c ;
X.c.o:;	$(FCRC) $(CC) $(CFLAGS) $*.c 
X
XSRC = \
X	u386mon.c\
X	detail.c\
X	det_proc.c\
X	disputil.c\
X	kludge.c\
X	libkmem.c\
X	libmem.c\
X	libpanel.c\
X	libswap.c\
X	libnlsym.c\
X	nlsym.c\
X	proc.c\
X	tune.c\
X	var.c
X
XHDR = \
X	config.h\
X	libkmem.h\
X	libmem.h\
X	libpanel.h\
X	libswap.h\
X	libnlsym.h\
X	lint_args.h\
X	nlsym.h\
X	patchlevel.h\
X	ttynm.h\
X	u386mon.h
X
XNLSYM_OBJ =\
X	nlsym.o
X
XU386MON_OBJ =\
X	u386mon.o\
X	detail.o\
X	det_proc.o\
X	proc.o\
X	tune.o\
X	var.o\
X	kludge.o\
X	disputil.o\
X	libkmem.o\
X	libmem.o\
X	libswap.o\
X	libnlsym.o\
X	libpanel.o
X
XSHARFLS = \
X	README\
X	CHANGES\
X	Make.*\
X	EXPLAIN\
X	$(SRC)\
X	$(HDR)\
X	renice/Makefile\
X	renice/renice.c\
X	panel/README\
X	panel/panel.3\
X	panel/ptest.c\
X	panel/Makefile\
X	siotools/Makefile\
X	siotools/README\
X	siotools/kmemsio.c\
X	siotools/kmemsio.h\
X	siotools/pend.sh\
X	siotools/siomon.c\
X	siotools/utoa.c\
X	siotools/utoa.h\
X	siotools/uusnap.c\
X	siotools/wingets.c\
X	siotools/wintio.c\
X	siotools/wintio.h\
X	siotools/wintty.c\
X	siotools/wintty.h
X
Xall: nlsym s2mon
X
X#must run as root
Xinstall: all
X	-mv $(BINDIR)/nlsym $(BINDIR)/nlsym.old
X	cp nlsym $(BINDIR)
X	chown bin $(BINDIR)/nlsym
X	chgrp bin $(BINDIR)/nlsym
X	chmod 711 $(BINDIR)/nlsym
X	-mv $(BINDIR)/s2mon $(BINDIR)/s2mon.old
X	cp s2mon $(BINDIR)
X	chown bin $(BINDIR)/s2mon
X	chgrp $(KMEMGRP) $(BINDIR)/s2mon
X	chmod 2711 $(BINDIR)/s2mon
X	chmod g+r /dev/swap
X	$(BINDIR)/nlsym
X	@echo ' ';echo 'csh users rehash before executing'
X
Xnlsym: $(NLSYM_OBJ)
X	$(CC) $(LDFLAGS) -o $@ $(NLSYM_OBJ) $(LIB)
X
Xs2mon: $(U386MON_OBJ)
X	$(CC) $(LDFLAGS) -o $@ $(U386MON_OBJ) $(LIB)
X
X/unix.nlsym: nlsym /unix
X	$(BINDIR)/nlsym
X	chmod 644 /unix.nlsym
X
X#not delivered
Xsrc.fls: $(SRC) Makefile
X	ls $(SRC) > src.fls
Xlint_args: src.fls
X	echo ' ' > lint_args.h
X	csh zgcc src.fls lint_args.h $(CFLAGS)
X
Xneat:
X	rm -f *\# *~ *.orig *.rej *.out *.log core ,* cscope.out tags *.bak \
X		mkdep.* *.new src.fls u386mon.lint
X
Xclean: neat
X	rm -f $(U386MON_OBJ) $(NLSYM_OBJ)
X
Xclobber: clean
X	rm -f nlsym u386mon
X
Xlint:
X	lint -ux *.c > u386mon.lint
X
X#for shar 3.27 or later
Xshar:
X	shar -a -n u386mon.$(VERSION) -l 55 -o u386m-$(VERSION) $(SHARFLS)
X
X# MAKE DEPEND: regenerate .c:.h, .ol:.c, .ol:.asm dependencies automatically
X#
Xdepend:
X		rm -f mkdep.rule.tmp
X		if test '$(SRC)' ;\
X		then (grep '^#include' $(SRC)\
X		| sed	-e 's?:[^<]*<\([^>]*\)>.*?: /usr/include/\1?'\
X			-e 's?:[^"]*"\([^"]*\)".*?:\1?'\
X			-e 's?\(.*\)\.c?\1.o?'\
X		 >> mkdep.rule.tmp) ;\
X		fi
X
X		echo 1 >mkdep.ex.tmp
X		echo '/^# DO NOT DELETE THIS LINE' >>mkdep.ex.tmp
X		echo '.+1,$$d' >>mkdep.ex.tmp
X		echo 'r mkdep.rule.tmp' >> mkdep.ex.tmp
X		echo 'w' >> mkdep.ex.tmp
X		cp Make.s2 Make.s2.new
X		ex Make.s2.new < mkdep.ex.tmp
X		rm mkdep.ex.tmp mkdep.rule.tmp
X		echo '#	DEPENDENCIES MUST END AT END OF	FILE' >>Make.s2.new
X		echo '#	IF YOU PUT STUFF HERE IT WILL GO AWAY'>>Make.s2.new
X		echo '#	see make depend	above'>>Make.s2.new
X		mv Make.s2 Make.s2.bak
X		mv Make.s2.new Make.s2
X		@echo Make.s2 has been updated with dependencies
X
X# DO NOT DELETE THIS LINE
Xu386mon.o: config.h
Xu386mon.o: /usr/include/curses.h
Xu386mon.o: libpanel.h
Xu386mon.o: /usr/include/signal.h
Xu386mon.o: /usr/include/string.h
Xu386mon.o: /usr/include/fcntl.h
Xu386mon.o: /usr/include/nlist.h
Xu386mon.o: /usr/include/errno.h
Xu386mon.o: /usr/include/time.h
Xu386mon.o: /usr/include/sys/types.h
Xu386mon.o: /usr/include/sys/lock.h
Xu386mon.o: /usr/include/sys/utsname.h
Xu386mon.o: /usr/include/sys/stat.h
Xu386mon.o: /usr/include/sys/param.h
Xu386mon.o: /usr/include/sys/tuneable.h
Xu386mon.o: /usr/include/sys/sysinfo.h
Xu386mon.o: /usr/include/sys/sysmacros.h
Xu386mon.o: /usr/include/sys/immu.h
Xu386mon.o: /usr/include/sys/region.h
Xu386mon.o: /usr/include/sys/proc.h
Xu386mon.o: /usr/include/sys/var.h
Xu386mon.o: /usr/include/sys/swap.h
Xu386mon.o: nlsym.h
Xu386mon.o: libkmem.h
Xu386mon.o: libmem.h
Xu386mon.o: libswap.h
Xu386mon.o: libnlsym.h
Xu386mon.o: u386mon.h
Xdetail.o: config.h
Xdetail.o: /usr/include/curses.h
Xdetail.o: /usr/include/signal.h
Xdetail.o: /usr/include/string.h
Xdetail.o: /usr/include/fcntl.h
Xdetail.o: /usr/include/nlist.h
Xdetail.o: /usr/include/errno.h
Xdetail.o: /usr/include/time.h
Xdetail.o: /usr/include/pwd.h
Xdetail.o: /usr/include/sys/types.h
Xdetail.o: /usr/include/utmp.h
Xdetail.o: /usr/include/sys/utsname.h
Xdetail.o: /usr/include/sys/stat.h
Xdetail.o: /usr/include/sys/param.h
Xdetail.o: /usr/include/sys/tuneable.h
Xdetail.o: /usr/include/sys/sysinfo.h
Xdetail.o: /usr/include/sys/sysmacros.h
Xdetail.o: /usr/include/sys/immu.h
Xdetail.o: /usr/include/sys/region.h
Xdetail.o: /usr/include/sys/proc.h
Xdetail.o: /usr/include/sys/var.h
Xdetail.o: nlsym.h
Xdetail.o: libkmem.h
Xdetail.o: libnlsym.h
Xdetail.o: u386mon.h
Xdet_proc.o: config.h
Xdet_proc.o: /usr/include/curses.h
Xdet_proc.o: /usr/include/signal.h
Xdet_proc.o: /usr/include/string.h
Xdet_proc.o: /usr/include/fcntl.h
Xdet_proc.o: /usr/include/nlist.h
Xdet_proc.o: /usr/include/errno.h
Xdet_proc.o: /usr/include/time.h
Xdet_proc.o: /usr/include/pwd.h
Xdet_proc.o: /usr/include/sys/types.h
Xdet_proc.o: /usr/include/utmp.h
Xdet_proc.o: /usr/include/sys/stat.h
Xdet_proc.o: /usr/include/sys/param.h
Xdet_proc.o: /usr/include/sys/tuneable.h
Xdet_proc.o: /usr/include/sys/sysinfo.h
Xdet_proc.o: /usr/include/sys/sysmacros.h
Xdet_proc.o: /usr/include/sys/immu.h
Xdet_proc.o: /usr/include/sys/region.h
Xdet_proc.o: /usr/include/sys/proc.h
Xdet_proc.o: /usr/include/sys/fs/s5dir.h
Xdet_proc.o: /usr/include/sys/user.h
Xdet_proc.o: /usr/include/sys/var.h
Xdet_proc.o: nlsym.h
Xdet_proc.o: libkmem.h
Xdet_proc.o: libmem.h
Xdet_proc.o: libswap.h
Xdet_proc.o: libnlsym.h
Xdet_proc.o: u386mon.h
Xdisputil.o: config.h
Xdisputil.o: /usr/include/curses.h
Xdisputil.o: /usr/include/sys/types.h
Xdisputil.o: u386mon.h
Xkludge.o: /usr/include/curses.h
Xlibkmem.o: /usr/include/sys/types.h
Xlibkmem.o: /usr/include/fcntl.h
Xlibkmem.o: libkmem.h
Xlibmem.o: /usr/include/sys/types.h
Xlibmem.o: /usr/include/fcntl.h
Xlibmem.o: libmem.h
Xlibpanel.o: config.h
Xlibpanel.o: /usr/include/curses.h
Xlibpanel.o: u386mon.h
Xlibswap.o: /usr/include/sys/types.h
Xlibswap.o: /usr/include/fcntl.h
Xlibswap.o: libswap.h
Xlibnlsym.o: config.h
Xlibnlsym.o: /usr/include/stdio.h
Xlibnlsym.o: /usr/include/sys/types.h
Xlibnlsym.o: /usr/include/sys/stat.h
Xlibnlsym.o: /usr/include/fcntl.h
Xlibnlsym.o: /usr/include/nlist.h
Xlibnlsym.o: nlsym.h
Xlibnlsym.o: libnlsym.h
Xnlsym.o: config.h
Xnlsym.o: /usr/include/stdio.h
Xnlsym.o: /usr/include/sys/types.h
Xnlsym.o: /usr/include/sys/stat.h
Xnlsym.o: /usr/include/fcntl.h
Xnlsym.o: /usr/include/nlist.h
Xnlsym.o: nlsym.h
Xproc.o: config.h
Xproc.o: /usr/include/curses.h
Xproc.o: /usr/include/sys/types.h
Xproc.o: /usr/include/sys/param.h
Xproc.o: /usr/include/sys/immu.h
Xproc.o: /usr/include/sys/region.h
Xproc.o: /usr/include/sys/proc.h
Xproc.o: /usr/include/sys/var.h
Xproc.o: /usr/include/nlist.h
Xproc.o: nlsym.h
Xproc.o: libkmem.h
Xproc.o: libnlsym.h
Xproc.o: u386mon.h
Xtune.o: config.h
Xtune.o: /usr/include/curses.h
Xtune.o: /usr/include/sys/types.h
Xtune.o: /usr/include/sys/tuneable.h
Xtune.o: u386mon.h
Xvar.o: config.h
Xvar.o: /usr/include/curses.h
Xvar.o: /usr/include/sys/types.h
Xvar.o: /usr/include/sys/var.h
Xvar.o: u386mon.h
X#	DEPENDENCIES MUST END AT END OF	FILE
X#	IF YOU PUT STUFF HERE IT WILL GO AWAY
X#	see make depend	above
SHAR_EOF
chmod 0644 Make.s2 ||
echo 'restore of Make.s2 failed'
Wc_c="`wc -c < 'Make.s2'`"
test 8292 -eq "$Wc_c" ||
	echo 'Make.s2: original size 8292, current size' "$Wc_c"
fi
# ============= Make.sVr31 ==============
if test -f 'Make.sVr31' -a X"$1" != X"-c"; then
	echo 'x - skipping Make.sVr31 (File already exists)'
else
echo 'x - extracting Make.sVr31 (Text)'
sed 's/^X//' << 'SHAR_EOF' > 'Make.sVr31' &&
X#  CHK=0xBF1B
X#+-------------------------------------------------------------------
X#  Makefile for u386mon for System V Release 3.1
X#  ...!{gatech,emory}!n4hgf!wht
X#  works on some S5R3.1 systems, anyway
X#--------------------------------------------------------------------
X#+:EDITS:*/
X#:07-15-1992-14:31-wht@n4hgf-2.60 release - u386mon+siotools merge
X#:08-20-1991-12:44-root@n4hgf-nba@sysware.dk S5R31 and config reorg
X#:08-01-1991-23:34-wht@n4hgf-release 2.53 source control point
X#:08-10-1990-14:12-jmd@p1so/wht@n4hgf-2.20-add Tandem Integrity S2
X#:08-07-1990-14:24-wht@n4hgf-nba@sysware.dk SVR31 updates
X#:08-02-1990-15:35-wht@n4hgf-2.12-old curses hacks+minor 3.2 formalizations
X#:08-01-1990-21:39-wht@n4hgf-add Dell make file
X#:08-01-1990-12:26-wht@n4hgf-2.11-try to support ISC 1.x.x
X#:07-28-1990-18:07-wht@n4hgf-2.10 release
X#:07-28-1990-14:51-wht@n4hgf-creation
X
XMAKEFILE = Make.sVr31
X
X#------------> CFLAGS 
XCFLAGS = -c -O -DSVR31
X
X#------------> LIB
XLIB = -lcurses -lmalloc
X
X#------------> KMEMGRP
XKMEMGRP = sys
X
X#------------> BINDIR
XBINDIR = /usr/local/bin
X
XLDFLAGS = -s
X
XVERSION = 2.60
X
X#handle Sys V make "feature" of using SHELL
XSHELL = /bin/sh
X
X#FCRC = fcrc -u $*.c ;
X.c.o:;	$(FCRC) $(CC) $(CFLAGS) $*.c 
X
XSRC = \
X	u386mon.c\
X	detail.c\
X	det_proc.c\
X	disputil.c\
X	kludge.c\
X	libkmem.c\
X	libmem.c\
X	libpanel.c\
X	libswap.c\
X	libnlsym.c\
X	nlsym.c\
X	proc.c\
X	tune.c\
X	var.c
X
XHDR = \
X	config.h\
X	libkmem.h\
X	libmem.h\
X	libpanel.h\
X	libswap.h\
X	libnlsym.h\
X	lint_args.h\
X	nlsym.h\
X	patchlevel.h\
X	ttynm.h\
X	u386mon.h
X
XNLSYM_OBJ =\
X	nlsym.o
X
XU386MON_OBJ =\
X	u386mon.o\
X	detail.o\
X	det_proc.o\
X	det_table.o\
X	det_stream.o\
X	det_wd.o\
X	proc.o\
X	tune.o\
X	var.o\
X	kludge.o\
X	disputil.o\
X	libkmem.o\
X	libmem.o\
X	libswap.o\
X	libnlsym.o\
X	libpanel.o
X
XSHARFLS = \
X	README\
X	CHANGES\
X	Make.*\
X	EXPLAIN\
X	$(SRC)\
X	$(HDR)\
X	renice/Makefile\
X	renice/renice.c\
X	panel/README\
X	panel/panel.3\
X	panel/ptest.c\
X	panel/Makefile\
X	siotools/Makefile\
X	siotools/README\
X	siotools/kmemsio.c\
X	siotools/kmemsio.h\
X	siotools/pend.sh\
X	siotools/siomon.c\
X	siotools/utoa.c\
X	siotools/utoa.h\
X	siotools/uusnap.c\
X	siotools/wingets.c\
X	siotools/wintio.c\
X	siotools/wintio.h\
X	siotools/wintty.c\
X	siotools/wintty.h
X
Xall: nlsym u386mon
X
X#must run as root
Xinstall: all
X	-mv $(BINDIR)/nlsym $(BINDIR)/nlsym.old
X	cp nlsym $(BINDIR)
X	chown bin $(BINDIR)/nlsym
X	chgrp bin $(BINDIR)/nlsym
X	chmod 711 $(BINDIR)/nlsym
X	-mv $(BINDIR)/u386mon $(BINDIR)/u386mon.old
X	cp u386mon $(BINDIR)
X	chown bin $(BINDIR)/u386mon
X	chgrp $(KMEMGRP) $(BINDIR)/u386mon
X	chmod 2711 $(BINDIR)/u386mon
X	chmod g+r /dev/swap
X	$(BINDIR)/nlsym
X	@echo ' ';echo 'csh users rehash before executing'
X
Xnlsym: $(NLSYM_OBJ)
X	$(CC) $(LDFLAGS) -o $@ $(NLSYM_OBJ) $(LIB)
X
Xu386mon: $(U386MON_OBJ)
X	$(CC) $(LDFLAGS) -o $@ $(U386MON_OBJ) $(LIB)
X
X/unix.nlsym: nlsym /unix
X	$(BINDIR)/nlsym
X	chmod 644 /unix.nlsym
X
X#not delivered
Xsrc.fls: $(SRC) Makefile
X	ls $(SRC) > src.fls
Xlint_args: src.fls
X	echo ' ' > lint_args.h
X	csh zgcc src.fls lint_args.h $(CFLAGS)
X
Xneat:
X	rm -f *\# *~ *.orig *.rej *.out *.log core ,* cscope.out tags *.bak \
X		mkdep.* *.new src.fls u386mon.lint
X
Xclean: neat
X	rm -f $(U386MON_OBJ) $(NLSYM_OBJ)
X
Xclobber: clean
X	rm -f nlsym u386mon
X
Xlint:
X	lint -ux *.c > u386mon.lint
X
X#for shar 3.27 or later
Xshar:
X	shar -a -n u386mon.$(VERSION) -l 55 -o u386m-$(VERSION) $(SHARFLS)
X
X# MAKE DEPEND: regenerate .c:.h, .ol:.c, .ol:.asm dependencies automatically
X#
Xdepend:
X		rm -f mkdep.rule.tmp
X		if test '$(SRC)' ;\
X		then (grep '^#include' $(SRC)\
X		| sed	-e 's?:[^<]*<\([^>]*\)>.*?: /usr/include/\1?'\
X			-e 's?:[^"]*"\([^"]*\)".*?:\1?'\
X			-e 's?\(.*\)\.c?\1.o?'\
X		 >> mkdep.rule.tmp) ;\
X		fi
X
X		echo 1 >mkdep.ex.tmp
X		echo '/^# DO NOT DELETE THIS LINE' >>mkdep.ex.tmp
X		echo '.+1,$$d' >>mkdep.ex.tmp
X		echo 'r mkdep.rule.tmp' >> mkdep.ex.tmp
X		echo 'w' >> mkdep.ex.tmp
X		cp Make.sVr31 Make.sVr31.new
X		ex Make.sVr31.new < mkdep.ex.tmp
X		rm mkdep.ex.tmp mkdep.rule.tmp
X		echo '#	DEPENDENCIES MUST END AT END OF	FILE' >>Make.sVr31.new
X		echo '#	IF YOU PUT STUFF HERE IT WILL GO AWAY'>>Make.sVr31.new
X		echo '#	see make depend	above'>>Make.sVr31.new
X		mv Make.sVr31 Make.sVr31.bak
X		mv Make.sVr31.new Make.sVr31
X		@echo Make.sVr31 has been updated with dependencies
X
X# DO NOT DELETE THIS LINE
Xu386mon.o: config.h
Xu386mon.o: /usr/include/curses.h
Xu386mon.o: libpanel.h
Xu386mon.o: /usr/include/signal.h
Xu386mon.o: /usr/include/string.h
Xu386mon.o: /usr/include/fcntl.h
Xu386mon.o: /usr/include/nlist.h
Xu386mon.o: /usr/include/errno.h
Xu386mon.o: /usr/include/time.h
Xu386mon.o: /usr/include/sys/types.h
Xu386mon.o: /usr/include/sys/lock.h
Xu386mon.o: /usr/include/sys/utsname.h
Xu386mon.o: /usr/include/sys/stat.h
Xu386mon.o: /usr/include/sys/param.h
Xu386mon.o: /usr/include/sys/tuneable.h
Xu386mon.o: /usr/include/sys/sysinfo.h
Xu386mon.o: /usr/include/sys/sysmacros.h
Xu386mon.o: /usr/include/sys/immu.h
Xu386mon.o: /usr/include/sys/region.h
Xu386mon.o: /usr/include/sys/proc.h
Xu386mon.o: /usr/include/sys/var.h
Xu386mon.o: /usr/include/sys/swap.h
Xu386mon.o: /usr/include/sys/trap.h
Xu386mon.o: nlsym.h
Xu386mon.o: libkmem.h
Xu386mon.o: libmem.h
Xu386mon.o: libswap.h
Xu386mon.o: libnlsym.h
Xu386mon.o: u386mon.h
Xdetail.o: config.h
Xdetail.o: /usr/include/curses.h
Xdetail.o: /usr/include/signal.h
Xdetail.o: /usr/include/string.h
Xdetail.o: /usr/include/fcntl.h
Xdetail.o: /usr/include/nlist.h
Xdetail.o: /usr/include/errno.h
Xdetail.o: /usr/include/time.h
Xdetail.o: /usr/include/pwd.h
Xdetail.o: /usr/include/sys/types.h
Xdetail.o: /usr/include/utmp.h
Xdetail.o: /usr/include/sys/utsname.h
Xdetail.o: /usr/include/sys/stat.h
Xdetail.o: /usr/include/sys/param.h
Xdetail.o: /usr/include/sys/tuneable.h
Xdetail.o: /usr/include/sys/sysinfo.h
Xdetail.o: /usr/include/sys/sysmacros.h
Xdetail.o: /usr/include/sys/immu.h
Xdetail.o: /usr/include/sys/region.h
Xdetail.o: /usr/include/sys/proc.h
Xdetail.o: /usr/include/sys/var.h
Xdetail.o: nlsym.h
Xdetail.o: libkmem.h
Xdetail.o: libnlsym.h
Xdetail.o: u386mon.h
Xdet_proc.o: config.h
Xdet_proc.o: /usr/include/curses.h
Xdet_proc.o: /usr/include/signal.h
Xdet_proc.o: /usr/include/string.h
Xdet_proc.o: /usr/include/fcntl.h
Xdet_proc.o: /usr/include/nlist.h
Xdet_proc.o: /usr/include/errno.h
Xdet_proc.o: /usr/include/time.h
Xdet_proc.o: /usr/include/pwd.h
Xdet_proc.o: /usr/include/sys/types.h
Xdet_proc.o: /usr/include/utmp.h
Xdet_proc.o: /usr/include/sys/stat.h
Xdet_proc.o: /usr/include/sys/param.h
Xdet_proc.o: /usr/include/sys/tuneable.h
Xdet_proc.o: /usr/include/sys/sysinfo.h
Xdet_proc.o: /usr/include/sys/sysmacros.h
Xdet_proc.o: /usr/include/sys/immu.h
Xdet_proc.o: /usr/include/sys/region.h
Xdet_proc.o: /usr/include/sys/proc.h
Xdet_proc.o: /usr/include/sys/fs/s5dir.h
Xdet_proc.o: /usr/include/sys/user.h
Xdet_proc.o: /usr/include/sys/var.h
Xdet_proc.o: nlsym.h
Xdet_proc.o: libkmem.h
Xdet_proc.o: libmem.h
Xdet_proc.o: libswap.h
Xdet_proc.o: libnlsym.h
Xdet_proc.o: u386mon.h
Xdisputil.o: config.h
Xdisputil.o: /usr/include/curses.h
Xdisputil.o: /usr/include/sys/types.h
Xdisputil.o: u386mon.h
Xkludge.o: /usr/include/curses.h
Xlibkmem.o: /usr/include/sys/types.h
Xlibkmem.o: /usr/include/fcntl.h
Xlibkmem.o: libkmem.h
Xlibmem.o: /usr/include/sys/types.h
Xlibmem.o: /usr/include/fcntl.h
Xlibmem.o: libmem.h
Xlibpanel.o: config.h
Xlibpanel.o: /usr/include/curses.h
Xlibpanel.o: u386mon.h
Xlibswap.o: /usr/include/sys/types.h
Xlibswap.o: /usr/include/fcntl.h
Xlibswap.o: libswap.h
Xlibnlsym.o: config.h
Xlibnlsym.o: /usr/include/stdio.h
Xlibnlsym.o: /usr/include/sys/types.h
Xlibnlsym.o: /usr/include/sys/stat.h
Xlibnlsym.o: /usr/include/fcntl.h
Xlibnlsym.o: /usr/include/nlist.h
Xlibnlsym.o: nlsym.h
Xlibnlsym.o: libnlsym.h
Xnlsym.o: config.h
Xnlsym.o: /usr/include/stdio.h
Xnlsym.o: /usr/include/sys/types.h
Xnlsym.o: /usr/include/sys/stat.h
Xnlsym.o: /usr/include/fcntl.h
Xnlsym.o: /usr/include/nlist.h
Xnlsym.o: nlsym.h
Xproc.o: config.h
Xproc.o: /usr/include/curses.h
Xproc.o: /usr/include/sys/types.h
Xproc.o: /usr/include/sys/param.h
Xproc.o: /usr/include/sys/immu.h
Xproc.o: /usr/include/sys/region.h
Xproc.o: /usr/include/sys/proc.h
Xproc.o: /usr/include/sys/var.h
Xproc.o: /usr/include/nlist.h
Xproc.o: nlsym.h
Xproc.o: libkmem.h
Xproc.o: libnlsym.h
Xproc.o: u386mon.h
Xtune.o: config.h
Xtune.o: /usr/include/curses.h
Xtune.o: /usr/include/sys/types.h
Xtune.o: /usr/include/sys/tuneable.h
Xtune.o: u386mon.h
Xvar.o: config.h
Xvar.o: /usr/include/curses.h
Xvar.o: /usr/include/sys/types.h
Xvar.o: /usr/include/sys/var.h
Xvar.o: u386mon.h
X#	DEPENDENCIES MUST END AT END OF	FILE
X#	IF YOU PUT STUFF HERE IT WILL GO AWAY
X#	see make depend	above
SHAR_EOF
chmod 0644 Make.sVr31 ||
echo 'restore of Make.sVr31 failed'
Wc_c="`wc -c < 'Make.sVr31'`"
test 8422 -eq "$Wc_c" ||
	echo 'Make.sVr31: original size 8422, current size' "$Wc_c"
fi
# ============= Make.sco ==============
if test -f 'Make.sco' -a X"$1" != X"-c"; then
	echo 'x - skipping Make.sco (File already exists)'
else
echo 'x - extracting Make.sco (Text)'
sed 's/^X//' << 'SHAR_EOF' > 'Make.sco' &&
X#  CHK=0xD0E9
X#+-------------------------------------------------------------------
X#  Makefile for u386mon for SCO UNIX V/386
X#  ...!{gatech,emory}!n4hgf!wht
X#--------------------------------------------------------------------
X#+:EDITS:*/
X#:07-15-1992-14:31-wht@n4hgf-2.60 release - u386mon+siotools merge
X#:04-07-1992-11:55-wht@n4hgf-remove -fcombine-regs for gcc 2.1
X#:08-01-1991-23:34-wht@n4hgf-release 2.53 source control point
X#:05-09-1991-03:51-wht@n4hgf-gcc support
X#:04-16-1991-02:24-martin@hppcmart-additions for SCO 3.2.2
X#:04-15-1991-16:05-martin@hppcmart-add table/wd/streams for SCO
X#:08-10-1990-14:12-jmd@p1so/wht@n4hgf-2.20-add Tandem Integrity S2
X#:08-07-1990-14:24-wht@n4hgf-nba@sysware.dk SVR31 updates
X#:08-02-1990-15:35-wht@n4hgf-2.12-old curses hacks+minor 3.2 formalizations
X#:08-01-1990-21:39-wht@n4hgf-add Dell make file
X#:08-01-1990-12:26-wht@n4hgf-2.11-try to support ISC 1.x.x
X#:07-28-1990-18:07-wht@n4hgf-2.10 release
X#:07-26-1990-02:55-wht@n4hgf-add -nointl -- smaller + we don't use it
X#:07-24-1990-18:53-wht@n4hgf-add USIZE_FIXED reminder
X#:07-21-1990-16:03-wht@n4hgf-add libpanel + remake depend
X#:06-30-1990-19:06-wht@n4hgf-run nlsym using full pathname
X#:06-27-1990-01:57-wht@n4hgf-1.10 - incorporate suggestions from alpha testers
X#:06-25-1990-04:14-wht@n4hgf-1.03-better error handling
X#:06-21-1990-14:27-r@n4hgf-version x0.12 seems bug free
X#:06-19-1990-21:37-wht@n4hgf-get ready for 0.08 release
X
X#------------> CFLAGS_LOCAL
X# Use -DVPIX         if you have kernel support for VP/ix
X#                    whether installed or not
X# Use -DMERGE386
X#                    if you have kernel support for Merge/386 (ODT-DOS)
X#                    whether installed or not
X#
X# Use -DUSIZE_FIXED  if you get erroneous process sizes (leave off for 3.2.0;
X#                    you do want this for any UNIX after 3.2.0 or any ODT)
X#
X# Use -DSCO322       if you are using SCO version 3.2.2 (UNIX 3.2r2 or ODT 1.1)
X#                    or later
X#
XCFLAGS_LOCAL = -DSCO322 -DMERGE386 -DUSIZE_FIXED #-DSIO_IS_FAS
X
X#------------> compiler choice (CC, CFLAGS, LDFLAGS)
X#--> cc (native MSC 5.x)
XCC = cc
XCFLAGS = -c $(CFLAGS_LOCAL) -g -nointl -Octl -CSON -DLINT_ARGS
XLDFLAGS = -g -nointl
X
X#--> gcc (some people make their gcc predefine 'i386' but others do not)
X#        You'll get bad explosions with -pedantic -ansi' unless you've
X#        hacked your header files to remove #idents plus some other changes.
X#        You probably want to substitute -traditional (I like GccAbuse).
X#CC = gcc
X#CFLAGS = -c $(CFLAGS_LOCAL)\
X#	-traditional -O -g\
X#	-D_KR -D_SVID -D_NO_PROTOTYPES\
X#	-fstrength-reduce -fpcc-struct-return -fwritable-strings\
X#	-finline-functions -fforce-mem -fforce-addr\
X#	-DM_UNIX -DM_XENIX -DM_SYSV -DM_SYS5 -DM_I386 -Di386
X#LDFLAGS = -g
X
X#------------> LIB
XLIB = -lpanel -ltinfo -lx -lmalloc -lc_s
X
X#------------> KMEMGRP
XKMEMGRP = mem
X
X#------------> BINDIR
XBINDIR = /usr/local/bin
X
XVERSION = 2.60
X
X#handle Sys V make "feature" of using SHELL
XSHELL = /bin/sh
X
X#FCRC = fcrc -u $*.c ;
X.c.o:
X	@echo ignore any redefinition warnings for box and newterm;
X	$(FCRC) $(CC) $(CFLAGS) $*.c 
X
XSRC =\
X	u386mon.c\
X	bootinfo.c\
X	detail.c\
X	det_proc.c\
X	det_sio.c\
X	det_stream.c\
X	det_table.c\
X	det_wd.c\
X	disputil.c\
X	kludge.c\
X	libkmem.c\
X	libmem.c\
X	libpanel.c\
X	libswap.c\
X	libnlsym.c\
X	nlsym.c\
X	proc.c\
X	tune.c\
X	var.c
X
XHDR =\
X	config.h\
X	libkmem.h\
X	libmem.h\
X	libpanel.h\
X	libswap.h\
X	libnlsym.h\
X	lint_args.h\
X	nlsym.h\
X	patchlevel.h\
X	ttynm.h\
X	u386mon.h
X
XNLSYM_OBJ =\
X	nlsym.o
X
XU386MON_OBJ =\
X	u386mon.o\
X	detail.o\
X	det_proc.o\
X	det_sio.o\
X	det_stream.o\
X	det_table.o\
X	det_wd.o\
X	bootinfo.o\
X	kludge.o\
X	proc.o\
X	tune.o\
X	var.o\
X	disputil.o\
X	libkmem.o\
X	libmem.o\
X	libswap.o\
X	libnlsym.o
X
XSHARFLS =\
X	README\
X	CHANGES\
X	Make.*\
X	EXPLAIN\
X	$(SRC)\
X	$(HDR)\
X	renice/Makefile\
X	renice/renice.c\
X	panel/README\
X	panel/panel.3\
X	panel/ptest.c\
X	panel/Makefile\
X	siotools/Makefile\
X	siotools/README\
X	siotools/kmemsio.c\
X	siotools/kmemsio.h\
X	siotools/pend.sh\
X	siotools/siomon.c\
X	siotools/utoa.c\
X	siotools/utoa.h\
X	siotools/uusnap.c\
X	siotools/wingets.c\
X	siotools/wintio.c\
X	siotools/wintio.h\
X	siotools/wintty.c\
X	siotools/wintty.h
X
Xall: nlsym u386mon
X
X#must run as root
Xinstall: all
X	cp u386mon $(BINDIR)
X	-if [ -x /usr/bin/mcs ]; then /usr/bin/mcs -d $(BINDIR)/u386mon; fi
X	strip $(BINDIR)/u386mon
X	chown root $(BINDIR)/u386mon
X	chgrp uucp $(BINDIR)/u386mon
X	chmod 4111 $(BINDIR)/u386mon
X	cp nlsym $(BINDIR)
X	-if [ -x /usr/bin/mcs ]; then /usr/bin/mcs -d $(BINDIR)/nlsym; fi
X	strip $(BINDIR)/nlsym
X	chown root $(BINDIR)/nlsym
X	chgrp uucp $(BINDIR)/nlsym
X	chmod 4111 $(BINDIR)/nlsym
X	$(BINDIR)/nlsym
X	@echo ' ';echo 'csh users rehash before executing'
X
Xnlsym: $(NLSYM_OBJ)
X	$(CC) $(LDFLAGS) -o $@ $(NLSYM_OBJ) $(LIB)
X
Xu386mon: $(U386MON_OBJ)
X	$(CC) $(LDFLAGS) -o $@ $(U386MON_OBJ) $(LIB)
X
X/unix.nlsym: nlsym /unix
X	$(BINDIR)/nlsym
X	chmod 644 /unix.nlsym
X
X#not delivered
Xsrc.fls: $(SRC) Makefile
X	ls $(SRC) > src.fls
Xlint_args: src.fls
X	echo ' ' > lint_args.h
X	csh zgcc src.fls lint_args.h $(CFLAGS)
X
Xneat:
X	rm -f *\# *~ *.orig *.rej *.out *.log core ,* cscope.out tags *.bak \
X		mkdep.* *.new src.fls u386mon.lint
X
Xclean: neat
X	rm -f $(U386MON_OBJ) $(NLSYM_OBJ)
X
Xclobber: clean
X	rm -f nlsym u386mon
X
Xlint:
X	lint -ux *.c > u386mon.lint
X
X#for shar 3.27 or later
Xshar:
X	shar -a -n u386mon.$(VERSION) -l 55 -o u386m-$(VERSION) $(SHARFLS)
X
X# MAKE DEPEND: regenerate .c:.h, .ol:.c, .ol:.asm dependencies automatically
X#
Xdepend:
X		rm -f mkdep.rule.tmp
X		if test '$(SRC)' ;\
X		then (grep '^#include' $(SRC)\
X		| sed	-e 's?:[^<]*<\([^>]*\)>.*?: /usr/include/\1?'\
X			-e 's?:[^"]*"\([^"]*\)".*?:\1?'\
X			-e 's?\(.*\)\.c?\1.o?'\
X		 >> mkdep.rule.tmp) ;\
X		fi
X
X		echo 1 >mkdep.ex.tmp
X		echo '/^# DO NOT DELETE THIS LINE' >>mkdep.ex.tmp
X		echo '.+1,$$d' >>mkdep.ex.tmp
X		echo 'r mkdep.rule.tmp' >> mkdep.ex.tmp
X		echo 'w' >> mkdep.ex.tmp
X		cp Make.sco Make.sco.new
X		ex Make.sco.new < mkdep.ex.tmp
X		rm mkdep.ex.tmp mkdep.rule.tmp
X		echo '#	DEPENDENCIES MUST END AT END OF	FILE' >>Make.sco.new
X		echo '#	IF YOU PUT STUFF HERE IT WILL GO AWAY'>>Make.sco.new
X		echo '#	see make depend	above'>>Make.sco.new
X		mv Make.sco Make.sco.bak
X		mv Make.sco.new Make.sco
X		@echo Make.sco has been updated with dependencies
X
X# DO NOT DELETE THIS LINE
Xu386mon.o: config.h
Xu386mon.o: /usr/include/curses.h
Xu386mon.o: libpanel.h
Xu386mon.o: /usr/include/signal.h
Xu386mon.o: /usr/include/string.h
Xu386mon.o: /usr/include/fcntl.h
Xu386mon.o: /usr/include/nlist.h
Xu386mon.o: /usr/include/errno.h
Xu386mon.o: /usr/include/time.h
Xu386mon.o: /usr/include/sys/types.h
Xu386mon.o: /usr/include/sys/lock.h
Xu386mon.o: /usr/include/sys/utsname.h
Xu386mon.o: /usr/include/sys/stat.h
Xu386mon.o: /usr/include/sys/param.h
Xu386mon.o: /usr/include/sys/tuneable.h
Xu386mon.o: /usr/include/sys/sysinfo.h
Xu386mon.o: /usr/include/sys/sysmacros.h
Xu386mon.o: /usr/include/sys/immu.h
Xu386mon.o: /usr/include/sys/region.h
Xu386mon.o: /usr/include/sys/proc.h
Xu386mon.o: /usr/include/sys/var.h
Xu386mon.o: /usr/include/sys/swap.h
Xu386mon.o: /usr/include/sys/trap.h
Xu386mon.o: nlsym.h
Xu386mon.o: libkmem.h
Xu386mon.o: libmem.h
Xu386mon.o: libswap.h
Xu386mon.o: libnlsym.h
Xu386mon.o: u386mon.h
Xbootinfo.o: config.h
Xbootinfo.o: /usr/include/curses.h
Xbootinfo.o: /usr/include/sys/types.h
Xbootinfo.o: /usr/include/sys/bootinfo.h
Xbootinfo.o: u386mon.h
Xdetail.o: config.h
Xdetail.o: /usr/include/curses.h
Xdetail.o: /usr/include/signal.h
Xdetail.o: /usr/include/string.h
Xdetail.o: /usr/include/fcntl.h
Xdetail.o: /usr/include/nlist.h
Xdetail.o: /usr/include/errno.h
Xdetail.o: /usr/include/time.h
Xdetail.o: /usr/include/pwd.h
Xdetail.o: /usr/include/sys/types.h
Xdetail.o: /usr/include/utmp.h
Xdetail.o: /usr/include/sys/utsname.h
Xdetail.o: /usr/include/sys/stat.h
Xdetail.o: /usr/include/sys/param.h
Xdetail.o: /usr/include/sys/tuneable.h
Xdetail.o: /usr/include/sys/sysinfo.h
Xdetail.o: /usr/include/sys/sysmacros.h
Xdetail.o: /usr/include/sys/immu.h
Xdetail.o: /usr/include/sys/region.h
Xdetail.o: /usr/include/sys/proc.h
Xdetail.o: /usr/include/sys/var.h
Xdetail.o: nlsym.h
Xdetail.o: libkmem.h
Xdetail.o: libnlsym.h
Xdetail.o: u386mon.h
Xdet_proc.o: config.h
Xdet_proc.o: /usr/include/curses.h
Xdet_proc.o: /usr/include/signal.h
Xdet_proc.o: /usr/include/string.h
Xdet_proc.o: /usr/include/fcntl.h
Xdet_proc.o: /usr/include/nlist.h
Xdet_proc.o: /usr/include/errno.h
Xdet_proc.o: /usr/include/time.h
Xdet_proc.o: /usr/include/pwd.h
Xdet_proc.o: /usr/include/sys/types.h
Xdet_proc.o: /usr/include/utmp.h
Xdet_proc.o: /usr/include/sys/stat.h
Xdet_proc.o: /usr/include/sys/param.h
Xdet_proc.o: /usr/include/sys/tuneable.h
Xdet_proc.o: /usr/include/sys/sysinfo.h
Xdet_proc.o: /usr/include/sys/sysmacros.h
Xdet_proc.o: /usr/include/sys/immu.h
Xdet_proc.o: /usr/include/sys/region.h
Xdet_proc.o: /usr/include/sys/proc.h
Xdet_proc.o: /usr/include/sys/fs/s5dir.h
Xdet_proc.o: /usr/include/sys/user.h
Xdet_proc.o: /usr/include/sys/var.h
Xdet_proc.o: nlsym.h
Xdet_proc.o: libkmem.h
Xdet_proc.o: libmem.h
Xdet_proc.o: libswap.h
Xdet_proc.o: libnlsym.h
Xdet_proc.o: u386mon.h
Xdet_sio.o: config.h
Xdet_sio.o: /usr/include/curses.h
Xdet_sio.o: /usr/include/string.h
Xdet_sio.o: /usr/include/nlist.h
Xdet_sio.o: /usr/include/sys/types.h
Xdet_sio.o: /usr/include/sys/stat.h
Xdet_sio.o: /usr/include/sys/ascii.h
Xdet_sio.o: /usr/include/sys/param.h
Xdet_sio.o: /usr/include/sys/tty.h
Xdet_sio.o: nlsym.h
Xdet_sio.o: libkmem.h
Xdet_sio.o: libmem.h
Xdet_sio.o: libswap.h
Xdet_sio.o: libnlsym.h
Xdet_sio.o: u386mon.h
Xdisputil.o: config.h
Xdisputil.o: /usr/include/curses.h
Xdisputil.o: /usr/include/sys/types.h
Xdisputil.o: u386mon.h
Xkludge.o: /usr/include/curses.h
Xlibkmem.o: /usr/include/sys/types.h
Xlibkmem.o: /usr/include/fcntl.h
Xlibkmem.o: libkmem.h
Xlibmem.o: /usr/include/sys/types.h
Xlibmem.o: /usr/include/fcntl.h
Xlibmem.o: libmem.h
Xlibpanel.o: config.h
Xlibpanel.o: /usr/include/curses.h
Xlibpanel.o: u386mon.h
Xlibswap.o: /usr/include/sys/types.h
Xlibswap.o: /usr/include/fcntl.h
Xlibswap.o: libswap.h
Xlibnlsym.o: config.h
Xlibnlsym.o: /usr/include/stdio.h
Xlibnlsym.o: /usr/include/sys/types.h
Xlibnlsym.o: /usr/include/sys/stat.h
Xlibnlsym.o: /usr/include/fcntl.h
Xlibnlsym.o: /usr/include/nlist.h
Xlibnlsym.o: nlsym.h
Xlibnlsym.o: libnlsym.h
Xnlsym.o: config.h
Xnlsym.o: /usr/include/stdio.h
Xnlsym.o: /usr/include/sys/types.h
Xnlsym.o: /usr/include/sys/stat.h
Xnlsym.o: /usr/include/fcntl.h
Xnlsym.o: /usr/include/nlist.h
Xnlsym.o: nlsym.h
Xproc.o: config.h
Xproc.o: /usr/include/curses.h
Xproc.o: /usr/include/sys/types.h
Xproc.o: /usr/include/sys/param.h
Xproc.o: /usr/include/sys/immu.h
Xproc.o: /usr/include/sys/region.h
Xproc.o: /usr/include/sys/proc.h
Xproc.o: /usr/include/sys/var.h
Xproc.o: /usr/include/nlist.h
Xproc.o: nlsym.h
Xproc.o: libkmem.h
Xproc.o: libnlsym.h
Xproc.o: u386mon.h
Xtune.o: config.h
Xtune.o: /usr/include/curses.h
Xtune.o: /usr/include/sys/types.h
Xtune.o: /usr/include/sys/tuneable.h
Xtune.o: u386mon.h
Xvar.o: config.h
Xvar.o: /usr/include/curses.h
Xvar.o: /usr/include/sys/types.h
Xvar.o: /usr/include/sys/var.h
Xvar.o: u386mon.h
X#	DEPENDENCIES MUST END AT END OF	FILE
X#	IF YOU PUT STUFF HERE IT WILL GO AWAY
X#	see make depend	above
SHAR_EOF
chmod 0644 Make.sco ||
echo 'restore of Make.sco failed'
Wc_c="`wc -c < 'Make.sco'`"
test 11017 -eq "$Wc_c" ||
	echo 'Make.sco: original size 11017, current size' "$Wc_c"
fi
# ============= Make.sco.gcc ==============
if test -f 'Make.sco.gcc' -a X"$1" != X"-c"; then
	echo 'x - skipping Make.sco.gcc (File already exists)'
else
echo 'x - extracting Make.sco.gcc (Text)'
sed 's/^X//' << 'SHAR_EOF' > 'Make.sco.gcc' &&
X#  CHK=0x91C2
X#+-------------------------------------------------------------------
X#  Makefile for u386mon for SCO UNIX V/386 with gcc
X#  ...!{gatech,emory}!n4hgf!wht
X#--------------------------------------------------------------------
X#+:EDITS:*/
X#:07-15-1992-14:31-wht@n4hgf-2.60 release - u386mon+siotools merge
X#:06-20-1992-18:31-root@n4hgf-add stuff for ODT DS 2.0
X#:04-07-1992-11:55-wht@n4hgf-remove -fcombine-regs for gcc 2.1
X#:08-01-1991-23:34-wht@n4hgf-release 2.53 source control point
X#:05-09-1991-03:51-wht@n4hgf-gcc support
X#:04-16-1991-02:24-martin@hppcmart-additions for SCO 3.2.2
X#:04-15-1991-16:05-martin@hppcmart-add table/wd/streams for SCO
X#:08-10-1990-14:12-jmd@p1so/wht@n4hgf-2.20-add Tandem Integrity S2
X#:08-07-1990-14:24-wht@n4hgf-nba@sysware.dk SVR31 updates
X#:08-02-1990-15:35-wht@n4hgf-2.12-old curses hacks+minor 3.2 formalizations
X#:08-01-1990-21:39-wht@n4hgf-add Dell make file
X#:08-01-1990-12:26-wht@n4hgf-2.11-try to support ISC 1.x.x
X#:07-28-1990-18:07-wht@n4hgf-2.10 release
X#:07-26-1990-02:55-wht@n4hgf-add -nointl -- smaller + we don't use it
X#:07-24-1990-18:53-wht@n4hgf-add USIZE_FIXED reminder
X#:07-21-1990-16:03-wht@n4hgf-add libpanel + remake depend
X#:06-30-1990-19:06-wht@n4hgf-run nlsym using full pathname
X#:06-27-1990-01:57-wht@n4hgf-1.10 - incorporate suggestions from alpha testers
X#:06-25-1990-04:14-wht@n4hgf-1.03-better error handling
X#:06-21-1990-14:27-r@n4hgf-version x0.12 seems bug free
X#:06-19-1990-21:37-wht@n4hgf-get ready for 0.08 release
X
X#------------> CFLAGS_LOCAL
X# Use -DVPIX         if you have kernel support for VP/ix
X#                    whether installed or not
X# Use -DMERGE386
X#                    if you have kernel support for Merge/386 (ODT-DOS)
X#                    whether installed or not
X#
X# Use -DUSIZE_FIXED  if you get erroneous process sizes (leave off for 3.2.0;
X#                    you do want this for any UNIX after 3.2.0 or any ODT)
X#
X# Use -DSCO322       if you are using SCO version 3.2.2 (UNIX 3.2r2 or ODT 1.1)
X#                    or later
X#
XCFLAGS_LOCAL = -DSCO322 -DMERGE386 -DUSIZE_FIXED
X
X#------------> compiler choice (CC, CFLAGS, LDFLAGS)
X#--> cc (native MSC 5.x)
X#CC = cc
X#CFLAGS = -c $(CFLAGS_LOCAL) -nointl -Octl -CSON -DLINT_ARGS
X#LDFLAGS = -s -nointl
X
X#--> gcc (some people make their gcc predefine 'i386' but others do not)
X#        You'll get bad explosions with -pedantic -ansi' unless you've
X#        hacked your header files to remove #idents plus some other changes.
X#        You probably want to substitute -traditional (I like GccAbuse).
XCC = gcc
XCFLAGS = -c $(CFLAGS_LOCAL)\
X	-traditional -O \
X	-fstrength-reduce -fpcc-struct-return -fwritable-strings \
X	-finline-functions -fforce-mem -fforce-addr \
X	-W -Wunused -Wpointer-arith -Wcast-qual -Wshadow -Wcomment -Wswitch\
X	-D_NO_PROTOTYPE -D_SVID -D_KR \
X	-DM_BITFIELDS -DM_COFF -DM_I386 -DM_I86 -DM_I86SM \
X	-DM_INTERNAT -DM_SDATA -DM_STEXT -DM_SYS3 -DM_SYS5 \
X	-DM_SYSIII -DM_SYSV -DM_UNIX -DM_WORDSWAP -DM_XENIX -Dunix -Di386
X
XLDFLAGS = -s
X
X#------------> LIB
XLIB = -lpanel -ltinfo -lx -lmalloc -lc_s
X
X#------------> KMEMGRP
XKMEMGRP = mem
X
X#------------> BINDIR
XBINDIR = /usr/local/bin
X
XVERSION = 2.60
X
X#handle Sys V make "feature" of using SHELL
XSHELL = /bin/sh
X
X#FCRC = fcrc -u $*.c ;
X.c.o:
X	@echo ignore any redefinition warnings for box and newterm;
X	$(FCRC) $(CC) $(CFLAGS) $*.c 
X
XSRC = \
X	u386mon.c\
X	bootinfo.c\
X	detail.c\
X	det_proc.c\
X	det_sio.c\
X	det_stream.c\
X	det_table.c\
X	det_wd.c\
X	disputil.c\
X	kludge.c\
X	libkmem.c\
X	libmem.c\
X	libpanel.c\
X	libswap.c\
X	libnlsym.c\
X	nlsym.c\
X	proc.c\
X	tune.c\
X	var.c
X
XHDR = \
X	config.h\
X	libkmem.h\
X	libmem.h\
X	libpanel.h\
X	libswap.h\
X	libnlsym.h\
X	lint_args.h\
X	nlsym.h\
X	patchlevel.h\
X	ttynm.h\
X	u386mon.h
X
XNLSYM_OBJ =\
X	nlsym.o
X
XU386MON_OBJ =\
X	u386mon.o\
X	detail.o\
X	det_proc.o\
X	det_sio.o\
X	det_stream.o\
X	det_table.o\
X	det_wd.o\
X	bootinfo.o\
X	kludge.o\
X	proc.o\
X	tune.o\
X	var.o\
X	disputil.o\
X	libkmem.o\
X	libmem.o\
X	libswap.o\
X	libnlsym.o
X
XSHARFLS = \
X	README\
X	CHANGES\
X	Make.*\
X	EXPLAIN\
X	$(SRC)\
X	$(HDR)\
X	renice/Makefile\
X	renice/renice.c\
X	panel/README\
X	panel/panel.3\
X	panel/ptest.c\
X	panel/Makefile\
X	siotools/Makefile\
X	siotools/README\
X	siotools/kmemsio.c\
X	siotools/kmemsio.h\
X	siotools/pend.sh\
X	siotools/siomon.c\
X	siotools/utoa.c\
X	siotools/utoa.h\
X	siotools/uusnap.c\
X	siotools/wingets.c\
X	siotools/wintio.c\
X	siotools/wintio.h\
X	siotools/wintty.c\
X	siotools/wintty.h
X
Xall: nlsym u386mon
X
X#must run as root
Xinstall: all
X	strip nlsym
X	mcs -d nlsym
X	cp nlsym $(BINDIR)
X	chown bin $(BINDIR)/nlsym
X	chgrp bin $(BINDIR)/nlsym
X	chmod 711 $(BINDIR)/nlsym
X	strip u386mon
X	mcs -d u386mon
X	mv u386mon $(BINDIR)
X	chown bin $(BINDIR)/u386mon
X	chgrp $(KMEMGRP) $(BINDIR)/u386mon
X	chmod 2711 $(BINDIR)/u386mon
X	$(BINDIR)/nlsym
X	@echo ' ';echo 'csh users rehash before executing'
X
Xnlsym: $(NLSYM_OBJ)
X	$(CC) $(LDFLAGS) -o $@ $(NLSYM_OBJ) $(LIB)
X
Xu386mon: $(U386MON_OBJ)
X	$(CC) $(LDFLAGS) -o $@ $(U386MON_OBJ) $(LIB)
X
X/unix.nlsym: nlsym /unix
X	$(BINDIR)/nlsym
X	chmod 644 /unix.nlsym
X
X#not delivered
Xsrc.fls: $(SRC) Makefile
X	ls $(SRC) > src.fls
Xlint_args: src.fls
X	echo ' ' > lint_args.h
X	csh zgcc src.fls lint_args.h $(CFLAGS)
X
Xneat:
X	rm -f *\# *~ *.orig *.rej *.out *.log core ,* cscope.out tags *.bak \
X		mkdep.* *.new src.fls u386mon.lint
X
Xclean: neat
X	rm -f $(U386MON_OBJ) $(NLSYM_OBJ)
X
Xclobber: clean
X	rm -f nlsym u386mon
X
Xlint:
X	lint -ux *.c > u386mon.lint
X
X#for shar 3.27 or later
Xshar:
X	shar -a -n u386mon.$(VERSION) -l 55 -o u386m-$(VERSION) $(SHARFLS)
X
X# MAKE DEPEND: regenerate .c:.h, .ol:.c, .ol:.asm dependencies automatically
X#
Xdepend:
X		rm -f mkdep.rule.tmp
X		if test '$(SRC)' ;\
X		then (grep '^#include' $(SRC)\
X		| sed	-e 's?:[^<]*<\([^>]*\)>.*?: /usr/include/\1?'\
X			-e 's?:[^"]*"\([^"]*\)".*?:\1?'\
X			-e 's?\(.*\)\.c?\1.o?'\
X		 >> mkdep.rule.tmp) ;\
X		fi
X
X		echo 1 >mkdep.ex.tmp
X		echo '/^# DO NOT DELETE THIS LINE' >>mkdep.ex.tmp
X		echo '.+1,$$d' >>mkdep.ex.tmp
X		echo 'r mkdep.rule.tmp' >> mkdep.ex.tmp
X		echo 'w' >> mkdep.ex.tmp
X		cp Make.sco.gcc Make.scog.new
X		ex Make.scog.new < mkdep.ex.tmp
X		rm mkdep.ex.tmp mkdep.rule.tmp
X		echo '#	DEPENDENCIES MUST END AT END OF	FILE' >>Make.scog.new
X		echo '#	IF YOU PUT STUFF HERE IT WILL GO AWAY'>>Make.scog.new
X		echo '#	see make depend	above'>>Make.scog.new
X		mv Make.sco.gcc Make.scog.bak
X		mv Make.scog.new Make.sco.gcc
X		@echo Make.sco.gcc has been updated with dependencies
X
X# DO NOT DELETE THIS LINE
Xu386mon.o: config.h
Xu386mon.o: /usr/include/curses.h
Xu386mon.o: libpanel.h
Xu386mon.o: /usr/include/signal.h
Xu386mon.o: /usr/include/string.h
Xu386mon.o: /usr/include/fcntl.h
Xu386mon.o: /usr/include/nlist.h
Xu386mon.o: /usr/include/errno.h
Xu386mon.o: /usr/include/time.h
Xu386mon.o: /usr/include/sys/types.h
Xu386mon.o: /usr/include/sys/lock.h
Xu386mon.o: /usr/include/sys/utsname.h
Xu386mon.o: /usr/include/sys/stat.h
Xu386mon.o: /usr/include/sys/param.h
Xu386mon.o: /usr/include/sys/tuneable.h
Xu386mon.o: /usr/include/sys/sysinfo.h
Xu386mon.o: /usr/include/sys/sysmacros.h
Xu386mon.o: /usr/include/sys/immu.h
Xu386mon.o: /usr/include/sys/region.h
Xu386mon.o: /usr/include/sys/proc.h
Xu386mon.o: /usr/include/sys/var.h
Xu386mon.o: /usr/include/sys/swap.h
Xu386mon.o: /usr/include/sys/trap.h
Xu386mon.o: nlsym.h
Xu386mon.o: libkmem.h
Xu386mon.o: libmem.h
Xu386mon.o: libswap.h
Xu386mon.o: libnlsym.h
Xu386mon.o: u386mon.h
Xbootinfo.o: config.h
Xbootinfo.o: /usr/include/curses.h
Xbootinfo.o: /usr/include/sys/types.h
Xbootinfo.o: /usr/include/sys/bootinfo.h
Xbootinfo.o: u386mon.h
Xdetail.o: config.h
Xdetail.o: /usr/include/curses.h
Xdetail.o: /usr/include/signal.h
Xdetail.o: /usr/include/string.h
Xdetail.o: /usr/include/fcntl.h
Xdetail.o: /usr/include/nlist.h
Xdetail.o: /usr/include/errno.h
Xdetail.o: /usr/include/time.h
Xdetail.o: /usr/include/pwd.h
Xdetail.o: /usr/include/sys/types.h
Xdetail.o: /usr/include/utmp.h
Xdetail.o: /usr/include/sys/utsname.h
Xdetail.o: /usr/include/sys/stat.h
Xdetail.o: /usr/include/sys/param.h
Xdetail.o: /usr/include/sys/tuneable.h
Xdetail.o: /usr/include/sys/sysinfo.h
Xdetail.o: /usr/include/sys/sysmacros.h
Xdetail.o: /usr/include/sys/immu.h
Xdetail.o: /usr/include/sys/region.h
Xdetail.o: /usr/include/sys/proc.h
Xdetail.o: /usr/include/sys/var.h
Xdetail.o: nlsym.h
Xdetail.o: libkmem.h
Xdetail.o: libnlsym.h
Xdetail.o: u386mon.h
Xdet_proc.o: config.h
Xdet_proc.o: /usr/include/curses.h
Xdet_proc.o: /usr/include/signal.h
Xdet_proc.o: /usr/include/string.h
Xdet_proc.o: /usr/include/fcntl.h
Xdet_proc.o: /usr/include/nlist.h
Xdet_proc.o: /usr/include/errno.h
Xdet_proc.o: /usr/include/time.h
Xdet_proc.o: /usr/include/pwd.h
Xdet_proc.o: /usr/include/sys/types.h
Xdet_proc.o: /usr/include/utmp.h
Xdet_proc.o: /usr/include/sys/stat.h
Xdet_proc.o: /usr/include/sys/param.h
Xdet_proc.o: /usr/include/sys/tuneable.h
Xdet_proc.o: /usr/include/sys/sysinfo.h
Xdet_proc.o: /usr/include/sys/sysmacros.h
Xdet_proc.o: /usr/include/sys/immu.h
Xdet_proc.o: /usr/include/sys/region.h
Xdet_proc.o: /usr/include/sys/proc.h
Xdet_proc.o: /usr/include/sys/fs/s5dir.h
Xdet_proc.o: /usr/include/sys/user.h
Xdet_proc.o: /usr/include/sys/var.h
Xdet_proc.o: nlsym.h
Xdet_proc.o: libkmem.h
Xdet_proc.o: libmem.h
Xdet_proc.o: libswap.h
Xdet_proc.o: libnlsym.h
Xdet_proc.o: u386mon.h
Xdet_sio.o: config.h
Xdet_sio.o: /usr/include/curses.h
Xdet_sio.o: /usr/include/string.h
Xdet_sio.o: /usr/include/nlist.h
Xdet_sio.o: /usr/include/sys/types.h
Xdet_sio.o: /usr/include/sys/stat.h
Xdet_sio.o: /usr/include/sys/ascii.h
Xdet_sio.o: /usr/include/sys/param.h
Xdet_sio.o: /usr/include/sys/tty.h
Xdet_sio.o: nlsym.h
Xdet_sio.o: libkmem.h
Xdet_sio.o: libmem.h
Xdet_sio.o: libswap.h
Xdet_sio.o: libnlsym.h
Xdet_sio.o: u386mon.h
Xdisputil.o: config.h
Xdisputil.o: /usr/include/curses.h
Xdisputil.o: /usr/include/sys/types.h
Xdisputil.o: u386mon.h
Xkludge.o: /usr/include/curses.h
Xlibkmem.o: /usr/include/sys/types.h
Xlibkmem.o: /usr/include/fcntl.h
Xlibkmem.o: libkmem.h
Xlibmem.o: /usr/include/sys/types.h
Xlibmem.o: /usr/include/fcntl.h
Xlibmem.o: libmem.h
Xlibpanel.o: config.h
Xlibpanel.o: /usr/include/curses.h
Xlibpanel.o: u386mon.h
Xlibswap.o: /usr/include/sys/types.h
Xlibswap.o: /usr/include/fcntl.h
Xlibswap.o: libswap.h
Xlibnlsym.o: config.h
Xlibnlsym.o: /usr/include/stdio.h
Xlibnlsym.o: /usr/include/sys/types.h
Xlibnlsym.o: /usr/include/sys/stat.h
Xlibnlsym.o: /usr/include/fcntl.h
Xlibnlsym.o: /usr/include/nlist.h
Xlibnlsym.o: nlsym.h
Xlibnlsym.o: libnlsym.h
Xnlsym.o: config.h
Xnlsym.o: /usr/include/stdio.h
Xnlsym.o: /usr/include/sys/types.h
Xnlsym.o: /usr/include/sys/stat.h
Xnlsym.o: /usr/include/fcntl.h
Xnlsym.o: /usr/include/nlist.h
Xnlsym.o: nlsym.h
Xproc.o: config.h
Xproc.o: /usr/include/curses.h
Xproc.o: /usr/include/sys/types.h
Xproc.o: /usr/include/sys/param.h
Xproc.o: /usr/include/sys/immu.h
Xproc.o: /usr/include/sys/region.h
Xproc.o: /usr/include/sys/proc.h
Xproc.o: /usr/include/sys/var.h
Xproc.o: /usr/include/nlist.h
Xproc.o: nlsym.h
Xproc.o: libkmem.h
Xproc.o: libnlsym.h
Xproc.o: u386mon.h
Xtune.o: config.h
Xtune.o: /usr/include/curses.h
Xtune.o: /usr/include/sys/types.h
Xtune.o: /usr/include/sys/tuneable.h
Xtune.o: u386mon.h
Xvar.o: config.h
Xvar.o: /usr/include/curses.h
Xvar.o: /usr/include/sys/types.h
Xvar.o: /usr/include/sys/var.h
Xvar.o: u386mon.h
X#	DEPENDENCIES MUST END AT END OF	FILE
X#	IF YOU PUT STUFF HERE IT WILL GO AWAY
X#	see make depend	above
SHAR_EOF
chmod 0644 Make.sco.gcc ||
echo 'restore of Make.sco.gcc failed'
Wc_c="`wc -c < 'Make.sco.gcc'`"
test 11152 -eq "$Wc_c" ||
	echo 'Make.sco.gcc: original size 11152, current size' "$Wc_c"
fi
# ============= EXPLAIN ==============
if test -f 'EXPLAIN' -a X"$1" != X"-c"; then
	echo 'x - skipping EXPLAIN (File already exists)'
else
echo 'x - extracting EXPLAIN (Text)'
sed 's/^X//' << 'SHAR_EOF' > 'EXPLAIN' &&
XThis is a very cursor description of some of the fields as I understand
Xthem.  Corrections/additions appreciated.
X
X---- Sysinfo/Minfo --- (last 1 second activity) --------------------------------
Xbread			actual buffers (disk or tape blocks) read
Xbwrite			actual buffers (disk or tape blocks) written
Xlread			logical buffers (disk or tape blocks) read
Xlwrite			logical buffers (disk or tape blocks) written 
Xswapin			logical blocks swapped in
Xswapout			logical blocks swapped out
Xbswapin			actual blocks swapped in
Xbswapout		actual blocks swapped in
Xiget			get inode
Xnamei			lookup inode for pathname
Xdirblk			directory blocks read
Xreadch			chars read by read() system call
Xwritch			chars written by write() system call
Xrawch			raw tty character read
Xcanch			raw tty character put onto canonical queue
Xoutch			tty characters written
Xmsg				message operations (msgsnd())
Xsema			semaphore operations (semop())
Xpswitch			process context switches
Xsyscall			system calls
Xsysread			read() calls
Xsyswrit			write() calls
Xsysfork			fork() calls
Xsysexec			exec[,l,le,etc.]() calls
Xrunque			number of processes placed on run queue
Xrunocc			number of processes -now- on queue
Xswpque			number of processes placed on swap queue
Xswpocc			number of processes -now- on queue
Xvfault			
Xdemand			
Xpfault			
Xsteal			number of pages stolen
Xfrdpgs			pages freed
Xvfpg			
Xsfpg			
Xvspg			
Xsspg			
Xpnpfault		
Xwrtfault		
SHAR_EOF
chmod 0644 EXPLAIN ||
echo 'restore of EXPLAIN failed'
Wc_c="`wc -c < 'EXPLAIN'`"
test 1393 -eq "$Wc_c" ||
	echo 'EXPLAIN: original size 1393, current size' "$Wc_c"
fi
true || echo 'restore of u386mon.c failed'
echo End of part 2, continue with part 3
exit 0

exit 0 # Just in case...
