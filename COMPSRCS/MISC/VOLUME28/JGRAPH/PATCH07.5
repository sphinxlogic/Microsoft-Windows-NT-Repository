Newsgroups: comp.sources.misc
From: jsp@Princeton.EDU (James Plank)
Subject:  v28i074:  jgraph - A filter for plotting postscript graphs, Patch07.5
Message-ID: <1992Feb26.061320.20320@sparky.imd.sterling.com>
X-Md4-Signature: 42c6ca5d688539d80e38ad93d6692f2c
Date: Wed, 26 Feb 1992 06:13:20 GMT
Approved: kent@sparky.imd.sterling.com

Submitted-by: jsp@Princeton.EDU (James Plank)
Posting-number: Volume 28, Issue 74
Archive-name: jgraph/patch07.5
Environment: UNIX, VMS, postscript
Patch-To: jgraph: Volume 16, Issue 20

Jgraph patch 7.5: Mon Feb 10 10:42:11 EST 1992

Jgraph now has color!  Check out the man page (cfill and color
commands).  Also, I've removed the quirk that grid lines are automatically
generated for major and minor hash marks.  Now you do grid_lines
for major ones and mgrid_lines for minor ones.

Oh, a final word about color strings -- you can't set the color of
a string that you've made with newstring or copystring.  However, you
can plot strings as curve points with different colors, so do that.
It seemed better than adding color to all labels.  (this will probably
be a fix for a later version).

Again, let me know of bugs or comments.

Take it easy

Jim
jsp@princeton.edu

(oh, and as always, jgraph is available via anonymous ftp to
princeton.edu in pub/jgraph.Z.  It's a shell bundle file.
Remember to set ftp to binary before getting it).

Here's the patch from v. 7.3:

*** ../work/README	Tue Feb 25 22:26:42 1992
--- README	Tue Feb 25 22:28:16 1992
***************
*** 1,4 ****
! $Revision: 7.3 $
  
  Jgraph takes the description of a graph or graphs in the standard
  input, and produces a postscript file on the standard output.  Jgraph
--- 1,4 ----
! $Revision: 7.5 $
  
  Jgraph takes the description of a graph or graphs in the standard
  input, and produces a postscript file on the standard output.  Jgraph
*** /dev/null	Tue Feb 25 22:09:31 1992
--- alb.jgr	Tue Feb 25 22:28:19 1992
***************
*** 0 ****
--- 1,443 ----
+ newgraph
+ xaxis min 1 max 25 size 6.000 nodraw
+ yaxis min .25 max 5 size 1.14 nodraw
+ 
+ newstring x 12.5 y .25 vjc hjc : (a)
+ 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	1 5 1 4 1 3 1 2 1 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	2 5 3 4 3 3 3 2 3 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	2 4 3 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	2 3 3 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	2 2 3 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	2 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	3 5 3 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	4 5 3 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	4 4 3 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	4 3 3 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	4 2 3 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	4 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	5 5 7 4 7 3 7 2 7 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	5 4 7 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	5 3 7 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	5 2 7 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	5 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	6 5 7 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	6 4 7 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	6 3 7 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	6 2 7 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	6 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	7 5 7 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	8 5 7 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	8 4 7 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	8 3 7 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	8 2 7 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	8 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	9 5 7 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	9 4 7 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	9 3 7 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	9 2 7 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	9 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	10 5 13 4 13 3 13 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	10 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	10 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	10 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	10 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	11 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	11 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	11 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	11 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	11 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	12 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	12 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	12 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	12 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	12 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	13 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	14 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	14 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	14 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	14 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	14 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	15 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	15 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	15 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	15 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	15 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	16 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	16 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	16 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	16 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	16 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	17 5 21 4 21 3 21 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	17 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	17 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	17 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	17 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	18 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	18 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	18 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	18 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	18 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	19 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	19 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	19 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	19 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	19 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	20 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	20 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	20 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	20 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	20 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	21 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	22 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	22 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	22 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	22 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	22 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	23 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	23 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	23 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	23 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	23 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	24 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	24 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	24 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	24 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	24 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	25 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	25 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	25 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	25 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	25 1 
+ 
+ newgraph
+ xaxis min 1 max 25 size 6.000 nodraw
+ yaxis min .25 max 5 size 1.14 nodraw
+ y_translate -1.5
+ 
+ newstring x 12.5 y .25 vjc hjc : (b)
+ 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	1 5 21 4 21 3 21 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	1 4 3 3 7 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	1 3 3 2 7 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	1 2 3 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	1 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	2 5 3 4 7 3 13 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	2 4 3 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	2 3 3 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	2 2 3 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	2 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	3 5 3 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	4 5 3 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	4 4 3 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	4 3 3 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	4 2 3 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	4 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	5 5 7 4 13 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	5 4 7 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	5 3 7 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	5 2 7 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	5 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	6 5 7 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	6 4 7 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	6 3 7 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	6 2 7 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	6 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	7 5 7 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	8 5 7 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	8 4 7 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	8 3 7 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	8 2 7 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	8 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	9 5 7 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	9 4 7 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	9 3 7 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	9 2 7 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	9 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	10 5 13 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	10 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	10 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	10 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	10 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	11 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	11 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	11 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	11 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	11 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	12 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	12 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	12 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	12 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	12 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	13 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	14 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	14 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	14 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	14 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	14 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	15 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	15 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	15 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	15 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	15 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	16 5 13 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	16 4 13 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	16 3 13 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	16 2 13 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	16 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	17 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	17 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	17 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	17 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	17 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	18 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	18 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	18 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	18 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	18 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	19 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	19 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	19 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	19 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	19 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	20 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	20 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	20 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	20 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	20 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	21 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	22 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	22 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	22 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	22 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	22 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	23 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	23 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	23 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	23 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	23 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	24 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	24 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	24 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	24 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	24 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	25 5 21 4 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	25 4 21 3 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	25 3 21 2 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	25 2 21 1 
+ newcurve linetype solid marktype circle marksize 0.200 0.200 pts
+ 	25 1 
+ 
*** ../work/draw.c	Tue Feb 25 22:26:45 1992
--- draw.c	Tue Feb 25 22:28:20 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/draw.c,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:20:48 $
   * $Author: jsp $
   */
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/draw.c,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:36:49 $
   * $Author: jsp $
   */
  
***************
*** 57,63 ****
    setlinewidth(1.0);
    comment("Drawing Axis");
    gsave();
!   printf("%f setgray\n", a->gray);
    if (a->draw_axis_line) {
      printline(0.0, a->draw_at, a->psize, a->draw_at, orientation);
    }
--- 57,63 ----
    setlinewidth(1.0);
    comment("Drawing Axis");
    gsave();
!   setgray(a->graytype, a->gray);
    if (a->draw_axis_line) {
      printline(0.0, a->draw_at, a->psize, a->draw_at, orientation);
    }
***************
*** 81,88 ****
        draw_label(a->hl);
      }
    }
!   if (a->grid_lines) {
!     for (h = first(a->hash_lines); h != nil(a->hash_lines); h = next(h)) {
        printline(h->loc, 0.0, h->loc, other->psize, orientation);
      }
    }
--- 81,88 ----
        draw_label(a->hl);
      }
    }
!   for (h = first(a->hash_lines); h != nil(a->hash_lines); h = next(h)) {
!     if ((h->major && a->grid_lines) || (!h->major && a->mgrid_lines)) {
        printline(h->loc, 0.0, h->loc, other->psize, orientation);
      }
    }
***************
*** 138,144 ****
     float this_x, this_y, last_x, last_y;
  
    gsave();
!   printf("%f setgray\n", c->gray);
    if (c->clip) set_clip(g);
    comment("Drawing Curve");
    if (c->linetype != '0') {
--- 138,144 ----
     float this_x, this_y, last_x, last_y;
  
    gsave();
!   setgray(c->graytype, c->gray);
    if (c->clip) set_clip(g);
    comment("Drawing Curve");
    if (c->linetype != '0') {
***************
*** 228,240 ****
                cont_poly(x+ms0, y-ms1);
                cont_poly(x+ms0, y+ms1);
                cont_poly(x-ms0, y+ms1);
!               end_poly(c->fill);
                break;
      case 'd': start_poly(x-ms0, y);
                cont_poly(x, y-ms1);
                cont_poly(x+ms0, y);
                cont_poly(x, y+ms1);
!               end_poly(c->fill);
                break;
      case 'g': p = first(c->general_marks);
                if (p == nil(c->general_marks)) return;
--- 228,240 ----
                cont_poly(x+ms0, y-ms1);
                cont_poly(x+ms0, y+ms1);
                cont_poly(x-ms0, y+ms1);
!               end_poly(c->filltype, c->fill);
                break;
      case 'd': start_poly(x-ms0, y);
                cont_poly(x, y-ms1);
                cont_poly(x+ms0, y);
                cont_poly(x, y+ms1);
!               end_poly(c->filltype, c->fill);
                break;
      case 'g': p = first(c->general_marks);
                if (p == nil(c->general_marks)) return;
***************
*** 242,272 ****
                start_poly(x+p->x*ms0, y+p->y*ms1);
                for(p = next(p); p != nil(c->general_marks); p = next(p))
                  cont_poly(x+p->x*ms0, y+p->y*ms1);
!               end_poly(c->fill);
                break;
      case 'x': printline(x-ms0, y-ms1, x+ms0, y+ms1, 'x');
                printline(x-ms0, y+ms1, x+ms0, y-ms1, 'x');
                break;
!     case 'o': printellipse(x, y, ms0, ms0, c->fill);
                break;
!     case 'e': printellipse(x, y, ms0, ms1, c->fill);
                break;
      case 't': start_poly(x+ms0, y-ms1);
                cont_poly(x, y+ms1);
                cont_poly(x-ms0, y-ms1);
!               end_poly(c->fill);
                break;
      case 'X': start_poly(x+ms0, y);
                cont_poly(x-ms0, y);
                cont_poly(x-ms0, g->x_axis->draw_at);
                cont_poly(x+ms0, g->x_axis->draw_at);
!               end_poly(c->fill);
                break;
      case 'Y': start_poly(x, y+ms1);
                cont_poly(x, y-ms1);
                cont_poly(g->y_axis->draw_at, y-ms1);
                cont_poly(g->y_axis->draw_at, y+ms1);
!               end_poly(c->fill);
                break;
      case 'l': c->lmark->x += x;
                c->lmark->y += y;
--- 242,272 ----
                start_poly(x+p->x*ms0, y+p->y*ms1);
                for(p = next(p); p != nil(c->general_marks); p = next(p))
                  cont_poly(x+p->x*ms0, y+p->y*ms1);
!               end_poly(c->filltype, c->fill);
                break;
      case 'x': printline(x-ms0, y-ms1, x+ms0, y+ms1, 'x');
                printline(x-ms0, y+ms1, x+ms0, y-ms1, 'x');
                break;
!     case 'o': printellipse(x, y, ms0, ms0, c->filltype, c->fill);
                break;
!     case 'e': printellipse(x, y, ms0, ms1, c->filltype, c->fill);
                break;
      case 't': start_poly(x+ms0, y-ms1);
                cont_poly(x, y+ms1);
                cont_poly(x-ms0, y-ms1);
!               end_poly(c->filltype, c->fill);
                break;
      case 'X': start_poly(x+ms0, y);
                cont_poly(x-ms0, y);
                cont_poly(x-ms0, g->x_axis->draw_at);
                cont_poly(x+ms0, g->x_axis->draw_at);
!               end_poly(c->filltype, c->fill);
                break;
      case 'Y': start_poly(x, y+ms1);
                cont_poly(x, y-ms1);
                cont_poly(g->y_axis->draw_at, y-ms1);
                cont_poly(g->y_axis->draw_at, y+ms1);
!               end_poly(c->filltype, c->fill);
                break;
      case 'l': c->lmark->x += x;
                c->lmark->y += y;
***************
*** 315,321 ****
    start_poly(0.0, 0.0);
    cont_poly(-(c->asize[0]), (c->asize[1]));
    cont_poly(-(c->asize[0]), -(c->asize[1]));
!   end_poly(c->fill);
    grestore();
    printf("\n");
  }
--- 315,321 ----
    start_poly(0.0, 0.0);
    cont_poly(-(c->asize[0]), (c->asize[1]));
    cont_poly(-(c->asize[0]), -(c->asize[1]));
!   end_poly(c->filltype, c->fill);
    grestore();
    printf("\n");
  }
***************
*** 334,340 ****
    for (c = first(g->curves); c != nil(g->curves); c = next(c)) {
      if (c->l->label != CNULL) {
        gsave();
!       printf("%f setgray\n", c->gray);
        y = c->l->y - (c->l->fontsize / 2.0 * FCPI / FPPI);
        if (l->anylines) {
          if (c->linetype != '0' && l->linelength != 0) {
--- 334,340 ----
    for (c = first(g->curves); c != nil(g->curves); c = next(c)) {
      if (c->l->label != CNULL) {
        gsave();
!       setgray(c->graytype, c->gray);
        y = c->l->y - (c->l->fontsize / 2.0 * FCPI / FPPI);
        if (l->anylines) {
          if (c->linetype != '0' && l->linelength != 0) {
***************
*** 443,448 ****
--- 443,449 ----
    }
    printf("1 setlinecap 1 setlinejoin\n");
    printf("0.700 setlinewidth\n");
+   printf("0.00 setgray\n");
    gsave();
    setfont("Times-Roman", 9.00);
  }
*** ../work/edit.c	Tue Feb 25 22:26:47 1992
--- edit.c	Tue Feb 25 22:28:22 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/edit.c,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:20:49 $
   * $Author: jsp $
   */
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/edit.c,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:36:50 $
   * $Author: jsp $
   */
  
***************
*** 65,71 ****
    copy_label(c1->lmark, c2->lmark);
    c1->l->label = CNULL;
    c1->clip = c2->clip;
-   c1->gray = c2->gray;
    for (f = first(c2->gen_linetype); 
         f != nil(c2->gen_linetype); 
         f = next(f)) {
--- 65,70 ----
***************
*** 86,92 ****
      newp->y = p->y;
      insert(newp, c1->general_marks);
    }
!   c1->fill = c2->fill;
    c1->rarrows = c2->rarrows;
    c1->larrows = c2->larrows;
    c1->asize[0] = c2->asize[0];
--- 85,98 ----
      newp->y = p->y;
      insert(newp, c1->general_marks);
    }
!   c1->graytype = c2->graytype;
!   c1->gray[0] = c2->gray[0];
!   c1->gray[1] = c2->gray[1];
!   c1->gray[2] = c2->gray[2];
!   c1->filltype = c2->filltype;
!   c1->fill[0] = c2->fill[0];
!   c1->fill[1] = c2->fill[1];
!   c1->fill[2] = c2->fill[2];
    c1->rarrows = c2->rarrows;
    c1->larrows = c2->larrows;
    c1->asize[0] = c2->asize[0];
***************
*** 131,138 ****
    a1->auto_hash_marks = a2->auto_hash_marks;
    a1->minor_hashes = a2->minor_hashes;
    a1->hash_scale = a2->hash_scale;
!   a1->gray = a2->gray;
    a1->grid_lines = a2->grid_lines;
    a1->precision = a2->precision;
    a1->start_given = a2->start_given;
    a1->is_lg = a2->is_lg;
--- 137,148 ----
    a1->auto_hash_marks = a2->auto_hash_marks;
    a1->minor_hashes = a2->minor_hashes;
    a1->hash_scale = a2->hash_scale;
!   a1->graytype = a2->graytype;
!   a1->gray[0] = a2->gray[0];
!   a1->gray[1] = a2->gray[1];
!   a1->gray[2] = a2->gray[2];
    a1->grid_lines = a2->grid_lines;
+   a1->mgrid_lines = a2->mgrid_lines;
    a1->precision = a2->precision;
    a1->start_given = a2->start_given;
    a1->is_lg = a2->is_lg;
***************
*** 339,345 ****
        }
        rejecttoken();
      } else if (strcmp(inp_str, "fill") == 0) {
!       if (!getfloat(&f)) rejecttoken(); else c->fill = f;
      } else if (strcmp(inp_str, "marktype") == 0) {
        if (!getstring(inp_str)) return;
        for (i = 0; i < NMARKTYPES && strcmp(inp_str, MARKTYPESTRS[i]) != 0; i++) ;
--- 349,369 ----
        }
        rejecttoken();
      } else if (strcmp(inp_str, "fill") == 0) {
! 	if (!getfloat(&f)) rejecttoken(); else {
! 	  /* grey fill */
! 	  c->filltype = 'g';
!           c->fill[0] = f;
! 	}
!     } else if (strcmp(inp_str, "cfill") == 0) {
! 	 /* color fill */
! 	c->filltype = 'c';
! 	for( i = 0 ; i < 3 ; i++ )  {
! 	  if(!getfloat(&f)) { 
! 	    rejecttoken(); 
!  	    c->filltype = 'n';
!             break ;
! 	  } else c->fill[i] = f ;
! 	}
      } else if (strcmp(inp_str, "marktype") == 0) {
        if (!getstring(inp_str)) return;
        for (i = 0; i < NMARKTYPES && strcmp(inp_str, MARKTYPESTRS[i]) != 0; i++) ;
***************
*** 384,390 ****
      } else if (strcmp(inp_str, "linethickness") == 0) {
        if (!getfloat(&f)) rejecttoken(); else c->linethick = f;
      } else if (strcmp(inp_str, "gray") == 0) {
!       if (!getfloat(&f)) rejecttoken(); else c->gray = f;
      } else if (strcmp(inp_str, "larrows") == 0) {
        c->larrows = 1;
      } else if (strcmp(inp_str, "nolarrows") == 0) {
--- 408,426 ----
      } else if (strcmp(inp_str, "linethickness") == 0) {
        if (!getfloat(&f)) rejecttoken(); else c->linethick = f;
      } else if (strcmp(inp_str, "gray") == 0) {
!         if (!getfloat(&f)) rejecttoken(); else {
!           c->graytype = 'g';
!           c->gray[0] = f;
!         }
!     } else if (strcmp(inp_str, "color") == 0) {
!         c->graytype = 'c';
!         for( i = 0 ; i < 3 ; i++ )  {
!           if(!getfloat(&f)) {
!             rejecttoken();
!             c->graytype = 'n';
!             break ;
!           } else c->gray[i] = f ;
!         }
      } else if (strcmp(inp_str, "larrows") == 0) {
        c->larrows = 1;
      } else if (strcmp(inp_str, "nolarrows") == 0) {
***************
*** 513,519 ****
        if (getfloat(&f)) {
          h = (Hash) get_node (a->hash_lines);
          h->loc = f;
!         h->size = (inp_str[0] == 'h') ? HASH_SIZE : MHASH_SIZE;
          insert(h, a->hash_lines);
        } else rejecttoken();
      } else if (strcmp(inp_str, "hash_label") == 0) {
--- 549,556 ----
        if (getfloat(&f)) {
          h = (Hash) get_node (a->hash_lines);
          h->loc = f;
!         h->major = (inp_str[0] == 'h');
!         h->size = h->major ? HASH_SIZE : MHASH_SIZE;
          insert(h, a->hash_lines);
        } else rejecttoken();
      } else if (strcmp(inp_str, "hash_label") == 0) {
***************
*** 556,563 ****
        a->grid_lines = 0;
      } else if (strcmp(inp_str, "grid_lines") == 0) {
        a->grid_lines = 1;
      } else if (strcmp(inp_str, "gray") == 0) {
!       if ( getfloat(&f)) a->gray = f; else rejecttoken();
      } else {
        rejecttoken(); 
        return;
--- 593,616 ----
        a->grid_lines = 0;
      } else if (strcmp(inp_str, "grid_lines") == 0) {
        a->grid_lines = 1;
+     } else if (strcmp(inp_str, "no_mgrid_lines") == 0) {
+       a->mgrid_lines = 0;
+     } else if (strcmp(inp_str, "mgrid_lines") == 0) {
+       a->mgrid_lines = 1;
      } else if (strcmp(inp_str, "gray") == 0) {
!       if (!getfloat(&f)) rejecttoken(); else {
!         a->graytype = 'g';
!         a->gray[0] = f;
!       }
!     } else if (strcmp(inp_str, "color") == 0) {
!       a->graytype = 'c';
!       for( i = 0 ; i < 3 ; i++ )  {
!         if(!getfloat(&f)) {
!           rejecttoken();
!           a->graytype = 'n';
!           break ;
!         } else a->gray[i] = f ;
!       }
      } else {
        rejecttoken(); 
        return;
*** ../work/gpaper.jgr	Tue Feb 25 22:26:48 1992
--- gpaper.jgr	Tue Feb 25 22:28:27 1992
***************
*** 1,24 ****
  newgraph
  
! xaxis size 8 min 0 max 8 hash 1 mhash 9 
! yaxis size 10.5 min 0 max 10.5 hash 1 mhash 9
  
! newgraph
! inherit_axes
  
  xaxis hash_scale 1
  yaxis hash_scale 1
  
! newgraph
! inherit_axes
! 
! xaxis gray .5 grid_lines 
! yaxis gray .5 grid_lines
! 
! newgraph 
! inherit_axes
! 
! xaxis gray 0 mhash 0 grid_lines
! yaxis gray 0 mhash 0 grid_lines
! 
  
--- 1,14 ----
  newgraph
  
! xaxis size 7 min 0 max 7 hash 1 mhash 9  grid_lines
! yaxis size 9 min 0 max 9 hash 1 mhash 9 grid_lines
  
! copygraph
  
  xaxis hash_scale 1
  yaxis hash_scale 1
  
! copygraph
! xaxis gray .5 nodraw no_grid_lines mgrid_lines 
! yaxis gray .5 nodraw no_grid_lines mgrid_lines
  
*** ../work/jgraph.1	Tue Feb 25 22:26:49 1992
--- jgraph.1	Tue Feb 25 22:28:29 1992
***************
*** 597,605 ****
  .TP
  \fBno_grid_lines\fR
  \fBGrid_lines\fR
! specifies to plot a grid line at each (major and minor) hash
  mark on this axis.  The default is 
  \fBno_grid_lines.\fR
  .PD
  .RE
  .LP
--- 597,615 ----
  .TP
  \fBno_grid_lines\fR
  \fBGrid_lines\fR
! specifies to plot a grid line at each major hash
  mark on this axis.  The default is 
  \fBno_grid_lines.\fR
+ .TP
+ \fBmgrid_lines\fR
+ .br
+ .ns
+ .TP
+ \fBno_mgrid_lines\fR
+ \fBGrid_lines\fR
+ specifies to plot a grid line at each minor hash
+ mark on this axis.  The default is 
+ \fBno_mgrid_lines.\fR
  .PD
  .RE
  .LP
***************
*** 657,672 ****
  \fBjgraph\fR
  .TP
  \fBgray \|[\fIfloat\fB\|]\fR   
! This specifies the gray scale in which to draw the curve (i.e. the
! curve's marks, lines, and arrows).  0.0 (The default) is black.
! 1.0 is white.
  .TP
  \fBfill \|[\fIfloat\fB\|]\fR   
  This sets the filling of marks which define an area
! to fill (e.g.  ``box'', ``circle'', ``xbar'').  1.0 fills the mark with
! white.  0.0 fills it with black.  Anything in between is differing
! levels of gray.  Anything negative fills it with nothing (i.e.  makes
! it see-through).  The default is 0 (black).
  .TP
  \fBgmarks \|[\|{\fIfloat\fB\|} \|{\fIfloat\fB\|}\|]*\fR   
  \fBGmarks\fR
--- 667,704 ----
  \fBjgraph\fR
  .TP
  \fBgray \|[\fIfloat\fB\|]\fR   
! .br
! .ns
  .TP
+ \fBcolor \|[\fIfloat\fB \fIfloat\fB \fIfloat\fB\|]\fR   
+ These specify either the grayness of the curve or its color.  Values 
+ for 
+ \fBgray\fR   
+ should be from 0 (black) to 1 (white).  Values for
+ \fBcolor\fR   
+ should also be from 0 to 1.  They are RGB values, and thus define the 
+ amount of red, green and blue in the curve respectively.  Specifying
+ color nullifies the gray value, and vice versa.  The default is 
+ \fBgray 0\fR.
+ .TP
  \fBfill \|[\fIfloat\fB\|]\fR   
+ .br
+ .ns
+ .TP
+ \fBcfill \|[\fIfloat\fB\| \|\fIfloat\fB\| \|\fIfloat\fB\|]\fR   
  This sets the filling of marks which define an area
! to fill (e.g.  ``box'', ``circle'', ``xbar'').  
! \fBfill\fR   
! defines a gray value, and 
! \fBcfill\fR   
! defines a color value (see 
! \fBgray\fR   
! and
! \fBcolor\fR   
! above for a description of the units).
! The default is 
! \fBfill 0\fR   
! (black).
  .TP
  \fBgmarks \|[\|{\fIfloat\fB\|} \|{\fIfloat\fB\|}\|]*\fR   
  \fBGmarks\fR
***************
*** 944,954 ****
  marks, labels, axes, etc.
  .RS
  .TP
! \fBgray \|[\fIfloat\fB\|]\fR   
! This specifies a gray-scale for drawing the axes (axis lines, hash
! marks, hash labels and grid lines).  The default is 0.0 (black). 
! 1.0 is white.
  .TP
  \fBhash_at \|[\fIfloat\fB\|]\fR   
  Draw a hash mark at this point.  No label is
  made for this hash mark.
--- 976,997 ----
  marks, labels, axes, etc.
  .RS
  .TP
! \fBgray \|[\fIfloat\fB\|]\fR
! .br
! .ns
  .TP
+ \fBcolor \|[\fIfloat\fB \fIfloat\fB \fIfloat\fB\|]\fR
+ These specify either the grayness of the axis or its color.  Values
+ for
+ \fBgray\fR
+ should be from 0 (black) to 1 (white).  Values for
+ \fBcolor\fR
+ should also be from 0 to 1.  They are RGB values, and thus define the
+ amount of red, green and blue in the axis respectively.  Specifying
+ color nullifies the gray value, and vice versa.  The default is
+ \fBgray 0\fR.  These values affect every part of the axis:  the label,
+ the hash marks and labels, the axis line and the grid lines.
+ .TP
  \fBhash_at \|[\fIfloat\fB\|]\fR   
  Draw a hash mark at this point.  No label is
  made for this hash mark.
***************
*** 1216,1219 ****
  .sp
  There may well be loads of other bugs.  Send to jsp@princeton.edu.
  .sp
! This is $Revision: 7.3 $.
--- 1259,1262 ----
  .sp
  There may well be loads of other bugs.  Send to jsp@princeton.edu.
  .sp
! This is $Revision: 7.5 $.
*** ../work/jgraph.c	Tue Feb 25 22:26:51 1992
--- jgraph.c	Tue Feb 25 22:28:30 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/jgraph.c,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:20:57 $
   * $Author: jsp $
   */
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/jgraph.c,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:36:56 $
   * $Author: jsp $
   */
  
***************
*** 51,57 ****
    new_c->lmark->hj = 'c';
    new_c->lmark->vj = 'c';
    new_c->clip = 0;
!   new_c->gray = 0.0;
    
    new_c->pts = (Point) make_list(sizeof(struct point));
    new_c->npts = 0;
--- 51,60 ----
    new_c->lmark->hj = 'c';
    new_c->lmark->vj = 'c';
    new_c->clip = 0;
!   new_c->graytype = 'n';
!   new_c->gray[0] = 0.0;
!   new_c->gray[1] = 0.0;
!   new_c->gray[2] = 0.0;
    
    new_c->pts = (Point) make_list(sizeof(struct point));
    new_c->npts = 0;
***************
*** 62,68 ****
    new_c->marksize[0] = FSIG;
    new_c->marksize[1] = FSIG;
    new_c->general_marks = (Point) make_list(sizeof(struct point));
!   new_c->fill = 0.0;
    new_c->rarrows = 0;
    new_c->larrows = 0;
    new_c->asize[0] = FSIG;
--- 65,74 ----
    new_c->marksize[0] = FSIG;
    new_c->marksize[1] = FSIG;
    new_c->general_marks = (Point) make_list(sizeof(struct point));
!   new_c->filltype = 'n';
!   new_c->fill[0] = 0.0;
!   new_c->fill[1] = 0.0;
!   new_c->fill[2] = 0.0;
    new_c->rarrows = 0;
    new_c->larrows = 0;
    new_c->asize[0] = FSIG;
***************
*** 135,141 ****
    a->start_given = 0;
    a->hash_scale = -1.0;
    a->grid_lines = 0;
!   a->gray = 0.0;
    a->is_x = is_x;
    a->is_lg = 0;
    a->hash_labels = (String) make_list (sizeof(struct string));
--- 141,151 ----
    a->start_given = 0;
    a->hash_scale = -1.0;
    a->grid_lines = 0;
!   a->mgrid_lines = 0;
!   a->graytype = 'n';
!   a->gray[0] = 0.0;
!   a->gray[1] = 0.0;
!   a->gray[2] = 0.0;
    a->is_x = is_x;
    a->is_lg = 0;
    a->hash_labels = (String) make_list (sizeof(struct string));
*** ../work/jgraph.h	Tue Feb 25 22:26:52 1992
--- jgraph.h	Tue Feb 25 22:28:31 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/jgraph.h,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:21:00 $
   * $Author: jsp $
   */
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/jgraph.h,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:37:00 $
   * $Author: jsp $
   */
  
***************
*** 55,64 ****
    int npts;
    Point general_marks;
    float marksize[2];
!   float fill;
!   float gray;
    float linethick;
    Flist gen_linetype;
    char marktype;
    char linetype;
    int rarrows;
--- 55,66 ----
    int npts;
    Point general_marks;
    float marksize[2];
!   float fill[3];
!   float gray[3];
    float linethick;
    Flist gen_linetype;
+   char graytype ;
+   char filltype ;
    char marktype;
    char linetype;
    int rarrows;
***************
*** 80,85 ****
--- 82,88 ----
    struct hash *blink;
    float loc;
    float size;
+   int major;
  } *Hash;
  
  typedef struct deflt {
***************
*** 114,121 ****
    float draw_hash_marks_at;
    float draw_hash_labels_at;
    float draw_at;
!   float gray;
    int grid_lines;
    int draw_hash_labels;
    int draw_axis_line;
    int draw_hash_marks;
--- 117,126 ----
    float draw_hash_marks_at;
    float draw_hash_labels_at;
    float draw_at;
!   float gray[3];
!   char graytype;
    int grid_lines;
+   int mgrid_lines;
    int draw_hash_labels;
    int draw_axis_line;
    int draw_hash_marks;
*** ../work/list.c	Tue Feb 25 22:26:53 1992
--- list.c	Tue Feb 25 22:28:31 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/list.c,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:21:02 $
   * $Author: jsp $
   */
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/list.c,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:37:01 $
   * $Author: jsp $
   */
  
*** ../work/list.h	Tue Feb 25 22:26:54 1992
--- list.h	Tue Feb 25 22:28:32 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/list.h,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:21:04 $
   * $Author: jsp $
   */
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/list.h,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:37:03 $
   * $Author: jsp $
   */
  
*** ../work/printline.c	Tue Feb 25 22:26:55 1992
--- printline.c	Tue Feb 25 22:28:33 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/printline.c,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:21:40 $
   * $Author: jsp $
   */
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/printline.c,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:37:06 $
   * $Author: jsp $
   */
  
***************
*** 74,79 ****
--- 74,103 ----
    }
  }
    
+ setfill( t, f)
+ char t ;
+ float f[] ;
+ {
+     if ( t == 'g' )  {
+        if( f[0] >= 0.0 ) printf("gsave %f setgray fill grestore ", f[0] );
+     } else if ( t == 'c' )  {
+        printf("gsave %f %f %f setrgbcolor fill grestore ", f[0], f[1], f[2] );
+     } else {
+        printf("fill ");
+     }
+ }
+ 
+ setgray( t, f)
+ char t ;
+ float f[] ;
+ {
+     if ( t == 'g' )  {
+        if( f[0] >= 0.0 ) printf("%f setgray\n", f[0] );
+     } else if ( t == 'c' )  {
+        printf("%f %f %f setrgbcolor\n", f[0], f[1], f[2] );
+     }
+ }
+ 
  printline(x1, y1,x2, y2, orientation)
  float x1, y1, x2, y2;
  char orientation;
***************
*** 133,156 ****
    printf("  %f %f lineto\n", x1, y1);
  }
  
! end_poly(fill)
! float fill;
  {
!   if (fill < 0.0) printf("closepath stroke\n");
!   else {
!     printf("closepath gsave");
!     printf(" %f setgray fill ", fill);
!     printf("grestore stroke\n");
!   }
  }
  
! printellipse(x, y, radius1, radius2, fill)
! float x, y, radius1, radius2, fill;
  {
    printf("newpath %f %f %f %f 0 360 DrawEllipse ", x, y, radius1, radius2);
!   if (fill < 0)
!     printf("stroke\n");
!     else printf("gsave  %f setgray fill grestore stroke\n", fill);
  }
  
  set_comment(c)
--- 157,178 ----
    printf("  %f %f lineto\n", x1, y1);
  }
  
! end_poly(ftype, fill)
! char  ftype ;
! float fill[];
  {
!   printf("closepath ");
!   setfill( ftype, fill );
!   printf("stroke\n");
  }
  
! printellipse(x, y, radius1, radius2, ftype, fill)
! char ftype ;
! float x, y, radius1, radius2, fill[];
  {
    printf("newpath %f %f %f %f 0 360 DrawEllipse ", x, y, radius1, radius2);
!   setfill( ftype, fill );
!   printf("stroke\n");
  }
  
  set_comment(c)
***************
*** 196,202 ****
    } else if (vj == 't') {
      printf("0 %f rmoveto ", -size * FCPI / FPPI);
    }
!   printf("show grestore\n", r);
  }
  
  setlinewidth(size)
--- 218,224 ----
    } else if (vj == 't') {
      printf("0 %f rmoveto ", -size * FCPI / FPPI);
    }
!   printf("show grestore\n");
  }
  
  setlinewidth(size)
*** ../work/prio_list.c	Tue Feb 25 22:26:56 1992
--- prio_list.c	Tue Feb 25 22:28:34 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/prio_list.c,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:21:41 $
   * $Author: jsp $
   */
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/prio_list.c,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:37:08 $
   * $Author: jsp $
   */
  
*** ../work/prio_list.h	Tue Feb 25 22:26:58 1992
--- prio_list.h	Tue Feb 25 22:28:34 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/prio_list.h,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:21:42 $
   * $Author: jsp $
   */
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/prio_list.h,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:37:10 $
   * $Author: jsp $
   */
  
*** ../work/process.c	Tue Feb 25 22:26:59 1992
--- process.c	Tue Feb 25 22:28:36 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/process.c,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:21:43 $
   * $Author: jsp $
   */
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/process.c,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:37:11 $
   * $Author: jsp $
   */
  
***************
*** 224,230 ****
        exit(1);
      } else if (a->pmin <= 0.0 && a->is_lg) {
        error_header();
!       fprintf(stderr, "Graph %d: Trying to derive %c axis\n", AXIS_CHAR(a));
        fprintf(stderr, 
          "        Minimum value %f will be -infinity with log axes\n", a->pmin);
        exit(1);
--- 224,230 ----
        exit(1);
      } else if (a->pmin <= 0.0 && a->is_lg) {
        error_header();
!       fprintf(stderr, "Trying to derive %c axis\n", AXIS_CHAR(a));
        fprintf(stderr, 
          "        Minimum value %f will be -infinity with log axes\n", a->pmin);
        exit(1);
***************
*** 240,246 ****
        exit(1);
      } else if (a->pmax <= 0.0 && a->is_lg) {
        error_header();
!       fprintf(stderr, "Graph %d: Trying to derive %c axis\n", AXIS_CHAR(a));
        fprintf(stderr, 
          "        Maximum value %f will be -infinity with log axes\n", a->pmax);
        exit(1);
--- 240,246 ----
        exit(1);
      } else if (a->pmax <= 0.0 && a->is_lg) {
        error_header();
!       fprintf(stderr, "Trying to derive %c axis\n", AXIS_CHAR(a));
        fprintf(stderr, 
          "        Maximum value %f will be -infinity with log axes\n", a->pmax);
        exit(1);
***************
*** 318,323 ****
--- 318,324 ----
          h = (Hash) get_node(a->hash_lines);
          h->loc = hloc;
          h->size = HASH_SIZE;
+         h->major = 1;
          insert(h, a->hash_lines);
          if (a->auto_hash_labels) {
            s = (String) get_node (a->hash_labels);
***************
*** 348,353 ****
--- 349,355 ----
            h = (Hash) get_node(a->hash_lines);
            h->loc = hloc;
            h->size = MHASH_SIZE;
+           h->major = 0;
            insert(h, a->hash_lines);
          }
        }
*** ../work/show.c	Tue Feb 25 22:27:00 1992
--- show.c	Tue Feb 25 22:28:38 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/show.c,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:21:46 $
   * $Author: jsp $
   */ 
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/show.c,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:37:14 $
   * $Author: jsp $
   */ 
  
***************
*** 111,117 ****
    }
    printf("marksize %f %f ", ptodist(c->marksize[0], g->x_axis), 
                              ptodist(c->marksize[1], g->y_axis));
!   printf("fill %f\n", c->fill);
    if (c->marktype == 'g') {
      spaces(nsp); printf("gmarks");
      for(p = first(c->general_marks); p != nil(c->general_marks); p = next(p))
--- 111,121 ----
    }
    printf("marksize %f %f ", ptodist(c->marksize[0], g->x_axis), 
                              ptodist(c->marksize[1], g->y_axis));
!   if (c->filltype == 'g') {
!      printf("fill %f\n", c->fill[0] );
!   } else if (c->filltype == 'c')  {
!      printf("cfill %f %f %f\n", c->fill[0], c->fill[1], c->fill[2] );
!   }
    if (c->marktype == 'g') {
      spaces(nsp); printf("gmarks");
      for(p = first(c->general_marks); p != nil(c->general_marks); p = next(p))
***************
*** 147,153 ****
    }
    printf("linethickness %f\n", c->linethick);
    spaces(nsp); 
!   printf("gray %f ", c->gray);
    if(!c->clip) printf("no"); printf("clip ");
    if(!c->rarrows) printf("no"); printf("rarrows ");
    if(!c->larrows) printf("no"); printf("larrows ");
--- 151,161 ----
    }
    printf("linethickness %f\n", c->linethick);
    spaces(nsp); 
!   if (c->graytype == 'g') {
!     printf("gray %f ", c->gray[0]);
!   } else if (c->graytype == 'c') {
!     printf("color %f %f %f ", c->gray[0], c->gray[1], c->gray[2]);
!   }
    if(!c->clip) printf("no"); printf("clip ");
    if(!c->rarrows) printf("no"); printf("rarrows ");
    if(!c->larrows) printf("no"); printf("larrows ");
***************
*** 189,197 ****
    spaces(nsp); 
    printf("%sgrid_lines\n", (a->grid_lines) ? "" : "no_");
    spaces(nsp); 
    printf("%sdraw_axis_label\n", (a->draw_axis_label) ? "" : "no_");
    spaces(nsp); 
!   printf("gray %f\n", a->gray);
    spaces(nsp);
  
    printf("(* The real settings for generating auto_hash_labels:\n");
--- 197,212 ----
    spaces(nsp); 
    printf("%sgrid_lines\n", (a->grid_lines) ? "" : "no_");
    spaces(nsp); 
+   printf("%smgrid_lines\n", (a->mgrid_lines) ? "" : "no_");
+   spaces(nsp); 
    printf("%sdraw_axis_label\n", (a->draw_axis_label) ? "" : "no_");
    spaces(nsp); 
!   if (a->graytype == 'g') {
!     printf("gray %f\n", a->gray[0]);
!   } else if (a->graytype == 'c') {
!     printf("color %f %f %f\n", a->gray[0], a->gray[1], a->gray[2]);
!   }
! 
    spaces(nsp);
  
    printf("(* The real settings for generating auto_hash_labels:\n");
*** ../work/token.c	Tue Feb 25 22:27:01 1992
--- token.c	Tue Feb 25 22:28:49 1992
***************
*** 1,7 ****
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/token.c,v $
!  * $Revision: 7.3 $
!  * $Date: 92/02/04 12:21:47 $
   * $Author: jsp $
   */
  
--- 1,7 ----
  /* 
   * $Source: /n/fs/vd/jsp/src/jgraph/RCS/token.c,v $
!  * $Revision: 7.5 $
!  * $Date: 92/02/10 10:37:15 $
   * $Author: jsp $
   */
  

exit 0 # Just in case...
